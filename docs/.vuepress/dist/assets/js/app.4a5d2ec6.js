(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,i,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(u&&u(e);p.length;)p.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},o={12:0},a=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=o[n]=[e,r]}));e.push(t[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(n){return i.p+"assets/js/"+({13:"vendors~docsearch"}[n]||n)+"."+{1:"623234f0",2:"ff90a4cf",3:"2fc852c9",4:"0b777fb2",5:"9b9083ca",6:"a039c202",7:"a3282833",8:"3b26cb9f",9:"44865581",10:"483b5a05",11:"11234f4f",13:"d696fa00",14:"0f5e7b30",15:"4496628a",16:"de5366ab",17:"7db0a084",18:"54dc68d3",19:"565b21fb",20:"9e693e18",21:"d7c102b8",22:"3d9cbf03",23:"653cc14e",24:"bd25236d",25:"5b78fe23",26:"36687e64",27:"29607f66",28:"5f86de74",29:"0919a742",30:"600c4694",31:"d6eaaffb",32:"f97fe17f",33:"5781d0aa",34:"79526dda",35:"d186940d",36:"837485c4",37:"25984ac7",38:"7886a7a3",39:"2bd0ee46",40:"4aa8626c",41:"a6c2e452",42:"1a6f7dac",43:"7aa84675",44:"c93f8ddf",45:"63f14506",46:"aa65e8b5",47:"14953c68",48:"adbbc522",49:"92e4a04f",50:"8881f29b",51:"61c1feac",52:"be0f21e2",53:"7dd91b15",54:"de2edb2f",55:"010465ac",56:"3029d4cd",57:"50c819d1",58:"ab1ab1b9",59:"6627b09b",60:"d126ea00",61:"b99b7e9d",62:"cddfd216",63:"c7536351",64:"c309e178",65:"2a9efff9",66:"c9ecc829",67:"2dd94c39",68:"ab6118f7",69:"90e05f13",70:"9163621d",71:"6ab1d908",72:"f41fb8c2",73:"7cd907d9",74:"68433fdc",75:"68670a60",76:"568dc786",77:"c6a3295e",78:"7ae8694b",79:"5e3d624d",80:"585ef969",81:"fc7fac1d",82:"3597786a",83:"132955e2",84:"7170007a",85:"15c2c0ee",86:"87fad65c",87:"c7cf4dfd",88:"dd2bb77d",89:"8aa9279b",90:"6d76b743",91:"c03dce6c",92:"9f3c6741",93:"2adb9db0",94:"58e3f06d",95:"76391bba",96:"0fec35df",97:"b42dbf66",98:"3deed459",99:"4ee4bce5",100:"397a6e7f",101:"0ce31004",102:"62188c86",103:"460e549d",104:"7d1fae3b",105:"c30f6523",106:"f86b6283",107:"5979d84f",108:"6c62421e",109:"9c28f2d7",110:"2a1c7cef",111:"1806caae",112:"fe30181f",113:"6267b499",114:"4c390011",115:"7f376915",116:"e0a8f2c7",117:"52f9448c",118:"d2a95f83",119:"0bebff14",120:"df48cc7d",121:"b8ad0a87",122:"0cee7b86",123:"97307a33",124:"219a2e5e",125:"a90e66d6",126:"426d14c0",127:"53c820b1",128:"e374449a",129:"9a158df7",130:"e76abd1d",131:"24185985",132:"ae1940e8",133:"a11150d7",134:"bb5eb3b6",135:"af8f9af6",136:"a2648d27",137:"19fe30d5",138:"1474baf6",139:"0c97d4bd",140:"a4c7e35f",141:"cb32e277",142:"6bde1eeb",143:"38b5e68c",144:"bc531dea",145:"eab02767",146:"2da5f065",147:"875c1089",148:"897f7cd6",149:"a8943ebd",150:"2138b6a4",151:"2413c1e7",152:"5911265f",153:"06ea11ce",154:"e4a42810",155:"4623a7f8",156:"e7bf7f5f",157:"cda2021c",158:"166c4353",159:"dd224d99",160:"2117426f",161:"d7f96ed5"}[n]+".js"}(n);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=o[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,t[1](l)}o[n]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([158,0]),t()}([function(n,e,t){"use strict";t.d(e,"e",(function(){return y})),t.d(e,"d",(function(){return b})),t.d(e,"c",(function(){return x})),t.d(e,"f",(function(){return w})),t.d(e,"a",(function(){return E})),t.d(e,"g",(function(){return j})),t.d(e,"b",(function(){return A})),t.d(e,"h",(function(){return T})),t.d(e,"i",(function(){return C}));t(13),t(180);var r=t(1),o={"components/AlgoliaSearchBox":()=>Promise.all([t.e(0),t.e(22)]).then(t.bind(null,558)),"components/Common":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3)]).then(t.bind(null,402)),"components/DropdownLink":()=>Promise.all([t.e(0),t.e(26)]).then(t.bind(null,403)),"components/DropdownTransition":()=>Promise.all([t.e(0),t.e(36)]).then(t.bind(null,381)),"components/Footer":()=>Promise.all([t.e(0),t.e(37)]).then(t.bind(null,486)),"components/FriendLink":()=>Promise.all([t.e(0),t.e(23)]).then(t.bind(null,431)),"components/Home":()=>Promise.all([t.e(0),t.e(24)]).then(t.bind(null,487)),"components/HomeBlog":()=>Promise.all([t.e(0),t.e(14)]).then(t.bind(null,488)),"components/LoadingPage":()=>Promise.all([t.e(0),t.e(38)]).then(t.bind(null,484)),"components/MobShare":()=>t.e(63).then(t.bind(null,559)),"components/ModuleTransition":()=>Promise.all([t.e(0),t.e(40)]).then(t.bind(null,367)),"components/Navbar":()=>Promise.all([t.e(0),t.e(2),t.e(16)]).then(t.bind(null,483)),"components/NavLink":()=>t.e(64).then(t.bind(null,371)),"components/NavLinks":()=>Promise.all([t.e(0),t.e(20)]).then(t.bind(null,425)),"components/NoteAbstract":()=>Promise.all([t.e(0),t.e(21)]).then(t.bind(null,382)),"components/NoteAbstractItem":()=>Promise.all([t.e(0),t.e(28)]).then(t.bind(null,373)),"components/Page":()=>Promise.all([t.e(0),t.e(17)]).then(t.bind(null,489)),"components/PageInfo":()=>Promise.all([t.e(0),t.e(41)]).then(t.bind(null,368)),"components/Password":()=>Promise.all([t.e(0),t.e(18)]).then(t.bind(null,485)),"components/PersonalInfo":()=>Promise.all([t.e(0),t.e(42)]).then(t.bind(null,426)),"components/RecentlyUpdateArticle":()=>Promise.all([t.e(0),t.e(43)]).then(t.bind(null,432)),"components/SearchBox":()=>Promise.all([t.e(0),t.e(44)]).then(t.bind(null,560)),"components/Sidebar":()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,551)),"components/SidebarButton":()=>Promise.all([t.e(0),t.e(45)]).then(t.bind(null,433)),"components/SidebarGroup":()=>Promise.all([t.e(0),t.e(8)]).then(t.bind(null,460)),"components/SidebarLink":()=>Promise.all([t.e(0),t.e(46)]).then(t.bind(null,434)),"components/SidebarLinks":()=>Promise.all([t.e(0),t.e(8)]).then(t.bind(null,430)),"components/TagList":()=>Promise.all([t.e(0),t.e(29)]).then(t.bind(null,393)),"global-components/Badge":()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,575)),"layouts/404":()=>Promise.all([t.e(0),t.e(9)]).then(t.bind(null,561)),"layouts/Category":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(7)]).then(t.bind(null,562)),"layouts/Layout":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(4)]).then(t.bind(null,563)),"layouts/Tag":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(5)]).then(t.bind(null,564)),"layouts/Tags":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(6)]).then(t.bind(null,565)),"layouts/TimeLines":()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(10)]).then(t.bind(null,566)),"components/Mode/index":()=>Promise.all([t.e(0),t.e(27)]).then(t.bind(null,429)),"components/Mode/ModePicker":()=>Promise.all([t.e(0),t.e(39)]).then(t.bind(null,401)),NotFound:()=>Promise.all([t.e(0),t.e(9)]).then(t.bind(null,561)),Category:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(7)]).then(t.bind(null,562)),Layout:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(4)]).then(t.bind(null,563)),Tag:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(5)]).then(t.bind(null,564)),Tags:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(6)]).then(t.bind(null,565)),TimeLines:()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(10)]).then(t.bind(null,566))},a={"v-c79b94cc":()=>t.e(65).then(t.bind(null,576)),"v-75c4716a":()=>t.e(66).then(t.bind(null,577)),"v-6de30a7c":()=>t.e(67).then(t.bind(null,578)),"v-c85c6318":()=>t.e(69).then(t.bind(null,579)),"v-14e933c9":()=>Promise.all([t.e(0),t.e(48)]).then(t.bind(null,567)),"v-1a4d740a":()=>t.e(70).then(t.bind(null,580)),"v-39a59218":()=>t.e(68).then(t.bind(null,581)),"v-31c2ba62":()=>t.e(73).then(t.bind(null,582)),"v-2dbcc420":()=>t.e(51).then(t.bind(null,583)),"v-326b3efa":()=>t.e(72).then(t.bind(null,584)),"v-1193d347":()=>t.e(71).then(t.bind(null,585)),"v-29c91997":()=>t.e(74).then(t.bind(null,586)),"v-a1c3f1b2":()=>t.e(75).then(t.bind(null,587)),"v-da0d1332":()=>t.e(76).then(t.bind(null,588)),"v-b3a703be":()=>t.e(78).then(t.bind(null,589)),"v-3db87aa6":()=>t.e(77).then(t.bind(null,590)),"v-3fe6233e":()=>Promise.all([t.e(0),t.e(49)]).then(t.bind(null,591)),"v-6ff839a5":()=>t.e(81).then(t.bind(null,592)),"v-6f3c2f35":()=>t.e(80).then(t.bind(null,593)),"v-1682ebc2":()=>t.e(79).then(t.bind(null,594)),"v-eb636232":()=>t.e(82).then(t.bind(null,595)),"v-04f7ea91":()=>t.e(83).then(t.bind(null,596)),"v-dcb8377e":()=>t.e(85).then(t.bind(null,597)),"v-4f19b999":()=>t.e(84).then(t.bind(null,598)),"v-a968d5be":()=>t.e(89).then(t.bind(null,599)),"v-256ab3e6":()=>t.e(86).then(t.bind(null,600)),"v-c768ee7e":()=>t.e(90).then(t.bind(null,601)),"v-7bf0622d":()=>t.e(91).then(t.bind(null,602)),"v-ff724ffe":()=>t.e(88).then(t.bind(null,603)),"v-009c8d7e":()=>t.e(92).then(t.bind(null,604)),"v-67280466":()=>t.e(93).then(t.bind(null,605)),"v-3bccfde1":()=>t.e(94).then(t.bind(null,606)),"v-4f258e02":()=>t.e(87).then(t.bind(null,607)),"v-e7493f7e":()=>t.e(95).then(t.bind(null,568)),"v-040aca2b":()=>t.e(97).then(t.bind(null,608)),"v-7854456d":()=>t.e(96).then(t.bind(null,609)),"v-066c4e69":()=>t.e(98).then(t.bind(null,610)),"v-1aedc2e5":()=>t.e(99).then(t.bind(null,611)),"v-b65a493a":()=>t.e(100).then(t.bind(null,612)),"v-cc0c55c6":()=>t.e(101).then(t.bind(null,613)),"v-bfab03e2":()=>t.e(102).then(t.bind(null,614)),"v-4201ca66":()=>t.e(103).then(t.bind(null,615)),"v-1dd3b78b":()=>t.e(104).then(t.bind(null,616)),"v-4f9ff287":()=>t.e(106).then(t.bind(null,617)),"v-42a8aef2":()=>t.e(107).then(t.bind(null,618)),"v-35e02c50":()=>t.e(109).then(t.bind(null,619)),"v-c7139f7a":()=>t.e(108).then(t.bind(null,620)),"v-01b63767":()=>t.e(110).then(t.bind(null,621)),"v-524c0207":()=>t.e(105).then(t.bind(null,622)),"v-490aca87":()=>t.e(112).then(t.bind(null,623)),"v-1712e387":()=>t.e(111).then(t.bind(null,624)),"v-601bcf1a":()=>t.e(113).then(t.bind(null,625)),"v-6d5ac3b6":()=>t.e(114).then(t.bind(null,626)),"v-dce2ada6":()=>t.e(115).then(t.bind(null,627)),"v-506ab18d":()=>t.e(52).then(t.bind(null,628)),"v-6e3203be":()=>t.e(117).then(t.bind(null,629)),"v-748e1367":()=>t.e(116).then(t.bind(null,630)),"v-475243a8":()=>t.e(53).then(t.bind(null,631)),"v-5fcfbc11":()=>t.e(118).then(t.bind(null,632)),"v-2eaebba7":()=>t.e(119).then(t.bind(null,633)),"v-071ea0c7":()=>t.e(120).then(t.bind(null,634)),"v-75b7413b":()=>t.e(121).then(t.bind(null,635)),"v-acc36bb2":()=>t.e(122).then(t.bind(null,636)),"v-56b9f172":()=>t.e(54).then(t.bind(null,637)),"v-00b07732":()=>t.e(123).then(t.bind(null,638)),"v-2aac8187":()=>t.e(124).then(t.bind(null,639)),"v-55b13ea7":()=>t.e(125).then(t.bind(null,640)),"v-52554071":()=>t.e(126).then(t.bind(null,641)),"v-3f6365f2":()=>t.e(127).then(t.bind(null,642)),"v-1ca8af72":()=>t.e(128).then(t.bind(null,643)),"v-08494927":()=>t.e(129).then(t.bind(null,644)),"v-5139380f":()=>t.e(50).then(t.bind(null,645)),"v-2c61bab9":()=>t.e(130).then(t.bind(null,646)),"v-1addd3e5":()=>t.e(55).then(t.bind(null,647)),"v-ee91e7fe":()=>t.e(131).then(t.bind(null,648)),"v-0b025a8a":()=>t.e(132).then(t.bind(null,649)),"v-39a30a51":()=>t.e(133).then(t.bind(null,650)),"v-05d728ce":()=>t.e(134).then(t.bind(null,651)),"v-0e681fea":()=>t.e(135).then(t.bind(null,652)),"v-017fb0e8":()=>t.e(136).then(t.bind(null,653)),"v-644a41e0":()=>t.e(137).then(t.bind(null,654)),"v-54b1986e":()=>t.e(56).then(t.bind(null,655)),"v-2b3d4044":()=>t.e(138).then(t.bind(null,656)),"v-ee8e7f9c":()=>t.e(139).then(t.bind(null,657)),"v-e88b1782":()=>t.e(141).then(t.bind(null,658)),"v-59497900":()=>t.e(140).then(t.bind(null,659)),"v-3c4eca5a":()=>t.e(57).then(t.bind(null,660)),"v-6b29a2eb":()=>t.e(142).then(t.bind(null,661)),"v-124f99fe":()=>t.e(30).then(t.bind(null,662)),"v-bc8a07aa":()=>t.e(143).then(t.bind(null,663)),"v-4e1e3529":()=>t.e(144).then(t.bind(null,664)),"v-1cc674d5":()=>t.e(147).then(t.bind(null,665)),"v-5067e626":()=>t.e(145).then(t.bind(null,666)),"v-2e3d05c2":()=>t.e(148).then(t.bind(null,667)),"v-6c5e788e":()=>t.e(146).then(t.bind(null,668)),"v-e62abbcc":()=>t.e(149).then(t.bind(null,669)),"v-6c559c8b":()=>t.e(151).then(t.bind(null,670)),"v-62d23476":()=>t.e(58).then(t.bind(null,671)),"v-1cc8cfa2":()=>t.e(152).then(t.bind(null,672)),"v-70759a5a":()=>t.e(150).then(t.bind(null,673)),"v-6f4db01a":()=>t.e(59).then(t.bind(null,674)),"v-6cedb8c7":()=>t.e(60).then(t.bind(null,675)),"v-3ac48946":()=>t.e(61).then(t.bind(null,676)),"v-6fb031ba":()=>t.e(153).then(t.bind(null,677)),"v-4573024c":()=>t.e(154).then(t.bind(null,678)),"v-0648f580":()=>t.e(155).then(t.bind(null,679)),"v-20216c61":()=>t.e(156).then(t.bind(null,680)),"v-ef9384be":()=>t.e(157).then(t.bind(null,681)),"v-aa2d5b3e":()=>t.e(158).then(t.bind(null,682)),"v-2c144e1c":()=>t.e(159).then(t.bind(null,683))};function i(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const s=/-(\w)/g,l=i(n=>n.replace(s,(n,e)=>e?e.toUpperCase():"")),c=/\B([A-Z])/g,u=i(n=>n.replace(c,"-$1").toLowerCase()),d=i(n=>n.charAt(0).toUpperCase()+n.slice(1));function p(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(d(l(e))):n(d(e))||n(u(e))}const h=Object.assign({},o,a),m=n=>h[n],f=n=>a[n],g=n=>o[n],v=n=>r.a.component(n);function y(n){return p(f,n)}function b(n){return p(g,n)}function x(n){return p(m,n)}function w(n){return p(v,n)}function E(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!w(n)&&x(n)){const e=await x(n)();r.a.component(n,e.default)}}))}function j(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}function A(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.key===e)return r}return{path:"",frontmatter:{}}}function T(n,e){const{$localePath:t}=n;return"object"==typeof e&&e[t]?e[t]:e}function C(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}},function(n,e,t){"use strict";t.d(e,"a",(function(){return Wt}));
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),o=Array.isArray;function a(n){return null==n}function i(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function u(n){return null!==n&&"object"==typeof n}var d=Object.prototype.toString;function p(n){return"[object Object]"===d.call(n)}function h(n){return"[object RegExp]"===d.call(n)}function m(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function f(n){return i(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function g(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===d?JSON.stringify(n,v,2):String(n)}function v(n,e){return e&&e.__v_isRef?e.value:e}function y(n){var e=parseFloat(n);return isNaN(e)?n:e}function b(n,e){for(var t=Object.create(null),r=n.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}b("slot,component",!0);var x=b("key,ref,slot,slot-scope,is");function w(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var E=Object.prototype.hasOwnProperty;function j(n,e){return E.call(n,e)}function A(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var T=/-(\w)/g,C=A((function(n){return n.replace(T,(function(n,e){return e?e.toUpperCase():""}))})),S=A((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),k=/\B([A-Z])/g,_=A((function(n){return n.replace(k,"-$1").toLowerCase()}));var P=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function D(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function B(n,e){for(var t in e)n[t]=e[t];return n}function I(n){for(var e={},t=0;t<n.length;t++)n[t]&&B(e,n[t]);return e}function O(n,e,t){}var R=function(n,e,t){return!1},M=function(n){return n};function z(n,e){if(n===e)return!0;var t=u(n),r=u(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=Array.isArray(n),a=Array.isArray(e);if(o&&a)return n.length===e.length&&n.every((function(n,t){return z(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(o||a)return!1;var i=Object.keys(n),s=Object.keys(e);return i.length===s.length&&i.every((function(t){return z(n[t],e[t])}))}catch(n){return!1}}function L(n,e){for(var t=0;t<n.length;t++)if(z(n[t],e))return t;return-1}function F(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function H(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var q=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:O,parsePlatformTagName:M,mustUseProp:R,async:!0,_lifecycleHooks:N},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function G(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var W=new RegExp("[^".concat(U.source,".$_\\d]"));var Q="__proto__"in{},J="undefined"!=typeof window,Y=J&&window.navigator.userAgent.toLowerCase(),K=Y&&/msie|trident/.test(Y),Z=Y&&Y.indexOf("msie 9.0")>0,X=Y&&Y.indexOf("edge/")>0;Y&&Y.indexOf("android");var nn=Y&&/iphone|ipad|ipod|ios/.test(Y);Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y);var en,tn=Y&&Y.match(/firefox\/(\d+)/),rn={}.watch,on=!1;if(J)try{var an={};Object.defineProperty(an,"passive",{get:function(){on=!0}}),window.addEventListener("test-passive",null,an)}catch(n){}var sn=function(){return void 0===en&&(en=!J&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),en},ln=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function cn(n){return"function"==typeof n&&/native code/.test(n.toString())}var un,dn="undefined"!=typeof Symbol&&cn(Symbol)&&"undefined"!=typeof Reflect&&cn(Reflect.ownKeys);un="undefined"!=typeof Set&&cn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function hn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var mn=function(){function n(n,e,t,r,o,a,i,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=i,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),fn=function(n){void 0===n&&(n="");var e=new mn;return e.text=n,e.isComment=!0,e};function gn(n){return new mn(void 0,void 0,void 0,String(n))}function vn(n){var e=new mn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var yn=0,bn=[],xn=function(){function n(){this._pending=!1,this.id=yn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,bn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();xn.target=null;var wn=[];function En(n){wn.push(n),xn.target=n}function jn(){wn.pop(),xn.target=wn[wn.length-1]}var An=Array.prototype,Tn=Object.create(An);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=An[n];G(Tn,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,a=e.apply(this,t),i=this.__ob__;switch(n){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&i.observeArray(o),i.dep.notify(),a}))}));var Cn=Object.getOwnPropertyNames(Tn),Sn={},kn=!0;function _n(n){kn=n}var Pn={notify:O,depend:O,addSub:O,removeSub:O},Dn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?Pn:new xn,this.vmCount=0,G(n,"__ob__",this),o(n)){if(!t)if(Q)n.__proto__=Tn;else for(var r=0,a=Cn.length;r<a;r++){G(n,s=Cn[r],Tn[s])}e||this.observeArray(n)}else{var i=Object.keys(n);for(r=0;r<i.length;r++){var s;In(n,s=i[r],Sn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)Bn(n[e],!1,this.mock)},n}();function Bn(n,e,t){return n&&j(n,"__ob__")&&n.__ob__ instanceof Dn?n.__ob__:!kn||!t&&sn()||!o(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Hn(n)||n instanceof mn?void 0:new Dn(n,e,t)}function In(n,e,t,r,a,i,s){void 0===s&&(s=!1);var l=new xn,c=Object.getOwnPropertyDescriptor(n,e);if(!c||!1!==c.configurable){var u=c&&c.get,d=c&&c.set;u&&!d||t!==Sn&&2!==arguments.length||(t=n[e]);var p=a?t&&t.__ob__:Bn(t,!1,i);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(n):t;return xn.target&&(l.depend(),p&&(p.dep.depend(),o(e)&&Mn(e))),Hn(e)&&!a?e.value:e},set:function(e){var r=u?u.call(n):t;if(H(r,e)){if(d)d.call(n,e);else{if(u)return;if(!a&&Hn(r)&&!Hn(e))return void(r.value=e);t=e}p=a?e&&e.__ob__:Bn(e,!1,i),l.notify()}}}),l}}function On(n,e,t){if(!Fn(n)){var r=n.__ob__;return o(n)&&m(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&Bn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(In(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function Rn(n,e){if(o(n)&&m(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Fn(n)||j(n,e)&&(delete n[e],t&&t.dep.notify())}}function Mn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),o(e)&&Mn(e)}function zn(n){return Ln(n,!0),G(n,"__v_isShallow",!0),n}function Ln(n,e){if(!Fn(n)){Bn(n,e,sn());0}}function Fn(n){return!(!n||!n.__v_isReadonly)}function Hn(n){return!(!n||!0!==n.__v_isRef)}function qn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Hn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Hn(r)&&!Hn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Nn;var $n=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Nn,!n&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Nn;try{return Nn=this,n()}finally{Nn=e}}else 0},n.prototype.on=function(){Nn=this},n.prototype.off=function(){Nn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Un(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Vn=A((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Gn(n,e){function t(){var n=t.fns;if(!o(n))return ke(n,null,arguments,e,"v-on handler");for(var r=n.slice(),a=0;a<r.length;a++)ke(r[a],null,arguments,e,"v-on handler")}return t.fns=n,t}function Wn(n,e,t,r,o,i){var l,c,u,d;for(l in n)c=n[l],u=e[l],d=Vn(l),a(c)||(a(u)?(a(c.fns)&&(c=n[l]=Gn(c,i)),s(d.once)&&(c=n[l]=o(d.name,c,d.capture)),t(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,n[l]=u));for(l in e)a(n[l])&&r((d=Vn(l)).name,e[l],d.capture)}function Qn(n,e,t){var r;n instanceof mn&&(n=n.data.hook||(n.data.hook={}));var o=n[e];function l(){t.apply(this,arguments),w(r.fns,l)}a(o)?r=Gn([l]):i(o.fns)&&s(o.merged)?(r=o).fns.push(l):r=Gn([o,l]),r.merged=!0,n[e]=r}function Jn(n,e,t,r,o){if(i(e)){if(j(e,t))return n[t]=e[t],o||delete e[t],!0;if(j(e,r))return n[t]=e[r],o||delete e[r],!0}return!1}function Yn(n){return l(n)?[gn(n)]:o(n)?function n(e,t){var r,c,u,d,p=[];for(r=0;r<e.length;r++)a(c=e[r])||"boolean"==typeof c||(u=p.length-1,d=p[u],o(c)?c.length>0&&(Kn((c=n(c,"".concat(t||"","_").concat(r)))[0])&&Kn(d)&&(p[u]=gn(d.text+c[0].text),c.shift()),p.push.apply(p,c)):l(c)?Kn(d)?p[u]=gn(d.text+c):""!==c&&p.push(gn(c)):Kn(c)&&Kn(d)?p[u]=gn(d.text+c.text):(s(e._isVList)&&i(c.tag)&&a(c.key)&&i(t)&&(c.key="__vlist".concat(t,"_").concat(r,"__")),p.push(c)));return p}(n):void 0}function Kn(n){return i(n)&&i(n.text)&&!1===n.isComment}function Zn(n,e){var t,r,a,s,l=null;if(o(n)||"string"==typeof n)for(l=new Array(n.length),t=0,r=n.length;t<r;t++)l[t]=e(n[t],t);else if("number"==typeof n)for(l=new Array(n),t=0;t<n;t++)l[t]=e(t+1,t);else if(u(n))if(dn&&n[Symbol.iterator]){l=[];for(var c=n[Symbol.iterator](),d=c.next();!d.done;)l.push(e(d.value,l.length)),d=c.next()}else for(a=Object.keys(n),l=new Array(a.length),t=0,r=a.length;t<r;t++)s=a[t],l[t]=e(n[s],s,t);return i(l)||(l=[]),l._isVList=!0,l}function Xn(n,e,t,r){var o,a=this.$scopedSlots[n];a?(t=t||{},r&&(t=B(B({},r),t)),o=a(t)||(c(e)?e():e)):o=this.$slots[n]||(c(e)?e():e);var i=t&&t.slot;return i?this.$createElement("template",{slot:i},o):o}function ne(n){return Dt(this.$options,"filters",n,!0)||M}function ee(n,e){return o(n)?-1===n.indexOf(e):n!==e}function te(n,e,t,r,o){var a=$.keyCodes[e]||t;return o&&r&&!$.keyCodes[e]?ee(o,r):a?ee(a,n):r?_(r)!==e:void 0===n}function re(n,e,t,r,a){if(t)if(u(t)){o(t)&&(t=I(t));var i=void 0,s=function(o){if("class"===o||"style"===o||x(o))i=n;else{var s=n.attrs&&n.attrs.type;i=r||$.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=C(o),c=_(o);l in i||c in i||(i[o]=t[o],a&&((n.on||(n.on={}))["update:".concat(o)]=function(n){t[o]=n}))};for(var l in t)s(l)}else;return n}function oe(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||ie(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return ie(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function ie(n,e,t){if(o(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&se(n[r],"".concat(e,"_").concat(r),t);else se(n,e,t)}function se(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function le(n,e){if(e)if(p(e)){var t=n.on=n.on?B({},n.on):{};for(var r in e){var o=t[r],a=e[r];t[r]=o?[].concat(o,a):a}}else;return n}function ce(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var i=n[a];o(i)?ce(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function ue(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function de(n,e){return"string"==typeof n?e+n:n}function pe(n){n._o=ae,n._n=y,n._s=g,n._l=Zn,n._t=Xn,n._q=z,n._i=L,n._m=oe,n._f=ne,n._k=te,n._b=re,n._v=gn,n._e=fn,n._u=ce,n._g=le,n._d=ue,n._p=de}function he(n,e){if(!n||!n.length)return{};for(var t={},r=0,o=n.length;r<o;r++){var a=n[r],i=a.data;if(i&&i.attrs&&i.attrs.slot&&delete i.attrs.slot,a.context!==e&&a.fnContext!==e||!i||null==i.slot)(t.default||(t.default=[])).push(a);else{var s=i.slot,l=t[s]||(t[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in t)t[c].every(me)&&delete t[c];return t}function me(n){return n.isComment&&!n.asyncFactory||" "===n.text}function fe(n){return n.isComment&&n.asyncFactory}function ge(n,e,t,o){var a,i=Object.keys(t).length>0,s=e?!!e.$stable:!i,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&o&&o!==r&&l===o.$key&&!i&&!o.$hasNormal)return o;for(var c in a={},e)e[c]&&"$"!==c[0]&&(a[c]=ve(n,t,c,e[c]))}else a={};for(var u in t)u in a||(a[u]=ye(t,u));return e&&Object.isExtensible(e)&&(e._normalized=a),G(a,"$stable",s),G(a,"$key",l),G(a,"$hasNormal",i),a}function ve(n,e,t,r){var a=function(){var e=pn;hn(n);var t=arguments.length?r.apply(null,arguments):r({}),a=(t=t&&"object"==typeof t&&!o(t)?[t]:Yn(t))&&t[0];return hn(e),t&&(!a||1===t.length&&a.isComment&&!fe(a))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:a,enumerable:!0,configurable:!0}),a}function ye(n,e){return function(){return n[e]}}function be(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};G(e,"_v_attr_proxy",!0),xe(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||xe(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||Ee(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:P(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return qn(n,e,t)}))}}}function xe(n,e,t,r,o){var a=!1;for(var i in e)i in n?e[i]!==t[i]&&(a=!0):(a=!0,we(n,i,r,o));for(var i in n)i in e||(a=!0,delete n[i]);return a}function we(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function Ee(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var je=null;function Ae(n,e){return(n.__esModule||dn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),u(n)?e.extend(n):n}function Te(n){if(o(n))for(var e=0;e<n.length;e++){var t=n[e];if(i(t)&&(i(t.componentOptions)||fe(t)))return t}}function Ce(n,e,t,r,d,p){return(o(t)||l(t))&&(d=r,r=t,t=void 0),s(p)&&(d=2),function(n,e,t,r,l){if(i(t)&&i(t.__ob__))return fn();i(t)&&i(t.is)&&(e=t.is);if(!e)return fn();0;o(r)&&c(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===l?r=Yn(r):1===l&&(r=function(n){for(var e=0;e<n.length;e++)if(o(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var d,p;if("string"==typeof e){var h=void 0;p=n.$vnode&&n.$vnode.ns||$.getTagNamespace(e),d=$.isReservedTag(e)?new mn($.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!i(h=Dt(n.$options,"components",e))?new mn(e,t,r,void 0,void 0,n):wt(h,t,n,r,e)}else d=wt(e,t,n,r);return o(d)?d:i(d)?(i(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(i(e.children))for(var o=0,l=e.children.length;o<l;o++){var c=e.children[o];i(c.tag)&&(a(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(d,p),i(t)&&function(n){u(n.style)&&$e(n.style);u(n.class)&&$e(n.class)}(t),d):fn()}(n,e,t,r,d)}function Se(n,e,t){En();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var a=0;a<o.length;a++)try{if(!1===o[a].call(r,n,e,t))return}catch(n){_e(n,r,"errorCaptured hook")}}_e(n,e,t)}finally{jn()}}function ke(n,e,t,r,o){var a;try{(a=t?n.apply(e,t):n.call(e))&&!a._isVue&&f(a)&&!a._handled&&(a.catch((function(n){return Se(n,r,o+" (Promise/async)")})),a._handled=!0)}catch(n){Se(n,r,o)}return a}function _e(n,e,t){if($.errorHandler)try{return $.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Pe(e,null,"config.errorHandler")}Pe(n,e,t)}function Pe(n,e,t){if(!J||"undefined"==typeof console)throw n;console.error(n)}var De,Be=!1,Ie=[],Oe=!1;function Re(){Oe=!1;var n=Ie.slice(0);Ie.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&cn(Promise)){var Me=Promise.resolve();De=function(){Me.then(Re),nn&&setTimeout(O)},Be=!0}else if(K||"undefined"==typeof MutationObserver||!cn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())De="undefined"!=typeof setImmediate&&cn(setImmediate)?function(){setImmediate(Re)}:function(){setTimeout(Re,0)};else{var ze=1,Le=new MutationObserver(Re),Fe=document.createTextNode(String(ze));Le.observe(Fe,{characterData:!0}),De=function(){ze=(ze+1)%2,Fe.data=String(ze)},Be=!0}function He(n,e){var t;if(Ie.push((function(){if(n)try{n.call(e)}catch(n){Se(n,e,"nextTick")}else t&&t(e)})),Oe||(Oe=!0,De()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function qe(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var r=n.$options;r[e]=St(r[e],t)}(t,n,e)}}qe("beforeMount"),qe("mounted"),qe("beforeUpdate"),qe("updated"),qe("beforeDestroy"),qe("destroyed"),qe("activated"),qe("deactivated"),qe("serverPrefetch"),qe("renderTracked"),qe("renderTriggered"),qe("errorCaptured");var Ne=new un;function $e(n){return function n(e,t){var r,a,i=o(e);if(!i&&!u(e)||e.__v_skip||Object.isFrozen(e)||e instanceof mn)return;if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(i)for(r=e.length;r--;)n(e[r],t);else if(Hn(e))n(e.value,t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,Ne),Ne.clear(),n}var Ue,Ve=0,Ge=function(){function n(n,e,t,r,o){var a,i;a=this,void 0===(i=Nn&&!Nn._vm?Nn:n?n._scope:void 0)&&(i=Nn),i&&i.active&&i.effects.push(a),(this.vm=n)&&o&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++Ve,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new un,this.newDepIds=new un,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!W.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;En(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Se(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&$e(n),jn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ht(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||u(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');ke(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function We(n,e){Ue.$on(n,e)}function Qe(n,e){Ue.$off(n,e)}function Je(n,e){var t=Ue;return function r(){var o=e.apply(null,arguments);null!==o&&t.$off(n,r)}}function Ye(n,e,t){Ue=n,Wn(e,t||{},We,Qe,Je,n),Ue=void 0}var Ke=null;function Ze(n){var e=Ke;return Ke=n,function(){Ke=e}}function Xe(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function nt(n,e){if(e){if(n._directInactive=!1,Xe(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)nt(n.$children[t]);et(n,"activated")}}function et(n,e,t,r){void 0===r&&(r=!0),En();var o=pn,a=Nn;r&&hn(n);var i=n.$options[e],s="".concat(e," hook");if(i)for(var l=0,c=i.length;l<c;l++)ke(i[l],n,t||null,n,s);n._hasHookEvent&&n.$emit("hook:"+e),r&&(hn(o),a&&a.on()),jn()}var tt=[],rt=[],ot={},at=!1,it=!1,st=0;var lt=0,ct=Date.now;if(J&&!K){var ut=window.performance;ut&&"function"==typeof ut.now&&ct()>document.createEvent("Event").timeStamp&&(ct=function(){return ut.now()})}var dt=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function pt(){var n,e;for(lt=ct(),it=!0,tt.sort(dt),st=0;st<tt.length;st++)(n=tt[st]).before&&n.before(),e=n.id,ot[e]=null,n.run();var t=rt.slice(),r=tt.slice();st=tt.length=rt.length=0,ot={},at=it=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,nt(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&et(r,"updated")}}(r),function(){for(var n=0;n<bn.length;n++){var e=bn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}bn.length=0}(),ln&&$.devtools&&ln.emit("flush")}function ht(n){var e=n.id;if(null==ot[e]&&(n!==xn.target||!n.noRecurse)){if(ot[e]=!0,it){for(var t=tt.length-1;t>st&&tt[t].id>n.id;)t--;tt.splice(t+1,0,n)}else tt.push(n);at||(at=!0,He(pt))}}function mt(n,e){if(n){for(var t=Object.create(null),r=dn?Reflect.ownKeys(n):Object.keys(n),o=0;o<r.length;o++){var a=r[o];if("__ob__"!==a){var i=n[a].from;if(i in e._provided)t[a]=e._provided[i];else if("default"in n[a]){var s=n[a].default;t[a]=c(s)?s.call(e):s}else 0}}return t}}function ft(n,e,t,a,i){var l,c=this,u=i.options;j(a,"_uid")?(l=Object.create(a))._original=a:(l=a,a=a._original);var d=s(u._compiled),p=!d;this.data=n,this.props=e,this.children=t,this.parent=a,this.listeners=n.on||r,this.injections=mt(u.inject,a),this.slots=function(){return c.$slots||ge(a,n.scopedSlots,c.$slots=he(t,a)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ge(a,n.scopedSlots,this.slots())}}),d&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ge(a,n.scopedSlots,this.$slots)),u._scopeId?this._c=function(n,e,t,r){var i=Ce(l,n,e,t,r,p);return i&&!o(i)&&(i.fnScopeId=u._scopeId,i.fnContext=a),i}:this._c=function(n,e,t,r){return Ce(l,n,e,t,r,p)}}function gt(n,e,t,r,o){var a=vn(n);return a.fnContext=t,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function vt(n,e){for(var t in e)n[C(t)]=e[t]}function yt(n){return n.name||n.__name||n._componentTag}pe(ft.prototype);var bt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;bt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;i(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ke)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,o,a){var i=o.data.scopedSlots,s=n.$scopedSlots,l=!!(i&&!i.$stable||s!==r&&!s.$stable||i&&n.$scopedSlots.$key!==i.$key||!i&&n.$scopedSlots.$key),c=!!(a||n.$options._renderChildren||l),u=n.$vnode;n.$options._parentVnode=o,n.$vnode=o,n._vnode&&(n._vnode.parent=o),n.$options._renderChildren=a;var d=o.data.attrs||r;n._attrsProxy&&xe(n._attrsProxy,d,u.data&&u.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=d,t=t||r;var p=n.$options._parentListeners;if(n._listenersProxy&&xe(n._listenersProxy,t,p||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ye(n,t,p),e&&n.$options.props){_n(!1);for(var h=n._props,m=n.$options._propKeys||[],f=0;f<m.length;f++){var g=m[f],v=n.$options.props;h[g]=Bt(g,v,e,n)}_n(!0),n.$options.propsData=e}c&&(n.$slots=he(a,o.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,et(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,rt.push(e)):nt(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Xe(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);et(e,"deactivated")}}(e,!0):e.$destroy())}},xt=Object.keys(bt);function wt(n,e,t,l,c){if(!a(n)){var d=t.$options._base;if(u(n)&&(n=d.extend(n)),"function"==typeof n){var p;if(a(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&i(n.errorComp))return n.errorComp;if(i(n.resolved))return n.resolved;var t=je;if(t&&i(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),s(n.loading)&&i(n.loadingComp))return n.loadingComp;if(t&&!i(n.owners)){var r=n.owners=[t],o=!0,l=null,c=null;t.$on("hook:destroyed",(function(){return w(r,t)}));var d=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=F((function(t){n.resolved=Ae(t,e),o?r.length=0:d(!0)})),h=F((function(e){i(n.errorComp)&&(n.error=!0,d(!0))})),m=n(p,h);return u(m)&&(f(m)?a(n.resolved)&&m.then(p,h):f(m.component)&&(m.component.then(p,h),i(m.error)&&(n.errorComp=Ae(m.error,e)),i(m.loading)&&(n.loadingComp=Ae(m.loading,e),0===m.delay?n.loading=!0:l=setTimeout((function(){l=null,a(n.resolved)&&a(n.error)&&(n.loading=!0,d(!1))}),m.delay||200)),i(m.timeout)&&(c=setTimeout((function(){c=null,a(n.resolved)&&h(null)}),m.timeout)))),o=!1,n.loading?n.loadingComp:n.resolved}}(p=n,d)))return function(n,e,t,r,o){var a=fn();return a.asyncFactory=n,a.asyncMeta={data:e,context:t,children:r,tag:o},a}(p,e,t,l,c);e=e||{},Gt(n),i(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),s=a[r],l=e.model.callback;i(s)?(o(s)?-1===s.indexOf(l):s!==l)&&(a[r]=[l].concat(s)):a[r]=l}(n.options,e);var h=function(n,e,t){var r=e.options.props;if(!a(r)){var o={},s=n.attrs,l=n.props;if(i(s)||i(l))for(var c in r){var u=_(c);Jn(o,l,c,u,!0)||Jn(o,s,c,u,!1)}return o}}(e,n);if(s(n.options.functional))return function(n,e,t,a,s){var l=n.options,c={},u=l.props;if(i(u))for(var d in u)c[d]=Bt(d,u,e||r);else i(t.attrs)&&vt(c,t.attrs),i(t.props)&&vt(c,t.props);var p=new ft(t,c,s,a,n),h=l.render.call(null,p._c,p);if(h instanceof mn)return gt(h,t,p.parent,l,p);if(o(h)){for(var m=Yn(h)||[],f=new Array(m.length),g=0;g<m.length;g++)f[g]=gt(m[g],t,p.parent,l,p);return f}}(n,h,e,t,l);var m=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<xt.length;t++){var r=xt[t],o=e[r],a=bt[r];o===a||o&&o._merged||(e[r]=o?Et(a,o):a)}}(e);var v=yt(n.options)||c;return new mn("vue-component-".concat(n.cid).concat(v?"-".concat(v):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:h,listeners:m,tag:c,children:l},p)}}}function Et(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var jt=O,At=$.optionMergeStrategies;function Tt(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,o,a,i=dn?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)"__ob__"!==(r=i[s])&&(o=n[r],a=e[r],t&&j(n,r)?o!==a&&p(o)&&p(a)&&Tt(o,a):On(n,r,a));return n}function Ct(n,e,t){return t?function(){var r=c(e)?e.call(t,t):e,o=c(n)?n.call(t,t):n;return r?Tt(r,o):o}:e?n?function(){return Tt(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function St(n,e){var t=e?n?n.concat(e):o(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function kt(n,e,t,r){var o=Object.create(n||null);return e?B(o,e):o}At.data=function(n,e,t){return t?Ct(n,e,t):e&&"function"!=typeof e?n:Ct(n,e)},N.forEach((function(n){At[n]=St})),q.forEach((function(n){At[n+"s"]=kt})),At.watch=function(n,e,t,r){if(n===rn&&(n=void 0),e===rn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var i in B(a,n),e){var s=a[i],l=e[i];s&&!o(s)&&(s=[s]),a[i]=s?s.concat(l):o(l)?l:[l]}return a},At.props=At.methods=At.inject=At.computed=function(n,e,t,r){if(!n)return e;var o=Object.create(null);return B(o,n),e&&B(o,e),o},At.provide=function(n,e){return n?function(){var t=Object.create(null);return Tt(t,c(n)?n.call(this):n),e&&Tt(t,c(e)?e.call(this):e,!1),t}:e};var _t=function(n,e){return void 0===e?n:e};function Pt(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,i={};if(o(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(i[C(a)]={type:null});else if(p(t))for(var s in t)a=t[s],i[C(s)]=p(a)?a:{type:a};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(o(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(p(t))for(var i in t){var s=t[i];r[i]=p(s)?B({from:i},s):{from:s}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];c(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=Pt(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=Pt(n,e.mixins[r],t);var i,s={};for(i in n)l(i);for(i in e)j(n,i)||l(i);function l(r){var o=At[r]||_t;s[r]=o(n[r],e[r],t,r)}return s}function Dt(n,e,t,r){if("string"==typeof t){var o=n[e];if(j(o,t))return o[t];var a=C(t);if(j(o,a))return o[a];var i=S(a);return j(o,i)?o[i]:o[t]||o[a]||o[i]}}function Bt(n,e,t,r){var o=e[n],a=!j(t,n),i=t[n],s=Mt(Boolean,o.type);if(s>-1)if(a&&!j(o,"default"))i=!1;else if(""===i||i===_(n)){var l=Mt(String,o.type);(l<0||s<l)&&(i=!0)}if(void 0===i){i=function(n,e,t){if(!j(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(r)&&"Function"!==Ot(e.type)?r.call(n):r}(r,o,n);var u=kn;_n(!0),Bn(i),_n(u)}return i}var It=/^\s*function (\w+)/;function Ot(n){var e=n&&n.toString().match(It);return e?e[1]:""}function Rt(n,e){return Ot(n)===Ot(e)}function Mt(n,e){if(!o(e))return Rt(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Rt(e[t],n))return t;return-1}var zt={enumerable:!0,configurable:!0,get:O,set:O};function Lt(n,e,t){zt.get=function(){return this[e][t]},zt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,zt)}function Ft(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=zn({}),o=n.$options._propKeys=[];n.$parent&&_n(!1);var a=function(a){o.push(a);var i=Bt(a,e,t,n);In(r,a,i,void 0,!0),a in n||Lt(n,"_props",a)};for(var i in e)a(i);_n(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=be(n);hn(n),En();var o=ke(t,null,[n._props||zn({}),r],n,"setup");if(jn(),hn(),c(o))e.render=o;else if(u(o))if(n._setupState=o,o.__sfc){var a=n._setupProxy={};for(var i in o)"__sfc"!==i&&qn(a,o,i)}else for(var i in o)V(i)||qn(n,o,i);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?O:P(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){En();try{return n.call(e,e)}catch(n){return Se(n,e,"data()"),{}}finally{jn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,o=(n.$options.methods,t.length);for(;o--;){var a=t[o];0,r&&j(r,a)||V(a)||Lt(n,"_data",a)}var i=Bn(e);i&&i.vmCount++}(n);else{var t=Bn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=sn();for(var o in e){var a=e[o],i=c(a)?a:a.get;0,r||(t[o]=new Ge(n,i||O,O,Ht)),o in n||qt(n,o,a)}}(n,e.computed),e.watch&&e.watch!==rn&&function(n,e){for(var t in e){var r=e[t];if(o(r))for(var a=0;a<r.length;a++)Ut(n,t,r[a]);else Ut(n,t,r)}}(n,e.watch)}var Ht={lazy:!0};function qt(n,e,t){var r=!sn();c(t)?(zt.get=r?Nt(e):$t(t),zt.set=O):(zt.get=t.get?r&&!1!==t.cache?Nt(e):$t(t.get):O,zt.set=t.set||O),Object.defineProperty(n,e,zt)}function Nt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),xn.target&&e.depend(),e.value}}function $t(n){return function(){return n.call(this,this)}}function Ut(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Vt=0;function Gt(n){var e=n.options;if(n.super){var t=Gt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var o in t)t[o]!==r[o]&&(e||(e={}),e[o]=t[o]);return e}(n);r&&B(n.extendOptions,r),(e=n.options=Pt(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Wt(n){this._init(n)}function Qt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,o=n._Ctor||(n._Ctor={});if(o[r])return o[r];var a=yt(n)||yt(t.options);var i=function(n){this._init(n)};return(i.prototype=Object.create(t.prototype)).constructor=i,i.cid=e++,i.options=Pt(t.options,n),i.super=t,i.options.props&&function(n){var e=n.options.props;for(var t in e)Lt(n.prototype,"_props",t)}(i),i.options.computed&&function(n){var e=n.options.computed;for(var t in e)qt(n.prototype,t,e[t])}(i),i.extend=t.extend,i.mixin=t.mixin,i.use=t.use,q.forEach((function(n){i[n]=t[n]})),a&&(i.options.components[a]=i),i.superOptions=t.options,i.extendOptions=n,i.sealedOptions=B({},i.options),o[r]=i,i}}function Jt(n){return n&&(yt(n.Ctor.options)||n.tag)}function Yt(n,e){return o(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!h(n)&&n.test(e)}function Kt(n,e){var t=n.cache,r=n.keys,o=n._vnode,a=n.$vnode;for(var i in t){var s=t[i];if(s){var l=s.name;l&&!e(l)&&Zt(t,i,r,o)}}a.componentOptions.children=void 0}function Zt(n,e,t,r){var o=n[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),n[e]=null,w(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Vt++,e._isVue=!0,e.__v_skip=!0,e._scope=new $n(!0),e._scope.parent=void 0,e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=Pt(Gt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ye(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,o=t&&t.context;n.$slots=he(e._renderChildren,o),n.$scopedSlots=t?ge(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,o){return Ce(n,e,t,r,o,!1)},n.$createElement=function(e,t,r,o){return Ce(n,e,t,r,o,!0)};var a=t&&t.data;In(n,"$attrs",a&&a.attrs||r,null,!0),In(n,"$listeners",e._parentListeners||r,null,!0)}(e),et(e,"beforeCreate",void 0,!1),function(n){var e=mt(n.$options.inject,n);e&&(_n(!1),Object.keys(e).forEach((function(t){In(n,t,e[t])})),_n(!0))}(e),Ft(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!u(t))return;for(var r=Un(n),o=dn?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++){var i=o[a];Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))}}}(e),et(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Wt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=On,n.prototype.$delete=Rn,n.prototype.$watch=function(n,e,t){if(p(e))return Ut(this,n,e,t);(t=t||{}).user=!0;var r=new Ge(this,n,e,t);if(t.immediate){var o='callback for immediate watcher "'.concat(r.expression,'"');En(),ke(e,this,[r.value],this,o),jn()}return function(){r.teardown()}}}(Wt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(o(n))for(var a=0,i=n.length;a<i;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(o(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var i,s=t._events[n];if(!s)return t;if(!e)return t._events[n]=null,t;for(var l=s.length;l--;)if((i=s[l])===e||i.fn===e){s.splice(l,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?D(t):t;for(var r=D(arguments,1),o='event handler for "'.concat(n,'"'),a=0,i=t.length;a<i;a++)ke(t[a],e,r,e,o)}return e}}(Wt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,o=t._vnode,a=Ze(t);t._vnode=n,t.$el=o?t.__patch__(o,n):t.__patch__(t.$el,n,e,!1),a(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var i=t;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){et(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||w(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),et(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Wt),function(n){pe(n.prototype),n.prototype.$nextTick=function(n){return He(n,this)},n.prototype._render=function(){var n=this,e=n.$options,t=e.render,r=e._parentVnode;r&&n._isMounted&&(n.$scopedSlots=ge(n.$parent,r.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&Ee(n._slotsProxy,n.$scopedSlots)),n.$vnode=r;var a,i=pn,s=je;try{hn(n),je=n,a=t.call(n._renderProxy,n.$createElement)}catch(e){Se(e,n,"render"),a=n._vnode}finally{je=s,hn(i)}return o(a)&&1===a.length&&(a=a[0]),a instanceof mn||(a=fn()),a.parent=r,a}}(Wt);var Xt=[String,RegExp,Array],nr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Xt,exclude:Xt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,a=t.componentInstance,i=t.componentOptions;n[r]={name:Jt(i),tag:o,componentInstance:a},e.push(r),this.max&&e.length>parseInt(this.max)&&Zt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Zt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Kt(n,(function(n){return Yt(e,n)}))})),this.$watch("exclude",(function(e){Kt(n,(function(n){return!Yt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Te(n),t=e&&e.componentOptions;if(t){var r=Jt(t),o=this.include,a=this.exclude;if(o&&(!r||!Yt(o,r))||a&&r&&Yt(a,r))return e;var i=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;i[l]?(e.componentInstance=i[l].componentInstance,w(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return $}};Object.defineProperty(n,"config",e),n.util={warn:jt,extend:B,mergeOptions:Pt,defineReactive:In},n.set=On,n.delete=Rn,n.nextTick=He,n.observable=function(n){return Bn(n),n},n.options=Object.create(null),q.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,B(n.options.components,nr),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=D(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=Pt(this.options,n),this}}(n),Qt(n),function(n){q.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Wt),Object.defineProperty(Wt.prototype,"$isServer",{get:sn}),Object.defineProperty(Wt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Wt,"FunctionalRenderContext",{value:ft}),Wt.version="2.7.16";var er=b("style,class"),tr=b("input,textarea,option,select,progress"),rr=b("contenteditable,draggable,spellcheck"),or=b("events,caret,typing,plaintext-only"),ar=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ir="http://www.w3.org/1999/xlink",sr=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},lr=function(n){return sr(n)?n.slice(6,n.length):""},cr=function(n){return null==n||!1===n};function ur(n){for(var e=n.data,t=n,r=n;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=dr(r.data,e));for(;i(t=t.parent);)t&&t.data&&(e=dr(e,t.data));return function(n,e){if(i(n)||i(e))return pr(n,hr(e));return""}(e.staticClass,e.class)}function dr(n,e){return{staticClass:pr(n.staticClass,e.staticClass),class:i(n.class)?[n.class,e.class]:e.class}}function pr(n,e){return n?e?n+" "+e:n:e||""}function hr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,o=n.length;r<o;r++)i(e=hr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):u(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var mr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},fr=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),gr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),vr=function(n){return fr(n)||gr(n)};var yr=Object.create(null);var br=b("text,number,password,search,email,tel,url");var xr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(mr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),wr={create:function(n,e){Er(e)},update:function(n,e){n.data.ref!==e.data.ref&&(Er(n,!0),Er(e))},destroy:function(n){Er(n,!0)}};function Er(n,e){var t=n.data.ref;if(i(t)){var r=n.context,a=n.componentInstance||n.elm,s=e?null:a,l=e?void 0:a;if(c(t))ke(t,r,[s],r,"template ref function");else{var u=n.data.refInFor,d="string"==typeof t||"number"==typeof t,p=Hn(t),h=r.$refs;if(d||p)if(u){var m=d?h[t]:t.value;e?o(m)&&w(m,a):o(m)?m.includes(a)||m.push(a):d?(h[t]=[a],jr(r,t,h[t])):t.value=[a]}else if(d){if(e&&h[t]!==a)return;h[t]=l,jr(r,t,s)}else if(p){if(e&&t.value!==a)return;t.value=s}else 0}}}function jr(n,e,t){var r=n._setupState;r&&j(r,e)&&(Hn(r[e])?r[e].value=t:r[e]=t)}var Ar=new mn("",{},[]),Tr=["create","activate","update","remove","destroy"];function Cr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&i(n.data)===i(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=i(t=n.data)&&i(t=t.attrs)&&t.type,o=i(t=e.data)&&i(t=t.attrs)&&t.type;return r===o||br(r)&&br(o)}(n,e)||s(n.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function Sr(n,e,t){var r,o,a={};for(r=e;r<=t;++r)i(o=n[r].key)&&(a[o]=r);return a}var kr={create:_r,update:_r,destroy:function(n){_r(n,Ar)}};function _r(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,o,a=n===Ar,i=e===Ar,s=Dr(n.data.directives,n.context),l=Dr(e.data.directives,e.context),c=[],u=[];for(t in l)r=s[t],o=l[t],r?(o.oldValue=r.value,o.oldArg=r.arg,Ir(o,"update",e,n),o.def&&o.def.componentUpdated&&u.push(o)):(Ir(o,"bind",e,n),o.def&&o.def.inserted&&c.push(o));if(c.length){var d=function(){for(var t=0;t<c.length;t++)Ir(c[t],"inserted",e,n)};a?Qn(e,"insert",d):d()}u.length&&Qn(e,"postpatch",(function(){for(var t=0;t<u.length;t++)Ir(u[t],"componentUpdated",e,n)}));if(!a)for(t in s)l[t]||Ir(s[t],"unbind",n,n,i)}(n,e)}var Pr=Object.create(null);function Dr(n,e){var t,r,o=Object.create(null);if(!n)return o;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=Pr),o[Br(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||Dt(e,"_setupState","v-"+r.name);r.def="function"==typeof a?{bind:a,update:a}:a}r.def=r.def||Dt(e.$options,"directives",r.name)}return o}function Br(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Ir(n,e,t,r,o){var a=n.def&&n.def[e];if(a)try{a(t.elm,n,t,r,o)}catch(r){Se(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Or=[wr,kr];function Rr(n,e){var t=e.componentOptions;if(!(i(t)&&!1===t.Ctor.options.inheritAttrs||a(n.data.attrs)&&a(e.data.attrs))){var r,o,l=e.elm,c=n.data.attrs||{},u=e.data.attrs||{};for(r in(i(u.__ob__)||s(u._v_attr_proxy))&&(u=e.data.attrs=B({},u)),u)o=u[r],c[r]!==o&&Mr(l,r,o,e.data.pre);for(r in(K||X)&&u.value!==c.value&&Mr(l,"value",u.value),c)a(u[r])&&(sr(r)?l.removeAttributeNS(ir,lr(r)):rr(r)||l.removeAttribute(r))}}function Mr(n,e,t,r){r||n.tagName.indexOf("-")>-1?zr(n,e,t):ar(e)?cr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):rr(e)?n.setAttribute(e,function(n,e){return cr(e)||"false"===e?"false":"contenteditable"===n&&or(e)?e:"true"}(e,t)):sr(e)?cr(t)?n.removeAttributeNS(ir,lr(e)):n.setAttributeNS(ir,e,t):zr(n,e,t)}function zr(n,e,t){if(cr(t))n.removeAttribute(e);else{if(K&&!Z&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Lr={create:Rr,update:Rr};function Fr(n,e){var t=e.elm,r=e.data,o=n.data;if(!(a(r.staticClass)&&a(r.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=ur(e),l=t._transitionClasses;i(l)&&(s=pr(s,hr(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var Hr,qr={create:Fr,update:Fr};function Nr(n,e,t){var r=Hr;return function o(){var a=e.apply(null,arguments);null!==a&&Vr(n,o,t,r)}}var $r=Be&&!(tn&&Number(tn[1])<=53);function Ur(n,e,t,r){if($r){var o=lt,a=e;e=a._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=o||n.timeStamp<=0||n.target.ownerDocument!==document)return a.apply(this,arguments)}}Hr.addEventListener(n,e,on?{capture:t,passive:r}:t)}function Vr(n,e,t,r){(r||Hr).removeEventListener(n,e._wrapper||e,t)}function Gr(n,e){if(!a(n.data.on)||!a(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Hr=e.elm||n.elm,function(n){if(i(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}i(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Wn(t,r,Ur,Vr,Nr,e.context),Hr=void 0}}var Wr,Qr={create:Gr,update:Gr,destroy:function(n){return Gr(n,Ar)}};function Jr(n,e){if(!a(n.data.domProps)||!a(e.data.domProps)){var t,r,o=e.elm,l=n.data.domProps||{},c=e.data.domProps||{};for(t in(i(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=B({},c)),l)t in c||(o[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===l[t])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===t&&"PROGRESS"!==o.tagName){o._value=r;var u=a(r)?"":String(r);Yr(o,u)&&(o.value=u)}else if("innerHTML"===t&&gr(o.tagName)&&a(o.innerHTML)){(Wr=Wr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var d=Wr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}else if(r!==l[t])try{o[t]=r}catch(n){}}}}function Yr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(i(r)){if(r.number)return y(t)!==y(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Kr={create:Jr,update:Jr},Zr=A((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Xr(n){var e=no(n.style);return n.staticStyle?B(n.staticStyle,e):e}function no(n){return Array.isArray(n)?I(n):"string"==typeof n?Zr(n):n}var eo,to=/^--/,ro=/\s*!important$/,oo=function(n,e,t){if(to.test(e))n.style.setProperty(e,t);else if(ro.test(t))n.style.setProperty(_(e),t.replace(ro,""),"important");else{var r=io(e);if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.style[r]=t[o];else n.style[r]=t}},ao=["Webkit","Moz","ms"],io=A((function(n){if(eo=eo||document.createElement("div").style,"filter"!==(n=C(n))&&n in eo)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ao.length;t++){var r=ao[t]+e;if(r in eo)return r}}));function so(n,e){var t=e.data,r=n.data;if(!(a(t.staticStyle)&&a(t.style)&&a(r.staticStyle)&&a(r.style))){var o,s,l=e.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},d=c||u,p=no(e.data.style)||{};e.data.normalizedStyle=i(p.__ob__)?B({},p):p;var h=function(n,e){var t,r={};if(e)for(var o=n;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Xr(o.data))&&B(r,t);(t=Xr(n.data))&&B(r,t);for(var a=n;a=a.parent;)a.data&&(t=Xr(a.data))&&B(r,t);return r}(e,!0);for(s in d)a(h[s])&&oo(l,s,"");for(s in h)o=h[s],oo(l,s,null==o?"":o)}}var lo={create:so,update:so},co=/\s+/;function uo(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(co).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function po(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(co).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function ho(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&B(e,mo(n.name||"v")),B(e,n),e}return"string"==typeof n?mo(n):void 0}}var mo=A((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),fo=J&&!Z,go="transition",vo="transitionend",yo="animation",bo="animationend";fo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(go="WebkitTransition",vo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(yo="WebkitAnimation",bo="webkitAnimationEnd"));var xo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function wo(n){xo((function(){xo(n)}))}function Eo(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),uo(n,e))}function jo(n,e){n._transitionClasses&&w(n._transitionClasses,e),po(n,e)}function Ao(n,e,t){var r=Co(n,e),o=r.type,a=r.timeout,i=r.propCount;if(!o)return t();var s="transition"===o?vo:bo,l=0,c=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++l>=i&&c()};setTimeout((function(){l<i&&c()}),a+1),n.addEventListener(s,u)}var To=/\b(transform|all)(,|$)/;function Co(n,e){var t,r=window.getComputedStyle(n),o=(r[go+"Delay"]||"").split(", "),a=(r[go+"Duration"]||"").split(", "),i=So(o,a),s=(r[yo+"Delay"]||"").split(", "),l=(r[yo+"Duration"]||"").split(", "),c=So(s,l),u=0,d=0;return"transition"===e?i>0&&(t="transition",u=i,d=a.length):"animation"===e?c>0&&(t="animation",u=c,d=l.length):d=(t=(u=Math.max(i,c))>0?i>c?"transition":"animation":null)?"transition"===t?a.length:l.length:0,{type:t,timeout:u,propCount:d,hasTransform:"transition"===t&&To.test(r[go+"Property"])}}function So(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return ko(e)+ko(n[t])})))}function ko(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function _o(n,e){var t=n.elm;i(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=ho(n.data.transition);if(!a(r)&&!i(t._enterCb)&&1===t.nodeType){for(var o=r.css,s=r.type,l=r.enterClass,d=r.enterToClass,p=r.enterActiveClass,h=r.appearClass,m=r.appearToClass,f=r.appearActiveClass,g=r.beforeEnter,v=r.enter,b=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,E=r.appear,j=r.afterAppear,A=r.appearCancelled,T=r.duration,C=Ke,S=Ke.$vnode;S&&S.parent;)C=S.context,S=S.parent;var k=!C._isMounted||!n.isRootInsert;if(!k||E||""===E){var _=k&&h?h:l,P=k&&f?f:p,D=k&&m?m:d,B=k&&w||g,I=k&&c(E)?E:v,O=k&&j||b,R=k&&A||x,M=y(u(T)?T.enter:T);0;var z=!1!==o&&!Z,L=Bo(I),H=t._enterCb=F((function(){z&&(jo(t,D),jo(t,P)),H.cancelled?(z&&jo(t,_),R&&R(t)):O&&O(t),t._enterCb=null}));n.data.show||Qn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(t,H)})),B&&B(t),z&&(Eo(t,_),Eo(t,P),wo((function(){jo(t,_),H.cancelled||(Eo(t,D),L||(Do(M)?setTimeout(H,M):Ao(t,s,H)))}))),n.data.show&&(e&&e(),I&&I(t,H)),z||L||H()}}}function Po(n,e){var t=n.elm;i(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=ho(n.data.transition);if(a(r)||1!==t.nodeType)return e();if(!i(t._leaveCb)){var o=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,m=r.afterLeave,f=r.leaveCancelled,g=r.delayLeave,v=r.duration,b=!1!==o&&!Z,x=Bo(h),w=y(u(v)?v.leave:v);0;var E=t._leaveCb=F((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),b&&(jo(t,c),jo(t,d)),E.cancelled?(b&&jo(t,l),f&&f(t)):(e(),m&&m(t)),t._leaveCb=null}));g?g(j):j()}function j(){E.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),b&&(Eo(t,l),Eo(t,d),wo((function(){jo(t,l),E.cancelled||(Eo(t,c),x||(Do(w)?setTimeout(E,w):Ao(t,s,E)))}))),h&&h(t,E),b||x||E())}}function Do(n){return"number"==typeof n&&!isNaN(n)}function Bo(n){if(a(n))return!1;var e=n.fns;return i(e)?Bo(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function Io(n,e){!0!==e.data.show&&_o(e)}var Oo=function(n){var e,t,r={},c=n.modules,u=n.nodeOps;for(e=0;e<Tr.length;++e)for(r[Tr[e]]=[],t=0;t<c.length;++t)i(c[t][Tr[e]])&&r[Tr[e]].push(c[t][Tr[e]]);function d(n){var e=u.parentNode(n);i(e)&&u.removeChild(e,n)}function p(n,e,t,o,a,l,c){if(i(n.elm)&&i(l)&&(n=l[c]=vn(n)),n.isRootInsert=!a,!function(n,e,t,o){var a=n.data;if(i(a)){var l=i(n.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(n,!1),i(n.componentInstance))return h(n,e),m(t,n.elm,o),s(l)&&function(n,e,t,o){var a,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,i(a=s.data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ar,s);e.push(s);break}m(t,n.elm,o)}(n,e,t,o),!0}}(n,e,t,o)){var d=n.data,p=n.children,g=n.tag;i(g)?(n.elm=n.ns?u.createElementNS(n.ns,g):u.createElement(g,n),y(n),f(n,p,e),i(d)&&v(n,e),m(t,n.elm,o)):s(n.isComment)?(n.elm=u.createComment(n.text),m(t,n.elm,o)):(n.elm=u.createTextNode(n.text),m(t,n.elm,o))}}function h(n,e){i(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,g(n)?(v(n,e),y(n)):(Er(n),e.push(n))}function m(n,e,t){i(n)&&(i(t)?u.parentNode(t)===n&&u.insertBefore(n,e,t):u.appendChild(n,e))}function f(n,e,t){if(o(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&u.appendChild(n.elm,u.createTextNode(String(n.text)))}function g(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return i(n.tag)}function v(n,t){for(var o=0;o<r.create.length;++o)r.create[o](Ar,n);i(e=n.data.hook)&&(i(e.create)&&e.create(Ar,n),i(e.insert)&&t.push(n))}function y(n){var e;if(i(e=n.fnScopeId))u.setStyleScope(n.elm,e);else for(var t=n;t;)i(e=t.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e),t=t.parent;i(e=Ke)&&e!==n.context&&e!==n.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(n.elm,e)}function x(n,e,t,r,o,a){for(;r<=o;++r)p(t[r],a,n,e,!1,t,r)}function w(n){var e,t,o=n.data;if(i(o))for(i(e=o.hook)&&i(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(i(e=n.children))for(t=0;t<n.children.length;++t)w(n.children[t])}function E(n,e,t){for(;e<=t;++e){var r=n[e];i(r)&&(i(r.tag)?(j(r),w(r)):d(r.elm))}}function j(n,e){if(i(e)||i(n.data)){var t,o=r.remove.length+1;for(i(e)?e.listeners+=o:e=function(n,e){function t(){0==--t.listeners&&d(n)}return t.listeners=e,t}(n.elm,o),i(t=n.componentInstance)&&i(t=t._vnode)&&i(t.data)&&j(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);i(t=n.data.hook)&&i(t=t.remove)?t(n,e):e()}else d(n.elm)}function A(n,e,t,r){for(var o=t;o<r;o++){var a=e[o];if(i(a)&&Cr(n,a))return o}}function T(n,e,t,o,l,c){if(n!==e){i(e.elm)&&i(o)&&(e=o[l]=vn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))i(e.asyncFactory.resolved)?k(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var h,m=e.data;i(m)&&i(h=m.hook)&&i(h=h.prepatch)&&h(n,e);var f=n.children,v=e.children;if(i(m)&&g(e)){for(h=0;h<r.update.length;++h)r.update[h](n,e);i(h=m.hook)&&i(h=h.update)&&h(n,e)}a(e.text)?i(f)&&i(v)?f!==v&&function(n,e,t,r,o){var s,l,c,d=0,h=0,m=e.length-1,f=e[0],g=e[m],v=t.length-1,y=t[0],b=t[v],w=!o;for(0;d<=m&&h<=v;)a(f)?f=e[++d]:a(g)?g=e[--m]:Cr(f,y)?(T(f,y,r,t,h),f=e[++d],y=t[++h]):Cr(g,b)?(T(g,b,r,t,v),g=e[--m],b=t[--v]):Cr(f,b)?(T(f,b,r,t,v),w&&u.insertBefore(n,f.elm,u.nextSibling(g.elm)),f=e[++d],b=t[--v]):Cr(g,y)?(T(g,y,r,t,h),w&&u.insertBefore(n,g.elm,f.elm),g=e[--m],y=t[++h]):(a(s)&&(s=Sr(e,d,m)),a(l=i(y.key)?s[y.key]:A(y,e,d,m))?p(y,r,n,f.elm,!1,t,h):Cr(c=e[l],y)?(T(c,y,r,t,h),e[l]=void 0,w&&u.insertBefore(n,c.elm,f.elm)):p(y,r,n,f.elm,!1,t,h),y=t[++h]);d>m?x(n,a(t[v+1])?null:t[v+1].elm,t,h,v,r):h>v&&E(e,d,m)}(d,f,v,t,c):i(v)?(i(n.text)&&u.setTextContent(d,""),x(d,null,v,0,v.length-1,t)):i(f)?E(f,0,f.length-1):i(n.text)&&u.setTextContent(d,""):n.text!==e.text&&u.setTextContent(d,e.text),i(m)&&i(h=m.hook)&&i(h=h.postpatch)&&h(n,e)}}}function C(n,e,t){if(s(t)&&i(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var S=b("attrs,class,staticClass,staticStyle,key");function k(n,e,t,r){var o,a=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(l)&&(i(o=l.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return h(e,t),!0;if(i(a)){if(i(c))if(n.hasChildNodes())if(i(o=l)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==n.innerHTML)return!1}else{for(var u=!0,d=n.firstChild,p=0;p<c.length;p++){if(!d||!k(d,c[p],t,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else f(e,c,t);if(i(l)){var m=!1;for(var g in l)if(!S(g)){m=!0,v(e,t);break}!m&&l.class&&$e(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,o){if(!a(e)){var l,c=!1,d=[];if(a(n))c=!0,p(e,d);else{var h=i(n.nodeType);if(!h&&Cr(n,e))T(n,e,d,null,null,o);else{if(h){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&k(n,e,d))return C(e,d,!0),n;l=n,n=new mn(u.tagName(l).toLowerCase(),{},[],void 0,l)}var m=n.elm,f=u.parentNode(m);if(p(e,d,m._leaveCb?null:f,u.nextSibling(m)),i(e.parent))for(var v=e.parent,y=g(e);v;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](v);if(v.elm=e.elm,y){for(var x=0;x<r.create.length;++x)r.create[x](Ar,v);var j=v.data.hook.insert;if(j.merged)for(var A=j.fns.slice(1),S=0;S<A.length;S++)A[S]()}else Er(v);v=v.parent}i(f)?E([n],0,0):i(n.tag)&&w(n)}}return C(e,d,c),e.elm}i(n)&&w(n)}}({nodeOps:xr,modules:[Lr,qr,Qr,Kr,lo,J?{create:Io,activate:Io,remove:function(n,e){!0!==n.data.show?Po(n,e):e()}}:{}].concat(Or)});Z&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&No(n,"input")}));var Ro={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Qn(t,"postpatch",(function(){Ro.componentUpdated(n,e,t)})):Mo(n,e,t.context),n._vOptions=[].map.call(n.options,Fo)):("textarea"===t.tag||br(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Ho),n.addEventListener("compositionend",qo),n.addEventListener("change",qo),Z&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Mo(n,e,t.context);var r=n._vOptions,o=n._vOptions=[].map.call(n.options,Fo);if(o.some((function(n,e){return!z(n,r[e])})))(n.multiple?e.value.some((function(n){return Lo(n,o)})):e.value!==e.oldValue&&Lo(e.value,o))&&No(n,"change")}}};function Mo(n,e,t){zo(n,e,t),(K||X)&&setTimeout((function(){zo(n,e,t)}),0)}function zo(n,e,t){var r=e.value,o=n.multiple;if(!o||Array.isArray(r)){for(var a,i,s=0,l=n.options.length;s<l;s++)if(i=n.options[s],o)a=L(r,Fo(i))>-1,i.selected!==a&&(i.selected=a);else if(z(Fo(i),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));o||(n.selectedIndex=-1)}}function Lo(n,e){return e.every((function(e){return!z(e,n)}))}function Fo(n){return"_value"in n?n._value:n.value}function Ho(n){n.target.composing=!0}function qo(n){n.target.composing&&(n.target.composing=!1,No(n.target,"input"))}function No(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function $o(n){return!n.componentInstance||n.data&&n.data.transition?n:$o(n.componentInstance._vnode)}var Uo={model:Ro,show:{bind:function(n,e,t){var r=e.value,o=(t=$o(t)).data&&t.data.transition,a=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&o?(t.data.show=!0,_o(t,(function(){n.style.display=a}))):n.style.display=r?a:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=$o(t)).data&&t.data.transition?(t.data.show=!0,r?_o(t,(function(){n.style.display=n.__vOriginalDisplay})):Po(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,o){o||(n.style.display=n.__vOriginalDisplay)}}},Vo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Go(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Go(Te(e.children)):n}function Wo(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var o=t._parentListeners;for(var r in o)e[C(r)]=o[r];return e}function Qo(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Jo=function(n){return n.tag||fe(n)},Yo=function(n){return"show"===n.name},Ko={name:"transition",props:Vo,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Jo)).length){0;var r=this.mode;0;var o=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return o;var a=Go(o);if(!a)return o;if(this._leaving)return Qo(n,o);var i="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?i+"comment":i+a.tag:l(a.key)?0===String(a.key).indexOf(i)?a.key:i+a.key:a.key;var s=(a.data||(a.data={})).transition=Wo(this),c=this._vnode,u=Go(c);if(a.data.directives&&a.data.directives.some(Yo)&&(a.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(a,u)&&!fe(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=B({},s);if("out-in"===r)return this._leaving=!0,Qn(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Qo(n,o);if("in-out"===r){if(fe(a))return c;var p,h=function(){p()};Qn(s,"afterEnter",h),Qn(s,"enterCancelled",h),Qn(d,"delayLeave",(function(n){p=n}))}}return o}}},Zo=B({tag:String,moveClass:String},Vo);function Xo(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function na(n){n.data.newPos=n.elm.getBoundingClientRect()}function ea(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,o=e.top-t.top;if(r||o){n.data.moved=!0;var a=n.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),a.transitionDuration="0s"}}delete Zo.mode;var ta={Transition:Ko,TransitionGroup:{props:Zo,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var o=Ze(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,o(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],i=Wo(this),s=0;s<o.length;s++){if((u=o[s]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),t[u.key]=u,(u.data||(u.data={})).transition=i;else;}if(r){var l=[],c=[];for(s=0;s<r.length;s++){var u;(u=r[s]).data.transition=i,u.data.pos=u.elm.getBoundingClientRect(),t[u.key]?l.push(u):c.push(u)}this.kept=n(e,null,l),this.removed=c}return n(e,null,a)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Xo),n.forEach(na),n.forEach(ea),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;Eo(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(vo,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(vo,n),t._moveCb=null,jo(t,e))})}})))},methods:{hasMove:function(n,e){if(!fo)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){po(t,n)})),uo(t,e),t.style.display="none",this.$el.appendChild(t);var r=Co(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};Wt.config.mustUseProp=function(n,e,t){return"value"===t&&tr(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Wt.config.isReservedTag=vr,Wt.config.isReservedAttr=er,Wt.config.getTagNamespace=function(n){return gr(n)?"svg":"math"===n?"math":void 0},Wt.config.isUnknownElement=function(n){if(!J)return!0;if(vr(n))return!1;if(n=n.toLowerCase(),null!=yr[n])return yr[n];var e=document.createElement(n);return n.indexOf("-")>-1?yr[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:yr[n]=/HTMLUnknownElement/.test(e.toString())},B(Wt.options.directives,Uo),B(Wt.options.components,ta),Wt.prototype.__patch__=J?Oo:O,Wt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=fn),et(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Ge(n,r,O,{before:function(){n._isMounted&&!n._isDestroyed&&et(n,"beforeUpdate")}},!0),t=!1;var o=n._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==n.$vnode&&(n._isMounted=!0,et(n,"mounted")),n}(this,n=n&&J?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},J&&setTimeout((function(){$.devtools&&ln&&ln.emit("init",Wt)}),0)},function(n,e,t){"use strict";function r(n,e,t,r,o,a,i,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),i?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(n,e){return l.call(e),u(n,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){var r;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(e,t){"use strict";"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(e)}("undefined"!=typeof window?window:this,(function(t,o){"use strict";var a=[],i=Object.getPrototypeOf,s=a.slice,l=a.flat?function(n){return a.flat.call(n)}:function(n){return a.concat.apply([],n)},c=a.push,u=a.indexOf,d={},p=d.toString,h=d.hasOwnProperty,m=h.toString,f=m.call(Object),g={},v=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType&&"function"!=typeof n.item},y=function(n){return null!=n&&n===n.window},b=t.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(n,e,t){var r,o,a=(t=t||b).createElement("script");if(a.text=n,e)for(r in x)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&a.setAttribute(r,o);t.head.appendChild(a).parentNode.removeChild(a)}function E(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?d[p.call(n)]||"object":typeof n}var j=/HTML$/i,A=function(n,e){return new A.fn.init(n,e)};function T(n){var e=!!n&&"length"in n&&n.length,t=E(n);return!v(n)&&!y(n)&&("array"===t||0===e||"number"==typeof e&&e>0&&e-1 in n)}function C(n,e){return n.nodeName&&n.nodeName.toLowerCase()===e.toLowerCase()}A.fn=A.prototype={jquery:"3.7.1",constructor:A,length:0,toArray:function(){return s.call(this)},get:function(n){return null==n?s.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var e=A.merge(this.constructor(),n);return e.prevObject=this,e},each:function(n){return A.each(this,n)},map:function(n){return this.pushStack(A.map(this,(function(e,t){return n.call(e,t,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,(function(n,e){return(e+1)%2})))},odd:function(){return this.pushStack(A.grep(this,(function(n,e){return e%2})))},eq:function(n){var e=this.length,t=+n+(n<0?e:0);return this.pushStack(t>=0&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},A.extend=A.fn.extend=function(){var n,e,t,r,o,a,i=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[s]||{},s++),"object"==typeof i||v(i)||(i={}),s===l&&(i=this,s--);s<l;s++)if(null!=(n=arguments[s]))for(e in n)r=n[e],"__proto__"!==e&&i!==r&&(c&&r&&(A.isPlainObject(r)||(o=Array.isArray(r)))?(t=i[e],a=o&&!Array.isArray(t)?[]:o||A.isPlainObject(t)?t:{},o=!1,i[e]=A.extend(c,a,r)):void 0!==r&&(i[e]=r));return i},A.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n)},noop:function(){},isPlainObject:function(n){var e,t;return!(!n||"[object Object]"!==p.call(n))&&(!(e=i(n))||"function"==typeof(t=h.call(e,"constructor")&&e.constructor)&&m.call(t)===f)},isEmptyObject:function(n){var e;for(e in n)return!1;return!0},globalEval:function(n,e,t){w(n,{nonce:e&&e.nonce},t)},each:function(n,e){var t,r=0;if(T(n))for(t=n.length;r<t&&!1!==e.call(n[r],r,n[r]);r++);else for(r in n)if(!1===e.call(n[r],r,n[r]))break;return n},text:function(n){var e,t="",r=0,o=n.nodeType;if(!o)for(;e=n[r++];)t+=A.text(e);return 1===o||11===o?n.textContent:9===o?n.documentElement.textContent:3===o||4===o?n.nodeValue:t},makeArray:function(n,e){var t=e||[];return null!=n&&(T(Object(n))?A.merge(t,"string"==typeof n?[n]:n):c.call(t,n)),t},inArray:function(n,e,t){return null==e?-1:u.call(e,n,t)},isXMLDoc:function(n){var e=n&&n.namespaceURI,t=n&&(n.ownerDocument||n).documentElement;return!j.test(e||t&&t.nodeName||"HTML")},merge:function(n,e){for(var t=+e.length,r=0,o=n.length;r<t;r++)n[o++]=e[r];return n.length=o,n},grep:function(n,e,t){for(var r=[],o=0,a=n.length,i=!t;o<a;o++)!e(n[o],o)!==i&&r.push(n[o]);return r},map:function(n,e,t){var r,o,a=0,i=[];if(T(n))for(r=n.length;a<r;a++)null!=(o=e(n[a],a,t))&&i.push(o);else for(a in n)null!=(o=e(n[a],a,t))&&i.push(o);return l(i)},guid:1,support:g}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=a[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(n,e){d["[object "+e+"]"]=e.toLowerCase()}));var S=a.pop,k=a.sort,_=a.splice,P="[\\x20\\t\\r\\n\\f]",D=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g");A.contains=function(n,e){var t=e&&e.parentNode;return n===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):n.compareDocumentPosition&&16&n.compareDocumentPosition(t)))};var B=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(n,e){return e?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n}A.escapeSelector=function(n){return(n+"").replace(B,I)};var O=b,R=c;!function(){var n,e,r,o,i,l,c,d,p,m,f=R,v=A.expando,y=0,b=0,x=nn(),w=nn(),E=nn(),j=nn(),T=function(n,e){return n===e&&(i=!0),0},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",M="\\["+P+"*("+I+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+P+"*\\]",z=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",L=new RegExp(P+"+","g"),F=new RegExp("^"+P+"*,"+P+"*"),H=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),q=new RegExp(P+"|>"),N=new RegExp(z),$=new RegExp("^"+I+"$"),U={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),Y=function(n,e){var t="0x"+n.slice(1)-65536;return e||(t<0?String.fromCharCode(t+65536):String.fromCharCode(t>>10|55296,1023&t|56320))},K=function(){cn()},Z=hn((function(n){return!0===n.disabled&&C(n,"fieldset")}),{dir:"parentNode",next:"legend"});try{f.apply(a=s.call(O.childNodes),O.childNodes),a[O.childNodes.length].nodeType}catch(n){f={apply:function(n,e){R.apply(n,s.call(e))},call:function(n){R.apply(n,s.call(arguments,1))}}}function X(n,e,t,r){var o,a,i,s,c,u,h,m=e&&e.ownerDocument,y=e?e.nodeType:9;if(t=t||[],"string"!=typeof n||!n||1!==y&&9!==y&&11!==y)return t;if(!r&&(cn(e),e=e||l,d)){if(11!==y&&(c=W.exec(n)))if(o=c[1]){if(9===y){if(!(i=e.getElementById(o)))return t;if(i.id===o)return f.call(t,i),t}else if(m&&(i=m.getElementById(o))&&X.contains(e,i)&&i.id===o)return f.call(t,i),t}else{if(c[2])return f.apply(t,e.getElementsByTagName(n)),t;if((o=c[3])&&e.getElementsByClassName)return f.apply(t,e.getElementsByClassName(o)),t}if(!(j[n+" "]||p&&p.test(n))){if(h=n,m=e,1===y&&(q.test(n)||H.test(n))){for((m=Q.test(n)&&ln(e.parentNode)||e)==e&&g.scope||((s=e.getAttribute("id"))?s=A.escapeSelector(s):e.setAttribute("id",s=v)),a=(u=dn(n)).length;a--;)u[a]=(s?"#"+s:":scope")+" "+pn(u[a]);h=u.join(",")}try{return f.apply(t,m.querySelectorAll(h)),t}catch(e){j(n,!0)}finally{s===v&&e.removeAttribute("id")}}}return bn(n.replace(D,"$1"),e,t,r)}function nn(){var n=[];return function t(r,o){return n.push(r+" ")>e.cacheLength&&delete t[n.shift()],t[r+" "]=o}}function en(n){return n[v]=!0,n}function tn(n){var e=l.createElement("fieldset");try{return!!n(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rn(n){return function(e){return C(e,"input")&&e.type===n}}function on(n){return function(e){return(C(e,"input")||C(e,"button"))&&e.type===n}}function an(n){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===n:e.disabled===n:e.isDisabled===n||e.isDisabled!==!n&&Z(e)===n:e.disabled===n:"label"in e&&e.disabled===n}}function sn(n){return en((function(e){return e=+e,en((function(t,r){for(var o,a=n([],t.length,e),i=a.length;i--;)t[o=a[i]]&&(t[o]=!(r[o]=t[o]))}))}))}function ln(n){return n&&void 0!==n.getElementsByTagName&&n}function cn(n){var t,r=n?n.ownerDocument||n:O;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,d=!A.isXMLDoc(l),m=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&O!=l&&(t=l.defaultView)&&t.top!==t&&t.addEventListener("unload",K),g.getById=tn((function(n){return c.appendChild(n).id=A.expando,!l.getElementsByName||!l.getElementsByName(A.expando).length})),g.disconnectedMatch=tn((function(n){return m.call(n,"*")})),g.scope=tn((function(){return l.querySelectorAll(":scope")})),g.cssHas=tn((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(n){return!0}})),g.getById?(e.filter.ID=function(n){var e=n.replace(J,Y);return function(n){return n.getAttribute("id")===e}},e.find.ID=function(n,e){if(void 0!==e.getElementById&&d){var t=e.getElementById(n);return t?[t]:[]}}):(e.filter.ID=function(n){var e=n.replace(J,Y);return function(n){var t=void 0!==n.getAttributeNode&&n.getAttributeNode("id");return t&&t.value===e}},e.find.ID=function(n,e){if(void 0!==e.getElementById&&d){var t,r,o,a=e.getElementById(n);if(a){if((t=a.getAttributeNode("id"))&&t.value===n)return[a];for(o=e.getElementsByName(n),r=0;a=o[r++];)if((t=a.getAttributeNode("id"))&&t.value===n)return[a]}return[]}}),e.find.TAG=function(n,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(n):e.querySelectorAll(n)},e.find.CLASS=function(n,e){if(void 0!==e.getElementsByClassName&&d)return e.getElementsByClassName(n)},p=[],tn((function(n){var e;c.appendChild(n).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",n.querySelectorAll("[selected]").length||p.push("\\["+P+"*(?:value|"+B+")"),n.querySelectorAll("[id~="+v+"-]").length||p.push("~="),n.querySelectorAll("a#"+v+"+*").length||p.push(".#.+[+~]"),n.querySelectorAll(":checked").length||p.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),n.appendChild(e).setAttribute("name","D"),c.appendChild(n).disabled=!0,2!==n.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),n.appendChild(e),n.querySelectorAll("[name='']").length||p.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")")})),g.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),T=function(n,e){if(n===e)return i=!0,0;var t=!n.compareDocumentPosition-!e.compareDocumentPosition;return t||(1&(t=(n.ownerDocument||n)==(e.ownerDocument||e)?n.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(n)===t?n===l||n.ownerDocument==O&&X.contains(O,n)?-1:e===l||e.ownerDocument==O&&X.contains(O,e)?1:o?u.call(o,n)-u.call(o,e):0:4&t?-1:1)},l):l}for(n in X.matches=function(n,e){return X(n,null,null,e)},X.matchesSelector=function(n,e){if(cn(n),d&&!j[e+" "]&&(!p||!p.test(e)))try{var t=m.call(n,e);if(t||g.disconnectedMatch||n.document&&11!==n.document.nodeType)return t}catch(n){j(e,!0)}return X(e,l,null,[n]).length>0},X.contains=function(n,e){return(n.ownerDocument||n)!=l&&cn(n),A.contains(n,e)},X.attr=function(n,t){(n.ownerDocument||n)!=l&&cn(n);var r=e.attrHandle[t.toLowerCase()],o=r&&h.call(e.attrHandle,t.toLowerCase())?r(n,t,!d):void 0;return void 0!==o?o:n.getAttribute(t)},X.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n)},A.uniqueSort=function(n){var e,t=[],r=0,a=0;if(i=!g.sortStable,o=!g.sortStable&&s.call(n,0),k.call(n,T),i){for(;e=n[a++];)e===n[a]&&(r=t.push(a));for(;r--;)_.call(n,t[r],1)}return o=null,n},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(s.apply(this)))},(e=A.expr={cacheLength:50,createPseudo:en,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(J,Y),n[3]=(n[3]||n[4]||n[5]||"").replace(J,Y),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||X.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&X.error(n[0]),n},PSEUDO:function(n){var e,t=!n[6]&&n[2];return U.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&N.test(t)&&(e=dn(t,!0))&&(e=t.indexOf(")",t.length-e)-t.length)&&(n[0]=n[0].slice(0,e),n[2]=t.slice(0,e)),n.slice(0,3))}},filter:{TAG:function(n){var e=n.replace(J,Y).toLowerCase();return"*"===n?function(){return!0}:function(n){return C(n,e)}},CLASS:function(n){var e=x[n+" "];return e||(e=new RegExp("(^|"+P+")"+n+"("+P+"|$)"))&&x(n,(function(n){return e.test("string"==typeof n.className&&n.className||void 0!==n.getAttribute&&n.getAttribute("class")||"")}))},ATTR:function(n,e,t){return function(r){var o=X.attr(r,n);return null==o?"!="===e:!e||(o+="","="===e?o===t:"!="===e?o!==t:"^="===e?t&&0===o.indexOf(t):"*="===e?t&&o.indexOf(t)>-1:"$="===e?t&&o.slice(-t.length)===t:"~="===e?(" "+o.replace(L," ")+" ").indexOf(t)>-1:"|="===e&&(o===t||o.slice(0,t.length+1)===t+"-"))}},CHILD:function(n,e,t,r,o){var a="nth"!==n.slice(0,3),i="last"!==n.slice(-4),s="of-type"===e;return 1===r&&0===o?function(n){return!!n.parentNode}:function(e,t,l){var c,u,d,p,h,m=a!==i?"nextSibling":"previousSibling",f=e.parentNode,g=s&&e.nodeName.toLowerCase(),b=!l&&!s,x=!1;if(f){if(a){for(;m;){for(d=e;d=d[m];)if(s?C(d,g):1===d.nodeType)return!1;h=m="only"===n&&!h&&"nextSibling"}return!0}if(h=[i?f.firstChild:f.lastChild],i&&b){for(x=(p=(c=(u=f[v]||(f[v]={}))[n]||[])[0]===y&&c[1])&&c[2],d=p&&f.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===e){u[n]=[y,p,x];break}}else if(b&&(x=p=(c=(u=e[v]||(e[v]={}))[n]||[])[0]===y&&c[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||h.pop())&&(!(s?C(d,g):1===d.nodeType)||!++x||(b&&((u=d[v]||(d[v]={}))[n]=[y,x]),d!==e)););return(x-=o)===r||x%r==0&&x/r>=0}}},PSEUDO:function(n,t){var r,o=e.pseudos[n]||e.setFilters[n.toLowerCase()]||X.error("unsupported pseudo: "+n);return o[v]?o(t):o.length>1?(r=[n,n,"",t],e.setFilters.hasOwnProperty(n.toLowerCase())?en((function(n,e){for(var r,a=o(n,t),i=a.length;i--;)n[r=u.call(n,a[i])]=!(e[r]=a[i])})):function(n){return o(n,0,r)}):o}},pseudos:{not:en((function(n){var e=[],t=[],r=yn(n.replace(D,"$1"));return r[v]?en((function(n,e,t,o){for(var a,i=r(n,null,o,[]),s=n.length;s--;)(a=i[s])&&(n[s]=!(e[s]=a))})):function(n,o,a){return e[0]=n,r(e,null,a,t),e[0]=null,!t.pop()}})),has:en((function(n){return function(e){return X(n,e).length>0}})),contains:en((function(n){return n=n.replace(J,Y),function(e){return(e.textContent||A.text(e)).indexOf(n)>-1}})),lang:en((function(n){return $.test(n||"")||X.error("unsupported lang: "+n),n=n.replace(J,Y).toLowerCase(),function(e){var t;do{if(t=d?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(n){var e=t.location&&t.location.hash;return e&&e.slice(1)===n.id},root:function(n){return n===c},focus:function(n){return n===function(){try{return l.activeElement}catch(n){}}()&&l.hasFocus()&&!!(n.type||n.href||~n.tabIndex)},enabled:an(!1),disabled:an(!0),checked:function(n){return C(n,"input")&&!!n.checked||C(n,"option")&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!e.pseudos.empty(n)},header:function(n){return G.test(n.nodeName)},input:function(n){return V.test(n.nodeName)},button:function(n){return C(n,"input")&&"button"===n.type||C(n,"button")},text:function(n){var e;return C(n,"input")&&"text"===n.type&&(null==(e=n.getAttribute("type"))||"text"===e.toLowerCase())},first:sn((function(){return[0]})),last:sn((function(n,e){return[e-1]})),eq:sn((function(n,e,t){return[t<0?t+e:t]})),even:sn((function(n,e){for(var t=0;t<e;t+=2)n.push(t);return n})),odd:sn((function(n,e){for(var t=1;t<e;t+=2)n.push(t);return n})),lt:sn((function(n,e,t){var r;for(r=t<0?t+e:t>e?e:t;--r>=0;)n.push(r);return n})),gt:sn((function(n,e,t){for(var r=t<0?t+e:t;++r<e;)n.push(r);return n}))}}).pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[n]=rn(n);for(n in{submit:!0,reset:!0})e.pseudos[n]=on(n);function un(){}function dn(n,t){var r,o,a,i,s,l,c,u=w[n+" "];if(u)return t?0:u.slice(0);for(s=n,l=[],c=e.preFilter;s;){for(i in r&&!(o=F.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),r=!1,(o=H.exec(s))&&(r=o.shift(),a.push({value:r,type:o[0].replace(D," ")}),s=s.slice(r.length)),e.filter)!(o=U[i].exec(s))||c[i]&&!(o=c[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),s=s.slice(r.length));if(!r)break}return t?s.length:s?X.error(n):w(n,l).slice(0)}function pn(n){for(var e=0,t=n.length,r="";e<t;e++)r+=n[e].value;return r}function hn(n,e,t){var r=e.dir,o=e.next,a=o||r,i=t&&"parentNode"===a,s=b++;return e.first?function(e,t,o){for(;e=e[r];)if(1===e.nodeType||i)return n(e,t,o);return!1}:function(e,t,l){var c,u,d=[y,s];if(l){for(;e=e[r];)if((1===e.nodeType||i)&&n(e,t,l))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(u=e[v]||(e[v]={}),o&&C(e,o))e=e[r]||e;else{if((c=u[a])&&c[0]===y&&c[1]===s)return d[2]=c[2];if(u[a]=d,d[2]=n(e,t,l))return!0}return!1}}function mn(n){return n.length>1?function(e,t,r){for(var o=n.length;o--;)if(!n[o](e,t,r))return!1;return!0}:n[0]}function fn(n,e,t,r,o){for(var a,i=[],s=0,l=n.length,c=null!=e;s<l;s++)(a=n[s])&&(t&&!t(a,r,o)||(i.push(a),c&&e.push(s)));return i}function gn(n,e,t,r,o,a){return r&&!r[v]&&(r=gn(r)),o&&!o[v]&&(o=gn(o,a)),en((function(a,i,s,l){var c,d,p,h,m=[],g=[],v=i.length,y=a||function(n,e,t){for(var r=0,o=e.length;r<o;r++)X(n,e[r],t);return t}(e||"*",s.nodeType?[s]:s,[]),b=!n||!a&&e?y:fn(y,m,n,s,l);if(t?t(b,h=o||(a?n:v||r)?[]:i,s,l):h=b,r)for(c=fn(h,g),r(c,[],s,l),d=c.length;d--;)(p=c[d])&&(h[g[d]]=!(b[g[d]]=p));if(a){if(o||n){if(o){for(c=[],d=h.length;d--;)(p=h[d])&&c.push(b[d]=p);o(null,h=[],c,l)}for(d=h.length;d--;)(p=h[d])&&(c=o?u.call(a,p):m[d])>-1&&(a[c]=!(i[c]=p))}}else h=fn(h===i?h.splice(v,h.length):h),o?o(null,i,h,l):f.apply(i,h)}))}function vn(n){for(var t,o,a,i=n.length,s=e.relative[n[0].type],l=s||e.relative[" "],c=s?1:0,d=hn((function(n){return n===t}),l,!0),p=hn((function(n){return u.call(t,n)>-1}),l,!0),h=[function(n,e,o){var a=!s&&(o||e!=r)||((t=e).nodeType?d(n,e,o):p(n,e,o));return t=null,a}];c<i;c++)if(o=e.relative[n[c].type])h=[hn(mn(h),o)];else{if((o=e.filter[n[c].type].apply(null,n[c].matches))[v]){for(a=++c;a<i&&!e.relative[n[a].type];a++);return gn(c>1&&mn(h),c>1&&pn(n.slice(0,c-1).concat({value:" "===n[c-2].type?"*":""})).replace(D,"$1"),o,c<a&&vn(n.slice(c,a)),a<i&&vn(n=n.slice(a)),a<i&&pn(n))}h.push(o)}return mn(h)}function yn(n,t){var o,a=[],i=[],s=E[n+" "];if(!s){for(t||(t=dn(n)),o=t.length;o--;)(s=vn(t[o]))[v]?a.push(s):i.push(s);(s=E(n,function(n,t){var o=t.length>0,a=n.length>0,i=function(i,s,c,u,p){var h,m,g,v=0,b="0",x=i&&[],w=[],E=r,j=i||a&&e.find.TAG("*",p),T=y+=null==E?1:Math.random()||.1,C=j.length;for(p&&(r=s==l||s||p);b!==C&&null!=(h=j[b]);b++){if(a&&h){for(m=0,s||h.ownerDocument==l||(cn(h),c=!d);g=n[m++];)if(g(h,s||l,c)){f.call(u,h);break}p&&(y=T)}o&&((h=!g&&h)&&v--,i&&x.push(h))}if(v+=b,o&&b!==v){for(m=0;g=t[m++];)g(x,w,s,c);if(i){if(v>0)for(;b--;)x[b]||w[b]||(w[b]=S.call(u));w=fn(w)}f.apply(u,w),p&&!i&&w.length>0&&v+t.length>1&&A.uniqueSort(u)}return p&&(y=T,r=E),x};return o?en(i):i}(i,a))).selector=n}return s}function bn(n,t,r,o){var a,i,s,l,c,u="function"==typeof n&&n,p=!o&&dn(n=u.selector||n);if(r=r||[],1===p.length){if((i=p[0]=p[0].slice(0)).length>2&&"ID"===(s=i[0]).type&&9===t.nodeType&&d&&e.relative[i[1].type]){if(!(t=(e.find.ID(s.matches[0].replace(J,Y),t)||[])[0]))return r;u&&(t=t.parentNode),n=n.slice(i.shift().value.length)}for(a=U.needsContext.test(n)?0:i.length;a--&&(s=i[a],!e.relative[l=s.type]);)if((c=e.find[l])&&(o=c(s.matches[0].replace(J,Y),Q.test(i[0].type)&&ln(t.parentNode)||t))){if(i.splice(a,1),!(n=o.length&&pn(i)))return f.apply(r,o),r;break}}return(u||yn(n,p))(o,t,!d,r,!t||Q.test(n)&&ln(t.parentNode)||t),r}un.prototype=e.filters=e.pseudos,e.setFilters=new un,g.sortStable=v.split("").sort(T).join("")===v,cn(),g.sortDetached=tn((function(n){return 1&n.compareDocumentPosition(l.createElement("fieldset"))})),A.find=X,A.expr[":"]=A.expr.pseudos,A.unique=A.uniqueSort,X.compile=yn,X.select=bn,X.setDocument=cn,X.tokenize=dn,X.escape=A.escapeSelector,X.getText=A.text,X.isXML=A.isXMLDoc,X.selectors=A.expr,X.support=A.support,X.uniqueSort=A.uniqueSort}();var M=function(n,e,t){for(var r=[],o=void 0!==t;(n=n[e])&&9!==n.nodeType;)if(1===n.nodeType){if(o&&A(n).is(t))break;r.push(n)}return r},z=function(n,e){for(var t=[];n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t},L=A.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function H(n,e,t){return v(e)?A.grep(n,(function(n,r){return!!e.call(n,r,n)!==t})):e.nodeType?A.grep(n,(function(n){return n===e!==t})):"string"!=typeof e?A.grep(n,(function(n){return u.call(e,n)>-1!==t})):A.filter(e,n,t)}A.filter=function(n,e,t){var r=e[0];return t&&(n=":not("+n+")"),1===e.length&&1===r.nodeType?A.find.matchesSelector(r,n)?[r]:[]:A.find.matches(n,A.grep(e,(function(n){return 1===n.nodeType})))},A.fn.extend({find:function(n){var e,t,r=this.length,o=this;if("string"!=typeof n)return this.pushStack(A(n).filter((function(){for(e=0;e<r;e++)if(A.contains(o[e],this))return!0})));for(t=this.pushStack([]),e=0;e<r;e++)A.find(n,o[e],t);return r>1?A.uniqueSort(t):t},filter:function(n){return this.pushStack(H(this,n||[],!1))},not:function(n){return this.pushStack(H(this,n||[],!0))},is:function(n){return!!H(this,"string"==typeof n&&L.test(n)?A(n):n||[],!1).length}});var q,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(n,e,t){var r,o;if(!n)return this;if(t=t||q,"string"==typeof n){if(!(r="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:N.exec(n))||!r[1]&&e)return!e||e.jquery?(e||t).find(n):this.constructor(e).find(n);if(r[1]){if(e=e instanceof A?e[0]:e,A.merge(this,A.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),F.test(r[1])&&A.isPlainObject(e))for(r in e)v(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):v(n)?void 0!==t.ready?t.ready(n):n(A):A.makeArray(n,this)}).prototype=A.fn,q=A(b);var $=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function V(n,e){for(;(n=n[e])&&1!==n.nodeType;);return n}A.fn.extend({has:function(n){var e=A(n,this),t=e.length;return this.filter((function(){for(var n=0;n<t;n++)if(A.contains(this,e[n]))return!0}))},closest:function(n,e){var t,r=0,o=this.length,a=[],i="string"!=typeof n&&A(n);if(!L.test(n))for(;r<o;r++)for(t=this[r];t&&t!==e;t=t.parentNode)if(t.nodeType<11&&(i?i.index(t)>-1:1===t.nodeType&&A.find.matchesSelector(t,n))){a.push(t);break}return this.pushStack(a.length>1?A.uniqueSort(a):a)},index:function(n){return n?"string"==typeof n?u.call(A(n),this[0]):u.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,e){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(n,e))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}}),A.each({parent:function(n){var e=n.parentNode;return e&&11!==e.nodeType?e:null},parents:function(n){return M(n,"parentNode")},parentsUntil:function(n,e,t){return M(n,"parentNode",t)},next:function(n){return V(n,"nextSibling")},prev:function(n){return V(n,"previousSibling")},nextAll:function(n){return M(n,"nextSibling")},prevAll:function(n){return M(n,"previousSibling")},nextUntil:function(n,e,t){return M(n,"nextSibling",t)},prevUntil:function(n,e,t){return M(n,"previousSibling",t)},siblings:function(n){return z((n.parentNode||{}).firstChild,n)},children:function(n){return z(n.firstChild)},contents:function(n){return null!=n.contentDocument&&i(n.contentDocument)?n.contentDocument:(C(n,"template")&&(n=n.content||n),A.merge([],n.childNodes))}},(function(n,e){A.fn[n]=function(t,r){var o=A.map(this,e,t);return"Until"!==n.slice(-5)&&(r=t),r&&"string"==typeof r&&(o=A.filter(r,o)),this.length>1&&(U[n]||A.uniqueSort(o),$.test(n)&&o.reverse()),this.pushStack(o)}}));var G=/[^\x20\t\r\n\f]+/g;function W(n){return n}function Q(n){throw n}function J(n,e,t,r){var o;try{n&&v(o=n.promise)?o.call(n).done(e).fail(t):n&&v(o=n.then)?o.call(n,e,t):e.apply(void 0,[n].slice(r))}catch(n){t.apply(void 0,[n])}}A.Callbacks=function(n){n="string"==typeof n?function(n){var e={};return A.each(n.match(G)||[],(function(n,t){e[t]=!0})),e}(n):A.extend({},n);var e,t,r,o,a=[],i=[],s=-1,l=function(){for(o=o||n.once,r=e=!0;i.length;s=-1)for(t=i.shift();++s<a.length;)!1===a[s].apply(t[0],t[1])&&n.stopOnFalse&&(s=a.length,t=!1);n.memory||(t=!1),e=!1,o&&(a=t?[]:"")},c={add:function(){return a&&(t&&!e&&(s=a.length-1,i.push(t)),function e(t){A.each(t,(function(t,r){v(r)?n.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==E(r)&&e(r)}))}(arguments),t&&!e&&l()),this},remove:function(){return A.each(arguments,(function(n,e){for(var t;(t=A.inArray(e,a,t))>-1;)a.splice(t,1),t<=s&&s--})),this},has:function(n){return n?A.inArray(n,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=i=[],a=t="",this},disabled:function(){return!a},lock:function(){return o=i=[],t||e||(a=t=""),this},locked:function(){return!!o},fireWith:function(n,t){return o||(t=[n,(t=t||[]).slice?t.slice():t],i.push(t),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},A.extend({Deferred:function(n){var e=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(n){return o.then(null,n)},pipe:function(){var n=arguments;return A.Deferred((function(t){A.each(e,(function(e,r){var o=v(n[r[4]])&&n[r[4]];a[r[1]]((function(){var n=o&&o.apply(this,arguments);n&&v(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[n]:arguments)}))})),n=null})).promise()},then:function(n,r,o){var a=0;function i(n,e,r,o){return function(){var s=this,l=arguments,c=function(){var t,c;if(!(n<a)){if((t=r.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,v(c)?o?c.call(t,i(a,e,W,o),i(a,e,Q,o)):(a++,c.call(t,i(a,e,W,o),i(a,e,Q,o),i(a,e,W,e.notifyWith))):(r!==W&&(s=void 0,l=[t]),(o||e.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(t){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(t,u.error),n+1>=a&&(r!==Q&&(s=void 0,l=[t]),e.rejectWith(s,l))}};n?u():(A.Deferred.getErrorHook?u.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(u.error=A.Deferred.getStackHook()),t.setTimeout(u))}}return A.Deferred((function(t){e[0][3].add(i(0,t,v(o)?o:W,t.notifyWith)),e[1][3].add(i(0,t,v(n)?n:W)),e[2][3].add(i(0,t,v(r)?r:Q))})).promise()},promise:function(n){return null!=n?A.extend(n,o):o}},a={};return A.each(e,(function(n,t){var i=t[2],s=t[5];o[t[1]]=i.add,s&&i.add((function(){r=s}),e[3-n][2].disable,e[3-n][3].disable,e[0][2].lock,e[0][3].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=i.fireWith})),o.promise(a),n&&n.call(a,a),a},when:function(n){var e=arguments.length,t=e,r=Array(t),o=s.call(arguments),a=A.Deferred(),i=function(n){return function(t){r[n]=this,o[n]=arguments.length>1?s.call(arguments):t,--e||a.resolveWith(r,o)}};if(e<=1&&(J(n,a.done(i(t)).resolve,a.reject,!e),"pending"===a.state()||v(o[t]&&o[t].then)))return a.then();for(;t--;)J(o[t],i(t),a.reject);return a.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(n,e){t.console&&t.console.warn&&n&&Y.test(n.name)&&t.console.warn("jQuery.Deferred exception: "+n.message,n.stack,e)},A.readyException=function(n){t.setTimeout((function(){throw n}))};var K=A.Deferred();function Z(){b.removeEventListener("DOMContentLoaded",Z),t.removeEventListener("load",Z),A.ready()}A.fn.ready=function(n){return K.then(n).catch((function(n){A.readyException(n)})),this},A.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--A.readyWait:A.isReady)||(A.isReady=!0,!0!==n&&--A.readyWait>0||K.resolveWith(b,[A]))}}),A.ready.then=K.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?t.setTimeout(A.ready):(b.addEventListener("DOMContentLoaded",Z),t.addEventListener("load",Z));var X=function(n,e,t,r,o,a,i){var s=0,l=n.length,c=null==t;if("object"===E(t))for(s in o=!0,t)X(n,e,s,t[s],!0,a,i);else if(void 0!==r&&(o=!0,v(r)||(i=!0),c&&(i?(e.call(n,r),e=null):(c=e,e=function(n,e,t){return c.call(A(n),t)})),e))for(;s<l;s++)e(n[s],t,i?r:r.call(n[s],s,e(n[s],t)));return o?n:c?e.call(n):l?e(n[0],t):a},nn=/^-ms-/,en=/-([a-z])/g;function tn(n,e){return e.toUpperCase()}function rn(n){return n.replace(nn,"ms-").replace(en,tn)}var on=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};function an(){this.expando=A.expando+an.uid++}an.uid=1,an.prototype={cache:function(n){var e=n[this.expando];return e||(e={},on(n)&&(n.nodeType?n[this.expando]=e:Object.defineProperty(n,this.expando,{value:e,configurable:!0}))),e},set:function(n,e,t){var r,o=this.cache(n);if("string"==typeof e)o[rn(e)]=t;else for(r in e)o[rn(r)]=e[r];return o},get:function(n,e){return void 0===e?this.cache(n):n[this.expando]&&n[this.expando][rn(e)]},access:function(n,e,t){return void 0===e||e&&"string"==typeof e&&void 0===t?this.get(n,e):(this.set(n,e,t),void 0!==t?t:e)},remove:function(n,e){var t,r=n[this.expando];if(void 0!==r){if(void 0!==e){t=(e=Array.isArray(e)?e.map(rn):(e=rn(e))in r?[e]:e.match(G)||[]).length;for(;t--;)delete r[e[t]]}(void 0===e||A.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var e=n[this.expando];return void 0!==e&&!A.isEmptyObject(e)}};var sn=new an,ln=new an,cn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,un=/[A-Z]/g;function dn(n,e,t){var r;if(void 0===t&&1===n.nodeType)if(r="data-"+e.replace(un,"-$&").toLowerCase(),"string"==typeof(t=n.getAttribute(r))){try{t=function(n){return"true"===n||"false"!==n&&("null"===n?null:n===+n+""?+n:cn.test(n)?JSON.parse(n):n)}(t)}catch(n){}ln.set(n,e,t)}else t=void 0;return t}A.extend({hasData:function(n){return ln.hasData(n)||sn.hasData(n)},data:function(n,e,t){return ln.access(n,e,t)},removeData:function(n,e){ln.remove(n,e)},_data:function(n,e,t){return sn.access(n,e,t)},_removeData:function(n,e){sn.remove(n,e)}}),A.fn.extend({data:function(n,e){var t,r,o,a=this[0],i=a&&a.attributes;if(void 0===n){if(this.length&&(o=ln.get(a),1===a.nodeType&&!sn.get(a,"hasDataAttrs"))){for(t=i.length;t--;)i[t]&&0===(r=i[t].name).indexOf("data-")&&(r=rn(r.slice(5)),dn(a,r,o[r]));sn.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof n?this.each((function(){ln.set(this,n)})):X(this,(function(e){var t;if(a&&void 0===e)return void 0!==(t=ln.get(a,n))||void 0!==(t=dn(a,n))?t:void 0;this.each((function(){ln.set(this,n,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(n){return this.each((function(){ln.remove(this,n)}))}}),A.extend({queue:function(n,e,t){var r;if(n)return e=(e||"fx")+"queue",r=sn.get(n,e),t&&(!r||Array.isArray(t)?r=sn.access(n,e,A.makeArray(t)):r.push(t)),r||[]},dequeue:function(n,e){e=e||"fx";var t=A.queue(n,e),r=t.length,o=t.shift(),a=A._queueHooks(n,e);"inprogress"===o&&(o=t.shift(),r--),o&&("fx"===e&&t.unshift("inprogress"),delete a.stop,o.call(n,(function(){A.dequeue(n,e)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(n,e){var t=e+"queueHooks";return sn.get(n,t)||sn.access(n,t,{empty:A.Callbacks("once memory").add((function(){sn.remove(n,[e+"queue",t])}))})}}),A.fn.extend({queue:function(n,e){var t=2;return"string"!=typeof n&&(e=n,n="fx",t--),arguments.length<t?A.queue(this[0],n):void 0===e?this:this.each((function(){var t=A.queue(this,n,e);A._queueHooks(this,n),"fx"===n&&"inprogress"!==t[0]&&A.dequeue(this,n)}))},dequeue:function(n){return this.each((function(){A.dequeue(this,n)}))},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,e){var t,r=1,o=A.Deferred(),a=this,i=this.length,s=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof n&&(e=n,n=void 0),n=n||"fx";i--;)(t=sn.get(a[i],n+"queueHooks"))&&t.empty&&(r++,t.empty.add(s));return s(),o.promise(e)}});var pn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,hn=new RegExp("^(?:([+-])=|)("+pn+")([a-z%]*)$","i"),mn=["Top","Right","Bottom","Left"],fn=b.documentElement,gn=function(n){return A.contains(n.ownerDocument,n)},vn={composed:!0};fn.getRootNode&&(gn=function(n){return A.contains(n.ownerDocument,n)||n.getRootNode(vn)===n.ownerDocument});var yn=function(n,e){return"none"===(n=e||n).style.display||""===n.style.display&&gn(n)&&"none"===A.css(n,"display")};function bn(n,e,t,r){var o,a,i=20,s=r?function(){return r.cur()}:function(){return A.css(n,e,"")},l=s(),c=t&&t[3]||(A.cssNumber[e]?"":"px"),u=n.nodeType&&(A.cssNumber[e]||"px"!==c&&+l)&&hn.exec(A.css(n,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;i--;)A.style(n,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(i=0),u/=a;u*=2,A.style(n,e,u+c),t=t||[]}return t&&(u=+u||+l||0,o=t[1]?u+(t[1]+1)*t[2]:+t[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var xn={};function wn(n){var e,t=n.ownerDocument,r=n.nodeName,o=xn[r];return o||(e=t.body.appendChild(t.createElement(r)),o=A.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),xn[r]=o,o)}function En(n,e){for(var t,r,o=[],a=0,i=n.length;a<i;a++)(r=n[a]).style&&(t=r.style.display,e?("none"===t&&(o[a]=sn.get(r,"display")||null,o[a]||(r.style.display="")),""===r.style.display&&yn(r)&&(o[a]=wn(r))):"none"!==t&&(o[a]="none",sn.set(r,"display",t)));for(a=0;a<i;a++)null!=o[a]&&(n[a].style.display=o[a]);return n}A.fn.extend({show:function(){return En(this,!0)},hide:function(){return En(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each((function(){yn(this)?A(this).show():A(this).hide()}))}});var jn,An,Tn=/^(?:checkbox|radio)$/i,Cn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i;jn=b.createDocumentFragment().appendChild(b.createElement("div")),(An=b.createElement("input")).setAttribute("type","radio"),An.setAttribute("checked","checked"),An.setAttribute("name","t"),jn.appendChild(An),g.checkClone=jn.cloneNode(!0).cloneNode(!0).lastChild.checked,jn.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!jn.cloneNode(!0).lastChild.defaultValue,jn.innerHTML="<option></option>",g.option=!!jn.lastChild;var kn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _n(n,e){var t;return t=void 0!==n.getElementsByTagName?n.getElementsByTagName(e||"*"):void 0!==n.querySelectorAll?n.querySelectorAll(e||"*"):[],void 0===e||e&&C(n,e)?A.merge([n],t):t}function Pn(n,e){for(var t=0,r=n.length;t<r;t++)sn.set(n[t],"globalEval",!e||sn.get(e[t],"globalEval"))}kn.tbody=kn.tfoot=kn.colgroup=kn.caption=kn.thead,kn.th=kn.td,g.option||(kn.optgroup=kn.option=[1,"<select multiple='multiple'>","</select>"]);var Dn=/<|&#?\w+;/;function Bn(n,e,t,r,o){for(var a,i,s,l,c,u,d=e.createDocumentFragment(),p=[],h=0,m=n.length;h<m;h++)if((a=n[h])||0===a)if("object"===E(a))A.merge(p,a.nodeType?[a]:a);else if(Dn.test(a)){for(i=i||d.appendChild(e.createElement("div")),s=(Cn.exec(a)||["",""])[1].toLowerCase(),l=kn[s]||kn._default,i.innerHTML=l[1]+A.htmlPrefilter(a)+l[2],u=l[0];u--;)i=i.lastChild;A.merge(p,i.childNodes),(i=d.firstChild).textContent=""}else p.push(e.createTextNode(a));for(d.textContent="",h=0;a=p[h++];)if(r&&A.inArray(a,r)>-1)o&&o.push(a);else if(c=gn(a),i=_n(d.appendChild(a),"script"),c&&Pn(i),t)for(u=0;a=i[u++];)Sn.test(a.type||"")&&t.push(a);return d}var In=/^([^.]*)(?:\.(.+)|)/;function On(){return!0}function Rn(){return!1}function Mn(n,e,t,r,o,a){var i,s;if("object"==typeof e){for(s in"string"!=typeof t&&(r=r||t,t=void 0),e)Mn(n,s,t,r,e[s],a);return n}if(null==r&&null==o?(o=t,r=t=void 0):null==o&&("string"==typeof t?(o=r,r=void 0):(o=r,r=t,t=void 0)),!1===o)o=Rn;else if(!o)return n;return 1===a&&(i=o,(o=function(n){return A().off(n),i.apply(this,arguments)}).guid=i.guid||(i.guid=A.guid++)),n.each((function(){A.event.add(this,e,o,r,t)}))}function zn(n,e,t){t?(sn.set(n,e,!1),A.event.add(n,e,{namespace:!1,handler:function(n){var t,r=sn.get(this,e);if(1&n.isTrigger&&this[e]){if(r)(A.event.special[e]||{}).delegateType&&n.stopPropagation();else if(r=s.call(arguments),sn.set(this,e,r),this[e](),t=sn.get(this,e),sn.set(this,e,!1),r!==t)return n.stopImmediatePropagation(),n.preventDefault(),t}else r&&(sn.set(this,e,A.event.trigger(r[0],r.slice(1),this)),n.stopPropagation(),n.isImmediatePropagationStopped=On)}})):void 0===sn.get(n,e)&&A.event.add(n,e,On)}A.event={global:{},add:function(n,e,t,r,o){var a,i,s,l,c,u,d,p,h,m,f,g=sn.get(n);if(on(n))for(t.handler&&(t=(a=t).handler,o=a.selector),o&&A.find.matchesSelector(fn,o),t.guid||(t.guid=A.guid++),(l=g.events)||(l=g.events=Object.create(null)),(i=g.handle)||(i=g.handle=function(e){return void 0!==A&&A.event.triggered!==e.type?A.event.dispatch.apply(n,arguments):void 0}),c=(e=(e||"").match(G)||[""]).length;c--;)h=f=(s=In.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),h&&(d=A.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=A.event.special[h]||{},u=A.extend({type:h,origType:f,data:r,handler:t,guid:t.guid,selector:o,needsContext:o&&A.expr.match.needsContext.test(o),namespace:m.join(".")},a),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(n,r,m,i)||n.addEventListener&&n.addEventListener(h,i)),d.add&&(d.add.call(n,u),u.handler.guid||(u.handler.guid=t.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),A.event.global[h]=!0)},remove:function(n,e,t,r,o){var a,i,s,l,c,u,d,p,h,m,f,g=sn.hasData(n)&&sn.get(n);if(g&&(l=g.events)){for(c=(e=(e||"").match(G)||[""]).length;c--;)if(h=f=(s=In.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=A.event.special[h]||{},p=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=a=p.length;a--;)u=p[a],!o&&f!==u.origType||t&&t.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(n,u));i&&!p.length&&(d.teardown&&!1!==d.teardown.call(n,m,g.handle)||A.removeEvent(n,h,g.handle),delete l[h])}else for(h in l)A.event.remove(n,h+e[c],t,r,!0);A.isEmptyObject(l)&&sn.remove(n,"handle events")}},dispatch:function(n){var e,t,r,o,a,i,s=new Array(arguments.length),l=A.event.fix(n),c=(sn.get(this,"events")||Object.create(null))[l.type]||[],u=A.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(i=A.event.handlers.call(this,l,c),e=0;(o=i[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,t=0;(a=o.handlers[t++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((A.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(n,e){var t,r,o,a,i,s=[],l=e.delegateCount,c=n.target;if(l&&c.nodeType&&!("click"===n.type&&n.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==n.type||!0!==c.disabled)){for(a=[],i={},t=0;t<l;t++)void 0===i[o=(r=e[t]).selector+" "]&&(i[o]=r.needsContext?A(o,this).index(c)>-1:A.find(o,this,null,[c]).length),i[o]&&a.push(r);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(n,e){Object.defineProperty(A.Event.prototype,n,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(e){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(n){return n[A.expando]?n:new A.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var e=this||n;return Tn.test(e.type)&&e.click&&C(e,"input")&&zn(e,"click",!0),!1},trigger:function(n){var e=this||n;return Tn.test(e.type)&&e.click&&C(e,"input")&&zn(e,"click"),!0},_default:function(n){var e=n.target;return Tn.test(e.type)&&e.click&&C(e,"input")&&sn.get(e,"click")||C(e,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}},A.removeEvent=function(n,e,t){n.removeEventListener&&n.removeEventListener(e,t)},A.Event=function(n,e){if(!(this instanceof A.Event))return new A.Event(n,e);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?On:Rn,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,e&&A.extend(this,e),this.timeStamp=n&&n.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:Rn,isPropagationStopped:Rn,isImmediatePropagationStopped:Rn,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=On,n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=On,n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=On,n&&!this.isSimulated&&n.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},(function(n,e){function t(n){if(b.documentMode){var t=sn.get(this,"handle"),r=A.event.fix(n);r.type="focusin"===n.type?"focus":"blur",r.isSimulated=!0,t(n),r.target===r.currentTarget&&t(r)}else A.event.simulate(e,n.target,A.event.fix(n))}A.event.special[n]={setup:function(){var r;if(zn(this,n,!0),!b.documentMode)return!1;(r=sn.get(this,e))||this.addEventListener(e,t),sn.set(this,e,(r||0)+1)},trigger:function(){return zn(this,n),!0},teardown:function(){var n;if(!b.documentMode)return!1;(n=sn.get(this,e)-1)?sn.set(this,e,n):(this.removeEventListener(e,t),sn.remove(this,e))},_default:function(e){return sn.get(e.target,n)},delegateType:e},A.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,o=b.documentMode?this:r,a=sn.get(o,e);a||(b.documentMode?this.addEventListener(e,t):r.addEventListener(n,t,!0)),sn.set(o,e,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=b.documentMode?this:r,a=sn.get(o,e)-1;a?sn.set(o,e,a):(b.documentMode?this.removeEventListener(e,t):r.removeEventListener(n,t,!0),sn.remove(o,e))}}})),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(n,e){A.event.special[n]={delegateType:e,bindType:e,handle:function(n){var t,r=this,o=n.relatedTarget,a=n.handleObj;return o&&(o===r||A.contains(r,o))||(n.type=a.origType,t=a.handler.apply(this,arguments),n.type=e),t}}})),A.fn.extend({on:function(n,e,t,r){return Mn(this,n,e,t,r)},one:function(n,e,t,r){return Mn(this,n,e,t,r,1)},off:function(n,e,t){var r,o;if(n&&n.preventDefault&&n.handleObj)return r=n.handleObj,A(n.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof n){for(o in n)this.off(o,e,n[o]);return this}return!1!==e&&"function"!=typeof e||(t=e,e=void 0),!1===t&&(t=Rn),this.each((function(){A.event.remove(this,n,t,e)}))}});var Ln=/<script|<style|<link/i,Fn=/checked\s*(?:[^=]|=\s*.checked.)/i,Hn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qn(n,e){return C(n,"table")&&C(11!==e.nodeType?e:e.firstChild,"tr")&&A(n).children("tbody")[0]||n}function Nn(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function $n(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function Un(n,e){var t,r,o,a,i,s;if(1===e.nodeType){if(sn.hasData(n)&&(s=sn.get(n).events))for(o in sn.remove(e,"handle events"),s)for(t=0,r=s[o].length;t<r;t++)A.event.add(e,o,s[o][t]);ln.hasData(n)&&(a=ln.access(n),i=A.extend({},a),ln.set(e,i))}}function Vn(n,e){var t=e.nodeName.toLowerCase();"input"===t&&Tn.test(n.type)?e.checked=n.checked:"input"!==t&&"textarea"!==t||(e.defaultValue=n.defaultValue)}function Gn(n,e,t,r){e=l(e);var o,a,i,s,c,u,d=0,p=n.length,h=p-1,m=e[0],f=v(m);if(f||p>1&&"string"==typeof m&&!g.checkClone&&Fn.test(m))return n.each((function(o){var a=n.eq(o);f&&(e[0]=m.call(this,o,a.html())),Gn(a,e,t,r)}));if(p&&(a=(o=Bn(e,n[0].ownerDocument,!1,n,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=(i=A.map(_n(o,"script"),Nn)).length;d<p;d++)c=o,d!==h&&(c=A.clone(c,!0,!0),s&&A.merge(i,_n(c,"script"))),t.call(n[d],c,d);if(s)for(u=i[i.length-1].ownerDocument,A.map(i,$n),d=0;d<s;d++)c=i[d],Sn.test(c.type||"")&&!sn.access(c,"globalEval")&&A.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?A._evalUrl&&!c.noModule&&A._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Hn,""),c,u))}return n}function Wn(n,e,t){for(var r,o=e?A.filter(e,n):n,a=0;null!=(r=o[a]);a++)t||1!==r.nodeType||A.cleanData(_n(r)),r.parentNode&&(t&&gn(r)&&Pn(_n(r,"script")),r.parentNode.removeChild(r));return n}A.extend({htmlPrefilter:function(n){return n},clone:function(n,e,t){var r,o,a,i,s=n.cloneNode(!0),l=gn(n);if(!(g.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||A.isXMLDoc(n)))for(i=_n(s),r=0,o=(a=_n(n)).length;r<o;r++)Vn(a[r],i[r]);if(e)if(t)for(a=a||_n(n),i=i||_n(s),r=0,o=a.length;r<o;r++)Un(a[r],i[r]);else Un(n,s);return(i=_n(s,"script")).length>0&&Pn(i,!l&&_n(n,"script")),s},cleanData:function(n){for(var e,t,r,o=A.event.special,a=0;void 0!==(t=n[a]);a++)if(on(t)){if(e=t[sn.expando]){if(e.events)for(r in e.events)o[r]?A.event.remove(t,r):A.removeEvent(t,r,e.handle);t[sn.expando]=void 0}t[ln.expando]&&(t[ln.expando]=void 0)}}}),A.fn.extend({detach:function(n){return Wn(this,n,!0)},remove:function(n){return Wn(this,n)},text:function(n){return X(this,(function(n){return void 0===n?A.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)}))}),null,n,arguments.length)},append:function(){return Gn(this,arguments,(function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||qn(this,n).appendChild(n)}))},prepend:function(){return Gn(this,arguments,(function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=qn(this,n);e.insertBefore(n,e.firstChild)}}))},before:function(){return Gn(this,arguments,(function(n){this.parentNode&&this.parentNode.insertBefore(n,this)}))},after:function(){return Gn(this,arguments,(function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)}))},empty:function(){for(var n,e=0;null!=(n=this[e]);e++)1===n.nodeType&&(A.cleanData(_n(n,!1)),n.textContent="");return this},clone:function(n,e){return n=null!=n&&n,e=null==e?n:e,this.map((function(){return A.clone(this,n,e)}))},html:function(n){return X(this,(function(n){var e=this[0]||{},t=0,r=this.length;if(void 0===n&&1===e.nodeType)return e.innerHTML;if("string"==typeof n&&!Ln.test(n)&&!kn[(Cn.exec(n)||["",""])[1].toLowerCase()]){n=A.htmlPrefilter(n);try{for(;t<r;t++)1===(e=this[t]||{}).nodeType&&(A.cleanData(_n(e,!1)),e.innerHTML=n);e=0}catch(n){}}e&&this.empty().append(n)}),null,n,arguments.length)},replaceWith:function(){var n=[];return Gn(this,arguments,(function(e){var t=this.parentNode;A.inArray(this,n)<0&&(A.cleanData(_n(this)),t&&t.replaceChild(e,this))}),n)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(n,e){A.fn[n]=function(n){for(var t,r=[],o=A(n),a=o.length-1,i=0;i<=a;i++)t=i===a?this:this.clone(!0),A(o[i])[e](t),c.apply(r,t.get());return this.pushStack(r)}}));var Qn=new RegExp("^("+pn+")(?!px)[a-z%]+$","i"),Jn=/^--/,Yn=function(n){var e=n.ownerDocument.defaultView;return e&&e.opener||(e=t),e.getComputedStyle(n)},Kn=function(n,e,t){var r,o,a={};for(o in e)a[o]=n.style[o],n.style[o]=e[o];for(o in r=t.call(n),e)n.style[o]=a[o];return r},Zn=new RegExp(mn.join("|"),"i");function Xn(n,e,t){var r,o,a,i,s=Jn.test(e),l=n.style;return(t=t||Yn(n))&&(i=t.getPropertyValue(e)||t[e],s&&i&&(i=i.replace(D,"$1")||void 0),""!==i||gn(n)||(i=A.style(n,e)),!g.pixelBoxStyles()&&Qn.test(i)&&Zn.test(e)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=t.width,l.width=r,l.minWidth=o,l.maxWidth=a)),void 0!==i?i+"":i}function ne(n,e){return{get:function(){if(!n())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function n(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fn.appendChild(c).appendChild(u);var n=t.getComputedStyle(u);r="1%"!==n.top,l=12===e(n.marginLeft),u.style.right="60%",i=36===e(n.right),o=36===e(n.width),u.style.position="absolute",a=12===e(u.offsetWidth/3),fn.removeChild(c),u=null}}function e(n){return Math.round(parseFloat(n))}var r,o,a,i,s,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,A.extend(g,{boxSizingReliable:function(){return n(),o},pixelBoxStyles:function(){return n(),i},pixelPosition:function(){return n(),r},reliableMarginLeft:function(){return n(),l},scrollboxSize:function(){return n(),a},reliableTrDimensions:function(){var n,e,r,o;return null==s&&(n=b.createElement("table"),e=b.createElement("tr"),r=b.createElement("div"),n.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",r.style.height="9px",r.style.display="block",fn.appendChild(n).appendChild(e).appendChild(r),o=t.getComputedStyle(e),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===e.offsetHeight,fn.removeChild(n)),s}}))}();var ee=["Webkit","Moz","ms"],te=b.createElement("div").style,re={};function oe(n){var e=A.cssProps[n]||re[n];return e||(n in te?n:re[n]=function(n){for(var e=n[0].toUpperCase()+n.slice(1),t=ee.length;t--;)if((n=ee[t]+e)in te)return n}(n)||n)}var ae=/^(none|table(?!-c[ea]).+)/,ie={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function le(n,e,t){var r=hn.exec(e);return r?Math.max(0,r[2]-(t||0))+(r[3]||"px"):e}function ce(n,e,t,r,o,a){var i="width"===e?1:0,s=0,l=0,c=0;if(t===(r?"border":"content"))return 0;for(;i<4;i+=2)"margin"===t&&(c+=A.css(n,t+mn[i],!0,o)),r?("content"===t&&(l-=A.css(n,"padding"+mn[i],!0,o)),"margin"!==t&&(l-=A.css(n,"border"+mn[i]+"Width",!0,o))):(l+=A.css(n,"padding"+mn[i],!0,o),"padding"!==t?l+=A.css(n,"border"+mn[i]+"Width",!0,o):s+=A.css(n,"border"+mn[i]+"Width",!0,o));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l+c}function ue(n,e,t){var r=Yn(n),o=(!g.boxSizingReliable()||t)&&"border-box"===A.css(n,"boxSizing",!1,r),a=o,i=Xn(n,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Qn.test(i)){if(!t)return i;i="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&C(n,"tr")||"auto"===i||!parseFloat(i)&&"inline"===A.css(n,"display",!1,r))&&n.getClientRects().length&&(o="border-box"===A.css(n,"boxSizing",!1,r),(a=s in n)&&(i=n[s])),(i=parseFloat(i)||0)+ce(n,e,t||(o?"border":"content"),a,r,i)+"px"}function de(n,e,t,r,o){return new de.prototype.init(n,e,t,r,o)}A.extend({cssHooks:{opacity:{get:function(n,e){if(e){var t=Xn(n,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(n,e,t,r){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,a,i,s=rn(e),l=Jn.test(e),c=n.style;if(l||(e=oe(s)),i=A.cssHooks[e]||A.cssHooks[s],void 0===t)return i&&"get"in i&&void 0!==(o=i.get(n,!1,r))?o:c[e];"string"===(a=typeof t)&&(o=hn.exec(t))&&o[1]&&(t=bn(n,e,o),a="number"),null!=t&&t==t&&("number"!==a||l||(t+=o&&o[3]||(A.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==t||0!==e.indexOf("background")||(c[e]="inherit"),i&&"set"in i&&void 0===(t=i.set(n,t,r))||(l?c.setProperty(e,t):c[e]=t))}},css:function(n,e,t,r){var o,a,i,s=rn(e);return Jn.test(e)||(e=oe(s)),(i=A.cssHooks[e]||A.cssHooks[s])&&"get"in i&&(o=i.get(n,!0,t)),void 0===o&&(o=Xn(n,e,r)),"normal"===o&&e in se&&(o=se[e]),""===t||t?(a=parseFloat(o),!0===t||isFinite(a)?a||0:o):o}}),A.each(["height","width"],(function(n,e){A.cssHooks[e]={get:function(n,t,r){if(t)return!ae.test(A.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?ue(n,e,r):Kn(n,ie,(function(){return ue(n,e,r)}))},set:function(n,t,r){var o,a=Yn(n),i=!g.scrollboxSize()&&"absolute"===a.position,s=(i||r)&&"border-box"===A.css(n,"boxSizing",!1,a),l=r?ce(n,e,r,s,a):0;return s&&i&&(l-=Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-ce(n,e,"border",!1,a)-.5)),l&&(o=hn.exec(t))&&"px"!==(o[3]||"px")&&(n.style[e]=t,t=A.css(n,e)),le(0,t,l)}}})),A.cssHooks.marginLeft=ne(g.reliableMarginLeft,(function(n,e){if(e)return(parseFloat(Xn(n,"marginLeft"))||n.getBoundingClientRect().left-Kn(n,{marginLeft:0},(function(){return n.getBoundingClientRect().left})))+"px"})),A.each({margin:"",padding:"",border:"Width"},(function(n,e){A.cssHooks[n+e]={expand:function(t){for(var r=0,o={},a="string"==typeof t?t.split(" "):[t];r<4;r++)o[n+mn[r]+e]=a[r]||a[r-2]||a[0];return o}},"margin"!==n&&(A.cssHooks[n+e].set=le)})),A.fn.extend({css:function(n,e){return X(this,(function(n,e,t){var r,o,a={},i=0;if(Array.isArray(e)){for(r=Yn(n),o=e.length;i<o;i++)a[e[i]]=A.css(n,e[i],!1,r);return a}return void 0!==t?A.style(n,e,t):A.css(n,e)}),n,e,arguments.length>1)}}),A.Tween=de,de.prototype={constructor:de,init:function(n,e,t,r,o,a){this.elem=n,this.prop=t,this.easing=o||A.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(A.cssNumber[t]?"":"px")},cur:function(){var n=de.propHooks[this.prop];return n&&n.get?n.get(this):de.propHooks._default.get(this)},run:function(n){var e,t=de.propHooks[this.prop];return this.options.duration?this.pos=e=A.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=e=n,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):de.propHooks._default.set(this),this}},de.prototype.init.prototype=de.prototype,de.propHooks={_default:{get:function(n){var e;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(e=A.css(n.elem,n.prop,""))&&"auto"!==e?e:0},set:function(n){A.fx.step[n.prop]?A.fx.step[n.prop](n):1!==n.elem.nodeType||!A.cssHooks[n.prop]&&null==n.elem.style[oe(n.prop)]?n.elem[n.prop]=n.now:A.style(n.elem,n.prop,n.now+n.unit)}}},de.propHooks.scrollTop=de.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},A.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"},A.fx=de.prototype.init,A.fx.step={};var pe,he,me=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function ge(){he&&(!1===b.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ge):t.setTimeout(ge,A.fx.interval),A.fx.tick())}function ve(){return t.setTimeout((function(){pe=void 0})),pe=Date.now()}function ye(n,e){var t,r=0,o={height:n};for(e=e?1:0;r<4;r+=2-e)o["margin"+(t=mn[r])]=o["padding"+t]=n;return e&&(o.opacity=o.width=n),o}function be(n,e,t){for(var r,o=(xe.tweeners[e]||[]).concat(xe.tweeners["*"]),a=0,i=o.length;a<i;a++)if(r=o[a].call(t,e,n))return r}function xe(n,e,t){var r,o,a=0,i=xe.prefilters.length,s=A.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=pe||ve(),t=Math.max(0,c.startTime+c.duration-e),r=1-(t/c.duration||0),a=0,i=c.tweens.length;a<i;a++)c.tweens[a].run(r);return s.notifyWith(n,[c,r,t]),r<1&&i?t:(i||s.notifyWith(n,[c,1,0]),s.resolveWith(n,[c]),!1)},c=s.promise({elem:n,props:A.extend({},e),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},t),originalProperties:e,originalOptions:t,startTime:pe||ve(),duration:t.duration,tweens:[],createTween:function(e,t){var r=A.Tween(n,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var t=0,r=e?c.tweens.length:0;if(o)return this;for(o=!0;t<r;t++)c.tweens[t].run(1);return e?(s.notifyWith(n,[c,1,0]),s.resolveWith(n,[c,e])):s.rejectWith(n,[c,e]),this}}),u=c.props;for(!function(n,e){var t,r,o,a,i;for(t in n)if(o=e[r=rn(t)],a=n[t],Array.isArray(a)&&(o=a[1],a=n[t]=a[0]),t!==r&&(n[r]=a,delete n[t]),(i=A.cssHooks[r])&&"expand"in i)for(t in a=i.expand(a),delete n[r],a)t in n||(n[t]=a[t],e[t]=o);else e[r]=o}(u,c.opts.specialEasing);a<i;a++)if(r=xe.prefilters[a].call(c,n,u,c.opts))return v(r.stop)&&(A._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return A.map(u,be,c),v(c.opts.start)&&c.opts.start.call(n,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),A.fx.timer(A.extend(l,{elem:n,anim:c,queue:c.opts.queue})),c}A.Animation=A.extend(xe,{tweeners:{"*":[function(n,e){var t=this.createTween(n,e);return bn(t.elem,n,hn.exec(e),t),t}]},tweener:function(n,e){v(n)?(e=n,n=["*"]):n=n.match(G);for(var t,r=0,o=n.length;r<o;r++)t=n[r],xe.tweeners[t]=xe.tweeners[t]||[],xe.tweeners[t].unshift(e)},prefilters:[function(n,e,t){var r,o,a,i,s,l,c,u,d="width"in e||"height"in e,p=this,h={},m=n.style,f=n.nodeType&&yn(n),g=sn.get(n,"fxshow");for(r in t.queue||(null==(i=A._queueHooks(n,"fx")).unqueued&&(i.unqueued=0,s=i.empty.fire,i.empty.fire=function(){i.unqueued||s()}),i.unqueued++,p.always((function(){p.always((function(){i.unqueued--,A.queue(n,"fx").length||i.empty.fire()}))}))),e)if(o=e[r],me.test(o)){if(delete e[r],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;f=!0}h[r]=g&&g[r]||A.style(n,r)}if((l=!A.isEmptyObject(e))||!A.isEmptyObject(h))for(r in d&&1===n.nodeType&&(t.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=g&&g.display)&&(c=sn.get(n,"display")),"none"===(u=A.css(n,"display"))&&(c?u=c:(En([n],!0),c=n.style.display||c,u=A.css(n,"display"),En([n]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===A.css(n,"float")&&(l||(p.done((function(){m.display=c})),null==c&&(u=m.display,c="none"===u?"":u)),m.display="inline-block")),t.overflow&&(m.overflow="hidden",p.always((function(){m.overflow=t.overflow[0],m.overflowX=t.overflow[1],m.overflowY=t.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(f=g.hidden):g=sn.access(n,"fxshow",{display:c}),a&&(g.hidden=!f),f&&En([n],!0),p.done((function(){for(r in f||En([n]),sn.remove(n,"fxshow"),h)A.style(n,r,h[r])}))),l=be(f?g[r]:0,r,p),r in g||(g[r]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(n,e){e?xe.prefilters.unshift(n):xe.prefilters.push(n)}}),A.speed=function(n,e,t){var r=n&&"object"==typeof n?A.extend({},n):{complete:t||!t&&e||v(n)&&n,duration:n,easing:t&&e||e&&!v(e)&&e};return A.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in A.fx.speeds?r.duration=A.fx.speeds[r.duration]:r.duration=A.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&A.dequeue(this,r.queue)},r},A.fn.extend({fadeTo:function(n,e,t,r){return this.filter(yn).css("opacity",0).show().end().animate({opacity:e},n,t,r)},animate:function(n,e,t,r){var o=A.isEmptyObject(n),a=A.speed(e,t,r),i=function(){var e=xe(this,A.extend({},n),a);(o||sn.get(this,"finish"))&&e.stop(!0)};return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(n,e,t){var r=function(n){var e=n.stop;delete n.stop,e(t)};return"string"!=typeof n&&(t=e,e=n,n=void 0),e&&this.queue(n||"fx",[]),this.each((function(){var e=!0,o=null!=n&&n+"queueHooks",a=A.timers,i=sn.get(this);if(o)i[o]&&i[o].stop&&r(i[o]);else for(o in i)i[o]&&i[o].stop&&fe.test(o)&&r(i[o]);for(o=a.length;o--;)a[o].elem!==this||null!=n&&a[o].queue!==n||(a[o].anim.stop(t),e=!1,a.splice(o,1));!e&&t||A.dequeue(this,n)}))},finish:function(n){return!1!==n&&(n=n||"fx"),this.each((function(){var e,t=sn.get(this),r=t[n+"queue"],o=t[n+"queueHooks"],a=A.timers,i=r?r.length:0;for(t.finish=!0,A.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===n&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<i;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete t.finish}))}}),A.each(["toggle","show","hide"],(function(n,e){var t=A.fn[e];A.fn[e]=function(n,r,o){return null==n||"boolean"==typeof n?t.apply(this,arguments):this.animate(ye(e,!0),n,r,o)}})),A.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(n,e){A.fn[n]=function(n,t,r){return this.animate(e,n,t,r)}})),A.timers=[],A.fx.tick=function(){var n,e=0,t=A.timers;for(pe=Date.now();e<t.length;e++)(n=t[e])()||t[e]!==n||t.splice(e--,1);t.length||A.fx.stop(),pe=void 0},A.fx.timer=function(n){A.timers.push(n),A.fx.start()},A.fx.interval=13,A.fx.start=function(){he||(he=!0,ge())},A.fx.stop=function(){he=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(n,e){return n=A.fx&&A.fx.speeds[n]||n,e=e||"fx",this.queue(e,(function(e,r){var o=t.setTimeout(e,n);r.stop=function(){t.clearTimeout(o)}}))},function(){var n=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));n.type="checkbox",g.checkOn=""!==n.value,g.optSelected=e.selected,(n=b.createElement("input")).value="t",n.type="radio",g.radioValue="t"===n.value}();var we,Ee=A.expr.attrHandle;A.fn.extend({attr:function(n,e){return X(this,A.attr,n,e,arguments.length>1)},removeAttr:function(n){return this.each((function(){A.removeAttr(this,n)}))}}),A.extend({attr:function(n,e,t){var r,o,a=n.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===n.getAttribute?A.prop(n,e,t):(1===a&&A.isXMLDoc(n)||(o=A.attrHooks[e.toLowerCase()]||(A.expr.match.bool.test(e)?we:void 0)),void 0!==t?null===t?void A.removeAttr(n,e):o&&"set"in o&&void 0!==(r=o.set(n,t,e))?r:(n.setAttribute(e,t+""),t):o&&"get"in o&&null!==(r=o.get(n,e))?r:null==(r=A.find.attr(n,e))?void 0:r)},attrHooks:{type:{set:function(n,e){if(!g.radioValue&&"radio"===e&&C(n,"input")){var t=n.value;return n.setAttribute("type",e),t&&(n.value=t),e}}}},removeAttr:function(n,e){var t,r=0,o=e&&e.match(G);if(o&&1===n.nodeType)for(;t=o[r++];)n.removeAttribute(t)}}),we={set:function(n,e,t){return!1===e?A.removeAttr(n,t):n.setAttribute(t,t),t}},A.each(A.expr.match.bool.source.match(/\w+/g),(function(n,e){var t=Ee[e]||A.find.attr;Ee[e]=function(n,e,r){var o,a,i=e.toLowerCase();return r||(a=Ee[i],Ee[i]=o,o=null!=t(n,e,r)?i:null,Ee[i]=a),o}}));var je=/^(?:input|select|textarea|button)$/i,Ae=/^(?:a|area)$/i;function Te(n){return(n.match(G)||[]).join(" ")}function Ce(n){return n.getAttribute&&n.getAttribute("class")||""}function Se(n){return Array.isArray(n)?n:"string"==typeof n&&n.match(G)||[]}A.fn.extend({prop:function(n,e){return X(this,A.prop,n,e,arguments.length>1)},removeProp:function(n){return this.each((function(){delete this[A.propFix[n]||n]}))}}),A.extend({prop:function(n,e,t){var r,o,a=n.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&A.isXMLDoc(n)||(e=A.propFix[e]||e,o=A.propHooks[e]),void 0!==t?o&&"set"in o&&void 0!==(r=o.set(n,t,e))?r:n[e]=t:o&&"get"in o&&null!==(r=o.get(n,e))?r:n[e]},propHooks:{tabIndex:{get:function(n){var e=A.find.attr(n,"tabindex");return e?parseInt(e,10):je.test(n.nodeName)||Ae.test(n.nodeName)&&n.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(A.propHooks.selected={get:function(n){var e=n.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(n){var e=n.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){A.propFix[this.toLowerCase()]=this})),A.fn.extend({addClass:function(n){var e,t,r,o,a,i;return v(n)?this.each((function(e){A(this).addClass(n.call(this,e,Ce(this)))})):(e=Se(n)).length?this.each((function(){if(r=Ce(this),t=1===this.nodeType&&" "+Te(r)+" "){for(a=0;a<e.length;a++)o=e[a],t.indexOf(" "+o+" ")<0&&(t+=o+" ");i=Te(t),r!==i&&this.setAttribute("class",i)}})):this},removeClass:function(n){var e,t,r,o,a,i;return v(n)?this.each((function(e){A(this).removeClass(n.call(this,e,Ce(this)))})):arguments.length?(e=Se(n)).length?this.each((function(){if(r=Ce(this),t=1===this.nodeType&&" "+Te(r)+" "){for(a=0;a<e.length;a++)for(o=e[a];t.indexOf(" "+o+" ")>-1;)t=t.replace(" "+o+" "," ");i=Te(t),r!==i&&this.setAttribute("class",i)}})):this:this.attr("class","")},toggleClass:function(n,e){var t,r,o,a,i=typeof n,s="string"===i||Array.isArray(n);return v(n)?this.each((function(t){A(this).toggleClass(n.call(this,t,Ce(this),e),e)})):"boolean"==typeof e&&s?e?this.addClass(n):this.removeClass(n):(t=Se(n),this.each((function(){if(s)for(a=A(this),o=0;o<t.length;o++)r=t[o],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==n&&"boolean"!==i||((r=Ce(this))&&sn.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===n?"":sn.get(this,"__className__")||""))})))},hasClass:function(n){var e,t,r=0;for(e=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+Te(Ce(t))+" ").indexOf(e)>-1)return!0;return!1}});var ke=/\r/g;A.fn.extend({val:function(n){var e,t,r,o=this[0];return arguments.length?(r=v(n),this.each((function(t){var o;1===this.nodeType&&(null==(o=r?n.call(this,t,A(this).val()):n)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=A.map(o,(function(n){return null==n?"":n+""}))),(e=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=A.valHooks[o.type]||A.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(t=e.get(o,"value"))?t:"string"==typeof(t=o.value)?t.replace(ke,""):null==t?"":t:void 0}}),A.extend({valHooks:{option:{get:function(n){var e=A.find.attr(n,"value");return null!=e?e:Te(A.text(n))}},select:{get:function(n){var e,t,r,o=n.options,a=n.selectedIndex,i="select-one"===n.type,s=i?null:[],l=i?a+1:o.length;for(r=a<0?l:i?a:0;r<l;r++)if(((t=o[r]).selected||r===a)&&!t.disabled&&(!t.parentNode.disabled||!C(t.parentNode,"optgroup"))){if(e=A(t).val(),i)return e;s.push(e)}return s},set:function(n,e){for(var t,r,o=n.options,a=A.makeArray(e),i=o.length;i--;)((r=o[i]).selected=A.inArray(A.valHooks.option.get(r),a)>-1)&&(t=!0);return t||(n.selectedIndex=-1),a}}}}),A.each(["radio","checkbox"],(function(){A.valHooks[this]={set:function(n,e){if(Array.isArray(e))return n.checked=A.inArray(A(n).val(),e)>-1}},g.checkOn||(A.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})}));var _e=t.location,Pe={guid:Date.now()},De=/\?/;A.parseXML=function(n){var e,r;if(!n||"string"!=typeof n)return null;try{e=(new t.DOMParser).parseFromString(n,"text/xml")}catch(n){}return r=e&&e.getElementsByTagName("parsererror")[0],e&&!r||A.error("Invalid XML: "+(r?A.map(r.childNodes,(function(n){return n.textContent})).join("\n"):n)),e};var Be=/^(?:focusinfocus|focusoutblur)$/,Ie=function(n){n.stopPropagation()};A.extend(A.event,{trigger:function(n,e,r,o){var a,i,s,l,c,u,d,p,m=[r||b],f=h.call(n,"type")?n.type:n,g=h.call(n,"namespace")?n.namespace.split("."):[];if(i=p=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!Be.test(f+A.event.triggered)&&(f.indexOf(".")>-1&&(g=f.split("."),f=g.shift(),g.sort()),c=f.indexOf(":")<0&&"on"+f,(n=n[A.expando]?n:new A.Event(f,"object"==typeof n&&n)).isTrigger=o?2:3,n.namespace=g.join("."),n.rnamespace=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=r),e=null==e?[n]:A.makeArray(e,[n]),d=A.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(r,e))){if(!o&&!d.noBubble&&!y(r)){for(l=d.delegateType||f,Be.test(l+f)||(i=i.parentNode);i;i=i.parentNode)m.push(i),s=i;s===(r.ownerDocument||b)&&m.push(s.defaultView||s.parentWindow||t)}for(a=0;(i=m[a++])&&!n.isPropagationStopped();)p=i,n.type=a>1?l:d.bindType||f,(u=(sn.get(i,"events")||Object.create(null))[n.type]&&sn.get(i,"handle"))&&u.apply(i,e),(u=c&&i[c])&&u.apply&&on(i)&&(n.result=u.apply(i,e),!1===n.result&&n.preventDefault());return n.type=f,o||n.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!on(r)||c&&v(r[f])&&!y(r)&&((s=r[c])&&(r[c]=null),A.event.triggered=f,n.isPropagationStopped()&&p.addEventListener(f,Ie),r[f](),n.isPropagationStopped()&&p.removeEventListener(f,Ie),A.event.triggered=void 0,s&&(r[c]=s)),n.result}},simulate:function(n,e,t){var r=A.extend(new A.Event,t,{type:n,isSimulated:!0});A.event.trigger(r,null,e)}}),A.fn.extend({trigger:function(n,e){return this.each((function(){A.event.trigger(n,e,this)}))},triggerHandler:function(n,e){var t=this[0];if(t)return A.event.trigger(n,e,t,!0)}});var Oe=/\[\]$/,Re=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;function Le(n,e,t,r){var o;if(Array.isArray(e))A.each(e,(function(e,o){t||Oe.test(n)?r(n,o):Le(n+"["+("object"==typeof o&&null!=o?e:"")+"]",o,t,r)}));else if(t||"object"!==E(e))r(n,e);else for(o in e)Le(n+"["+o+"]",e[o],t,r)}A.param=function(n,e){var t,r=[],o=function(n,e){var t=v(e)?e():e;r[r.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==t?"":t)};if(null==n)return"";if(Array.isArray(n)||n.jquery&&!A.isPlainObject(n))A.each(n,(function(){o(this.name,this.value)}));else for(t in n)Le(t,n[t],e,o);return r.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var n=A.prop(this,"elements");return n?A.makeArray(n):this})).filter((function(){var n=this.type;return this.name&&!A(this).is(":disabled")&&ze.test(this.nodeName)&&!Me.test(n)&&(this.checked||!Tn.test(n))})).map((function(n,e){var t=A(this).val();return null==t?null:Array.isArray(t)?A.map(t,(function(n){return{name:e.name,value:n.replace(Re,"\r\n")}})):{name:e.name,value:t.replace(Re,"\r\n")}})).get()}});var Fe=/%20/g,He=/#.*$/,qe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,$e=/^(?:GET|HEAD)$/,Ue=/^\/\//,Ve={},Ge={},We="*/".concat("*"),Qe=b.createElement("a");function Je(n){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,o=0,a=e.toLowerCase().match(G)||[];if(v(t))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(t)):(n[r]=n[r]||[]).push(t)}}function Ye(n,e,t,r){var o={},a=n===Ge;function i(s){var l;return o[s]=!0,A.each(n[s]||[],(function(n,s){var c=s(e,t,r);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),i(c),!1)})),l}return i(e.dataTypes[0])||!o["*"]&&i("*")}function Ke(n,e){var t,r,o=A.ajaxSettings.flatOptions||{};for(t in e)void 0!==e[t]&&((o[t]?n:r||(r={}))[t]=e[t]);return r&&A.extend(!0,n,r),n}Qe.href=_e.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,e){return e?Ke(Ke(n,A.ajaxSettings),e):Ke(A.ajaxSettings,n)},ajaxPrefilter:Je(Ve),ajaxTransport:Je(Ge),ajax:function(n,e){"object"==typeof n&&(e=n,n=void 0),e=e||{};var r,o,a,i,s,l,c,u,d,p,h=A.ajaxSetup({},e),m=h.context||h,f=h.context&&(m.nodeType||m.jquery)?A(m):A.event,g=A.Deferred(),v=A.Callbacks("once memory"),y=h.statusCode||{},x={},w={},E="canceled",j={readyState:0,getResponseHeader:function(n){var e;if(c){if(!i)for(i={};e=Ne.exec(a);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[n.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(n,e){return null==c&&(n=w[n.toLowerCase()]=w[n.toLowerCase()]||n,x[n]=e),this},overrideMimeType:function(n){return null==c&&(h.mimeType=n),this},statusCode:function(n){var e;if(n)if(c)j.always(n[j.status]);else for(e in n)y[e]=[y[e],n[e]];return this},abort:function(n){var e=n||E;return r&&r.abort(e),T(0,e),this}};if(g.promise(j),h.url=((n||h.url||_e.href)+"").replace(Ue,_e.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(G)||[""],null==h.crossDomain){l=b.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Qe.protocol+"//"+Qe.host!=l.protocol+"//"+l.host}catch(n){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=A.param(h.data,h.traditional)),Ye(Ve,h,e,j),c)return j;for(d in(u=A.event&&h.global)&&0==A.active++&&A.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!$e.test(h.type),o=h.url.replace(He,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Fe,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(De.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(qe,"$1"),p=(De.test(o)?"&":"?")+"_="+Pe.guid+++p),h.url=o+p),h.ifModified&&(A.lastModified[o]&&j.setRequestHeader("If-Modified-Since",A.lastModified[o]),A.etag[o]&&j.setRequestHeader("If-None-Match",A.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&j.setRequestHeader("Content-Type",h.contentType),j.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+We+"; q=0.01":""):h.accepts["*"]),h.headers)j.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(m,j,h)||c))return j.abort();if(E="abort",v.add(h.complete),j.done(h.success),j.fail(h.error),r=Ye(Ge,h,e,j)){if(j.readyState=1,u&&f.trigger("ajaxSend",[j,h]),c)return j;h.async&&h.timeout>0&&(s=t.setTimeout((function(){j.abort("timeout")}),h.timeout));try{c=!1,r.send(x,T)}catch(n){if(c)throw n;T(-1,n)}}else T(-1,"No Transport");function T(n,e,i,l){var d,p,b,x,w,E=e;c||(c=!0,s&&t.clearTimeout(s),r=void 0,a=l||"",j.readyState=n>0?4:0,d=n>=200&&n<300||304===n,i&&(x=function(n,e,t){for(var r,o,a,i,s=n.contents,l=n.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=n.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in t)a=l[0];else{for(o in t){if(!l[0]||n.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),t[a]}(h,j,i)),!d&&A.inArray("script",h.dataTypes)>-1&&A.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),x=function(n,e,t,r){var o,a,i,s,l,c={},u=n.dataTypes.slice();if(u[1])for(i in n.converters)c[i.toLowerCase()]=n.converters[i];for(a=u.shift();a;)if(n.responseFields[a]&&(t[n.responseFields[a]]=e),!l&&r&&n.dataFilter&&(e=n.dataFilter(e,n.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(i=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(i=c[l+" "+s[0]]||c["* "+s[0]])){!0===i?i=c[o]:!0!==c[o]&&(a=s[0],u.unshift(s[1]));break}if(!0!==i)if(i&&n.throws)e=i(e);else try{e=i(e)}catch(n){return{state:"parsererror",error:i?n:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(h,x,j,d),d?(h.ifModified&&((w=j.getResponseHeader("Last-Modified"))&&(A.lastModified[o]=w),(w=j.getResponseHeader("etag"))&&(A.etag[o]=w)),204===n||"HEAD"===h.type?E="nocontent":304===n?E="notmodified":(E=x.state,p=x.data,d=!(b=x.error))):(b=E,!n&&E||(E="error",n<0&&(n=0))),j.status=n,j.statusText=(e||E)+"",d?g.resolveWith(m,[p,E,j]):g.rejectWith(m,[j,E,b]),j.statusCode(y),y=void 0,u&&f.trigger(d?"ajaxSuccess":"ajaxError",[j,h,d?p:b]),v.fireWith(m,[j,E]),u&&(f.trigger("ajaxComplete",[j,h]),--A.active||A.event.trigger("ajaxStop")))}return j},getJSON:function(n,e,t){return A.get(n,e,t,"json")},getScript:function(n,e){return A.get(n,void 0,e,"script")}}),A.each(["get","post"],(function(n,e){A[e]=function(n,t,r,o){return v(t)&&(o=o||r,r=t,t=void 0),A.ajax(A.extend({url:n,type:e,dataType:o,data:t,success:r},A.isPlainObject(n)&&n))}})),A.ajaxPrefilter((function(n){var e;for(e in n.headers)"content-type"===e.toLowerCase()&&(n.contentType=n.headers[e]||"")})),A._evalUrl=function(n,e,t){return A.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){A.globalEval(n,e,t)}})},A.fn.extend({wrapAll:function(n){var e;return this[0]&&(v(n)&&(n=n.call(this[0])),e=A(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n})).append(this)),this},wrapInner:function(n){return v(n)?this.each((function(e){A(this).wrapInner(n.call(this,e))})):this.each((function(){var e=A(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)}))},wrap:function(n){var e=v(n);return this.each((function(t){A(this).wrapAll(e?n.call(this,t):n)}))},unwrap:function(n){return this.parent(n).not("body").each((function(){A(this).replaceWith(this.childNodes)})),this}}),A.expr.pseudos.hidden=function(n){return!A.expr.pseudos.visible(n)},A.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(n){}};var Ze={0:200,1223:204},Xe=A.ajaxSettings.xhr();g.cors=!!Xe&&"withCredentials"in Xe,g.ajax=Xe=!!Xe,A.ajaxTransport((function(n){var e,r;if(g.cors||Xe&&!n.crossDomain)return{send:function(o,a){var i,s=n.xhr();if(s.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(i in n.xhrFields)s[i]=n.xhrFields[i];for(i in n.mimeType&&s.overrideMimeType&&s.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(i,o[i]);e=function(n){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===n?s.abort():"error"===n?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ze[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout((function(){e&&r()}))},e=e("abort");try{s.send(n.hasContent&&n.data||null)}catch(n){if(e)throw n}},abort:function(){e&&e()}}})),A.ajaxPrefilter((function(n){n.crossDomain&&(n.contents.script=!1)})),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return A.globalEval(n),n}}}),A.ajaxPrefilter("script",(function(n){void 0===n.cache&&(n.cache=!1),n.crossDomain&&(n.type="GET")})),A.ajaxTransport("script",(function(n){var e,t;if(n.crossDomain||n.scriptAttrs)return{send:function(r,o){e=A("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){e.remove(),t=null,n&&o("error"===n.type?404:200,n.type)}),b.head.appendChild(e[0])},abort:function(){t&&t()}}}));var nt,et=[],tt=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=et.pop()||A.expando+"_"+Pe.guid++;return this[n]=!0,n}}),A.ajaxPrefilter("json jsonp",(function(n,e,r){var o,a,i,s=!1!==n.jsonp&&(tt.test(n.url)?"url":"string"==typeof n.data&&0===(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&tt.test(n.data)&&"data");if(s||"jsonp"===n.dataTypes[0])return o=n.jsonpCallback=v(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s?n[s]=n[s].replace(tt,"$1"+o):!1!==n.jsonp&&(n.url+=(De.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return i||A.error(o+" was not called"),i[0]},n.dataTypes[0]="json",a=t[o],t[o]=function(){i=arguments},r.always((function(){void 0===a?A(t).removeProp(o):t[o]=a,n[o]&&(n.jsonpCallback=e.jsonpCallback,et.push(o)),i&&v(a)&&a(i[0]),i=a=void 0})),"script"})),g.createHTMLDocument=((nt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===nt.childNodes.length),A.parseHTML=function(n,e,t){return"string"!=typeof n?[]:("boolean"==typeof e&&(t=e,e=!1),e||(g.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),a=!t&&[],(o=F.exec(n))?[e.createElement(o[1])]:(o=Bn([n],e,a),a&&a.length&&A(a).remove(),A.merge([],o.childNodes)));var r,o,a},A.fn.load=function(n,e,t){var r,o,a,i=this,s=n.indexOf(" ");return s>-1&&(r=Te(n.slice(s)),n=n.slice(0,s)),v(e)?(t=e,e=void 0):e&&"object"==typeof e&&(o="POST"),i.length>0&&A.ajax({url:n,type:o||"GET",dataType:"html",data:e}).done((function(n){a=arguments,i.html(r?A("<div>").append(A.parseHTML(n)).find(r):n)})).always(t&&function(n,e){i.each((function(){t.apply(this,a||[n.responseText,e,n])}))}),this},A.expr.pseudos.animated=function(n){return A.grep(A.timers,(function(e){return n===e.elem})).length},A.offset={setOffset:function(n,e,t){var r,o,a,i,s,l,c=A.css(n,"position"),u=A(n),d={};"static"===c&&(n.style.position="relative"),s=u.offset(),a=A.css(n,"top"),l=A.css(n,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(i=(r=u.position()).top,o=r.left):(i=parseFloat(a)||0,o=parseFloat(l)||0),v(e)&&(e=e.call(n,t,A.extend({},s))),null!=e.top&&(d.top=e.top-s.top+i),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(n,d):u.css(d)}},A.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each((function(e){A.offset.setOffset(this,n,e)}));var e,t,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView,{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var n,e,t,r=this[0],o={top:0,left:0};if("fixed"===A.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),t=r.ownerDocument,n=r.offsetParent||t.documentElement;n&&(n===t.body||n===t.documentElement)&&"static"===A.css(n,"position");)n=n.parentNode;n&&n!==r&&1===n.nodeType&&((o=A(n).offset()).top+=A.css(n,"borderTopWidth",!0),o.left+=A.css(n,"borderLeftWidth",!0))}return{top:e.top-o.top-A.css(r,"marginTop",!0),left:e.left-o.left-A.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var n=this.offsetParent;n&&"static"===A.css(n,"position");)n=n.offsetParent;return n||fn}))}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(n,e){var t="pageYOffset"===e;A.fn[n]=function(r){return X(this,(function(n,r,o){var a;if(y(n)?a=n:9===n.nodeType&&(a=n.defaultView),void 0===o)return a?a[e]:n[r];a?a.scrollTo(t?a.pageXOffset:o,t?o:a.pageYOffset):n[r]=o}),n,r,arguments.length)}})),A.each(["top","left"],(function(n,e){A.cssHooks[e]=ne(g.pixelPosition,(function(n,t){if(t)return t=Xn(n,e),Qn.test(t)?A(n).position()[e]+"px":t}))})),A.each({Height:"height",Width:"width"},(function(n,e){A.each({padding:"inner"+n,content:e,"":"outer"+n},(function(t,r){A.fn[r]=function(o,a){var i=arguments.length&&(t||"boolean"!=typeof o),s=t||(!0===o||!0===a?"margin":"border");return X(this,(function(e,t,o){var a;return y(e)?0===r.indexOf("outer")?e["inner"+n]:e.document.documentElement["client"+n]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+n],a["scroll"+n],e.body["offset"+n],a["offset"+n],a["client"+n])):void 0===o?A.css(e,t,s):A.style(e,t,o,s)}),e,i?o:void 0,i)}}))})),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(n,e){A.fn[e]=function(n){return this.on(e,n)}})),A.fn.extend({bind:function(n,e,t){return this.on(n,null,e,t)},unbind:function(n,e){return this.off(n,null,e)},delegate:function(n,e,t,r){return this.on(e,n,t,r)},undelegate:function(n,e,t){return 1===arguments.length?this.off(n,"**"):this.off(e,n||"**",t)},hover:function(n,e){return this.on("mouseenter",n).on("mouseleave",e||n)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(n,e){A.fn[e]=function(n,t){return arguments.length>0?this.on(e,null,n,t):this.trigger(e)}}));var rt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(n,e){var t,r,o;if("string"==typeof e&&(t=n[e],e=n,n=t),v(n))return r=s.call(arguments,2),(o=function(){return n.apply(e||this,r.concat(s.call(arguments)))}).guid=n.guid=n.guid||A.guid++,o},A.holdReady=function(n){n?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=C,A.isFunction=v,A.isWindow=y,A.camelCase=rn,A.type=E,A.now=Date.now,A.isNumeric=function(n){var e=A.type(n);return("number"===e||"string"===e)&&!isNaN(n-parseFloat(n))},A.trim=function(n){return null==n?"":(n+"").replace(rt,"$1")},void 0===(r=function(){return A}.apply(e,[]))||(n.exports=r);var ot=t.jQuery,at=t.$;return A.noConflict=function(n){return t.$===A&&(t.$=at),n&&t.jQuery===A&&(t.jQuery=ot),A},void 0===o&&(t.jQuery=t.$=A),A}))},function(n,e,t){n.exports=t(332)},function(n,e,t){"use strict";var r=t(120),o=Object.prototype.toString;function a(n){return Array.isArray(n)}function i(n){return void 0===n}function s(n){return"[object ArrayBuffer]"===o.call(n)}function l(n){return null!==n&&"object"==typeof n}function c(n){if("[object Object]"!==o.call(n))return!1;var e=Object.getPrototypeOf(n);return null===e||e===Object.prototype}function u(n){return"[object Function]"===o.call(n)}function d(n,e){if(null!=n)if("object"!=typeof n&&(n=[n]),a(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.call(null,n[o],o,n)}n.exports={isArray:a,isArrayBuffer:s,isBuffer:function(n){return null!==n&&!i(n)&&null!==n.constructor&&!i(n.constructor)&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)},isFormData:function(n){return"[object FormData]"===o.call(n)},isArrayBufferView:function(n){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer&&s(n.buffer)},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n},isObject:l,isPlainObject:c,isUndefined:i,isDate:function(n){return"[object Date]"===o.call(n)},isFile:function(n){return"[object File]"===o.call(n)},isBlob:function(n){return"[object Blob]"===o.call(n)},isFunction:u,isStream:function(n){return l(n)&&u(n.pipe)},isURLSearchParams:function(n){return"[object URLSearchParams]"===o.call(n)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function n(){var e={};function t(t,r){c(e[r])&&c(t)?e[r]=n(e[r],t):c(t)?e[r]=n({},t):a(t)?e[r]=t.slice():e[r]=t}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],t);return e},extend:function(n,e,t){return d(e,(function(e,o){n[o]=t&&"function"==typeof e?r(e,t):e})),n},trim:function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")},stripBOM:function(n){return 65279===n.charCodeAt(0)&&(n=n.slice(1)),n}}},function(n,e,t){"use strict";var r=t(45),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);n.exports=r?i:function(n){return function(){return a.apply(n,arguments)}}},function(n,e,t){"use strict";var r=function(n){return n&&n.Math===Math&&n};n.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";var r="object"==typeof document&&document.all;n.exports=void 0===r&&void 0!==r?function(n){return"function"==typeof n||n===r}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var r=t(8);n.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(92),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();n.exports=a},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){"use strict";var r=t(23),o=t(31),a=t(30),i=t(177),s=t(179);r({target:"Array",proto:!0,arity:1,forced:t(8)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=o(this),t=a(e),r=arguments.length;s(t+r);for(var l=0;l<r;l++)e[t]=arguments[l],t++;return i(e,t),t}})},function(n,e,t){"use strict";var r=t(6),o=t(31),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return a(o(n),e)}},function(n,e,t){"use strict";var r=t(9);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(212),o=t(215);n.exports=function(n,e){var t=o(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";var r=SyntaxError,o=Function,a=TypeError,i=function(n){try{return o('"use strict"; return ('+n+").constructor;")()}catch(n){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(n){s=null}var l=function(){throw new a},c=s?function(){try{return l}catch(n){try{return s(arguments,"callee").get}catch(n){return l}}}():l,u=t(307)(),d=t(309)(),p=Object.getPrototypeOf||(d?function(n){return n.__proto__}:null),h={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):void 0,f={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u&&p?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&p?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&p?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&p?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&p?p(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(p)try{null.error}catch(n){var g=p(p(n));f["%Error.prototype%"]=g}var v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=t(63),b=t(311),x=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),E=y.call(Function.call,String.prototype.replace),j=y.call(Function.call,String.prototype.slice),A=y.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,S=function(n){var e=j(n,0,1),t=j(n,-1);if("%"===e&&"%"!==t)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===t&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return E(n,T,(function(n,e,t,r){o[o.length]=t?E(r,C,"$1"):e||n})),o},k=function(n,e){var t,o=n;if(b(v,o)&&(o="%"+(t=v[o])[0]+"%"),b(f,o)){var s=f[o];if(s===h&&(s=function n(e){var t;if("%AsyncFunction%"===e)t=i("async function () {}");else if("%GeneratorFunction%"===e)t=i("function* () {}");else if("%AsyncGeneratorFunction%"===e)t=i("async function* () {}");else if("%AsyncGenerator%"===e){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=n("%AsyncGenerator%");o&&p&&(t=p(o.prototype))}return f[e]=t,t}(o)),void 0===s&&!e)throw new a("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:t,name:o,value:s}}throw new r("intrinsic "+n+" does not exist!")};n.exports=function(n,e){if("string"!=typeof n||0===n.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,n))throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var t=S(n),o=t.length>0?t[0]:"",i=k("%"+o+"%",e),l=i.name,c=i.value,u=!1,d=i.alias;d&&(o=d[0],w(t,x([0,1],d)));for(var p=1,h=!0;p<t.length;p+=1){var m=t[p],g=j(m,0,1),v=j(m,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&h||(u=!0),b(f,l="%"+(o+="."+m)+"%"))c=f[l];else if(null!=c){if(!(m in c)){if(!e)throw new a("base intrinsic for "+n+" exists, but the property is not available.");return}if(s&&p+1>=t.length){var y=s(c,m);c=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[m]}else h=b(c,m),c=c[m];h&&!u&&(f[l]=c)}}return c}},function(n,e,t){var r=t(320),o=t(118),a=/[T ]/,i=/:/,s=/^(\d{2})$/,l=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],c=/^(\d{4})/,u=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,p=/^-?(\d{3})$/,h=/^-?(\d{2})-?(\d{2})$/,m=/^-?W(\d{2})$/,f=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,x=/^(Z)$/,w=/^([+-])(\d{2})$/,E=/^([+-])(\d{2}):?(\d{2})$/;function j(n,e,t){e=e||0,t=t||0;var r=new Date(0);r.setUTCFullYear(n,0,4);var o=7*e+t+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}n.exports=function(n,e){if(o(n))return new Date(n.getTime());if("string"!=typeof n)return new Date(n);var t=(e||{}).additionalDigits;t=null==t?2:Number(t);var A=function(n){var e,t={},r=n.split(a);i.test(r[0])?(t.date=null,e=r[0]):(t.date=r[0],e=r[1]);if(e){var o=b.exec(e);o?(t.time=e.replace(o[1],""),t.timezone=o[1]):t.time=e}return t}(n),T=function(n,e){var t,r=l[e],o=u[e];if(t=c.exec(n)||o.exec(n)){var a=t[1];return{year:parseInt(a,10),restDateString:n.slice(a.length)}}if(t=s.exec(n)||r.exec(n)){var i=t[1];return{year:100*parseInt(i,10),restDateString:n.slice(i.length)}}return{year:null}}(A.date,t),C=T.year,S=function(n,e){if(null===e)return null;var t,r,o,a;if(0===n.length)return(r=new Date(0)).setUTCFullYear(e),r;if(t=d.exec(n))return r=new Date(0),o=parseInt(t[1],10)-1,r.setUTCFullYear(e,o),r;if(t=p.exec(n)){r=new Date(0);var i=parseInt(t[1],10);return r.setUTCFullYear(e,0,i),r}if(t=h.exec(n)){r=new Date(0),o=parseInt(t[1],10)-1;var s=parseInt(t[2],10);return r.setUTCFullYear(e,o,s),r}if(t=m.exec(n))return a=parseInt(t[1],10)-1,j(e,a);if(t=f.exec(n)){a=parseInt(t[1],10)-1;var l=parseInt(t[2],10)-1;return j(e,a,l)}return null}(T.restDateString,C);if(S){var k,_=S.getTime(),P=0;if(A.time&&(P=function(n){var e,t,r;if(e=g.exec(n))return(t=parseFloat(e[1].replace(",",".")))%24*36e5;if(e=v.exec(n))return t=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),t%24*36e5+6e4*r;if(e=y.exec(n)){t=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return t%24*36e5+6e4*r+1e3*o}return null}(A.time)),A.timezone)k=6e4*function(n){var e,t;if(e=x.exec(n))return 0;if(e=w.exec(n))return t=60*parseInt(e[2],10),"+"===e[1]?-t:t;if(e=E.exec(n))return t=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-t:t;return 0}(A.timezone);else{var D=_+P,B=new Date(D);k=r(B);var I=new Date(D);I.setDate(B.getDate()+1);var O=r(I)-r(B);O>0&&(k+=O)}return new Date(_+P+k)}return new Date(n)}},function(n,e,t){"use strict";var r=t(10),o=t(86),a=t(88),i=t(25),s=t(79),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor;e.f=r?a?function(n,e,t){if(i(n),e=s(e),i(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=u(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(i(n),e=s(e),i(t),o)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new l("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var r=t(305),o=t(318),a=t(64);n.exports={formats:a,parse:o,stringify:r}},function(n,e,t){"use strict";var r=t(1);e.a=new r.a},function(n,e,t){"use strict";var r=t(7),o=t(77).f,a=t(24),i=t(151),s=t(51),l=t(89),c=t(173);n.exports=function(n,e){var t,u,d,p,h,m=n.target,f=n.global,g=n.stat;if(t=f?r:g?r[m]||s(m,{}):(r[m]||{}).prototype)for(u in e){if(p=e[u],d=n.dontCallGetSet?(h=o(t,u))&&h.value:t[u],!c(f?u:m+(g?".":"#")+u,n.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(n.sham||d&&d.sham)&&a(p,"sham",!0),i(t,u,p,n)}}},function(n,e,t){"use strict";var r=t(10),o=t(19),a=t(48);n.exports=r?function(n,e,t){return o.f(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";var r=t(15),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not an object")}},function(n,e,t){var r=t(11).Symbol;n.exports=r},function(n,e,t){var r=t(26),o=t(197),a=t(198),i=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":i&&i in Object(n)?o(n):a(n)}},function(n,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"c",(function(){return a})),t.d(e,"b",(function(){return i}));var r=t(29);function o(n,e){return n=n.filter((t,r)=>{const{title:o,frontmatter:{home:a,date:i,publish:s}}=t;return n.indexOf(t)===r&&(!0===e?!(1==a||null==o||void 0===i||!1===s):!(1==a||null==o||!1===s))})}function a(n){n.sort((n,e)=>{const t=n.frontmatter.sticky,o=e.frontmatter.sticky;return t&&o?t==o?Object(r.a)(n,e):t-o:t&&!o?-1:!t&&o?1:Object(r.a)(n,e)})}function i(n){n.sort((n,e)=>Object(r.a)(n,e))}},function(n,e,t){"use strict";t.d(e,"f",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"k",(function(){return i})),t.d(e,"h",(function(){return l})),t.d(e,"i",(function(){return c})),t.d(e,"j",(function(){return u})),t.d(e,"c",(function(){return d})),t.d(e,"g",(function(){return p})),t.d(e,"m",(function(){return h})),t.d(e,"n",(function(){return m})),t.d(e,"e",(function(){return f})),t.d(e,"l",(function(){return g})),t.d(e,"d",(function(){return v})),t.d(e,"a",(function(){return b}));t(13);const r=/#.*$/,o=/\.(md|html)$/,a=/\/$/,i=/^(https?:|mailto:|tel:)/;function s(n){return decodeURI(n).replace(r,"").replace(o,"")}function l(n){return i.test(n)}function c(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function d(n){if(l(n))return n;const e=n.match(r),t=e?e[0]:"",o=s(n);return a.test(o)?n:o+".html"+t}function p(n,e){const t=n.hash,o=function(n){const e=n.match(r);if(e)return e[0]}(e);if(o&&t!==o)return!1;return s(n.path)===s(e)}function h(n,e,t){t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const o=e.split("/");t&&o[o.length-1]||o.pop();const a=n.replace(/^\//,"").split("/");for(let n=0;n<a.length;n++){const e=a[n];".."===e?o.pop():"."!==e&&o.push(e)}""!==o[0]&&o.unshift("");return o.join("/")}(e,t));const r=s(e);for(let e=0;e<n.length;e++)if(s(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:d(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function m(n,e,t,r){const{pages:o,themeConfig:a}=t,i=r&&a.locales&&a.locales[r]||a;if("auto"===(n.frontmatter.sidebar||i.sidebar||a.sidebar))return function(n){const e=f(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}(n);const s=i.sidebar||a.sidebar;if(s){const{base:n,config:t}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,s);return t?t.map(e=>function n(e,t,r,o=1){if("string"==typeof e)return h(t,e,r);if(Array.isArray(e))return Object.assign(h(t,e[0],r),{title:e[1]});{o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const a=e.children||[];return 0===a.length&&e.path?Object.assign(h(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,children:a.map(e=>n(e,t,r,o+1)),collapsable:!1!==e.collapsable}}}(e,o,n)):[]}return[]}function f(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function g(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function v(n,e="yyyy-MM-dd hh:mm:ss"){n=n.replace(/-/g,"/");const t=new Date(n);/(y+)/.test(e)&&(e=e.replace(RegExp.$1,t.getFullYear()+"").substr(4-RegExp.$1.length));const r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(const n in r)if(RegExp(`(${n})`).test(e)){const t=r[n]+"";e=e.replace(RegExp.$1,2===t.length?t:"0"+t)}return e}function y(n){return new Date(n.frontmatter.date).getTime()}function b(n,e){return y(e)-y(n)}},function(n,e,t){"use strict";var r=t(171);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";var r=t(49),o=Object;n.exports=function(n){return o(r(n))}},function(n,e,t){"use strict";var r=t(170);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){"use strict";var r=t(6),o=r({}.toString),a=r("".slice);n.exports=function(n){return a(o(n),8,-1)}},function(n,e,t){"use strict";var r=t(7),o=t(84),a=t(14),i=t(73),s=t(82),l=t(81),c=r.Symbol,u=o("wks"),d=l?c.for||c:c&&c.withoutSetter||i;n.exports=function(n){return a(u,n)||(u[n]=s&&a(c,n)?c[n]:d("Symbol."+n)),u[n]}},function(n,e,t){"use strict";var r=t(71),o=t(49);n.exports=function(n){return r(o(n))}},function(n,e,t){"use strict";var r=t(7),o=t(9),a=function(n){return o(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?a(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(202),o=t(203),a=t(204),i=t(205),s=t(206);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(94);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(16)(Object,"create");n.exports=r},function(n,e,t){var r=t(224);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(61);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){"use strict";function r(n){this.message=n}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,n.exports=r},function(n,e,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(n,e,t){return n<e?e:n>t?t:n}function a(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=o(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),u=r.speed,d=r.easing;return l.offsetWidth,i((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,o}(n,u,d)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*o(Math.random()*e,.1,.95)),e=o(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var o,i=e.querySelector(r.barSelector),l=n?"-100":a(t.status||0),u=document.querySelector(r.parent);return s(i,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(o=e.querySelector(r.spinnerSelector))&&p(o),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var i=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,o=n.length,a=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=n[o]+a)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,o,a=arguments;if(2==a.length)for(t in e)void 0!==(o=e[t])&&e.hasOwnProperty(t)&&r(n,t,o);else r(n,a[1],a[2])}}();function l(n,e){return("string"==typeof n?n:d(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=d(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=d(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function d(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=o)},function(n,e,t){"use strict";var r=t(9),o=t(155),a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(o(n)+" is not a function")}},function(n,e,t){"use strict";var r=t(8);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var r=t(45),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(n,e,t){"use strict";var r=t(23),o=t(174).left,a=t(175),i=t(83);r({target:"Array",proto:!0,forced:!t(176)&&i>79&&i<83||!a("reduce")},{reduce:function(n){var e=arguments.length;return o(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var r=t(78),o=TypeError;n.exports=function(n){if(r(n))throw new o("Can't call method on "+n);return n}},function(n,e,t){"use strict";var r=t(7),o=t(51),a=r["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},function(n,e,t){"use strict";var r=t(7),o=Object.defineProperty;n.exports=function(n,e){try{o(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){"use strict";n.exports={}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){var r=t(196),o=t(20),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return o(n)&&i.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(16)(t(11),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(216),o=t(223),a=t(225),i=t(226),s=t(227);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(12),o=t(61),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!o(n))||(i.test(n)||!a.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(27),o=t(20);n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var r=t(310);n.exports=Function.prototype.bind||r},function(n,e,t){"use strict";var r=String.prototype.replace,o=/%20/g,a="RFC1738",i="RFC3986";n.exports={default:i,formatters:{RFC1738:function(n){return r.call(n,o,"+")},RFC3986:function(n){return String(n)}},RFC1738:a,RFC3986:i}},function(n,e,t){var r=t(325);n.exports=function(n){return r(n,{weekStartsOn:1})}},function(n,e,t){"use strict";var r=t(5),o=t(337),a=t(122),i=t(123),s={"Content-Type":"application/x-www-form-urlencoded"};function l(n,e){!r.isUndefined(n)&&r.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}var c,u={transitional:i,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=t(124)),c),transformRequest:[function(n,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(n)||r.isArrayBuffer(n)||r.isBuffer(n)||r.isStream(n)||r.isFile(n)||r.isBlob(n)?n:r.isArrayBufferView(n)?n.buffer:r.isURLSearchParams(n)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):r.isObject(n)||e&&"application/json"===e["Content-Type"]?(l(e,"application/json"),function(n,e,t){if(r.isString(n))try{return(e||JSON.parse)(n),r.trim(n)}catch(n){if("SyntaxError"!==n.name)throw n}return(t||JSON.stringify)(n)}(n)):n}],transformResponse:[function(n){var e=this.transitional||u.transitional,t=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,i=!t&&"json"===this.responseType;if(i||o&&r.isString(n)&&n.length)try{return JSON.parse(n)}catch(n){if(i){if("SyntaxError"===n.name)throw a(n,this,"E_JSON_PARSE");throw n}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(n){u.headers[n]={}})),r.forEach(["post","put","patch"],(function(n){u.headers[n]=r.merge(s)})),n.exports=u},function(n,e,t){"use strict";function r(n,e){for(var t in e)n[t]=e[t];return n}t.d(e,"a",(function(){return Gn}));var o=/[!'()*]/g,a=function(n){return"%"+n.charCodeAt(0).toString(16)},i=/%2C/g,s=function(n){return encodeURIComponent(n).replace(o,a).replace(i,",")};function l(n){try{return decodeURIComponent(n)}catch(n){0}return n}var c=function(n){return null==n||"object"==typeof n?n:String(n)};function u(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=l(t.shift()),o=t.length>0?l(t.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]})),e):e}function d(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return s(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(s(e)):r.push(s(e)+"="+s(n)))})),r.join("&")}return s(e)+"="+s(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function h(n,e,t,r){var o=r&&r.options.stringifyQuery,a=e.query||{};try{a=m(a)}catch(n){}var i={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:v(e,o),matched:n?g(n):[]};return t&&(i.redirectedFrom=v(t,o)),Object.freeze(i)}function m(n){if(Array.isArray(n))return n.map(m);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=m(n[t]);return e}return n}var f=h(null,{path:"/"});function g(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function v(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var o=n.hash;return void 0===o&&(o=""),(t||"/")+(e||d)(r)+o}function y(n,e,t){return e===f?n===e:!!e&&(n.path&&e.path?n.path.replace(p,"")===e.path.replace(p,"")&&(t||n.hash===e.hash&&b(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&b(n.query,e.query)&&b(n.params,e.params))))}function b(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,o){var a=n[t];if(r[o]!==t)return!1;var i=e[t];return null==a||null==i?a===i:"object"==typeof a&&"object"==typeof i?b(a,i):String(a)===String(i)}))}function x(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var o=t.instances[r],a=t.enteredCbs[r];if(o&&a){delete t.enteredCbs[r];for(var i=0;i<a.length;i++)o._isBeingDestroyed||a[i](o)}}}}var w={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,o=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var s=a.$createElement,l=t.name,c=a.$route,u=a._routerViewCache||(a._routerViewCache={}),d=0,p=!1;a&&a._routerRoot!==a;){var h=a.$vnode?a.$vnode.data:{};h.routerView&&d++,h.keepAlive&&a._directInactive&&a._inactive&&(p=!0),a=a.$parent}if(i.routerViewDepth=d,p){var m=u[l],f=m&&m.component;return f?(m.configProps&&E(f,i,m.route,m.configProps),s(f,i,o)):s()}var g=c.matched[d],v=g&&g.components[l];if(!g||!v)return u[l]=null,s();u[l]={component:v},i.registerRouteInstance=function(n,e){var t=g.instances[l];(e&&t!==n||!e&&t===n)&&(g.instances[l]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){g.instances[l]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==g.instances[l]&&(g.instances[l]=n.componentInstance),x(c)};var y=g.props&&g.props[l];return y&&(r(u[l],{route:c,configProps:y}),E(v,i,c,y)),s(v,i,o)}};function E(n,e,t,o){var a=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,o);if(a){a=e.props=r({},a);var i=e.attrs=e.attrs||{};for(var s in a)n.props&&s in n.props||(i[s]=a[s],delete a[s])}}function j(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var o=e.split("/");t&&o[o.length-1]||o.pop();for(var a=n.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var s=a[i];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function A(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var T=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},C=H,S=B,k=function(n,e){return O(B(n,e),e)},_=O,P=F,D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(n,e){for(var t,r=[],o=0,a=0,i="",s=e&&e.delimiter||"/";null!=(t=D.exec(n));){var l=t[0],c=t[1],u=t.index;if(i+=n.slice(a,u),a=u+l.length,c)i+=c[1];else{var d=n[a],p=t[2],h=t[3],m=t[4],f=t[5],g=t[6],v=t[7];i&&(r.push(i),i="");var y=null!=p&&null!=d&&d!==p,b="+"===g||"*"===g,x="?"===g||"*"===g,w=t[2]||s,E=m||f;r.push({name:h||o++,prefix:p||"",delimiter:w,optional:x,repeat:b,partial:y,asterisk:!!v,pattern:E?M(E):v?".*":"[^"+R(w)+"]+?"})}}return a<n.length&&(i+=n.substr(a)),i&&r.push(i),r}function I(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function O(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",L(e)));return function(e,r){for(var o="",a=e||{},i=(r||{}).pretty?I:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,u=a[l.name];if(null==u){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(T(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=i(u[d]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):i(u),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');o+=l.prefix+c}}else o+=l}return o}}function R(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function M(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function z(n,e){return n.keys=e,n}function L(n){return n&&n.sensitive?"":"i"}function F(n,e,t){T(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,a="",i=0;i<n.length;i++){var s=n[i];if("string"==typeof s)a+=R(s);else{var l=R(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),a+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=R(t.delimiter||"/"),d=a.slice(-u.length)===u;return r||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=o?"$":r&&d?"":"(?="+u+"|$)",z(new RegExp("^"+a,L(t)),e)}function H(n,e,t){return T(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(n,e)}(n,e):T(n)?function(n,e,t){for(var r=[],o=0;o<n.length;o++)r.push(H(n[o],e,t).source);return z(new RegExp("(?:"+r.join("|")+")",L(t)),e)}(n,e,t):function(n,e,t){return F(B(n,t),e,t)}(n,e,t)}C.parse=S,C.compile=k,C.tokensToFunction=_,C.tokensToRegExp=P;var q=Object.create(null);function N(n,e,t){e=e||{};try{var r=q[n]||(q[n]=C.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function $(n,e,t,o){var a="string"==typeof n?{path:n}:n;if(a._normalized)return a;if(a.name){var i=(a=r({},n)).params;return i&&"object"==typeof i&&(a.params=r({},i)),a}if(!a.path&&a.params&&e){(a=r({},a))._normalized=!0;var s=r(r({},e.params),a.params);if(e.name)a.name=e.name,a.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;a.path=N(l,s,e.path)}else 0;return a}var d=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var o=n.indexOf("?");return o>=0&&(t=n.slice(o+1),n=n.slice(0,o)),{path:n,query:t,hash:e}}(a.path||""),p=e&&e.path||"/",h=d.path?j(d.path,p,t||a.append):p,m=function(n,e,t){void 0===e&&(e={});var r,o=t||u;try{r=o(n||"")}catch(n){r={}}for(var a in e){var i=e[a];r[a]=Array.isArray(i)?i.map(c):c(i)}return r}(d.query,a.query,o&&o.options.parseQuery),f=a.hash||d.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:h,query:m,hash:f}}var U,V=function(){},G={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,o=this.$route,a=t.resolve(this.to,o,this.append),i=a.location,s=a.route,l=a.href,c={},u=t.options.linkActiveClass,d=t.options.linkExactActiveClass,m=null==u?"router-link-active":u,f=null==d?"router-link-exact-active":d,g=null==this.activeClass?m:this.activeClass,v=null==this.exactActiveClass?f:this.exactActiveClass,b=s.redirectedFrom?h(null,$(s.redirectedFrom),null,t):s;c[v]=y(o,b,this.exactPath),c[g]=this.exact||this.exactPath?c[v]:function(n,e){return 0===n.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(o,b);var x=c[v]?this.ariaCurrentValue:null,w=function(n){W(n)&&(e.replace?t.replace(i,V):t.push(i,V))},E={click:W};Array.isArray(this.event)?this.event.forEach((function(n){E[n]=w})):E[this.event]=w;var j={class:c},A=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:w,isActive:c[g],isExactActive:c[v]});if(A){if(1===A.length)return A[0];if(A.length>1||!A.length)return 0===A.length?n():n("span",{},A)}if("a"===this.tag)j.on=E,j.attrs={href:l,"aria-current":x};else{var T=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(T){T.isStatic=!1;var C=T.data=r({},T.data);for(var S in C.on=C.on||{},C.on){var k=C.on[S];S in E&&(C.on[S]=Array.isArray(k)?k:[k])}for(var _ in E)_ in C.on?C.on[_].push(E[_]):C.on[_]=w;var P=T.data.attrs=r({},T.data.attrs);P.href=l,P["aria-current"]=x}else j.on=E}return n(this.tag,j,this.$slots.default)}};function W(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Q="undefined"!=typeof window;function J(n,e,t,r,o){var a=e||[],i=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,o,a,i){var s=o.path,l=o.name;0;var c=o.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return A(e.path+"/"+n)}(s,a,c.strict);"boolean"==typeof o.caseSensitive&&(c.sensitive=o.caseSensitive);var d={path:u,regex:Y(u,c),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:l,parent:a,matchAs:i,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var a=i?A(i+"/"+o.path):void 0;n(e,t,r,o,d,a)}));t[d.path]||(e.push(d.path),t[d.path]=d);if(void 0!==o.alias)for(var p=Array.isArray(o.alias)?o.alias:[o.alias],h=0;h<p.length;++h){0;var m={path:p[h],children:o.children};n(e,t,r,m,a,d.path||"/")}l&&(r[l]||(r[l]=d))}(a,i,s,n,o)}));for(var l=0,c=a.length;l<c;l++)"*"===a[l]&&(a.push(a.splice(l,1)[0]),c--,l--);return{pathList:a,pathMap:i,nameMap:s}}function Y(n,e){return C(n,[],e)}function K(n,e){var t=J(n),r=t.pathList,o=t.pathMap,a=t.nameMap;function i(n,t,i){var s=$(n,t,!1,e),c=s.name;if(c){var u=a[c];if(!u)return l(null,s);var d=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in s.params)&&d.indexOf(p)>-1&&(s.params[p]=t.params[p]);return s.path=N(u.path,s.params),l(u,s,i)}if(s.path){s.params={};for(var h=0;h<r.length;h++){var m=r[h],f=o[m];if(Z(f.regex,s.path,s.params))return l(f,s,i)}}return l(null,s)}function s(n,t){var r=n.redirect,o="function"==typeof r?r(h(n,t,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return l(null,t);var s=o,c=s.name,u=s.path,d=t.query,p=t.hash,m=t.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,m=s.hasOwnProperty("params")?s.params:m,c){a[c];return i({_normalized:!0,name:c,query:d,hash:p,params:m},void 0,t)}if(u){var f=function(n,e){return j(n,e.parent?e.parent.path:"/",!0)}(u,n);return i({_normalized:!0,path:N(f,m),query:d,hash:p},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=i({_normalized:!0,path:N(t,e.params)});if(r){var o=r.matched,a=o[o.length-1];return e.params=r.params,l(a,e)}return l(null,e)}(0,t,n.matchAs):h(n,t,r,e)}return{match:i,addRoute:function(n,e){var t="object"!=typeof n?a[n]:void 0;J([e||n],r,o,a,t),t&&t.alias.length&&J(t.alias.map((function(n){return{path:n,children:[e]}})),r,o,a,t)},getRoutes:function(){return r.map((function(n){return o[n]}))},addRoutes:function(n){J(n,r,o,a)}}}function Z(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var o=1,a=r.length;o<a;++o){var i=n.keys[o-1];i&&(t[i.name||"pathMatch"]="string"==typeof r[o]?l(r[o]):r[o])}return!0}var X=Q&&window.performance&&window.performance.now?window.performance:Date;function nn(){return X.now().toFixed(3)}var en=nn();function tn(){return en}function rn(n){return en=n}var on=Object.create(null);function an(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=r({},window.history.state);return t.key=tn(),window.history.replaceState(t,"",e),window.addEventListener("popstate",cn),function(){window.removeEventListener("popstate",cn)}}function sn(n,e,t,r){if(n.app){var o=n.options.scrollBehavior;o&&n.app.$nextTick((function(){var a=function(){var n=tn();if(n)return on[n]}(),i=o.call(n,e,t,r?a:null);i&&("function"==typeof i.then?i.then((function(n){mn(n,a)})).catch((function(n){0})):mn(i,a))}))}}function ln(){var n=tn();n&&(on[n]={x:window.pageXOffset,y:window.pageYOffset})}function cn(n){ln(),n.state&&n.state.key&&rn(n.state.key)}function un(n){return pn(n.x)||pn(n.y)}function dn(n){return{x:pn(n.x)?n.x:window.pageXOffset,y:pn(n.y)?n.y:window.pageYOffset}}function pn(n){return"number"==typeof n}var hn=/^#\d/;function mn(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var o=hn.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(o){var a=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(o,a={x:pn((t=a).x)?t.x:0,y:pn(t.y)?t.y:0})}else un(n)&&(e=dn(n))}else r&&un(n)&&(e=dn(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var fn,gn=Q&&((-1===(fn=window.navigator.userAgent).indexOf("Android 2.")&&-1===fn.indexOf("Android 4.0")||-1===fn.indexOf("Mobile Safari")||-1!==fn.indexOf("Chrome")||-1!==fn.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vn(n,e){ln();var t=window.history;try{if(e){var o=r({},t.state);o.key=tn(),t.replaceState(o,"",n)}else t.pushState({key:rn(nn())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function yn(n){vn(n,!0)}var bn={redirected:2,aborted:4,cancelled:8,duplicated:16};function xn(n,e){return En(n,e,bn.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return jn.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function wn(n,e){return En(n,e,bn.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function En(n,e,t,r){var o=new Error(r);return o._isRouter=!0,o.from=n,o.to=e,o.type=t,o}var jn=["params","query","hash"];function An(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function Tn(n,e){return An(n)&&n._isRouter&&(null==e||n.type===e)}function Cn(n,e,t){var r=function(o){o>=n.length?t():n[o]?e(n[o],(function(){r(o+1)})):r(o+1)};r(0)}function Sn(n){return function(e,t,r){var o=!1,a=0,i=null;kn(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){o=!0,a++;var l,c=Dn((function(e){var o;((o=e).__esModule||Pn&&"Module"===o[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:U.extend(e),t.components[s]=e,--a<=0&&r()})),u=Dn((function(n){var e="Failed to resolve async component "+s+": "+n;i||(i=An(n)?n:new Error(e),r(i))}));try{l=n(c,u)}catch(n){u(n)}if(l)if("function"==typeof l.then)l.then(c,u);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,u)}}})),o||r()}}function kn(n,e){return _n(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function _n(n){return Array.prototype.concat.apply([],n)}var Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Dn(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Bn=function(n,e){this.router=n,this.base=function(n){if(!n)if(Q){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=f,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function In(n,e,t,r){var o=kn(n,(function(n,r,o,a){var i=function(n,e){"function"!=typeof n&&(n=U.extend(n));return n.options[e]}(n,e);if(i)return Array.isArray(i)?i.map((function(n){return t(n,r,o,a)})):t(i,r,o,a)}));return _n(r?o.reverse():o)}function On(n,e){if(e)return function(){return n.apply(e,arguments)}}Bn.prototype.listen=function(n){this.cb=n},Bn.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Bn.prototype.onError=function(n){this.errorCbs.push(n)},Bn.prototype.transitionTo=function(n,e,t){var r,o=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),e&&e(r),o.ensureURL(),o.router.afterHooks.forEach((function(n){n&&n(r,a)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!o.ready&&(Tn(n,bn.redirected)&&a===f||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(n)}))))}))},Bn.prototype.confirmTransition=function(n,e,t){var r=this,o=this.current;this.pending=n;var a,i,s=function(n){!Tn(n)&&An(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=o.matched.length-1;if(y(n,o)&&l===c&&n.matched[l]===o.matched[c])return this.ensureURL(),n.hash&&sn(this.router,o,n,!1),s(((i=En(a=o,n,bn.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",i));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),d=u.updated,p=u.deactivated,h=u.activated,m=[].concat(function(n){return In(n,"beforeRouteLeave",On,!0)}(p),this.router.beforeHooks,function(n){return In(n,"beforeRouteUpdate",On)}(d),h.map((function(n){return n.beforeEnter})),Sn(h)),f=function(e,t){if(r.pending!==n)return s(wn(o,n));try{e(n,o,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return En(n,e,bn.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,n))):An(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(xn(o,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Cn(m,f,(function(){Cn(function(n){return In(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,o,a){return n(r,o,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),a(n)}))}}(n,t,r)}))}(h).concat(r.router.resolveHooks),f,(function(){if(r.pending!==n)return s(wn(o,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){x(n)}))}))}))},Bn.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Bn.prototype.setupListeners=function(){},Bn.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=f,this.pending=null};var Rn=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Mn(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=gn&&t;r&&this.listeners.push(an());var o=function(){var t=n.current,o=Mn(n.base);n.current===f&&o===n._startLocation||n.transitionTo(o,(function(n){r&&sn(e,n,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){vn(A(r.base+n.fullPath)),sn(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){yn(A(r.base+n.fullPath)),sn(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Mn(this.base)!==this.current.fullPath){var e=A(this.base+this.current.fullPath);n?vn(e):yn(e)}},e.prototype.getCurrentLocation=function(){return Mn(this.base)},e}(Bn);function Mn(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(A(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var zn=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Mn(n);if(!/^\/#/.test(e))return window.location.replace(A(n+"/#"+e)),!0}(this.base)||Ln()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=gn&&e;t&&this.listeners.push(an());var r=function(){var e=n.current;Ln()&&n.transitionTo(Fn(),(function(r){t&&sn(n.router,r,e,!0),gn||Nn(r.fullPath)}))},o=gn?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},e.prototype.push=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){qn(n.fullPath),sn(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,o=this.current;this.transitionTo(n,(function(n){Nn(n.fullPath),sn(r.router,n,o,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Fn()!==e&&(n?qn(e):Nn(e))},e.prototype.getCurrentLocation=function(){return Fn()},e}(Bn);function Ln(){var n=Fn();return"/"===n.charAt(0)||(Nn("/"+n),!1)}function Fn(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Hn(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function qn(n){gn?vn(Hn(n)):window.location.hash=n}function Nn(n){gn?yn(Hn(n)):window.location.replace(Hn(n))}var $n=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){Tn(n,bn.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Bn),Un=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=K(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!gn&&!1!==n.fallback,this.fallback&&(e="hash"),Q||(e="abstract"),this.mode=e,e){case"history":this.history=new Rn(this,n.base);break;case"hash":this.history=new zn(this,n.base,this.fallback);break;case"abstract":this.history=new $n(this,n.base);break;default:0}},Vn={currentRoute:{configurable:!0}};Un.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Vn.currentRoute.get=function(){return this.history&&this.history.current},Un.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Rn||t instanceof zn){var r=function(n){t.setupListeners(),function(n){var r=t.current,o=e.options.scrollBehavior;gn&&o&&"fullPath"in n&&sn(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},Un.prototype.beforeEach=function(n){return Wn(this.beforeHooks,n)},Un.prototype.beforeResolve=function(n){return Wn(this.resolveHooks,n)},Un.prototype.afterEach=function(n){return Wn(this.afterHooks,n)},Un.prototype.onReady=function(n,e){this.history.onReady(n,e)},Un.prototype.onError=function(n){this.history.onError(n)},Un.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},Un.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},Un.prototype.go=function(n){this.history.go(n)},Un.prototype.back=function(){this.go(-1)},Un.prototype.forward=function(){this.go(1)},Un.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},Un.prototype.resolve=function(n,e,t){var r=$(n,e=e||this.history.current,t,this),o=this.match(r,e),a=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?A(n+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:o}},Un.prototype.getRoutes=function(){return this.matcher.getRoutes()},Un.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},Un.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==f&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Un.prototype,Vn);var Gn=Un;function Wn(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}Un.install=function n(e){if(!n.installed||U!==e){n.installed=!0,U=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",w),e.component("RouterLink",G);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},Un.version="3.6.5",Un.isNavigationFailure=Tn,Un.NavigationFailureType=bn,Un.START_LOCATION=f,Q&&window.Vue&&window.Vue.use(Un)},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAACMCAYAAACksC0pAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALjSURBVHhe7doxbuswFETRSG68pVTZ+y+SJdmVE/GDC0hzBxnynoqpBGhIaoy84/vyBnu9Xv9ut9vH/HN5j8fj836/v88/Mc/n8+uca9RxHPgm2VUkwN2kNux4TiTA65Y+5nIL53m+5hI1nuMJLGeAgKu0xW42AwQEiv1/10bJBLhhC0198z2BBFtoueUC3I0BlkvdOLZQyGiHc4myhXJsoc2CG9YWSkgFeJ6nJYZgCy1nCy23XIC7tVBPYL/YhjVAwGiHc4mK/Uc+daX8FbZQ/YrfQEhqpGIwQEDqkzE2SiTA3X5GJHkCAcuVmN1aqIO95ZIb1gABqQD9GQG5XuxcsRyp4KSuUE8gwRZabrkAd2OA5Wyh5Rzs7WcLbRbcsLZQQipAB3shttByttByywW4Wwv1BPaLbVgDBDjYW84WWs5vYLnkjWOAgFSADvYuwBMISG1YWyhkvNi5RNlCIZaYcqkAx3MMEHC92LliOVLBSV2hnkBCasPGSowtlGELLWeAEFtoOQd7+9lCmwU3rC2UkApwjG54AgGpAG2hEFtoueUC3K2FegL7xTasAQJGO5xLlCMVEFtoOb+B5ZI3jgECUgE62LsATyAgtWFtoRBHKspZYsqlAhzPMUDA9WLniuVIBSd1hXoCCakNGysxtlCGLbScAUJsoeUc7O1nC20W3LC2UEIqwDG64QkEpAK0hUJsoeWWC3C3FuoJ7BfbsAYIGO1wLlGOVEBsoeX8BpZL3jgGCEgF6GDvAjyBgOVKzG4tNDVSEfsZsRtLTLlUgOM5Bgi4XuxcsRyp4KSuUE8gwRZabrkAd2OA5Wyh5Rzs7WcLbRbcsLZQQipAB3shttByttByywW4Wwv1BPaLbVgDBDjYW84Wql/xGwgZ85pziTNAQOqT4WDvAjyBgOVKzG4t1MHecskNa4CAVID+jIBcL3auWI5UcFJXqCeQYAstt1yAuzHAcrbQcg729rOFNstt2LfvHxY+GuRFc4rhAAAAAElFTkSuQmCC"},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALUAAAByCAYAAAAVvpClAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAq+SURBVHhe7Z3psx1FGcZvtptAIAsGIhDgGqJRSCC4YSitsspPqH+Ef5r/gh/0m37RKlfihoJaBa6oBMyVJUBY4vNMv+d6zzkzZ3qm39l6nl9VV3fP2Wbefk5PT/fb3VtCCNEVB2/vA/mL4bAQ0+Ru0/IS9poQk+O8aXgJHD8TXhZiWlw1Da9hrwsxGY6bdkvB65fC24SYBg+Ydiux94mWHLRY9MNlaPYflhZi0twZ6uB68N5z4SOiLQcsFt1xBlq9bulaDgBLipao+dEtjzYU9FVLigRUK3TDEYj5lqWjgagPIfoo5ERbVFP7c6KNoA0J2gGJ2hd21/3X0o1ALf2IJUUiY29+DHV+/LMfQWCNG1N7HoaY37d0K/SA6MfQhrwD4SjCMYjin8WREQB9fQvRHxB+hfAuj22Ao4NvWboV+L2vIPoRk8WBaTKaQaO+jXgXw5gEXAWE9hQiinoTjbrr5gDs9hCidyzc5LG+6UPU2wj3TEHIC1Awn0d0DWFT7XMJ1/RbS4sNwJ70OHwDIamJFkuXoj6FQr9h6UmBQthkFzaVWAuJFsC0pxC1epiOpYvej5ModDJVQfPOUgXvOBJ0ArDfLsWB5McQOqlUPUXNGozsWn5yQNAPI6q6RT6Ga3vd0iIR2PI1BPYsPYjgKm6vL9vBCb5s6ckCUfNPvtqOTu6uE/XA9icQvRlyaaSK+igKvK7LazLAsKv2SO6uE81AEbCLt+2IbEFK8+N0ZoJmd+N+DknQ/QObv4fodMi1o62on8CP/8fSubDap3q/xaJnTFtPILRqSTT9ENem+NDSWVHS9DiM8HVc73dCVgwBiqXsOWcjTUSdraBJiagJDcpeDw2yDAiKhn44H4RcPbHNj9wFza68Mtjl9DxePxuyYgigPfY+0dc8iihR5yxoo+729iqEfbelxQBAg6ypo/Qa86anLc4WGOxvltzEW3YbFAMRW7nWiZpOOz+xtEC7DsImj1pe9Az0WPvQuEnUXLRwFg9IECmdbJrwEj5D3wUxDM9aXEpl70fMP8ITiIT9whzMYWAHfJ+0vdZtmKnvcxUAevkEoj+H3DKlou5D0Dip84joYJ/DqN2TMFndhIJKYIuvIfpByE0S9ulzeJuTjl8pjvQA7MaWxppWy0TNmSkujiVl4ES4AlGOS2/dC7u9aunGwC5NxgymQJI9Yimz21qbuitB47d37ARyXUvuOi7vuKXbwGHhnKA9yKpPjTc7Fu+xqvIvQNQ/s7QbuDBOsM3G+akGVhRXYMfnQjYeKsCSOdLZTKhVuy3V1N6Cxm9dsh+ci6AJRyGv4bLp/N6UnHcP2KUWwBXLuwHdLrWr9xS++kIqOHk+CE5+4kAijWsnlrolc+Yc7BIz4BXNfrt1Imp8f2V3ywyhX3a0M85MRE3oj+/qvryw3aL5cZ/FyeB7n0EkQf+fD2lscMHydcxltPIGbNLJAFahbOdaurTvUBTcB1P/29KV8B9gyTnwadjkBUsnAbM9huiFtS69FPCl7L6RoKuht1+MU9SdFs+BF2GTb1g6Cfw5fs+42GW1OJIITuyziN4OObGBhVMU7VUKimRudvy+xR4cOuAoag6V5u537Q2X/i0djKLqLTkXHoIt/mrpJFyaH7A/R8Mk6Oa8AttVjUJ+0uK54NbF59WmftFi0ZybrJUBe432QK31R0vOBtigalpdI1yaHywRS4o0HkFxFN2hMOkDiCazUqwXLnpM/RIYn8PBvbkbzgROMp1lc24sola/tPCEK8smLcTpIWo1PYQrqZpMelCEnr9kSSFGQ2rvhwZbhDuoLJN2/k0VdefTdcQsSZq3mipqbk4jhDdJO56lijr180KUkbTRkUQpxkiSLiVqkR0StciOVFHHbEYvRFOGG3wBTRdWFCKG6AXWy5CoxRg5aXErUkWdssyWEFUkLeqTJOrbt2//wpJCeJK0FYm89MToGNRLz0hq/wixQnIl6SFqLiAyV7YtFn4k7zSsOYrt2T+fkGsk/4VpkYaHHj1qasLdAWbFQtDE0powkY7Lln4uokahui7LOgVQO3/KkgWwwY8RWMvMackwby5anIRL84OgkLlmw6zEXWU72EIz7JvTaMnjTRxEAXC5sGRwQlwyijs0zR7YgkuJPRVyIpLLFifD5ofn+hLcOm02oEKoHFGFsK8hsCZ3qTQyhxvR/tLSSaBMijU7mPhMcSQRnNh3Ebm0iybCTYsrgU3eR+S2qH2GsNnhOi1w8aDothYeTpDfdU/I5Q8qhNodAmATLrSu/czL+arFyaAszhZxkQMwvMsD4wL8AIXdyRZjY6OJ7WAXulXKDz1wEaZzq1Bh20LPe116yLu2/XCy3KRmdv3XdcAufIaRy+7W1gVnQe9tErq/n9p9QUKcNLv4ngy5fIFB77VkFLAL72Bc1XSucBPaP1nai70R3bXhbfyYazNkAQr+NKLdkMuPNnaDTT6HiE/9ndh8hByHmZIWqikDdryE6Hcht1xTF+AN3APRHVzMDSv4LCcWwG6N70gwx3MIbF/PYRSSvjLugjb2BE1KHZFMfJ0CEfCW/VrI5UGK3XK0h/EgzPJ3S7sDu3FCwdKfZa2mJnhj6XFPcKHXKQKC7McReHKTduWE3VoPPsEMXGorl+ePE6FkCzoTtLFW+29yGd3BCb1sadEj+HPQ3eBWyDVmU5l6wwqJTSee7zb08i8e7AvYqfRa6wzwLE70e5YWPYLyatPPfxLlle3D+H5gnxOI3gy5ZWr/1TBS5+1rUQ4KjqOQL4VcPXMpK9iFzk/Ph9w6UbcqCXtYUIh0nq91y5xDOcEWnIzx05ArJ7b9xe2etfnngKAw157ySziHcsrapx12qNVsbC/HR/guuVAOCMTK9mPdIi+xldQkgQaj9NrUCIdhXLpSioFAwXLLbA42rDlFoWyybX7guqMdwZr2R39gXy4GArr9DaJvInQ+ljAGoLdnrIaO9mxse7vi5y7DwL8OWdE3KOhVX5rsnntwjRyM4p+4EaltsNMwJF1MRc/YHXN/7ZVVWeD6WvvjezxYcCTpPUuLHkCBcxTvnZALoAyyaU/j+o4haq0pj3bZLZwE0Zp6PQA7s896SdDAo3IaHFzbWQoJyaRK0vNh4w2czyEEzXbpANh1xwq8bBBm8jbHpbF2dtlstqt/OP8sp3BHfD1kRQoo8E3tyyOwc1vnp8HBtfEO7zqbvI/bFsU9iwm4XYBCvwPRuyG3zlTb0riumBHSVvTR17mLCyDbCEnbHswJ2OpxGg3JKkHzNU4Hmwy4nPsRjtp1dTULZtAHDLahOLXrGCqbrh3JJwXKPGYWzBXYzWVVoy7BtXAtDg7xrz7cdsaQoi6Dd46pdk3xvL8Mof0wZNsBEdyF6O2Qq4QVwhUErpvx7eLICMC5cwYT2/dcuWqwbt6xiXrSQGCt/5AQxNOIfo4Q8x3883PqG/1wooePHaFuhvhd0TMPU9RtwGfnvAaIO6qpnTBxNgY1tHuX1tyRqH1o5UwEQS+aEMKRPrr05sAXLY4CYr6AwApFgu4A1dQONGl6QMu5LlozGlRTpxPtdwFBs19eghbjhrV0HXib234mQnQNt3bYCN6j7rqeUfMjjcctLgXNDY4Oaus5MR2sMl4DL10N7xBiWpwxDS+B4+fDy0JMDNPwEjhMH2EhJgs95PZAXs8no2Br638Xmb1wGMv52wAAAABJRU5ErkJggg=="},function(n,e,t){"use strict";var r=t(153),o=String;n.exports=function(n){if("Symbol"===r(n))throw new TypeError("Cannot convert a Symbol value to a string");return o(n)}},function(n,e,t){"use strict";var r=t(6),o=t(8),a=t(33),i=Object,s=r("".split);n.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(n){return"String"===a(n)?s(n,""):i(n)}:i},function(n,e,t){"use strict";var r=t(6);n.exports=r({}.isPrototypeOf)},function(n,e,t){"use strict";var r=t(6),o=0,a=Math.random(),i=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+i(++o+a,36)}},function(n,e,t){"use strict";var r=t(84),o=t(73),a=r("keys");n.exports=function(n){return a[n]||(a[n]=o(n))}},function(n,e,t){"use strict";var r=t(183),o=t(25),a=t(184);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return o(t),a(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e,t){"use strict";var r=t(10),o=t(46),a=t(159),i=t(48),s=t(35),l=t(79),c=t(14),u=t(86),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(n,e){if(n=s(n),e=l(e),u)try{return d(n,e)}catch(n){}if(c(n,e))return i(!o(a.f,n,e),n[e])}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var r=t(154),o=t(80);n.exports=function(n){var e=r(n,"string");return o(e)?e:e+""}},function(n,e,t){"use strict";var r=t(36),o=t(9),a=t(72),i=t(81),s=Object;n.exports=i?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return o(e)&&a(e.prototype,s(n))}},function(n,e,t){"use strict";var r=t(82);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var r=t(83),o=t(8),a=t(7).String;n.exports=!!Object.getOwnPropertySymbols&&!o((function(){var n=Symbol("symbol detection");return!a(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){"use strict";var r,o,a=t(7),i=t(160),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},function(n,e,t){"use strict";var r=t(85),o=t(50);(n.exports=function(n,e){return o[n]||(o[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.35.0",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var r=t(10),o=t(8),a=t(87);n.exports=!r&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var r=t(7),o=t(15),a=r.document,i=o(a)&&o(a.createElement);n.exports=function(n){return i?a.createElement(n):{}}},function(n,e,t){"use strict";var r=t(10),o=t(8);n.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var r=t(14),o=t(166),a=t(77),i=t(19);n.exports=function(n,e,t){for(var s=o(e),l=i.f,c=a.f,u=0;u<s.length;u++){var d=s[u];r(n,d)||t&&r(t,d)||l(n,d,c(e,d))}}},function(n,e,t){"use strict";var r=t(6),o=t(14),a=t(35),i=t(168).indexOf,s=t(52),l=r([].push);n.exports=function(n,e){var t,r=a(n),c=0,u=[];for(t in r)!o(s,t)&&o(r,t)&&l(u,t);for(;e.length>c;)o(r,t=e[c++])&&(~i(u,t)||l(u,t));return u}},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(37),o=t(207),a=t(208),i=t(209),s=t(210),l=t(211);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(27),o=t(56);n.exports=function(n){if(!o(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(228),o=t(20);n.exports=function n(e,t,a,i,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!=e&&t!=t:r(e,t,a,i,n,s))}},function(n,e,t){var r=t(99),o=t(231),a=t(100);n.exports=function(n,e,t,i,s,l){var c=1&t,u=n.length,d=e.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(n),h=l.get(e);if(p&&h)return p==e&&h==n;var m=-1,f=!0,g=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++m<u;){var v=n[m],y=e[m];if(i)var b=c?i(y,v,m,e,n,l):i(v,y,m,n,e,l);if(void 0!==b){if(b)continue;f=!1;break}if(g){if(!o(e,(function(n,e){if(!a(g,e)&&(v===n||s(v,n,t,i,l)))return g.push(e)}))){f=!1;break}}else if(v!==y&&!s(v,y,t,i,l)){f=!1;break}}return l.delete(n),l.delete(e),f}},function(n,e,t){var r=t(57),o=t(229),a=t(230);function i(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,n.exports=i},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(241),o=t(247),a=t(105);n.exports=function(n){return a(n)?r(n):o(n)}},function(n,e,t){(function(n){var r=t(11),o=t(243),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,s=i&&i.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;n.exports=l}).call(this,t(76)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(244),o=t(245),a=t(246),i=a&&a.isTypedArray,s=i?o(i):r;n.exports=s},function(n,e,t){var r=t(95),o=t(59);n.exports=function(n){return null!=n&&o(n.length)&&!r(n)}},function(n,e,t){var r=t(16)(t(11),"Set");n.exports=r},function(n,e,t){var r=t(56);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(110),o=t(41);n.exports=function(n,e){for(var t=0,a=(e=r(e,n)).length;null!=n&&t<a;)n=n[o(e[t++])];return t&&t==a?n:void 0}},function(n,e,t){var r=t(12),o=t(60),a=t(258),i=t(261);n.exports=function(n,e){return r(n)?n:o(n,e)?[n]:a(i(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";var r=t(17)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(n){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(n){return!0}},n.exports=o},function(n,e,t){"use strict";var r=t(17)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(n){r=null}n.exports=r},function(n,e,t){"use strict";var r=t(64),o=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),s=function(n,e){for(var t=e&&e.plainObjects?Object.create(null):{},r=0;r<n.length;++r)void 0!==n[r]&&(t[r]=n[r]);return t};n.exports={arrayToObject:s,assign:function(n,e){return Object.keys(e).reduce((function(n,t){return n[t]=e[t],n}),n)},combine:function(n,e){return[].concat(n,e)},compact:function(n){for(var e=[{obj:{o:n},prop:"o"}],t=[],r=0;r<e.length;++r)for(var o=e[r],i=o.obj[o.prop],s=Object.keys(i),l=0;l<s.length;++l){var c=s[l],u=i[c];"object"==typeof u&&null!==u&&-1===t.indexOf(u)&&(e.push({obj:i,prop:c}),t.push(u))}return function(n){for(;n.length>1;){var e=n.pop(),t=e.obj[e.prop];if(a(t)){for(var r=[],o=0;o<t.length;++o)void 0!==t[o]&&r.push(t[o]);e.obj[e.prop]=r}}}(e),n},decode:function(n,e,t){var r=n.replace(/\+/g," ");if("iso-8859-1"===t)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(n){return r}},encode:function(n,e,t,o,a){if(0===n.length)return n;var s=n;if("symbol"==typeof n?s=Symbol.prototype.toString.call(n):"string"!=typeof n&&(s=String(n)),"iso-8859-1"===t)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(n){return"%26%23"+parseInt(n.slice(2),16)+"%3B"}));for(var l="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===r.RFC1738&&(40===u||41===u)?l+=s.charAt(c):u<128?l+=i[u]:u<2048?l+=i[192|u>>6]+i[128|63&u]:u<55296||u>=57344?l+=i[224|u>>12]+i[128|u>>6&63]+i[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),l+=i[240|u>>18]+i[128|u>>12&63]+i[128|u>>6&63]+i[128|63&u])}return l},isBuffer:function(n){return!(!n||"object"!=typeof n)&&!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},isRegExp:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},maybeMap:function(n,e){if(a(n)){for(var t=[],r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)},merge:function n(e,t,r){if(!t)return e;if("object"!=typeof t){if(a(e))e.push(t);else{if(!e||"object"!=typeof e)return[e,t];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,t))&&(e[t]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(t);var i=e;return a(e)&&!a(t)&&(i=s(e,r)),a(e)&&a(t)?(t.forEach((function(t,a){if(o.call(e,a)){var i=e[a];i&&"object"==typeof i&&t&&"object"==typeof t?e[a]=n(i,t,r):e.push(t)}else e[a]=t})),e):Object.keys(t).reduce((function(e,a){var i=t[a];return o.call(e,a)?e[a]=n(e[a],i,r):e[a]=i,e}),i)}}},function(n,e){n.exports=function(n){return n instanceof Date}},function(n,e,t){var r=t(18),o=t(65);n.exports=function(n){var e=r(n),t=e.getFullYear(),a=new Date(0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);var i=o(a),s=new Date(0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);var l=o(s);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}},function(n,e,t){"use strict";n.exports=function(n,e){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return n.apply(e,t)}}},function(n,e,t){"use strict";var r=t(5);function o(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}n.exports=function(n,e,t){if(!e)return n;var a;if(t)a=t(e);else if(r.isURLSearchParams(e))a=e.toString();else{var i=[];r.forEach(e,(function(n,e){null!=n&&(r.isArray(n)?e+="[]":n=[n],r.forEach(n,(function(n){r.isDate(n)?n=n.toISOString():r.isObject(n)&&(n=JSON.stringify(n)),i.push(o(e)+"="+o(n))})))})),a=i.join("&")}if(a){var s=n.indexOf("#");-1!==s&&(n=n.slice(0,s)),n+=(-1===n.indexOf("?")?"?":"&")+a}return n}},function(n,e,t){"use strict";n.exports=function(n,e,t,r,o){return n.config=e,t&&(n.code=t),n.request=r,n.response=o,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},n}},function(n,e,t){"use strict";n.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(n,e,t){"use strict";var r=t(5),o=t(338),a=t(339),i=t(121),s=t(340),l=t(343),c=t(344),u=t(125),d=t(123),p=t(42);n.exports=function(n){return new Promise((function(e,t){var h,m=n.data,f=n.headers,g=n.responseType;function v(){n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}r.isFormData(m)&&delete f["Content-Type"];var y=new XMLHttpRequest;if(n.auth){var b=n.auth.username||"",x=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";f.Authorization="Basic "+btoa(b+":"+x)}var w=s(n.baseURL,n.url);function E(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,a={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:n,request:y};o((function(n){e(n),v()}),(function(n){t(n),v()}),a),y=null}}if(y.open(n.method.toUpperCase(),i(w,n.params,n.paramsSerializer),!0),y.timeout=n.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(t(u("Request aborted",n,"ECONNABORTED",y)),y=null)},y.onerror=function(){t(u("Network Error",n,null,y)),y=null},y.ontimeout=function(){var e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",r=n.transitional||d;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),t(u(e,n,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var j=(n.withCredentials||c(w))&&n.xsrfCookieName?a.read(n.xsrfCookieName):void 0;j&&(f[n.xsrfHeaderName]=j)}"setRequestHeader"in y&&r.forEach(f,(function(n,e){void 0===m&&"content-type"===e.toLowerCase()?delete f[e]:y.setRequestHeader(e,n)})),r.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),g&&"json"!==g&&(y.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&y.addEventListener("progress",n.onDownloadProgress),"function"==typeof n.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",n.onUploadProgress),(n.cancelToken||n.signal)&&(h=function(n){y&&(t(!n||n&&n.type?new p("canceled"):n),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h))),m||(m=null),y.send(m)}))}},function(n,e,t){"use strict";var r=t(122);n.exports=function(n,e,t,o,a){var i=new Error(n);return r(i,e,t,o,a)}},function(n,e,t){"use strict";n.exports=function(n){return!(!n||!n.__CANCEL__)}},function(n,e,t){"use strict";var r=t(5);n.exports=function(n,e){e=e||{};var t={};function o(n,e){return r.isPlainObject(n)&&r.isPlainObject(e)?r.merge(n,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function a(t){return r.isUndefined(e[t])?r.isUndefined(n[t])?void 0:o(void 0,n[t]):o(n[t],e[t])}function i(n){if(!r.isUndefined(e[n]))return o(void 0,e[n])}function s(t){return r.isUndefined(e[t])?r.isUndefined(n[t])?void 0:o(void 0,n[t]):o(void 0,e[t])}function l(t){return t in e?o(n[t],e[t]):t in n?o(void 0,n[t]):void 0}var c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(n).concat(Object.keys(e)),(function(n){var e=c[n]||a,o=e(n);r.isUndefined(o)&&e!==l||(t[n]=o)})),t}},function(n,e){n.exports={version:"0.26.1"}},function(n,e,t){},function(n,e,t){n.exports=function(){"use strict";var n=6e4,e=36e5,t="millisecond",r="second",o="minute",a="hour",i="day",s="week",l="month",c="quarter",u="year",d="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var e=["th","st","nd","rd"],t=n%100;return"["+n+(e[(t-20)%10]||e[t]||e[0])+"]"}},g=function(n,e,t){var r=String(n);return!r||r.length>=e?n:""+Array(e+1-r.length).join(t)+n},v={s:g,z:function(n){var e=-n.utcOffset(),t=Math.abs(e),r=Math.floor(t/60),o=t%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function n(e,t){if(e.date()<t.date())return-n(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,l),a=t-o<0,i=e.clone().add(r+(a?-1:1),l);return+(-(r+(t-o)/(a?o-i:i-o))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:l,y:u,w:s,d:i,D:d,h:a,m:o,s:r,ms:t,Q:c}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},y="en",b={};b[y]=f;var x="$isDayjsObject",w=function(n){return n instanceof T||!(!n||!n[x])},E=function n(e,t,r){var o;if(!e)return y;if("string"==typeof e){var a=e.toLowerCase();b[a]&&(o=a),t&&(b[a]=t,o=a);var i=e.split("-");if(!o&&i.length>1)return n(i[0])}else{var s=e.name;b[s]=e,o=s}return!r&&o&&(y=o),o||!r&&y},j=function(n,e){if(w(n))return n.clone();var t="object"==typeof e?e:{};return t.date=n,t.args=arguments,new T(t)},A=v;A.l=E,A.i=w,A.w=function(n,e){return j(n,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function f(n){this.$L=E(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[x]=!0}var g=f.prototype;return g.parse=function(n){this.$d=function(n){var e=n.date,t=n.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var o=r[2]-1||0,a=(r[7]||"0").substring(0,3);return t?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(n),this.init()},g.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},g.$utils=function(){return A},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(n,e){var t=j(n);return this.startOf(e)<=t&&t<=this.endOf(e)},g.isAfter=function(n,e){return j(n)<this.startOf(e)},g.isBefore=function(n,e){return this.endOf(e)<j(n)},g.$g=function(n,e,t){return A.u(n)?this[e]:this.set(t,n)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(n,e){var t=this,c=!!A.u(e)||e,p=A.p(n),h=function(n,e){var r=A.w(t.$u?Date.UTC(t.$y,e,n):new Date(t.$y,e,n),t);return c?r:r.endOf(i)},m=function(n,e){return A.w(t.toDate()[n].apply(t.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),t)},f=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(p){case u:return c?h(1,0):h(31,11);case l:return c?h(1,g):h(0,g+1);case s:var b=this.$locale().weekStart||0,x=(f<b?f+7:f)-b;return h(c?v-x:v+(6-x),g);case i:case d:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case o:return m(y+"Seconds",2);case r:return m(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(n){return this.startOf(n,!1)},g.$set=function(n,e){var s,c=A.p(n),p="set"+(this.$u?"UTC":""),h=(s={},s[i]=p+"Date",s[d]=p+"Date",s[l]=p+"Month",s[u]=p+"FullYear",s[a]=p+"Hours",s[o]=p+"Minutes",s[r]=p+"Seconds",s[t]=p+"Milliseconds",s)[c],m=c===i?this.$D+(e-this.$W):e;if(c===l||c===u){var f=this.clone().set(d,1);f.$d[h](m),f.init(),this.$d=f.set(d,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},g.set=function(n,e){return this.clone().$set(n,e)},g.get=function(n){return this[A.p(n)]()},g.add=function(t,c){var d,p=this;t=Number(t);var h=A.p(c),m=function(n){var e=j(p);return A.w(e.date(e.date()+Math.round(n*t)),p)};if(h===l)return this.set(l,this.$M+t);if(h===u)return this.set(u,this.$y+t);if(h===i)return m(1);if(h===s)return m(7);var f=(d={},d[o]=n,d[a]=e,d[r]=1e3,d)[h]||1,g=this.$d.getTime()+t*f;return A.w(g,this)},g.subtract=function(n,e){return this.add(-1*n,e)},g.format=function(n){var e=this,t=this.$locale();if(!this.isValid())return t.invalidDate||p;var r=n||"YYYY-MM-DDTHH:mm:ssZ",o=A.z(this),a=this.$H,i=this.$m,s=this.$M,l=t.weekdays,c=t.months,u=t.meridiem,d=function(n,t,o,a){return n&&(n[t]||n(e,r))||o[t].slice(0,a)},h=function(n){return A.s(a%12||12,n,"0")},f=u||function(n,e,t){var r=n<12?"AM":"PM";return t?r.toLowerCase():r};return r.replace(m,(function(n,r){return r||function(n){switch(n){case"YY":return String(e.$y).slice(-2);case"YYYY":return A.s(e.$y,4,"0");case"M":return s+1;case"MM":return A.s(s+1,2,"0");case"MMM":return d(t.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return e.$D;case"DD":return A.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(t.weekdaysMin,e.$W,l,2);case"ddd":return d(t.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(a);case"HH":return A.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,i,!0);case"A":return f(a,i,!1);case"m":return String(i);case"mm":return A.s(i,2,"0");case"s":return String(e.$s);case"ss":return A.s(e.$s,2,"0");case"SSS":return A.s(e.$ms,3,"0");case"Z":return o}return null}(n)||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(t,d,p){var h,m=this,f=A.p(d),g=j(t),v=(g.utcOffset()-this.utcOffset())*n,y=this-g,b=function(){return A.m(m,g)};switch(f){case u:h=b()/12;break;case l:h=b();break;case c:h=b()/3;break;case s:h=(y-v)/6048e5;break;case i:h=(y-v)/864e5;break;case a:h=y/e;break;case o:h=y/n;break;case r:h=y/1e3;break;default:h=y}return p?h:A.a(h)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return b[this.$L]},g.locale=function(n,e){if(!n)return this.$L;var t=this.clone(),r=E(n,e,!0);return r&&(t.$L=r),t},g.clone=function(){return A.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},f}(),C=T.prototype;return j.prototype=C,[["$ms",t],["$s",r],["$m",o],["$H",a],["$W",i],["$M",l],["$y",u],["$D",d]].forEach((function(n){C[n[1]]=function(e){return this.$g(e,n[0],n[1])}})),j.extend=function(n,e){return n.$i||(n(e,T,j),n.$i=!0),j},j.locale=E,j.isDayjs=w,j.unix=function(n){return j(1e3*n)},j.en=b[y],j.Ls=b,j.p={},j}()},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(194),o=t(199),a=t(270),i=t(278),s=t(287),l=t(288),c=a((function(n){var e=l(n);return s(e)&&(e=void 0),i(r(n,1,s,!0),o(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,o=r.exec(t);if(!o)return t;var a="",i=0,s=0;for(i=o.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==i&&(a+=t.substring(s,i)),s=i+1,a+=e}return s!==i?a+t.substring(s,i):a}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return c.Date.now()};function m(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function f(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(m(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=m(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=o.test(n);return s||a.test(n)?i(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,o,a,i,s,l,c=0,u=!1,g=!1,v=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(e){var t=r,a=o;return r=o=void 0,c=e,i=n.apply(a,t)}function b(n){return c=n,s=setTimeout(w,e),u?y(n):i}function x(n){var t=n-l;return void 0===l||t>=e||t<0||g&&n-c>=a}function w(){var n=h();if(x(n))return E(n);s=setTimeout(w,function(n){var t=e-(n-l);return g?p(t,a-(n-c)):t}(n))}function E(n){return s=void 0,v&&r?y(n):(r=o=void 0,i)}function j(){var n=h(),t=x(n);if(r=arguments,o=this,l=n,t){if(void 0===s)return b(l);if(g)return s=setTimeout(w,e),y(l)}return void 0===s&&(s=setTimeout(w,e)),i}return e=f(e)||0,m(t)&&(u=!!t.leading,a=(g="maxWait"in t)?d(f(t.maxWait)||0,e):a,v="trailing"in t?!!t.trailing:v),j.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},j.flush=function(){return void 0===s?i:E(h())},j}},function(n,e,t){!function(){"use strict";n.exports={polyfill:function(){var n=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===n.__forceSmoothScrollPolyfill__){var t,r=n.HTMLElement||n.Element,o={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},a=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now,i=(t=n.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);n.scroll=n.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?m.call(n,e.body,void 0!==arguments[0].left?~~arguments[0].left:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:n.scrollY||n.pageYOffset):o.scroll.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:n.scrollY||n.pageYOffset))},n.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?o.scrollBy.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(n,e.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var n=arguments[0].left,e=arguments[0].top;m.call(this,this,void 0===n?this.scrollLeft:~~n,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var t=p(this),r=t.getBoundingClientRect(),a=this.getBoundingClientRect();t!==e.body?(m.call(this,t,t.scrollLeft+a.left-r.left,t.scrollTop+a.top-r.top),"fixed"!==n.getComputedStyle(t).position&&n.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):n.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(n,e){this.scrollLeft=n,this.scrollTop=e}function l(n){if(null===n||"object"!=typeof n||void 0===n.behavior||"auto"===n.behavior||"instant"===n.behavior)return!0;if("object"==typeof n&&"smooth"===n.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+n.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(n,e){return"Y"===e?n.clientHeight+i<n.scrollHeight:"X"===e?n.clientWidth+i<n.scrollWidth:void 0}function u(e,t){var r=n.getComputedStyle(e,null)["overflow"+t];return"auto"===r||"scroll"===r}function d(n){var e=c(n,"Y")&&u(n,"Y"),t=c(n,"X")&&u(n,"X");return e||t}function p(n){for(;n!==e.body&&!1===d(n);)n=n.parentNode||n.host;return n}function h(e){var t,r,o,i,s=(a()-e.startTime)/468;i=s=s>1?1:s,t=.5*(1-Math.cos(Math.PI*i)),r=e.startX+(e.x-e.startX)*t,o=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,r,o),r===e.x&&o===e.y||n.requestAnimationFrame(h.bind(n,e))}function m(t,r,i){var l,c,u,d,p=a();t===e.body?(l=n,c=n.scrollX||n.pageXOffset,u=n.scrollY||n.pageYOffset,d=o.scroll):(l=t,c=t.scrollLeft,u=t.scrollTop,d=s),h({scrollable:l,method:d,startTime:p,startX:c,startY:u,x:r,y:i})}}}}()},function(n,e,t){var r=t(319),o=t(324),a=t(119),i=t(18),s=t(327),l=t(328);var c={M:function(n){return n.getMonth()+1},MM:function(n){return p(n.getMonth()+1,2)},Q:function(n){return Math.ceil((n.getMonth()+1)/3)},D:function(n){return n.getDate()},DD:function(n){return p(n.getDate(),2)},DDD:function(n){return r(n)},DDDD:function(n){return p(r(n),3)},d:function(n){return n.getDay()},E:function(n){return n.getDay()||7},W:function(n){return o(n)},WW:function(n){return p(o(n),2)},YY:function(n){return p(n.getFullYear(),4).substr(2)},YYYY:function(n){return p(n.getFullYear(),4)},GG:function(n){return String(a(n)).substr(2)},GGGG:function(n){return a(n)},H:function(n){return n.getHours()},HH:function(n){return p(n.getHours(),2)},h:function(n){var e=n.getHours();return 0===e?12:e>12?e%12:e},hh:function(n){return p(c.h(n),2)},m:function(n){return n.getMinutes()},mm:function(n){return p(n.getMinutes(),2)},s:function(n){return n.getSeconds()},ss:function(n){return p(n.getSeconds(),2)},S:function(n){return Math.floor(n.getMilliseconds()/100)},SS:function(n){return p(Math.floor(n.getMilliseconds()/10),2)},SSS:function(n){return p(n.getMilliseconds(),3)},Z:function(n){return d(n.getTimezoneOffset(),":")},ZZ:function(n){return d(n.getTimezoneOffset())},X:function(n){return Math.floor(n.getTime()/1e3)},x:function(n){return n.getTime()}};function u(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|]$/g,""):n.replace(/\\/g,"")}function d(n,e){e=e||"";var t=n>0?"-":"+",r=Math.abs(n),o=r%60;return t+p(Math.floor(r/60),2)+e+p(o,2)}function p(n,e){for(var t=Math.abs(n).toString();t.length<e;)t="0"+t;return t}n.exports=function(n,e,t){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(t||{}).locale,a=l.format.formatters,d=l.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(a=o.format.formatters,o.format.formattingTokensRegExp&&(d=o.format.formattingTokensRegExp));var p=i(n);return s(p)?function(n,e,t){var r,o,a=n.match(t),i=a.length;for(r=0;r<i;r++)o=e[a[r]]||c[a[r]],a[r]=o||u(a[r]);return function(n){for(var e="",t=0;t<i;t++)a[t]instanceof Function?e+=a[t](n,c):e+=a[t];return e}}(r,a,d)(p):"Invalid Date"}},function(n,e,t){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,n=>{"%%"!==n&&(r++,"%c"===n&&(o=r))}),e.splice(o,0,t)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch(n){}},e.load=function(){let n;try{n=e.storage.getItem("debug")}catch(n){}!n&&"undefined"!=typeof process&&"env"in process&&(n=process.env.DEBUG);return n},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(n){}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=t(352)(e);const{formatters:r}=n.exports;r.j=function(n){try{return JSON.stringify(n)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}},function(n,e,t){n.exports=t.p+"assets/img/pan.07613e22.png"},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAACYCAYAAADEF5ZTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOfSURBVHhe7drJTuNAFEZhm0m8/9MiJKBTaV914XYSl13DHc63iWHB5vdxxRLzz8V0x3yxXMK4h2MLRrdv99iC0e16Wj53K705oEdx2Tkqt6W47ByV23Kq7ByV61dtbMHoelUfWzC6PqfO7Hta3UQ4rlnZOSrXoVnZOSrXoUvZa5Q+Rpey1yh9jCFl56i8nyFl56i8n+Fl56i8reFl56i8LVVlr1F6XarKXqP0ulSXnaPy81SXnaPy88yUnaPyY0yOLRi9jOmxBaPvY+bMvsfDDduDi7JzVH6bi7JzVH6bu7JzVP6bu7JzVP6b67LXopfuuuy16KWHKjsXsfJQZeci3uRhy16LUHrYstci3PSUvcFr5ZS9wWsAlP2Ap8op+wFPMVB2AeuVM/YBVkdn7BOsjc6ZfYK1UCi7EguVU3YlFqKh7Aa0Vs7YDWkbnbE70DI6Z3YHWoKi7M5GVs7Yg4wYnbEH6zk6Z/ZgPWOjbEVaV87YCrUance4Qq0CpGzlalbO2EbUGJ3HuBE1oqRsg45WztiGlY7OY9yw0lAp24k9lVO2E3uipWyntkqnbKe2IqbsAKRyyg5AgqbsQCg7kPpjf31NPx8f10/oUnXs68jPz9P8/n79vP4MNaqOPb++Lld/zS8vyxU0qFv26rse3/10qXtmr8/p7+/lAhrUf/W6/Lmfz89pfntLb/PLL6EB79mB1H/1glqMHQhjB8LYgTB2IIwdCK9eAfDPC0HI0AllO5WPLCjboa2hE8p25NbIgrEdeDSyYGzD9o4sOLONKh06oWxjjowsGNuIMyMLxlauxsiCM1uxmkMnlK1Q7ZEFZSty2fip1dAJZSvQcuAcZQ/Wa+iEsgfpObJg7M5GjCwYu5ORIwvO7A40DJ1QdkNaRhaM3YC2kQWP8cq0Dp1QdgWaB85R9klWhk4o+yBLIwvKPsDi0AllF7A6smDsHayPLBj7Di8jC87sG7wNnVB2xuPAOcpeeB86CV92hJFF6LIjDZ2ELDvayCLU2FFHFiHGjj6ycH9mM/Q/bstm5P+5LJuht7kpm4Efc1E2Q+9jumxGLmO2bIYuZ6psBj7HTNkMfZ76shm5HtVlM3Rd6spm4HZUlc3Qbakom5H7GF42Q/czrGxG7q/72Iw8TrexGXm8Lmc2Q+vQtGxG1qXJ2IysU9WxGVm3amc2Q+t3umxGtuPw2IxsT/HYjGxX0ZnN0LbtKpuRfbg7NiP7cvMxztDeTNMfNxjouxAtsQIAAAAASUVORK5CYII="},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKsSURBVFhHzZjLThRBFIYZQENIxAXCUgNuvL0BGF1A8IKyM+Ed9C2MvoAbY3SL8ALgzgiTGOOChQILgYgbYzRRWZloxu8rzkRHZGa6Z6D5ky+dOtXnkq7uquoqdWRUpVIZ4jIBo3AWTsExUNvwHlZhCZ6VSqVNrk2rqYIooovLLbgNp2EBnsNbMOF3UH1gwefhMlyBdXgAcxT3i2tropgxWIUyTMGR6Goo7w0ffY0xFl3ZhXMPPIRNuBHm3DJGxDJmT5ibEw4D8ArmwGFoi4wVMY09EOb68kZYg7uQ+aVvJGNGbHPUL4obeuEl3A/Tvskckas3TLtF5yN4Cm1/Mv/KHDBjzjDVig6/pg1o2zvTSOaKnLVfH4ZOWIGWv6asIuckOCU41+2IxjQ4s+YSvknRzCxcF2E6msmwBFPRzCx8k6KZWbjehHK1MQQfoTsZcgjfpGhmFq7dYA3DnbRdbxZYZ36m3gIUuedhwoJGwIWyaFnDiAW5MrtqFy1rOOf4fYYTO7Z8wj8pmrmEez98cbb8QbuPcfS6p1pNSPy6sz/hj3LZdshUS8naKipzyPqjmUs+PRXNXMI9DZlP6AO47Sxa1rBlQStwQUvBSl+7BbmGXdJSsPwpKDt2w3B4lg6+xg1s7+B66i1G12A9akkVHrrtRxe4SZoM04HJnJH7zwZNYShyCzseplrR8QRmornvMhc8juZu0XmQv0H3Itfev0GKGw7Pj2JV3DgIr2EW2v0rbUxjD4a5RtXVvkbMB5+4XISvsIxzy19fxFgGY45Gjuwi0Dj4eF+AJxhZj2P00dcY//+a/lJT7wiBqgdWd2AY3JC7B34Dnph9A3UcPFFzsXZtSjMweGA1y1NpeGCV+aWlOLcJV8EjvTNwEqrvmSdpW7AGzvzzFOEJW5Pq6PgNYhdl8cqxD7MAAAAASUVORK5CYII="},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM8AAACyCAYAAADlPZtAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABtPSURBVHhe7Z1bbGXXWce3LzNjjy/x2GZiT+aWSTwzTVIlpG0QBUIihQgRBBVNnwAh8YLEAwKpSBFQeOGBl74iSpSiRNAoQqIdQUUaTRO1HSj0ASltaGjuaWYSe+Lx/XJ8m8P32z5/z/L2PvaxvY/PPud8P+nL3nuttY8z56z//r513S1RFJ0cHh4+3tLSMm/njlMXrK6uHpmeni4sLS29b5dL66kHS4sJ51PvvPNOV0dHx3IpzXHyTsuVK1euPfnkk21jY2Nzdv3xevLB0moeZ86Eg3KLbm51YERLM5cvX75qwiFaWjWrCS0nTpy4cO3atT4753/McfIMwlkze8Me+jN2vN2MiGnS7MBpLR0dp14YKwlHICigLieNPOVnDn/AceoBRECY9mF8tQ7R0iGzIyl22Iy8djMJKVMknjCmdHPLoxGuvWdeh6MgHaF0m3UF1mnWYUZeW8kyF5DaPLfZOf8jjpNHqPzvm3A+Wr/coLujo+Pz7e3tZyxvpZS2QbFYbF1cXLy6trb2TbukXUQdv0leFnjY5uQdhDNhltYd3fL0008vzs7OTs/MzCRtytJnH3/88fNWDufgYZtbUxkVnmGUq+ZZ0rqkD7W1tb1px++ZfT9h3zUbNTeD+Gj3cMwU9zxOXpGnuGbCWSidb8FCMspRj5OGWPQZyetM4EMdJ49QN2+UbL9UpZ67eJw8Qr3E2xCuhb1ruULiSYs33dxqYUD7hnCtJhM+K8U9j5M3EBChWk2m3OwG9zxueTJQuKbr3OKex8kL9ITRvvlpnts5IaHncZxaQzunbhZlsp4ndJtubrUwHuLMIhg3qxs8bHNqDXVw0ezDemjnhLh4nFpCO4eJmggn193Sabh4nFqCeJjwORVf7YHW1tZMp9zsBoknGYO6uVXbqPTTZh/tJ1xbWYlXItREQO55nFpAZS+Y0bu2r27piYmJeLa0iejABeSex60WxvSbURMOHQX7ofD1r3/951566aW7TDxrBy0g9zzOQUMFv2HCoWt6vyyMjo5+4ctf/vIXL126NLK8vGz6OTgBuXicg4T6Nms2Gl9lwPnz52f7+vo+9ZWvfOWvXnjhhYdMQEsLCwutdozzq1nBXTzOQYFHoDuadk5m+wgUCoWWc+fORXffffc9zz777Jeee+65h5eWlhZXV1fjtlBmfygFiSctLnVzy8qAeoxw6CjIDAvTopmZmairqysaGRk59fzzz//FV7/61V9ZNCy71T2PU+9Qz66bcOiazhT7TDZ9j+bm5qLOzk7CuKFvfOMbf/bMM8/8qmUvleRTlXaQi8epNoRPrM2p2mbsCKhYLEbW1okFdOHChUET0J++8sorv3iorU0vMMhcQBJPmqt1c9uvUWGZJc0WuVVfZiABHT16lDbQiZdffvn33nrrLbaeImTk/yVTAbnncaoFFTWr8ZyyIJgQrgnhuru7o37D3NKvWfInyDKrinjCp4WbW1aW3JS9KiCYUEQS0OHDh6MTw8M9lvTnZhfJMsvMYbjn2SU3b27+oZxUqFdTJpyqr8+5efPmhnj0u4RtoCNHjkTHjx//WUv+G7MTZhTKxAO5eCpkbW0tWlpejj76aDy6MTEdLa+suojSoWLSzknuK101+G0QEYQiIg0BjYyMRKdPn37Mkv7ajA3gM6n3+hD+mlsZsx+hODk1W3zpWz8ovv76+8Ur3/th8bUfvV1cXV1LLd/kxjRnxnMO5I1tEgsWeiGBsAjhLl68GA0NDf2uJT1Fstm+dxB1z1MBa/aj/OT/fmpPsFPRY499Onriic9G778/Fs3MzG/6oZwYFrZlOhC6HYRora2tsXBkoN+F/KWlpYgx0/vuuy8aHBz8Y0v+HTMEtK/67+KpAH6HxcJS1NfHa2Ci6NCh9qi7uzMqLC3Hj1onhqf4gXQQpIFIJB4JZ5OACoU47/777+818D6fMUNAe/Y+Lp4KYLHiieHB6LXX3rE2z43o9dffs6fZsj3FbmMHlVKppoZ6xEBoFjOl9wQCKScgndP+oQfu1KlT91pZBDRIEbM9/YgSDx/gVsba29qKd4+cLJ64Y7D44x+/W5ycnC3+/Gfvi9PTyjeZUfHoIGD6zXrMVAMkHkI42jmYRAOcISraP6dPn45Onjz5W5b0B2a8ehF2LSD3PBVy+NCh6Pz509HDDz8QfeahT0TH+nqitrZ44m4zQ/2hg4Cl1FvezHbQSDwc5YGSFCx8w+65556op6fnTyzpETOEs2fxhE8StzKGp7H2TvFQe3vRfqTUMk1kQO1EOFWbQbAf8DwK4WSIa35+3tqth6K77rprwP7fv2RFeSW9BFSxiNzzOHsFAX1sla8mHQRCYzwSB+B5YEM0gQdS2o0bN6ITJ05EZ86c+SVL/n0z3p69q1DCxePsFUSTix0+w/AMYSAehW9cxwIL2kCksw6IDoTz58/TifBFS77fbFdjP77drttejDCNCZ+c1xS1bZIdBBIQdhMBlcpRBlP4Rrv14sWLfVb+L+22XXkf9zzObuCprA6Cqi8xqBSJAiQOneuIuJIgMMK34eFhet/oOHjSrOLBUxePUykIh4qFcHK3NS7iCAWCYBBHSBy+mdBAIsMI4U6dOtVp3uiPLOu4GTfuGL65eJxKoCLxGGcGQdk3U9cCtW1AAkIQIAFRBpQvAYnZ2dmot7eX3rd77fIPzSryPi4epxKonbzqsKY9a+UIPYxCuFAgzAKhDGnsd6AyEhnQeWDe59CRI0e+YJcsnuMDttWHMino5pZmwEbsbFR4q7blCIQhASEMCScpIsqQlha+MXG0vb09Onv2LMu2mX0Nt1SZgnseZzuoPIRphGu3amEOodcMcUg8EgVwJHTbrgzXCGh4eLi1q6vr85b0abNtwzcXj1MOhMPOM7nqWSuHRCBxEJ4pDfjHqH2UzNeRaTtMHDUB4X2eMKPrmltTPZDEw91ubqHlZs7adlDxVfnlXYA0RCJUBvGIsHMBuGbtDzMPuru7f9OS7jGjwLbicRxBRaHCMEv6wBa17ReJSN5F4onTyS+VIY8y5Knto3uBjgN2Hx0YGHjALj9rdsQs1fu4eJwQCYc5a3NxSs6RSIQEIkJhgMTDMRSPIJxDQCdPniSE+21LYtOQLcIBF48jVEEmrWJlvi1utVDoFYoEYWBcI46kdyEPuE4TEOJh37djx47heRj7oe2zRSsuHieEcZyarQbdK2Hl1zHsHJCBjuRjlA+Ne2j34IGYtmNtKHreWH9fVjx8olvzGrAalHBN13UBYki2XbAQliQoX8j7kJ4cOEVUTBodHBxk3c/nrBjrfdrNNgnIPY9DHaBjgA6C3HdJp5EmGEAgCEHCCAWifM4lPlAeYz7kDw0N9dolb1zYErq5eJobHr+M5eBxct0lXY5keCYQAemxQOw6Oa6zkWfnulf5ojRoyt9gtjV7HeB9NjoPXDzNDRsTIpy66ZJOggCAyh8KRHAdCkRwzr0Sn8rJSGOzEN640NPT80m75YIZenHxOPEDedwqSa5mSe+FsPLLg5CmvJhE/nrSevtGoZ167oTKHz9+nLEeZhzAhmZ0wh1uzWHAccIqVl2M5eyEBEJlD4Uh4r31zNbMM4Vd29yHcIDrZGiH0W09ODhIoUfNNoVu7nmai9JjOH6DATOlGwYJKPQgGOnxhFDL4zr0LmEZ0sP7gHTmu3V0dNDrds6SRuKMhHgo7dbYJqatUtTdWM52UNnVdkE8MtLZvwCUh0CUh5EusYDSQ4Ph4WF63X7ZjIaTe54mgx981qyhhCMQAUg4Qh5H6Dw8cq/Ct6RnAnrdBgYGeDXJL8QJ66Gbe54mMWAQlA6CWzWrwZAXSVopc0NgYXimfN0r8VEGSGPGAS8Kbm9vv9uSTpJsVpKb08hQY9iwoyGFo8ovQhGIUCAgcSTTOZKO6XOA8qwy7e7u/hm7vC9ONFw8jQ21gsFPhHMgL5uqBVRyVXS1fbim0ktaEgiEwgnv0+dwn8QXXvf19fVbEhNFuck9TwMj4TAIyiyChkSVHCQEID2+LgkCWkoCAY7hOeJCQAgrFI6OhG69vb1M0eHFwOgmFg8l3BrLQB4nd3usZY2EQOWXB1H4FQoAyGc8R3lKh7RzlaE8Lwe27/OUJcd7u7nnaTzwODw6GQSt22k3e0EVXWHWhgeJ/7seuoVlOILSdE5eKDzgnDcrHD16dMguz5Ik8VDKrf4NqDFsE1X3024qQZU9NNK0zECQFooBVFaGuATXYT5iIr+jowOvg/fxDoMGgl+e2sHsAbqlm4Iw/AqNih6KKUxnxkGYJjgPw76wDJ9DWnd39zEregflXTyNwYZwzBgIbSokEIkFwoofEqYlhRWSTJcns3YPmsH7tLl4GgN+YZZQz9qTdXMtaHCo3HiEUAg6D492sm4G3idZViiPzxTKJ4193QzGe7q9zdMYhmgI1zhvKqj8Eo9MosBiAnFwhkCA+ySMUECCtDAfK+06ylu0+9zz1D8L9mPyGvemBZFICJwvLy/HbRdmQ8eV3srIWJ4gIUB4jqgwriVCXQNHetwsdMPzHHPx1C88PhEOby9oWuRhMNolvGtnYGAgunDhQjyhc2ZmJhZSiAQhUUAoEEzi4ah0zvE87e3tzDTo9bCtPg1YyNaQM6R3g0SD5+E4MjISnTt3Lvrwww+jS5cuRZOTk7G3kCggPCbTQ+8D4bm8m4mnxy673PPUH3gc3gnalG2cNBAQHufixYvxZoX//uKL0ZUrV6KF0ivjIe6OtIovgXDkPkzpyiMNwnRMZU087OPm4qkzJBxmD5Raw80N3gDh4G1o4+BtPrx2LRbREbsWespQ+YVEofPwGIpKSFQWunXaocPDtvoxYLoN2+G6cEqoch87diy6fPlyND01FXV3dW3bMQC6DtPD/BCVkaCsDYVu4gEfJ//gcZjgicepy40JqwWzne+9997o3XffjcbGxqLOo0dpqKw/cUqVHhPhdfJcx6QJeZ5SB0S7e578G7hwysC+avDqq6/GC9ZU2Wm7hCSFkHYepsnLAMeUMhvicfIJNYClBYRqLpwU7rzzzmh8fDxaXFiIBSPRpFV8SJ6H5XRMlhHyPCU2OsBvlXDyAL8HtYBFbHichl0Ful9YY0O4RscBX1i5ih+KIjyHMF2EZXSOISAP2/Jt/C4IB4/jwtkBBkLZYgqvE3+BpYoO4Tkkz8NyOmJJDwaJtJsetuUPF84uYFNCdvUEqnRLqfKXs7hccA5hfpi3Xbrh4skZPNroHGAA1IVTAfS2EUbFXmdrBS/bBkqWA6Xrs4TSE+cunhzBr4zHQTh1+bqPWkGPWywRKnacsi6asNJDeB6SLKeOgWS6KOWvSjyUcKutucfZA8xnY4DU1BKtBZVeAkiKSOe6DlF6Oc9DOtA5Yay4eGpvgGBmXDi75+23346n4hwOJ38GFT0pgiRJcQHnSg+9kI6WxkyPZQ/bagu/MCEam697qLYHGOOhQp8+cyZu/8SVO6j0EoEoVf6y4gqvIRRXqYsab0cPRcHFUzskHG/j7ANmFbzxxhvxxNCenp5oxQRkNX2LCEJhhOcQXkt0QFp4LcGZeFgOsuDiqQ187/I4PnNgH7DkYHR0NPrggw+iBx98MGo1MRVKHghLepgwPS1Px2S+0jiaeNhoZa7VErjD7eCMX8Q7BzICz8BShDfffDPuPHjooYfiTTp4n6jEsC4B+/JL18B9EgXovFyaYPmD/R0WIU675zlYJBz3OFXgtddei5deP/zww9GpU6fiAVQqeygAesqSoZjySMdIg1A04f1mH9upi+eAYRyHXjUXToaoIY9YEBBtoAceeCB69NFHo66urmjVKnwoIB01uApJoZAuYSmPazYXMfA8sy6eg8PbOFUirNxw7dq16MUXX4y9Tk9vb/wiX6FwDUJhAOfyShKO4BqxlcTDpitrEg+l3KpnCtVuxQtOpqiiS0C0f0hbv7qVD5xj8li6xiQuPicUEGXp2TPvRk/bKLe5eKprwKOKTQldOFUmFIEqfXwen23OTyNMD8uF7SATD15nk3ic7OHbxuPQxnHhVJE0McirQDK/nEhgu2u8mYmHzoKrXLt4qoOE03R7Rx80ydArbNOEpOWF1xx1jpfBwrJc096xe/A6H5m556kCCIftoVw4NUCCoLKntWkw0jHKKH870VGOsaPFxUUiiPfMeDD6rOoqGMKZd+EcHBJFKAAJQ6Tl6Rr0GUnBAeVZ7r2wsMDrW94i22yjt83JBhdODaGyI5IQCQDSvEsoEuA86ZWAe+fn5+ks+HGc4OLJlEX7wtl43YVzgCTFokq/iYRAkmX4DGYOUIY8jmF55s8xY3tlZYWOgnfN+KMungzgW0Y0TfEO0DxCRQ9FlCYAqOSaeyUu5TNLYW5ujpHWH5lxZMDbB0n3YcAvhnAI15waQkUvrfDcJADYTjScb5ePKPmsqakp3vP6XySZISDvbdsj/DJ8ibRvmup17XlFFZ6KniYGeSa1Z1QmeZTouMboZUOUhULhuiX/r9kW8XCnW2UGPOLm7IuOJzo5tQVhqPKDxKG0+GgWCkPH8F6ExbmuyWOJ9+zsLAn/Y0aEQTc1v797nj0g4fjqzxwQVnbEoa5mQR7LstOI80wgGPdKXKA85rPNzMzgaV4248gDM44PXTy7Q8LhS3RygDyHKr6EJJLXgvS0PKXxufGy7pUVxnc+sCS6qHlgYnEhF0/lSDjxU8fJH+EAZ3iMhVXyLEnBcF0urbOzk5CN8+9aMrOpN0I2sw3xcOFW3njaIJz1VqeTe0JRyCsJpYs0UTG2Q/rExMSKeSFCNto7dA5tEY9THoRDr5oLJ8ektXVCS+YTlmGky1SW3rXe3t54Iujq6up/W3HCNsbxqAsb9cDFk44eVTQOfdZAzknzHCH8mMl8rpPtJcHr4hETb9I2IX3Lklh2HU8GNdv4IBfPVvRNFuxLdeHUAar8CEGiwEiP8xL5OhdhOvfR1gFr7zAdh1kFTAjd1N4BiYcEt3Vwy4jGBz/rgGQ4BqFAYgHFV+uQhkBgQ1wlSOfz2MpqamqKkO2blnzNDOEQhWwK3d3zbEbC4ctyGoDYq5TOhcQVCkew9IB08zoseqO9wwaHPEgJ2VLFoydvM5uEQ6PQqVPkVZKE3khIPKGY8Dp0Ty8uLn7Hkhjb4UGqkG0T7nnWkXB88LOOSQpD4hBpwhGIju5pbHp6mg6C/zCbNMPrbAyMhrh41p8oCGfLk8WpL7YTByAQyoTlBOV5SVbJ6/ynJf3AjHaOxna20Ox7VfNEYRFbuq936oYwXEsTTnGHfGZP43UmDLuke5q2DssQ1FFAfdlEs3oevj2EQ3e0C6fOSQonKY40TwNK534GRc3rFJeWlgjXvm9GO0cdBak0q3gQDZb+rTp1w07CgVA8dEWHZbiflaIcx3lTVhS9YMZsAgwBpXodaDbx8CUs2ZeHK3YajJ2Ek5aPaFizMz09fXN1dfXfLOl1M+axIZ5Ng6JJmkk8fAl4GxdOA5I2WJokKR6E09/fH79dYXJy8h1L+hczvA0zqLcMiibRX6RiNbLxBKFjwLuiG5A0jwKbvE5CXOQxIIqNjY2tmZCeteQxM6bi4Hk2zWNLoxk8D8IhVPOu6AYk2YYRiEPiScsnjU6CmZkZFrxdtiRmEyAcLHVcJ0mjex71qLlwmggJJ000QLh27NixeOnB+Pj4qJX9miXTWTBjVnZQNEkjex6+gGX7Anf8EpzGQh5HAgpFhHCYgsO4zvXr11dMQIRrb5tNmzGuU5FwoBHFwz8c0bhwmhAJB5KdCOSxVoe9CVirUygUCNdeMWMbXXmdiqOURhOPhMPTw2kyEIfEk9b7Rtptt90WrxC1cO1NK/tPlszrQsJOgoppJPHQrUjHgPeoNSGhcMIwLUS9axMTE1NW9h8t6SdmdEuHXdMVRysSDzfUq4H3qDUxtGNCj5MUD3nsv8Zg6NjY2KqFa5csmXAN0YThmupTRdS75+FbWrUvy+eoNSkIR6SFaoCY+vr68DjMJPiO3fO8JSMaOgm0sceuhAP1Lh68DSPCTpNTTjh4nYH+ft5yQCcBi9ueNmOdDqa92MIopmLqVTz8Q+kY8PaNsyVMA4VxTPqcX1igW5qOgb8zY1MP9a5tO/FzJyQeKa8eTO0bF45Tto0DCId88ziszfl7M3bCQThcVzQFZzvqSTyAcPA43r5xtoXOAQZC52ZnqSssM2BlKAvdsC0bGO6FegrbeEqsmHAkJMdJBY/DLIKZmZnlwvLyDy0J4eBx1M7ZccZ0JdSDeBALPWouHGdbCNfYhwDxjI2NLfb3939roL//VcuiVw2Pw2AowslkSCPv4pFwvH3j7AjCwUZHR1dXVlaeHxoa+lcTEm0bxLPr6Tc7kWfx4FZp32T2j3UaD43z4G1KHqcwNzfHtJuvmeeZsvAN8TDhk5416lJm0UtexcM34mGasyPseMPyAvaXNuEslITDIOiNgYGBqSOdnXibffespSHx8KF5MUTjM6KdimBBG+tyLFSbMuH8gyX9sxkdA2PHjx+fNlGpV031KzPy5Hn4h9G+8TDNqZipqamjV69evT4/P/+3dsmcNToGWE49efvtty8eamtDOBJPpuRFPArTXDjObjhsonnV2j3P2Pm3zeiOjoVjVjh79qw5pbWqRTC1DtsAweBxdO04lcKLdNjdk3eGIpzrZgiHQdBoaGiIkI7pB1vn72RArT1P3A3twnH2SJsZomHe2sdmdElvdEcfPny4WFiu3k5jtRIPYvH2jbNfqL+M3xCqIZytvWrBkoWsqYV4JJzq/aucZoH6y6wBJnpmPo6zEwctHgTjYZqTFbRlEM2BCwckHv5otc3bN041UJh24PXqIDyPhONhmtNQVFs8CGbNvY3TiFRLPIgF0bhwnIalGm0eeRsP05yGJmvPU3Rv4zQLWYonFk7p3HEanizEg5eJ2zfrl47THOxXPB6mOU3LfsTjYZrT1OxVPB6mOU1Paynk2o15mObkhqeeeqp0ti0Mm2ReZ3fjebx94+SOBx98MF7oViwWW0OLM2F9A3iiJCzTulupeG6aaHzQ08kbSzdu3PjU9evXn7Tjb4Q2Pj7+ObORlaUlNgBh8mjm9bflzJkzd75ncL6etAU8jnsbJ4/0mP262Umz8FWaqq+sNP2pGfsbsGiO9OxEhHjMzbUk3R5ppSKOk1eOm50w6zbrDYzro2ZHzBBQuxlRVqZ1OjVsI0Rzb+PUAYiBkIyNCkIjjTYOXoYyHLGqtnkI0TKPDR2nihCuIRitKJWRRp5ElDmthQKbjcR428apZ6i7SQMdq8InH3nkEWJCx6k37jKj3VMTiAfvMOs346U/jlMvdJgRkr1vRpjmOE59EEX/D+KD7nWBGZg/AAAAAElFTkSuQmCC"},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANrSURBVFhHzZhLSFVBGMe9aiXSY+FjmWj0onbZzihCsaJyF7SqrVC0a1ktorYt2kSYG0F010YNhKIUxCKN8hFRkqsyi7JA5L76/ed8x9Sb3jP3Xq0//Dgz33zzzdxz58wrVuSpdDpdy6MZGmA/1MA2kH7CR5iAAXgUi8WmeEZWpA7RiRIe5+AS7II+eAJjoAbnQNoO6vABOAYn4D3chW46l+SZn+hMI0zAILTAJivKKvlaHdVVjEYr8heVy+AeTMEZM+csxbBYillm5miiQhUMQzfobyiIFMtiKnaVmdeWHGESboL3oM8mxbTYamPtTuFQDkNw20zrJrVhbZWbKVMU3ocuKPibWSm1AZ1q00zLRYG+Jg26go2ZbFJb8EFtmykQhmIYh7y/Jl+pTdCUoLkuEJnzoJk1kuLxeM/nmW/9o6/e7TZTXqLtZ+qDZZ1hAFosm1X4ppPJZDqeSMwnEolrqVRqsxXlJMKdhcEwUwufoNQZIgjfldIrP2rF3qJuKagPdcXktd70sc4kXKmfLsIs7IPHBGyHShX4yNruhWb1rgMUOLLwd7J0JbRBSjb0BS6A19RhdTqUGIHDZo8k/J0s60S2AV67gkB6Y3utOKvwrYeXSsyC12vG38myi8Kk1f0q/FI5WoAbkHUxxacCviqhSlvMHkn4O1k2QxTVwEPnFGjYilYVPpthQYPa5e1ZKGkjlgqSTkvTa4te6S+rsGwk4e9k2UVhKoErMKdylNNfpkFdb/ZIwt/Jsk5kD8FzVxAol0E9or9sHA46aw4iyFa4Q3II9MM0L2kaOc788pZnVGkfPqaArdAe2KIJ/1DaL08HSTcP5TQxSla3VYk6yHfp0O5Pp4ycRN3FpSM0eC+upnm4DoVbXCUyXtsPfHugH/aYKS8RJ2P7oc9VK/ZpM22Y1Ka1/WeDJmHQFlbbyX+xhW0y03JR8AA6LbvuUlvQZtlMUbiRx6Bb1tbqxyAJh//noBgKx2p4ATqjFfoorZiKXW3mZQpX+2Viyp/hcQS+wyiV8/76LMYoKGaDteEvAjWBXu9T0BnK9zpGdVRXMf7+NS1RpDFCoPDC6jJoeteGXBdWb0A3Zj9A2gG6UdNiraXkFIQXVl28lawXVt6Dls7phuwk6EpPp42dEI4z3aRNwyRo5u+lEx5XekVFvwGChLxotSbj3gAAAABJRU5ErkJggg=="},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAABsCAYAAACWwXsuAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOjSURBVHhe7d1JaxRBGIfx6YxJUFBQL4KexBXxIEjiQsAYcvAL+GlFPYkgeBIvCp7UmwcVFHH7v101GJNZeqmaeSvz/ECqa5a++FDVmUlmBs6t/9lHt10IdwH9rMWmDtB9RIZehrGlifQYIkMnVWxoJj32YngKvKri6IXF9TseN1JV1SUNb8IM3rgKLK5KrSkyW8nehhk8cRNY17hGiMwnF4H1jWuEyPxZiePCpIrL6FR2LXY5zODBQgNLGdcen+MIBxYWWI64tEVuavgYZvBgIddgmeLa0PAizODF3AMjruUy1y0yU1y3NBCXU3NbwVi5ltO8VrAHcUwmXtATFwa7tnqlpHNaXMBgOzaRjM5p11zAYCs2kYzOSVyo3YlNJKNz3g6nxrLLERfXXKhtxCaS0TmJC7UbsYlkdE6uuVC7HptIxs4ZTo2SpXgl/6p6eB2Pk6iq6qGGZ/q3Vt+AUg37BpY8Lhwufd4qukZcmKVrYHZB/yoeAxN1Ceym4noZj4Gp2ga2qbj4DQY01iawu4rreTwGGmn0U6TCstelgNZmBkZc6GPaFll/yk08BjqZFNiK2mr1KTfAOOO2SIvrVzwGetm/gtknCxIXktm7gllcP+MxkMQoMOJCFrZFrhIXcuGlCGTV5q0ioLXkK1hVVSc0fLHD+gYsNYsgZQhstwAAAAAAAAAAAAAAAAAAAAAAAACw1PjLbmRj36lOYMiKjw5ANlrBrrCCIQvFdV7DOwJDcorrnIb3dswWiaQU11kNdVyGwJCM4jqj4UOYBWyRSEJxndbwKcz+ITD0priOa/gaZv9ji0QviuuYhrFxGQJDZ4rrqIZvYTYegaETxbWu4XuYTUZgaE1xrWr4EWbTERhaUVxHNDT+XgUCQ2OKa6ih1XdZERgaUVzWSuuveCQwzBTj6vR6KYFhKsVl36PQ+cX41F/EgPmq/+NzvRsT4+qFuArnOS5DYAXzHpchsEKVEJchsAKVEpfhp8jC5IhLXe3kiMuwghUkU1z3NTwJs/QIrBAlxmXYIguQKa4dDVnjMqxgzmWM63GY5UVgjpUel2GLdCpTXLsa5haXYQVzKGNcj8JsfljBfBkeprgMgflxUm01/lXkphTXtoaFxGXYIp3ItHJZXE/DbDFYwZxQDKfiYRIe4oI/9TVYXzrPvXA64KCV2Eknej5xYaZOkel5ti0CjbSKTI+3N66BVhpFpsexcqGzqZHpfq650NvYyHT7Vrjbq8HgL2v6ILWlOg1gAAAAAElFTkSuQmCC"},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAXi0lEQVR4Xu2dC5QlRXnHv6/vTpbVVSISyZGoQSR4VFCTFQ3uzFTVnd1Z9oAQjICK+JYoenzgGxUQRVkiiBqiPMQHYuShwV1XFuZ29XVwAVkSRYhKghpRoy7Ek13Yx+zc/nJq984yDPPoR1Xdrr5fn7PnoFP1r+pf9e/2uxqBF2sExsfHn7Br164hRPxbADgCAD4qpUysNcBBzgm02+2D0jQdIqIXmjFE5y3WvIE4jg3IYUQcAgDz3/tPW2XJglR7AzjzzDOjZrO5oiuFGcMXAMDiqV6zIAXGL47j4SiKVhLRKAD8zTwRLEgBvq6rrF279jFLly5dCQBm/My/g+ZqkwXJOBpxHI9Ok+LZGauxIBlBuS52ww037Ld48eLdUiCi+XF7cpY2WZB5KGmtnwEAJwHAiQDwnCxAZ5RhQQpAs1ml3W4f2el0Toqi6EQielLebBZkFmJJkhxFREYKI8fe49G8cAGABSkArWyV9evXL16yZMnUD9tRZfJYkC69DRs2PGnx4sUnpml6EiIeWQYqn6RbopczRmtt9vJTP2xm71966XtBxsbGnthoNN5MRG9GxEzHpTmo8x4kB6yiRdvt9mFm/My/ohl8kj6DgNZ6KSJOQZ3zKkZJ4CxISYDzVR8fH/+ryclJI4X5V+ZQeM5m+m4PsmnTpoEtW7aYvYWB+kyH42eiWRAHgL///e8/bWJiYvcYEtHjHTSxN7KvBNFan9r9tXmuS6h8DuKG7saNG/ebmJh4e/dQ6s/ctPLI1L4QpNVqDUVR9AEAWOUDKgtin7LW+mRE/AARPct++tyJtRbkpptu2nfRokVGjPf5hMqC2KNtTsA7nc4HEPHl9lKzJ9VWkCRJXk5ERo7DsuOwXpLPQUog1VqbHzYzhvuWiClVtXaCjI2NPavRaBioJ5ciY6cyC1KAo9Z6Vfdwyjw82NOlVoJorU8joo8i4n49pfpw4yxIjoEwVxi3bt36CQA4PUc1p0VrIcjY2NgBURR9AhFf65RW/nAWJCMzrfWLAOCT5tWBjFW8FAtekHa7vTpNUwO2l+cacw0WC5JhM9Zav7Urx2MzFPdaJGhB4jj+CCKe7ZVYvsZYkHl4aa3/vCvGq/Nh9Vc6SEG6J+Jmr3GMP1SFWmJB5sCmtT4aAMz5RpHXCAoNRpFKwQnSvWF0XtYXXopAsViHBZkFZqvVOiuKojMtcnYWFZQgWutzAOBDzmjYD2ZBpjHVWu+PiBcR0Svso3aTGIwgcRxfjYgvc4PBWSoL0kVr3uxL0/QiAFjmjLaD4MoL0v3VaRHR4Q7W33UkCwIAWuvXENFFiOj0yVsXg1lpQeI4fjEitlw96+8C6IzMvhckjuNzzV1xD6ydNFFZQeI4fh0iXu5krf2F9q0grVbrwCiKzCHVS/3htt9SJQWJ49g8LvJh+6vrPbEvBWm1Wn/daDSuCPSw+BEbSeUE0Vr/Y5WexSmpVN8JYibVQ8QvA8DTSrKrRPVKCZIkyT8R0VsqQcZOJ/pKEK21QMTriKgqD4uWHsXKCKK1vgIAXlN6jaoV0DeCGDkA4EYAGKjWEJTrTSUE0Vr/S3c+o3JrU73afSFIVw5dPfzle9RzQbTW3w7gmaqipGsvSJ3lMIPeU0G01mMA0Cy69QVQr9aC1F2OngpS48Oq6d7WVpAbb7zxyQMDA78J4EeqVBd7sgep0X2OheDXUhCt9T5E9BAiRgsBCP3v3gVpt9unpGlqrpP3w1JXQTYt8OGg2oytV0Ha7fbxaZpeVxt6C69I7QTRWl8GAK9feNXrUcKbIO12e2WaphvqgS3zWtRKkCRJziaij2Re+xoU9CJI9ys/4/1wzEpE10RRdI0Q4poabB97V0Fr/XYA+HSd1mmOddlsxhARrzEfYHUuyPe+973DO53ONwHg4DrDNVDTNL1wZGTklrqtZ6vVelUURV+p23rNXB8iuhARL5BS/nrqb04F2bRp02O2bt1qHj94cV3hIqIR4sK67TGmxitJksE0TW9AxMfUdQzn+3FzKojW+nMAcFpNwd5PROcrpdbUdP2g+/WtG0J7TTbHePw7AKyRUppHnWZdnAmitX4DAFyao7PBFEXEL6ZpukYp9bNgOl2go3EcfwURX1WgaqWrIOK2Tqdz/rZt29Ycc8wx2+brrBNBtNbLEPFGInpCpUnl79wDRHSqUqr2l6q11u/vzluVn1K1a9wSRdFpw8PDZu+x4GJdEK31oq4ccsHWAyqAiD+OouikoaGh/wio24W6GsfxsYj4r4UqV7vSdVLKv8/TReuCJElyARG9M08nql7WnMQppU6oej9t9K/dbh/S6XTMSfnTbeRVJQMR3yuEOD9vf6wKUtPHSD4kpfx4XrChltdarwUAMy1onZZBKeXNRVbImiDd+x3mku4BRTpSxTpEdLpS6oIq9s1Fn+I4XoOI73GR3avMRYsWLRscHLyjaPvWBEmS5BtEVJvDEER8ixDin4uCDa2e+aoTAHw3tH7P119EPFIIUerGrRVBtNZm+vov1QUuEZ2mlLq4LuuTZT201knVPl6Tpd9zlSEioZRql8kwdUsLYqYGBYBxAHhm2c5UpP47pZT98MzRXtxJkryHiGpzwxMRVwohbrKxPdkQpDbzWCHi+4QQtdlQsmwgcRw/GxHND1wt7lkR0dFKqe9kWfcsZUoJ0mq1VBRFZu7cOiwfllJ+rA4rkmcdtNZfrcgXgfN0e9ayiHi8EOJbpYOmBZQSRGttrlqtsNmhHmV9QUr5Dz1qu2fNdr8lf1XPOmCxYVfnjYUF0Vq/wzzFanEdexV1++Tk5IoVK1b8X6860It2b7311sfv2LFjvA7z5wLAZVLKN7rgWEgQc7c1TVNz3Br6PY9Jswc0L8a4gFvlTK21+T6ged4q9OWOnTt3rly1atX/uliRQoLEcXwJIjox1sVKzpXZbzcCpziY2dejKCp888znGC3QFhHRCqWUs/Pg3ILEcfxCRLy1QpCKduVKKWXtHuXOAiOO44sR8c1Zyla5DBG9VymV+/mqPOuUW5CaTDJ998DAwMrly5f/Ng+sOpTVWj8HEe8goj8JeX2I6OtKKecfA80liNZ6efemYMhswfa18pBgaK3NTVAzAUPIy0+jKFo5PDx8n+uVyCVIHMdfQ0Tn1rpcaTNtjVLKfE6675Y4jg81ew8AeGzIKx9F0bHDw8Nm0nPnS2ZBanJT8Hop5XHOqVa0Aa21OV5/d0W7l6lbaZqe3Ww2z8pU2EKhzIIE+p3y6YgoTdPlzWZzowVuwUW02+2DiMicewT7SAkR/ds+++yz/Mgjj9zuawAyCRLH8SgimtktQl4+KaUM9nPEZcEnSfJxIvpg2Zxe1o+i6MTh4eGrffYhkyBaa/N8S8iHJncvWrRocHBw8I8+4ValLa31X5i9ByI+qSp9KtCPr0kpTy5Qr1SVBQVJkuQoIlpfqpUeVyaiVyulaj8z4FyYW63WWVEUndnjYSjcPBFtaTQay4eHh39cOKRgxQUF0Vqbt+pCfpDvWinlywryqUU1rfWdAHBYqCuDiGcIIc7tRf/nFURrvZSIfoaIT+5F58q2SUQTURQtF0LcXjYr1PrtdvslaZpeH2r/AeA2AFgupTTPzXlf5hUkjuNXIOLXvPfKUoNEdI5Sqq+m65+JTmttXoU2r0QHubh4xyMPiIX2ICF/nvmHAGCme3kwD5A6lW23209J09RMdLc0xPVCxCuEEK/rZd/nFMTAJaKfElGQs3qbO/5CiK/3Em6v2w78mx4PdA+tftpLjnMKorU2s7Kb2dlDXMaklHV407EU+yRJ2kQ0VCqkd5Urcd9qPkHMjcHR3vEp3jIivk4IcUXxhPBrtlqtoSiKSk970ysSURQd3ovLujPXd1ZBxsbGDm80Gj/qFZwy7SLiPQceeODhhxxyyM4yOaHXDfmpXUS8SgjxyiqMwayCaK3PAIAgZ/jw/TBbFQZxlitX5qTcnJw/pYr9W6hPVXodYS5BzHSNL1poRSr49x3dXfN/VrBv3rrUbrdPSNP0G94atNvQzVLKQbuRxdMeJcjY2NizGo3G3cUje1eTiL6ilAr2mr8tclrrzwLAW23l+cyp2pzIjxIk5KtXRHScUirku8ZWtkWttfl60vOshHkMQcRf7dq16/AqTcE0myDXAsBLPXKx1dTdUsrn2AoLNac7JdM9gfa/Epd2p7N7hCBEhO1223y9db/QAPNjJXtGLEmSNxHRF0IbP9PfqlzanVOQVqt1VBRFoT7a/nwppXm8pK+XUOfardKl3TkFCfja+Q1SyqP62ozuymutfwEAfxkaiypd2p1PkFDfG3i3lPJToW0Utvvb/ZTBXbZzPeTd97jHPe7gZcuW7fLQVq4m9p6DtFqtp0VR9MtctatTmA+vAEBrbS7tmku8oS1fklK+toqd3itIwCd3t0spj6giXN99SpLkOiI63ne7Fto7WUpZyfeOpgsSKtzKXRq0sMEUitBam0kp/rRQ5R5VQsRtRHSwlPJ3PerCvM3uFURr/XMAOKiKnZyvT0Q04nJ271B4jI+PP3VycvK/Q+nvtH6ulVK+pKr93i3I+vXrFy9ZsmRHVTs5T79+LaUM8oE826wDnrus0hdYdguitTaPJZjHE4JaiOgapVRtvs1eBn6oX/yq+hHAlCAnAUBwr6ci4ruEEHX4DFwZN3bX1Vp/HgBOLR3kN8Bc1t2vyvMG7BYkSZKzzaznftmUb63RaDx3aGjI3Lvp+yWO4zYihvZ6beWvQO4WJNCJqfn8Y9rPQpIkvyei0KYW/byUstJfupo6xAruDjoiflUIcUrf7zoAYGxs7ImNRuP+0FikaXpKs9k032mv7DIliDkWXFTZXs7esXdIKS8KrM9OuhvH8YsR8WYn4Q5Dieh5SqlKz32AWutnAEBwr6gS0bFKKS9fGXK4jViJ1lq/AQAutRLmMWT79u37rl69eovHJnM3hUmSHENEIW5oh0kpQ3wwL/cgLVQhjuNPmSt6C5Wr0t+J6AGl1P5V6tNsfTGCvIeI1lS9ozP7NzExsXR0dPSh0Prtor9JknyHiFa7yHaViYi3CyEq/wydOcT6JAC8zxUIF7lE9Ael1AEuskPM1FoHNwsNIl4thDix6rzNHuQzRPS2qnd0ev+I6DalVIjTEjnBHOj3P86TUr7fCRCLoUaQy4mopzNo510fc86klDo2b726lk+S5F4ienpI60dE71JKVf4pCHOIFdwnDhDxi0KI14e0Qbjsq9baPCoe1CEnIp4ihKj0PRAzZkaQtQBwtMsBtJ2NiGuEEEGdN9lmMD1Pa701tG+ARFE0Ojw8fKNLLjayjSAxAEgbYR4zKv2ItEcOu5vSWqfmx853u2Xam5ycNBPEef8oZ94+YxzHtyFi5S+3TV8x/jjOwzQ2bty4ZOfOndvyDnyvy3c6nf1HRkbMR3IqvRhB7kLEZ1e6l4/uXBB7PCll4pqr1trcbNvsuh0H+UGMobmK9XMiCu5VWwcDZjsykVI63wgCn43GNnPreUaQEB+Ttg7CQaAXQUKejd8Bc+uR5iTdfAX2sdaTOdCLIEmSvICIfsC43RAwgpCb6L5P9SKI1lqYC1l9T9sRABbEEVjzJrOPcxAWxN0AmmQWxB1fFsQdW2/JLIg71CyIO7beklkQd6hZEHdsvSWzIO5QsyDu2HpLZkHcoWZB3LH1lsyCuEPNgrhj6y2ZBXGHmgVxx9ZbMgviDjUL4o6tt2QWxB1qFsQdW2/JLIg71CyIO7beklkQd6hZEHdsvSWzIO5QsyDu2HpLZkHcoWZB3LH1lsyCuEPNgrhj6y2ZBXGHmgVxx9ZbMgviDjUL4o6tt2QWxB1qFsQdW2/JLIg71CyIO7beklkQd6hZEHdsvSWzIO5QsyDu2HpLZkHcoWZB3LH1lsyCuEPNgrhj6y2ZBXGHmgVxx9ZbMgviDjUL4o6tt2QWxB1qFsQdW2/JLIg71CyIO7beklkQd6hZEHdsvSWzIO5QsyDu2HpLZkHcoWZB3LH1lsyCuEPNgrhj6y2ZBXGHmgVxx9ZbMgviDjUL4o6tt2QWxB1qFsQdW2/JLIg71CyIO7beklkQd6hZEHdsvSWzIO5Qf0dKebS7+D3J/I1Cp4QfZEHc8f2GlPIkd/EsiGu2APB7FsQd5cullG9wF8+CuGYLAPeyII4oI+JnhBBvdxS/N5YPsdwRJqI7WRBHfBHxXCHEGY7iWRDXYM030hE3siDuQL9DSnmRu3g+xHLNFhGvZkEcUSaiY5VS33YUz3sQ12ABgIg+woK4A32YlPIud/G8B3HNFgD+jgVxRHliYmLp6OjoQ47ieQ/iGuye/ENYEAegiegPSqkDHEQ/KpKvYjmjvENKuYQFccCXiG5TSr3IQTQL4gPqnitYtwshjmBBHAAnok8opT7oIJoF8QF1TxufllK+kwVxABwRh4QQ4w6iWRAfUAEgTdPjm83mt1gQ+8AfkFLubz929kQ+B3FDemJi4qmjo6P3sSD2+V4ppXyV/VgWxBdTAPihlPL5pj0WxDJ1IjpVKXWJ5dg543gPYp80EV2qlHoTC2KfbSdN00Obzea99qN5D+KLKRG9Uil1FQtin/j1Usrj7MfOnch7EOu0f7d9+/ZDV69evYUFsc4W3iilvMx+LAvikellUso3TrXH5yCWyCPiFiI6VEr5O0uRmWJ4D5IJU+ZCRHScUup6FiQzsmwFEfEqIcQrs5W2V4oFscfSvEG4efPmQ0844YQOC2KV6+6wY6SU6+zHzp/Igtgjnqbp2c1m86zpiXyIZYEvIq4VQrzEQlTuCBYkN7JZKyDib6MoWjY0NPQ/LIgdptNTerL3MB1gQewM5mx7D5PMe5CSfHu592BBSg5et/pcew8WxA7fnu09WBA7AzjX3oMFKcm3V1eupnebD7HKDSIi/mRycnJwZGTkgdmS+BCrIF9z3yOKosGhoaE7C0ZYqcaClMb4Ginll+dKYUEK8iWiM5RS5xasbq0aC1IK5bVSypfNl8CCFON7y+bNmwen31AqFlO+FgtSmOEOABiUUm5iQQoznL3izMcRLMfnimNBcuHaW3i+E/PpibwHycnXTCamlDonZzVnxVmQQmgXPLSaSmVB8vH18kmDPF1iQfLQ2j1byU927dq1asWKFb/KUpMFyUJpzzSUdxPRaLPZ/E3GKl6KsSD5MCPiaiHEd7PWYkEykiKiVUqpDRmLeyvGgmRHTUTvVUqdn70GP2qSldXbpJSfy1rYZzkWJBttRLxECHFqttIPl+I9yALEiOhCpdS78oL1VZ4FyUR6TEq5IlPJGYVYkHmoEdE3lVIvLQLWVx0WZH7SiPhzIcTBRceDBZmDHCLGQohmUbC+6rEg85OWUmKZsWBBZqHn6/uCZQZuqi4LMifF26WUR5RlzILMIEhEpymlLi4L1ld9FuTRpBHxYiHEaTbGgAV5JMV5n+y0Adx2BgvyKKLnSSnfb4szC7LnWxC/AIDThRDfsgXWVw4L8jDpIvc5FhonFgRgXafTOX1kZOSehWBV8e8syJ7HR7o/cJnvkGcdy34XxOruOCt0m+VYELh2cnLy9KzPVuVl35eCIOI9RHSOlPLKvMCqVr6PBdmRpul5M+exsj0+fScIIl6wc+fO80ZHR/9gG2Yv8vpUkGsBwOz9533ZycZ49JMgGxDxPCGEtgGuKhn9JIg51yAiI8ac75DbHpd+EOQOIrrE50dtbA/SfHn9IIiZt6rT6VxKRJ+da/YRV8zrLEitxZjaIOosyJQYAwMDX5g5JagrIWbm1k4QIvoBAFxe1z3GzAGsqSD3pml6ZS/FmOJcC0HM236IaGZWXyelvNnXr0sV2qmRIOa7KuuIaN3999+/rgozxpjxDVYQRLwlTdNbAWBDFd/08yVP4ILcDQC3ElG8Y8eOdVOfPfPFLks7oQjyRwD4ESJuTNN048DAwMbBwUHz//X9EpAgOxDxx+YQmIg2mrGUUv6y6gPYa0E6iPgQET0EALv/mf9GxPuIyEzp+aNGo3Hn8PDwfVUH2av+VUSQB7vj96AZvyiKzP/+dZqmdxkpAOAuKeV/9YpRmXb/H5nfEvrBefTTAAAAAElFTkSuQmCC"},function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAFGxJREFUeAHtnQuUVVUZx2FmmCFBWgaZmrjSzDIFNV8wQjC8RdHlI0tzRaZmWaay8lWpaLZAXVSuQnKlhcZSwHRVuJBhBuaBUhD2kHyUmpnhSlMsFFB59fuGe+He4d4z93H2Ofs759trDZx7Ht/+7/+3//vbj/Po3UtpamtrOxToR+7YsWNITU3NkWwfuH379v69e/fux3Z//rL/sxlbaiK1x5a75xl3dHQM3rZt21BgHoXfhuLLwRn/ie/6yTb7ZLs2rqLUxZVxOfkiho9AVCOEyd8JIgqu7ys2+N2L313mZNuSnwysWLFiny1btjTSmDWKL0F5FA3aPrk+y92WUmT9GmeJvBTI4sWLB/Tt2/dUCBsDOcP4OyJLng+kxekwTXkvX758IngnIophW7duHS4+1OY/bwSycOHC2kGDBokoToVU+dtPU2UwrDsZINqPYOtUhCC+PEL2ahPFzpLs/Dd2gXR2du5P6L2EVuZ8IH00F5xt62GAaPFl0F7I3wmCOhvxZVtzik0gWWHQD70YcRygmcQ0YxdhIAYRx7FJ5CFygbS2tg6E0MuywtAcfpNYIUotU9KFkeUhUoHQP52KOK5BFIebMLIu0PV/e3t7E767BtQyAE98ikQgCOM4mBRSzzZh6KxTzc3N+zY0NEjjNk1nCSpD7Vwgy5Ytmw40EUfXukVlMO2qOBmggTufyH894jgsThxx5O1MIC0tLQfV1dXNolBnx1EwyzMcBhDHTCxJ5AjHoDIrTgRCP/VkeJgFqYcr48PgZhhgMuWw2tpaaeBkTSq1KXSBMLtxFcK4LbWMJqDgNHBnUAxp4A5OQHGqKkKoAsmG46oQ2cWxMoAPpyKMubGC8CjzmrCw0OrMxpYMxi0pZYDofynQ5yqF7wR2KBGEVmc1rc7xThCa0UgYoIG7Ax9+I5LMFGVStUAQRzqnNxQ5uSeoiGMZ4pA7py11Y6CqLhbEvtDNnv1UxgDdqodMHMWdVrFAiBwtEHtIcdN2xHcGEMf3WQA803ecceKrSCBEjrsAPS5O4JZ3dQzQwH0dcVxZnZXkX122QDLrHHJ7syWlDOBDudHwR0rhRwq7LIEQOU6m1bFFwEhdFG5m3Bv3YSzKCrmlEhgoeRZL7q3CnhFbAqk+n8LDaeLDrkdhfcbpC7aSI4jceMig3O6t8sVzFeCga3U9l322gktTe0lJAsncsm535SquJojjdLrHNysuQizQe+xiMduRfdgpFoCWafUMyBtjEIfdBlQBlaVEEHvYqQJifbqE1ymJD4f7hEkLlkCBED2mUhDrWmnxZgGcvD1mKANzix4FuCllV1GBZN4+YsSWwqLH5/D2GHkacIDHEL2GVlQg9Fkvs1krr33XIzh6APKGw/N6PNFOKMpAQYHIS9143PLiolfZARUM0MjZHQ9VeqqgQORVoLQ89rbDKsmN8/JM9JgSJ4Yk5L2HQCx6JMGtXe/GtegRgiv3EIhFjxBYjdmERY/wHJAnEFlQyrxlPbwczFLkDDD2ODfyTBOaYZ5A5PsclNM+QaDY2UQP+a5Kqt9lFab78gRCy2PEhsluPLZkatfWPULifpdA5LNn2DSBhERsjGbMhyGSv0sg8k1A7Npnz0IkN2pT3HUt3WMTSIjE7xIINkeHaNdMxcAAXeSxZFsbQ9aJzXKXQCDXXvym3M34cKTyIngHv0sgfBxlMMiO9g6dASqXAXmrvqUQGegSCI/TykNRlhQzwAs1JHoMVFwEL6F3CYTFwU97ic5AlcwAt7Vb9CiZrdJP7BIIfdeTSr/EzvSUgTGe4lINq0sgLCwNUV0KAy8MpP5jNy6qQQ23JhyKYfvApgt2I7LJJEs/egH7RpRdqrKRCHJkqkqcwMLW19db9HDk1xrrXjliNkKz+PCQCLNLVVZMYNVYBFHucrpXFkEc+VC6WAc6sm1mI2LAxh/uiK5h/ry/O/NmOSIGzIeOiK6h9ennyLaZjYgBxiDmQ0dcSxfLWh9H5EZo1nzoiGwRiLU+jsiN0KwJxBHZFkEcERuxWWvkHBEuArFkDBgDRRgwgRQhxnYbA8KACcTqgTEQwIAJJIAcO2QMmECsDhgDAQyYQALIsUPGgAnE6oAxEMCACSSAHDtkDJhArA4YAwEMmEACyLFDxoAJxOqAMRDAgAkkgBw7ZAyYQKwOGAMBDJhAAsixQ8aACcTqgDEQwIAJJIAcO2QMmECsDhgDAQyYQALIsUPGgAnE6oAxEMCACSSAHDtkDJhArA4YAwEMmEACyLFDxoAJxOqAMRDAgAkkgBw7ZAyYQKwOGAMBDJhAAsixQ8aACcTqgDEQwIAJJIAcO2QMmECsDhgDAQyYQALIsUPGgAnE6oAxEMCACSSAHDtkDJhArA4YAwEMmEACyLFDxoAJxOqAMRDAgAkkgBw7ZAyYQBzWAb5Bv9GheTPtnoGNJhCHJG/dutUE4pBf16algTOBOGTZIohDcqMxvbGOfJqiyavqXNqqthCxgZqamqgiyE0UTf58T6p8uH379k29fWdU8LW2tg6sra19XQPWXIwNDQ17NTY2bs7dl9bt9vb2c3fs2HG/pvKDd7WKLhZAD9BEbAbrDhPHbq9p9KGaMUh9ff3+u6lWsxVV90oFIVS2fVUAzQepY5BO6/OhfNwqfplA8t00KP+nil86BMJgSR25NoOVLwCtPlQxBqGyqYsgRD2LIPkaUedD4OuIIAjk4HyuVfwygeS7SZ0PaeQ2qYgg8KyOXES9Pr9+pPdXc3NzP/hQN0gH8xsqBEL/9RBt1QvMz2rD7Aovs5DqGrgMF896L5DFixcPQMkDXTnPlV0wP+PKtja7dFXUNXDCMbif8V4gffv2Vdn6CLnaKrIrvDQWGn24tamp6XnvBUJFG+rKcS7tWhdrN7sI5Njdv9RsdTVw3guEG/4a1VCaAUqFeG3cuHFvaMPtCi+NXJMr2w7tdo0hvRcIBKhrfSx67K62nZ2d0gM4cPceHVvZMaTXAmlra+sPnUfroHQ3yiy5u/ekd4vGYqzG0mfHkF4LBJAnQm4fhQTbFG/GafhwuEL/CWT/u1i0xOqihzCbbX1k21IvlQLZvHmzikH6KI0VjIUxm+LFccuXL5fulbrxB5hfnDx58rtS97ztYjH+2I8IorH/+t8RI0b8U8hNe8J/4zRyAO4/ZnF7KxAAjqWrslcWqJb/IXe5FqwR4NTYwPXCh81ZbnwWiMrWB1GrejFBtiKE/T89ABk/Hh+23Sjs8bomvwWyZs0amblS2fqYQHZVYZX+A/3asWPHvpQthZcRZMOGDRMAODgLUtH//xgzZsxTivC6hKqyBwAheV1kLwXC7SXnufScQ9uPObStxnSmezVJDeAcoCxs7upeyW7vBNLR0TGEbopKgSDsFTlcp3YT/52psfAMztfTA1iSi907gaBgleLIkGoDdIigoqkUiIwfwb7DW4G0tLS8H4BaBfKnUaNGPZdLbhq3WRw8nXIfobTsezRwXkWQPn36nIeKD1JKro0/djpOZfQQ6Nu2bfNbIFrHHkKujT969WL8+DF6AOcIHwrT73iG5+nuuL2JIITmUwA3ojtAJb9fZuy0WAlWZzBZYPs8xvs6y8Ct4UcKmfdGIIqndoXXh3l++e1CBKdl33PPPdfAG/jP1VpeuleLCmH3QiCap3aFVKLHw4XITdO+devWyfjxMKVlbqZ79WQh7F4IRPPULn3uTm5N6CxEbpr2aR4/4qeC0UP8F7tAWHX9BDguFjAaExUj9dFDPo6D71TeWkIDt4nu/W+K1b3YBQLAqwE3sBhAz/e/DbmpFggNXH8aCfGhygT2RaxfvVwMfKwCoeU5A4AXFAOnYP9DQeQqwF81xIw4VD4aLYUHf9HoIcdjEwgtTx3grhEQWlPaowcNnDzvodaH1L9X6MH4KZBM1+pEreIA91qiRyC5istWEnSJHvixvqSTPTxJxNHT9HwsEUSmdZm5UtvyiK/TPrXLwu4XoOFsD+t9yZB6ih5iKBaBiDgAN6Dkknh2Ii3na3Sv7vYMVmRwVqxYsQ/+UzswzxD1q9GjRz/aE2mRC4TocQ6g5JYEtUnEQWj+l9oCVAmcW0pEHFrv2O0qPY3cT0qhIVKBrFy58n0s6avuWtFyvslfaqPHsmXLGqlYqn0I/gfHjBmT9+RgMbFEKhDeViddq08VA6NhPy3PPQzOX9SA1QVGoqdEj94ubEdlky5+SdFD8EQmELpWp0HujVGR4CifjQgktdGDgfn18CoPRKlN+O9+bg3KezFDUGEiEQjiGIxqbw0CouTY3YTmvyrBGipMeRyB6H9zqEZjMEYZ5pSTbSQCYdwh4pB7rtQmiH0P8KmMHo899tgBlD8JDdxcJlfKevLTuUBoea6CXLXPCWQVTQS8B3L/kv2dpv+3bNki4lA9ayX+KnXmKte3TgWCOMYmpOURclMZPfDhNCrM+bmVRuM2/vsp3eNV5WKvK/eCUs9fsmTJBzLiUD3jkSnvTAZ2fyi17Ek5j/vlRlOWJHStXuVpx9sr8YszgTQ0NAix6r4v2J1ERP4kn6Ke0X1/0n/LK5go4238OasjEXI4k6n5il7J5KSLRVi+lMJfFCEBLrOaOWzYsA0uM/DRdl1dnTRwKt/O3o3PFsaOP+y2r+SfoQtEnvGg1Z1dMgK/T5zH/ToP+A0xfHR0rb6D1UvCtxy9RSZXZlaTa6gCIXKcwmAoKU/YvUlZqiK3GsfEdS0NnKyUfzeu/EPOd1Y5i4KF8g6tfwmx46lQBd8tVChj3/cRBWcQmlP1KQMixxX4MAmDcqle8pXaqhu4UGaYiByjqFDtgiohqQNxjE5IWUoqhowbE9Q1ljJ/ER/eW1LhA06qOoIQOYbT6rQH5KHxUNUtj6ZC48Ov4sOkjBvl7fILGTtWLQ7xYVVjEB6cORZiV2qqDD1hpTy30/LkfSOip2s0HydyTKPMd2ouQzfsr3JT7Pe67av4Z8VdLPqrI8g1aR+MeQRxTKmYTWUX4sNvA/kWZbAD4SKOqax53Bd4UhkHK4oghOSryCNR4qAV/Tvkym0VqUiIYyEFTZQ46Fr9IExxSEUoewwCsb+kMp2VwFo0rdLVVk1cdHZ2fpK1gfn4cIgm3D1hRRxtlEmmqENNJQuEZzqOgVgZyA0PFYEfxq7jRrZf+wHFHQrGG2fx6MFd5KD1TZYFyUEcsmZ1Nd3jrQVPqGJnjwJZtGjRXqSrASDdqr2qyMvLSynXLxBHometEMbH6T6KD7/kpROqBJURx5oqzRS8PFAgdKc+x1USto4BREEDyneuISpeqbwMgfARh7zc7Sr8NyjwRL0HZxM57nYFv6BAWltbh3N7sFScz7jKOG67VBh5q/c0vgvxRtxYXOTPRIr47krKmcQucZayx/fee+/Qxx1Z4/J/nkCIGAdC6DRanES3qlJwyvkVFpMSNRMn5co2bpQvsY2blJP0Ao34pccdd9ymnT/d/Nu1DoIwRguhCENI/aCbrLyyegVh+Q6vEFUJRiJGRhRJF4Y0btsRx0hmHZ0vUtchjq7BBeKo0kU6LqecNxM5EiMOadxgvo1Ko8MBIaBEHCdHIQ6BWtFCYQhljMvEPYhD+7u54uLOi3wZN56FOJZGBSZNAnmCbtVFURFr+YTPAOKYijgifd4oFQKRPivuknvHLCllAB9+F3HcFzX8VAiEt5EPJnq8EzW5ll9oDCxgMfeG0KyVYSgNAmmaMGHCK2VwYqf6xcAyGjdZsI4lJV0gcNvUHguzlmkYDCzCf+PCMFSpjSQLxMRRaa3w47oFOPC0uKEkUSBbINXEEXfNqi5/ecl0bN2qXOiJEgiLgOsp3ATIbc8tpG3rYQAf3on/LvAFcZIE8hJ35p5p4vClalWEYxYLuV+r6EpHFyVCILQ6T4o4mArscMSTmXXMgKxz0Lh903E2ZZvPu5u37Kv9uOAhnpK7nDforfMDjqEolwHEcSGN28/KvS6K81ULBGJnQOy3oiDK8nDCwLv4cCw+fNyJ9RCMqhQIpG6gW3U5xM4NgQMzEQMD0i3OiOP1GLIvOUuNAlnD7c6Xc1+O82cBSmbRTiyXgQcZjJ9T7kVxnK9qkE6rcz8kRfYsQBwOSUGetzAYVyEO8YWaCMIs1U0MxKenoAIlsog0bq/QpboGcczTVEANEUS+LDvFxKGpWu2BdRF3VI/XJg4phe8R5F4wXgux/96DctuhggGixo1MptysAmwBkL4KZCNYRRg/LoDZdulgYC1PAF7LZMpiHXALo/SxiyWr4eNMHIUdpmEvUePnLN6O1y4O4dq3CDKLF4Fdx7uO5I5cS8oYQBjrGYzfQJdqtjLoReF6IRBI7YRc+SbgkqJI7YDvDMxjpnEGb6p82neg5eCLWyD/A+wMFo2S8uHIcrhPyrlraeDEhw8kpUC55YhNIESMB1gRn0E/dW0uINtWxcCtTN/OGD9+vDR0iUyRC4TW5mnpTtFPnZdIRtNRqCXSnWJtqjPpxY1SIP9BHHPq6+vvaGxslCf/LOlj4M9AnsNYUT7Ck4rkXCCIYgMRQ4Qx56STTnopFawmr5DPig8HDBgwJ20zjC4F8i71ZA7jjDkjR478W/LqTCpK9KJEfREHXeK3U1HiboV0IhAhVf5sAN6NbSU/EcQr4j8W++Yk9QNDpboiTIE8T6bz+VvAlJ/cYGhJGQMIYyW3h8x/7733FkycOPE1ZfCdwA1DII+CbMHmzZvnT548WbpVlnQxID6bT8SQF7WJLy3lMFCRQCDzNab5FjC+mE83yp7syyFU0aZE+QX8zUcYEv0tFWCgZIEgCnngRT5c0vzOO+8snTRpkk3VFiDU811P4cdmGrelDLqbPcfqBbyeBPIiKIXI5rfeemvplClTNnmB2kCUw8ATOaKw94aVwxzndheI9Ed/D6GdDNY6+cZ2y/Tp0+XjM5b0MCBvCVlFtJdV7g4ixSo90P1DWgeRTwBrNaJYJaJgTCFRw5IuBtqAuxpf/rZPnz6drDu9qQu+v2j/D2LV2rfc/KKHAAAAAElFTkSuQmCC"},function(n,e,t){"use strict";t.r(e);var r={props:["html"],created(){this.location=window.location}},o=t(2),a=Object(o.a)(r,(function(){var n=this,e=n._self._c;return e("div",[e("div",{domProps:{innerHTML:n._s(n.html)}}),n._v(" "),e("p",[e("br"),n._v("\n——————————\n作者：zhāngpéngjūn\n链接："),e("a",{attrs:{href:n.location}},[n._v(n._s(n.location))]),n._v("\n来源：znote\n版权声明：著作权归原作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。\n——————————\n")])])}),[],!1,null,"55aa8206",null);e.default=a.exports},function(n,e,t){"use strict";var r=t(9),o=t(19),a=t(152),i=t(51);n.exports=function(n,e,t,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(t)&&a(t,c,s),s.global)l?n[e]=t:i(e,t);else{try{s.unsafe?n[e]&&(l=!0):delete n[e]}catch(n){}l?n[e]=t:o.f(n,e,{value:t,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return n}},function(n,e,t){"use strict";var r=t(6),o=t(8),a=t(9),i=t(14),s=t(10),l=t(163).CONFIGURABLE,c=t(164),u=t(156),d=u.enforce,p=u.get,h=String,m=Object.defineProperty,f=r("".slice),g=r("".replace),v=r([].join),y=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=n.exports=function(n,e,t){"Symbol("===f(h(e),0,7)&&(e="["+g(h(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!i(n,"name")||l&&n.name!==e)&&(s?m(n,"name",{value:e,configurable:!0}):n.name=e),y&&t&&i(t,"arity")&&n.length!==t.arity&&m(n,"length",{value:t.arity});try{t&&i(t,"constructor")&&t.constructor?s&&m(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=d(n);return i(r,"source")||(r.source=v(b,"string"==typeof e?e:"")),n};Function.prototype.toString=x((function(){return a(this)&&p(this).source||c(this)}),"toString")},function(n,e,t){"use strict";var r=t(189),o=t(9),a=t(33),i=t(34)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());n.exports=r?a:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=s(n),i))?t:l?a(e):"Object"===(r=a(e))&&o(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r=t(46),o=t(15),a=t(80),i=t(161),s=t(162),l=t(34),c=TypeError,u=l("toPrimitive");n.exports=function(n,e){if(!o(n)||a(n))return n;var t,l=i(n,u);if(l){if(void 0===e&&(e="default"),t=r(l,n,e),!o(t)||a(t))return t;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(n,e)}},function(n,e,t){"use strict";var r=String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var r,o,a,i=t(165),s=t(7),l=t(15),c=t(24),u=t(14),d=t(50),p=t(74),h=t(52),m=s.TypeError,f=s.WeakMap;if(i||d.state){var g=d.state||(d.state=new f);g.get=g.get,g.has=g.has,g.set=g.set,r=function(n,e){if(g.has(n))throw new m("Object already initialized");return e.facade=n,g.set(n,e),e},o=function(n){return g.get(n)||{}},a=function(n){return g.has(n)}}else{var v=p("state");h[v]=!0,r=function(n,e){if(u(n,v))throw new m("Object already initialized");return e.facade=n,c(n,v,e),e},o=function(n){return u(n,v)?n[v]:{}},a=function(n){return u(n,v)}}n.exports={set:r,get:o,has:a,enforce:function(n){return a(n)?o(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=o(e)).type!==n)throw new m("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(34),o=t(297),a=t(19).f,i=r("unscopables"),s=Array.prototype;void 0===s[i]&&a(s,i,{configurable:!0,value:o(null)}),n.exports=function(n){s[i][n]=!0}},function(n,e,t){n.exports=t(359)},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);e.f=a?function(n){var e=o(this,n);return!!e&&e.enumerable}:r},function(n,e,t){"use strict";n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){"use strict";var r=t(44),o=t(78);n.exports=function(n,e){var t=n[e];return o(t)?void 0:r(t)}},function(n,e,t){"use strict";var r=t(46),o=t(9),a=t(15),i=TypeError;n.exports=function(n,e){var t,s;if("string"===e&&o(t=n.toString)&&!a(s=r(t,n)))return s;if(o(t=n.valueOf)&&!a(s=r(t,n)))return s;if("string"!==e&&o(t=n.toString)&&!a(s=r(t,n)))return s;throw new i("Can't convert object to primitive value")}},function(n,e,t){"use strict";var r=t(10),o=t(14),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&i(a,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){"use strict";var r=t(6),o=t(9),a=t(50),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(n){return i(n)}),n.exports=a.inspectSource},function(n,e,t){"use strict";var r=t(7),o=t(9),a=r.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},function(n,e,t){"use strict";var r=t(36),o=t(6),a=t(167),i=t(172),s=t(25),l=o([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=a.f(s(n)),t=i.f;return t?l(e,t(n)):e}},function(n,e,t){"use strict";var r=t(90),o=t(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,o)}},function(n,e,t){"use strict";var r=t(35),o=t(169),a=t(30),i=function(n){return function(e,t,i){var s,l=r(e),c=a(l),u=o(i,c);if(n&&t!=t){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:i(!0),indexOf:i(!1)}},function(n,e,t){"use strict";var r=t(32),o=Math.max,a=Math.min;n.exports=function(n,e){var t=r(n);return t<0?o(t+e,0):a(t,e)}},function(n,e,t){"use strict";var r=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?o:r)(e)}},function(n,e,t){"use strict";var r=t(32),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var r=t(8),o=t(9),a=/#|\.prototype\./,i=function(n,e){var t=l[s(n)];return t===u||t!==c&&(o(e)?r(e):!!e)},s=i.normalize=function(n){return String(n).replace(a,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";n.exports=i},function(n,e,t){"use strict";var r=t(44),o=t(31),a=t(71),i=t(30),s=TypeError,l=function(n){return function(e,t,l,c){var u=o(e),d=a(u),p=i(u);r(t);var h=n?p-1:0,m=n?-1:1;if(l<2)for(;;){if(h in d){c=d[h],h+=m;break}if(h+=m,n?h<0:p<=h)throw new s("Reduce of empty array with no initial value")}for(;n?h>=0:p>h;h+=m)h in d&&(c=t(c,d[h],h,u));return c}};n.exports={left:l(!1),right:l(!0)}},function(n,e,t){"use strict";var r=t(8);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var r=t(7),o=t(33);n.exports="process"===o(r.process)},function(n,e,t){"use strict";var r=t(10),o=t(178),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=s?function(n,e){if(o(n)&&!i(n,"length").writable)throw new a("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var r=t(33);n.exports=Array.isArray||function(n){return"Array"===r(n)}},function(n,e,t){"use strict";var r=TypeError;n.exports=function(n){if(n>9007199254740991)throw r("Maximum allowed index exceeded");return n}},function(n,e,t){"use strict";var r=t(23),o=t(7),a=t(181),i=t(182),s=o.WebAssembly,l=7!==new Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=i(n,e,l),r({global:!0,constructor:!0,arity:1,forced:l},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=i("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},t)}};c("Error",(function(n){return function(e){return a(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return a(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return a(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return a(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return a(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return a(n,this,arguments)}})),c("URIError",(function(n){return function(e){return a(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return a(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return a(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return a(n,this,arguments)}}))},function(n,e,t){"use strict";var r=t(45),o=Function.prototype,a=o.apply,i=o.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},function(n,e,t){"use strict";var r=t(36),o=t(14),a=t(24),i=t(72),s=t(75),l=t(89),c=t(186),u=t(187),d=t(188),p=t(190),h=t(191),m=t(10),f=t(85);n.exports=function(n,e,t,g){var v=g?2:1,y=n.split("."),b=y[y.length-1],x=r.apply(null,y);if(x){var w=x.prototype;if(!f&&o(w,"cause")&&delete w.cause,!t)return x;var E=r("Error"),j=e((function(n,e){var t=d(g?e:n,void 0),r=g?new x(n):new x;return void 0!==t&&a(r,"message",t),h(r,j,r.stack,2),this&&i(w,this)&&u(r,this,j),arguments.length>v&&p(r,arguments[v]),r}));if(j.prototype=w,"Error"!==b?s?s(j,E):l(j,E,{name:!0}):m&&"stackTraceLimit"in x&&(c(j,x,"stackTraceLimit"),c(j,x,"prepareStackTrace")),l(j,x),!f)try{w.name!==b&&a(w,"name",b),w.constructor=j}catch(n){}return j}}},function(n,e,t){"use strict";var r=t(6),o=t(44);n.exports=function(n,e,t){try{return r(o(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var r=t(185),o=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a("Can't set "+o(n)+" as a prototype")}},function(n,e,t){"use strict";var r=t(15);n.exports=function(n){return r(n)||null===n}},function(n,e,t){"use strict";var r=t(19).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(9),o=t(15),a=t(75);n.exports=function(n,e,t){var i,s;return a&&r(i=e.constructor)&&i!==t&&o(s=i.prototype)&&s!==t.prototype&&a(n,s),n}},function(n,e,t){"use strict";var r=t(70);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){"use strict";var r={};r[t(34)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){"use strict";var r=t(15),o=t(24);n.exports=function(n,e){r(e)&&"cause"in e&&o(n,"cause",e.cause)}},function(n,e,t){"use strict";var r=t(24),o=t(192),a=t(193),i=Error.captureStackTrace;n.exports=function(n,e,t,s){a&&(i?i(n,e):r(n,"stack",o(t,s)))}},function(n,e,t){"use strict";var r=t(6),o=Error,a=r("".replace),i=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(i);n.exports=function(n,e){if(l&&"string"==typeof n&&!o.prepareStackTrace)for(;e--;)n=a(n,s,"");return n}},function(n,e,t){"use strict";var r=t(8),o=t(48);n.exports=!r((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",o(1,7)),7!==n.stack)}))},function(n,e,t){var r=t(91),o=t(195);n.exports=function n(e,t,a,i,s){var l=-1,c=e.length;for(a||(a=o),s||(s=[]);++l<c;){var u=e[l];t>0&&a(u)?t>1?n(u,t-1,a,i,s):r(s,u):i||(s[s.length]=u)}return s}},function(n,e,t){var r=t(26),o=t(54),a=t(12),i=r?r.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||o(n)||!!(i&&n&&n[i])}},function(n,e,t){var r=t(27),o=t(20);n.exports=function(n){return o(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(26),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=a.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var o=i.call(n);return r&&(e?n[s]=t:delete n[s]),o}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(200),o=t(256),a=t(62),i=t(12),s=t(267);n.exports=function(n){return"function"==typeof n?n:null==n?a:"object"==typeof n?i(n)?o(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(201),o=t(255),a=t(108);n.exports=function(n){var e=o(n);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(93),o=t(97);n.exports=function(n,e,t,a){var i=t.length,s=i,l=!a;if(null==n)return!s;for(n=Object(n);i--;){var c=t[i];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++i<s;){var u=(c=t[i])[0],d=n[u],p=c[1];if(l&&c[2]){if(void 0===d&&!(u in n))return!1}else{var h=new r;if(a)var m=a(d,p,u,n,e,h);if(!(void 0===m?o(p,d,3,a,h):m))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(38),o=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():o.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(38);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(38);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(38);n.exports=function(n,e){var t=this.__data__,o=r(t,n);return o<0?(++this.size,t.push([n,e])):t[o][1]=e,this}},function(n,e,t){var r=t(37);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(37),o=t(55),a=t(57);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var i=t.__data__;if(!o||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new a(i)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(95),o=t(213),a=t(56),i=t(96),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!a(n)||o(n))&&(r(n)?p:s).test(i(n))}},function(n,e,t){var r,o=t(214),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!a&&a in n}},function(n,e,t){var r=t(11)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(217),o=t(37),a=t(55);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(n,e,t){var r=t(218),o=t(219),a=t(220),i=t(221),s=t(222);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(39);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(39),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(39),o=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:o.call(e,n)}},function(n,e,t){var r=t(39);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(40);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(40);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(40);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(40);n.exports=function(n,e){var t=r(this,n),o=t.size;return t.set(n,e),this.size+=t.size==o?0:1,this}},function(n,e,t){var r=t(93),o=t(98),a=t(232),i=t(235),s=t(251),l=t(12),c=t(102),u=t(104),d="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,h,m,f){var g=l(n),v=l(e),y=g?"[object Array]":s(n),b=v?"[object Array]":s(e),x=(y="[object Arguments]"==y?d:y)==d,w=(b="[object Arguments]"==b?d:b)==d,E=y==b;if(E&&c(n)){if(!c(e))return!1;g=!0,x=!1}if(E&&!x)return f||(f=new r),g||u(n)?o(n,e,t,h,m,f):a(n,e,y,t,h,m,f);if(!(1&t)){var j=x&&p.call(n,"__wrapped__"),A=w&&p.call(e,"__wrapped__");if(j||A){var T=j?n.value():n,C=A?e.value():e;return f||(f=new r),m(T,C,t,h,f)}}return!!E&&(f||(f=new r),i(n,e,t,h,m,f))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(26),o=t(233),a=t(94),i=t(98),s=t(234),l=t(58),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,d,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!d(new o(n),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var h=s;case"[object Set]":var m=1&r;if(h||(h=l),n.size!=e.size&&!m)return!1;var f=p.get(n);if(f)return f==e;r|=2,p.set(n,e);var g=i(h(n),h(e),r,c,d,p);return p.delete(n),g;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(11).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(236),o=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,a,i,s){var l=1&t,c=r(n),u=c.length;if(u!=r(e).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in e:o.call(e,p)))return!1}var h=s.get(n),m=s.get(e);if(h&&m)return h==e&&m==n;var f=!0;s.set(n,e),s.set(e,n);for(var g=l;++d<u;){var v=n[p=c[d]],y=e[p];if(a)var b=l?a(y,v,p,e,n,s):a(v,y,p,n,e,s);if(!(void 0===b?v===y||i(v,y,t,a,s):b)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var x=n.constructor,w=e.constructor;x==w||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(n),s.delete(e),f}},function(n,e,t){var r=t(237),o=t(238),a=t(101);n.exports=function(n){return r(n,a,o)}},function(n,e,t){var r=t(91),o=t(12);n.exports=function(n,e,t){var a=e(n);return o(n)?a:r(a,t(n))}},function(n,e,t){var r=t(239),o=t(240),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(n){return null==n?[]:(n=Object(n),r(i(n),(function(e){return a.call(n,e)})))}:o;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=0,a=[];++t<r;){var i=n[t];e(i,t,n)&&(a[o++]=i)}return a}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(242),o=t(54),a=t(12),i=t(102),s=t(103),l=t(104),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=a(n),u=!t&&o(n),d=!t&&!u&&i(n),p=!t&&!u&&!d&&l(n),h=t||u||d||p,m=h?r(n.length,String):[],f=m.length;for(var g in n)!e&&!c.call(n,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,f))||m.push(g);return m}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(27),o=t(59),a=t(20),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(n){return a(n)&&o(n.length)&&!!i[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(92),o=e&&!e.nodeType&&e,a=o&&"object"==typeof n&&n&&!n.nodeType&&n,i=a&&a.exports===o&&r.process,s=function(){try{var n=a&&a.require&&a.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(n){}}();n.exports=s}).call(this,t(76)(n))},function(n,e,t){var r=t(248),o=t(249),a=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return o(n);var e=[];for(var t in Object(n))a.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(250)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(252),o=t(55),a=t(253),i=t(106),s=t(254),l=t(27),c=t(96),u=c(r),d=c(o),p=c(a),h=c(i),m=c(s),f=l;(r&&"[object DataView]"!=f(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=f(new o)||a&&"[object Promise]"!=f(a.resolve())||i&&"[object Set]"!=f(new i)||s&&"[object WeakMap]"!=f(new s))&&(f=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case m:return"[object WeakMap]"}return e}),n.exports=f},function(n,e,t){var r=t(16)(t(11),"DataView");n.exports=r},function(n,e,t){var r=t(16)(t(11),"Promise");n.exports=r},function(n,e,t){var r=t(16)(t(11),"WeakMap");n.exports=r},function(n,e,t){var r=t(107),o=t(101);n.exports=function(n){for(var e=o(n),t=e.length;t--;){var a=e[t],i=n[a];e[t]=[a,i,r(i)]}return e}},function(n,e,t){var r=t(97),o=t(257),a=t(264),i=t(60),s=t(107),l=t(108),c=t(41);n.exports=function(n,e){return i(n)&&s(e)?l(c(n),e):function(t){var i=o(t,n);return void 0===i&&i===e?a(t,n):r(e,i,3)}}},function(n,e,t){var r=t(109);n.exports=function(n,e,t){var o=null==n?void 0:r(n,e);return void 0===o?t:o}},function(n,e,t){var r=t(259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(o,(function(n,t,r,o){e.push(r?o.replace(a,"$1"):t||n)})),e}));n.exports=i},function(n,e,t){var r=t(260);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(57);function o(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var i=n.apply(this,r);return t.cache=a.set(o,i)||a,i};return t.cache=new(o.Cache||r),t}o.Cache=r,n.exports=o},function(n,e,t){var r=t(262);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(26),o=t(263),a=t(12),i=t(61),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(a(e))return o(e,n)+"";if(i(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}},function(n,e,t){var r=t(265),o=t(266);n.exports=function(n,e){return null!=n&&o(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(110),o=t(54),a=t(12),i=t(103),s=t(59),l=t(41);n.exports=function(n,e,t){for(var c=-1,u=(e=r(e,n)).length,d=!1;++c<u;){var p=l(e[c]);if(!(d=null!=n&&t(n,p)))break;n=n[p]}return d||++c!=u?d:!!(u=null==n?0:n.length)&&s(u)&&i(p,u)&&(a(n)||o(n))}},function(n,e,t){var r=t(268),o=t(269),a=t(60),i=t(41);n.exports=function(n){return a(n)?r(i(n)):o(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(109);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(62),o=t(271),a=t(273);n.exports=function(n,e){return a(o(n,e,r),n+"")}},function(n,e,t){var r=t(272),o=Math.max;n.exports=function(n,e,t){return e=o(void 0===e?n.length-1:e,0),function(){for(var a=arguments,i=-1,s=o(a.length-e,0),l=Array(s);++i<s;)l[i]=a[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=a[i];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(274),o=t(277)(r);n.exports=o},function(n,e,t){var r=t(275),o=t(276),a=t(62),i=o?function(n,e){return o(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;n.exports=i},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(16),o=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=o},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,a>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(99),o=t(279),a=t(284),i=t(100),s=t(285),l=t(58);n.exports=function(n,e,t){var c=-1,u=o,d=n.length,p=!0,h=[],m=h;if(t)p=!1,u=a;else if(d>=200){var f=e?null:s(n);if(f)return l(f);p=!1,u=i,m=new r}else m=e?[]:h;n:for(;++c<d;){var g=n[c],v=e?e(g):g;if(g=t||0!==g?g:0,p&&v==v){for(var y=m.length;y--;)if(m[y]===v)continue n;e&&m.push(v),h.push(g)}else u(m,v,t)||(m!==h&&m.push(v),h.push(g))}return h}},function(n,e,t){var r=t(280);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(281),o=t(282),a=t(283);n.exports=function(n,e,t){return e==e?a(n,e,t):r(n,o,t)}},function(n,e){n.exports=function(n,e,t,r){for(var o=n.length,a=t+(r?1:-1);r?a--:++a<o;)if(e(n[a],a,n))return a;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,o=n.length;++r<o;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,o=null==n?0:n.length;++r<o;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(106),o=t(286),a=t(58),i=r&&1/a(new r([,-0]))[1]==1/0?function(n){return new r(n)}:o;n.exports=i},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(105),o=t(20);n.exports=function(n){return o(n)&&r(n)}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(111)},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(112)},function(n,e,t){"use strict";var r=t(23),o=t(31),a=t(30),i=t(32),s=t(157);r({target:"Array",proto:!0},{at:function(n){var e=o(this),t=a(e),r=i(n),s=r>=0?r:t+r;return s<0||s>=t?void 0:e[s]}}),s("at")},function(n,e,t){"use strict";var r,o=t(25),a=t(298),i=t(53),s=t(52),l=t(300),c=t(87),u=t(74),d=u("IE_PROTO"),p=function(){},h=function(n){return"<script>"+n+"<\/script>"},m=function(n){n.write(h("")),n.close();var e=n.parentWindow.Object;return n=null,e},f=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,e;f="undefined"!=typeof document?document.domain&&r?m(r):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(h("document.F=Object")),n.close(),n.F):m(r);for(var t=i.length;t--;)delete f.prototype[i[t]];return f()};s[d]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(p.prototype=o(n),t=new p,p.prototype=null,t[d]=n):t=f(),void 0===e?t:a.f(t,e)}},function(n,e,t){"use strict";var r=t(10),o=t(88),a=t(19),i=t(25),s=t(35),l=t(299);e.f=r&&!o?Object.defineProperties:function(n,e){i(n);for(var t,r=s(e),o=l(e),c=o.length,u=0;c>u;)a.f(n,t=o[u++],r[t]);return n}},function(n,e,t){"use strict";var r=t(90),o=t(53);n.exports=Object.keys||function(n){return r(n,o)}},function(n,e,t){"use strict";var r=t(36);n.exports=r("document","documentElement")},function(n,e,t){"use strict";var r=t(23),o=t(6),a=t(49),i=t(32),s=t(70),l=t(8),c=o("".charAt);r({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(n){var e=s(a(this)),t=e.length,r=i(n),o=r>=0?r:t+r;return o<0||o>=t?void 0:c(e,o)}})},function(n,e,t){"use strict";t(113)},function(n,e,t){
/*!
 * Valine v1.5.1
 * (c) 2017-2022 xCss
 * Released under the GPL-2.0 License.
 * Last Update: 2022-7-21 3:43:59 ├F10: PM┤
 */
n.exports=function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=108)}([function(n,e,t){"use strict";var r=SyntaxError,o=Function,a=TypeError,i=function(n){try{return o('"use strict"; return ('+n+").constructor;")()}catch(n){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(n){s=null}var l=function(){throw new a},c=s?function(){try{return l}catch(n){try{return s(arguments,"callee").get}catch(n){return l}}}():l,u=t(22)(),d=Object.getPrototypeOf||function(n){return n.__proto__},p={},h="undefined"==typeof Uint8Array?void 0:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},f=function n(e){var t;if("%AsyncFunction%"===e)t=i("async function () {}");else if("%GeneratorFunction%"===e)t=i("function* () {}");else if("%AsyncGeneratorFunction%"===e)t=i("async function* () {}");else if("%AsyncGenerator%"===e){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=n("%AsyncGenerator%");o&&(t=d(o.prototype))}return m[e]=t,t},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=t(9),y=t(25),b=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,T=function(n){var e=E(n,0,1),t=E(n,-1);if("%"===e&&"%"!==t)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===t&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return w(n,j,(function(n,e,t,r){o[o.length]=t?w(r,A,"$1"):e||n})),o},C=function(n,e){var t,o=n;if(y(g,o)&&(o="%"+(t=g[o])[0]+"%"),y(m,o)){var i=m[o];if(i===p&&(i=f(o)),void 0===i&&!e)throw new a("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:t,name:o,value:i}}throw new r("intrinsic "+n+" does not exist!")};n.exports=function(n,e){if("string"!=typeof n||0===n.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var t=T(n),o=t.length>0?t[0]:"",i=C("%"+o+"%",e),l=i.name,c=i.value,u=!1,d=i.alias;d&&(o=d[0],x(t,b([0,1],d)));for(var p=1,h=!0;p<t.length;p+=1){var f=t[p],g=E(f,0,1),v=E(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&h||(u=!0),y(m,l="%"+(o+="."+f)+"%"))c=m[l];else if(null!=c){if(!(f in c)){if(!e)throw new a("base intrinsic for "+n+" exists, but the property is not available.");return}if(s&&p+1>=t.length){var w=s(c,f);c=(h=!!w)&&"get"in w&&!("originalValue"in w.get)?w.get:c[f]}else h=y(c,f),c=c[f];h&&!u&&(m[l]=c)}}return c}},function(n,e,t){"use strict";var r=t(0),o=t(4),a=o(r("String.prototype.indexOf"));n.exports=function(n,e){var t=r(n,!!e);return"function"==typeof t&&a(n,".prototype.")>-1?o(t):t}},function(n,e,t){"use strict";var r=t(88),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,i=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var n={};try{for(var e in s(n,"x",{enumerable:!1,value:n}),n)return!1;return n.x===n}catch(n){return!1}}(),c=function(n,e,t,r){(!(e in n)||function(n){return"function"==typeof n&&"[object Function]"===a.call(n)}(r)&&r())&&(l?s(n,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):n[e]=t)},u=function(n,e){var t=arguments.length>2?arguments[2]:{},a=r(e);o&&(a=i.call(a,Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;s+=1)c(n,a[s],e[a[s]],t[a[s]])};u.supportsDescriptors=!!l,n.exports=u},function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a=r(t(85)),i=r(t(49)),s=r(t(46)),l=r(t(48)),c=r(t(45)),u=document,d=navigator,p=/[&<>"'`\\]/g,h=RegExp(p.source),m=/&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g,f=RegExp(m.source),g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","\\":"&#x5c;"},v={};for(var y in g)v[g[y]]=y;var b=null;Array.prototype.forEach||(Array.prototype.forEach=function(n,e){var t,r;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof n)throw new TypeError(n+" is not a function");for(arguments.length>1&&(t=e),r=0;r<a;){var i;r in o&&(i=o[r],n.call(t,i,r,o)),r++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),(0,a.default)(i.default.fn,{prepend:function(n){return n instanceof HTMLElement||(n=n[0]),this.forEach((function(e){e.insertAdjacentElement("afterBegin",n)})),this},append:function(n){return n instanceof HTMLElement||(n=n[0]),this.forEach((function(e){e.insertAdjacentElement("beforeEnd",n)})),this},remove:function(){return this.forEach((function(n){try{n.parentNode.removeChild(n)}catch(n){}})),this},find:function(n){return(0,i.default)(n,this)},show:function(){return this.forEach((function(n){n.style.display="block"})),this},hide:function(){return this.forEach((function(n){n.style.display="none"})),this},on:function(n,e,t){return i.default.fn.off(n,e,t),this.forEach((function(r){n.split(" ").forEach((function(n){r.addEventListener?r.addEventListener(n,e,t||!1):r.attachEvent?r.attachEvent("on"+n,e):r["on"+n]=e}))})),this},off:function(n,e,t){return this.forEach((function(r){n.split(" ").forEach((function(n){r.removeEventListener?r.removeEventListener(n,e,t||!1):r.detachEvent?r.detachEvent("on"+n,e):r["on"+n]=null}))})),this},html:function(n){return void 0!==n?(this.forEach((function(e){e.innerHTML=n})),this):this[0].innerHTML},text:function(n){return void 0!==n?(this.forEach((function(e){e.innerText=n})),this):this[0].innerText},empty:function(n){return n=n||0,this.forEach((function(e){setTimeout((function(n){e.innerText=""}),n)})),this},val:function(n){return void 0!==n?(this.forEach((function(e){e.value=n})),this):this[0].value||""},attr:function(){var n=arguments;if("object"==o(arguments[0])){var e=arguments[0],t=this;return Object.keys(e).forEach((function(n){t.forEach((function(t){t.setAttribute(n,e[n])}))})),this}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0])||"":(this.forEach((function(e){e.setAttribute(n[0],n[1])})),this)},removeAttr:function(n){return this.forEach((function(e){var t,r=0,o=n&&n.match(/[^\x20\t\r\n\f\*\/\\]+/g);if(o&&1===e.nodeType)for(;t=o[r++];)e.removeAttribute(t)})),this},hasClass:function(n){return!!this[0]&&new RegExp("(\\s|^)"+n+"(\\s|$)").test(this[0].getAttribute("class"))},addClass:function(n){return this.forEach((function(e){var t=(0,i.default)(e),r=t.attr("class");t.hasClass(n)||t.attr("class",r+=" "+n)})),this},removeClass:function(n){return this.forEach((function(e){var t=(0,i.default)(e),r=t.attr("class");if(t.hasClass(n)){var o=new RegExp("(\\s|^)"+n+"(\\s|$)");t.attr("class",r.replace(o,""))}})),this}}),(0,a.default)(i.default,{extend:a.default,noop:function(){},navi:d,ua:d.userAgent,lang:d.language||d.languages[0],detect:s.default,store:l.default,escape:function(n){return n&&h.test(n)?n.replace(p,(function(n){return g[n]})):n},unescape:function(n){return n&&f.test(n)?n.replace(m,(function(n){return v[n]})):n},dynamicLoadSource:function(n,e){if((0,i.default)('script[src="'+n+'"]').length)e&&e();else{var t=u.createElement("script");t.onload=t.onreadystatechange=function(){this.onload=this.onreadystatechange=null,e&&e(),(0,i.default)(t).remove()},t.async=!0,t.setAttribute("referrerPolicy","no-referrer"),(0,i.default)("head")[0].appendChild(t),t.src=n}},sdkLoader:function(n,e,t){e in window&&window[e]?(b&&clearTimeout(b),t&&t()):i.default.dynamicLoadSource(n,(function(){b=setTimeout(i.default.sdkLoader(n,e,t),100)}))},deleteInWin:function(n,e){var t=function(e){if(n in window)try{delete window[n]}catch(e){window[n]=null}};0===e?t():setTimeout(t,e||500)},ajax:c.default}),e.default=i.default},function(n,e,t){"use strict";var r=t(9),o=t(0),a=o("%Function.prototype.apply%"),i=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(i,a),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(n){c=null}n.exports=function(n){var e=s(r,i,arguments);return l&&c&&l(e,"length").configurable&&c(e,"length",{value:1+u(0,n.length-(arguments.length-1))}),e};var d=function(){return s(r,a,arguments)};c?c(n.exports,"apply",{value:d}):n.exports.apply=d},function(n,e,t){"use strict";n.exports=t(62)},function(n,e,t){"use strict";e.__esModule=!0,e.DEFAULT_EMOJI_CDN="//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/",e.DB_NAME="Comment",e.CONFIG={lang:"zh-CN",langMode:null,appId:"",appKey:"",clazzName:"Comment",meta:["nick","mail","link"],path:location.pathname,placeholder:"Just Go Go",pageSize:10,recordIP:!0,serverURLs:"",visitor:!1,mathJax:!1,emojiCDN:"",emojiMaps:void 0,enableQQ:!1,requiredFields:[]},e.defaultMeta=["nick","mail","link"],e.QQCacheKey="_v_Cache_Q",e.MetaCacheKey="_v_Cache_Meta",e.RandomStr=function(n){return(Date.now()+Math.round(1e3*Math.random())).toString(32)},e.VERSION="1.5.1"},function(n,e,t){var r=t(16),o=t(50);for(var a in(e=n.exports=function(n,e){return new o(e).process(n)}).FilterCSS=o,r)e[a]=r[a];"undefined"!=typeof window&&(window.filterCSS=n.exports)},function(n,e,t){"use strict";var r=t(66);n.exports=function(n){return"symbol"==typeof n?"Symbol":"bigint"==typeof n?"BigInt":r(n)}},function(n,e,t){"use strict";var r=t(78);n.exports=Function.prototype.bind||r},function(n,e,t){"use strict";var r,o,a=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{r=Object.defineProperty({},"length",{get:function(){throw o}}),o={},i((function(){throw 42}),null,r)}catch(n){n!==o&&(i=null)}else i=null;var s=/^\s*class\b/,l=function(n){try{var e=a.call(n);return s.test(e)}catch(n){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,d="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};n.exports=i?function(n){if(n===d)return!0;if(!n)return!1;if("function"!=typeof n&&"object"!=typeof n)return!1;if("function"==typeof n&&!n.prototype)return!0;try{i(n,null,r)}catch(n){if(n!==o)return!1}return!l(n)}:function(n){if(n===d)return!0;if(!n)return!1;if("function"!=typeof n&&"object"!=typeof n)return!1;if("function"==typeof n&&!n.prototype)return!0;if(u)return function(n){try{return!l(n)&&(a.call(n),!0)}catch(n){return!1}}(n);if(l(n))return!1;var e=c.call(n);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(n,e){n.exports={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,o;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(n){var e=/\s|\n|\t/.exec(n);return e?e.index:-1}}},function(n,e,t){"use strict";e.__esModule=!0;var r={cdn:t(6).DEFAULT_EMOJI_CDN,maps:t(97),parse:function(n,e){return String(n).replace(new RegExp(":("+Object.keys(r.maps).join("|")+"):","ig"),(function(n,t){return r.maps[t]?r.build(t,e):n}))},build:function(n,e){var t=/^(https?:)?\/\//i,o=r.maps[n],a=t.test(o)?o:r.cdn+o,i=' <img alt="'+n+'" referrerpolicy="no-referrer" class="vemoji" src="'+a+'" />';return t.test(a)?i:""}};e.default=r},function(n,e,t){"use strict";e.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t(95));e.default=function(n){return(0,r.default)(n,{onTagAttr:function(n,e,t,r){return o(n,e,t,r)},onIgnoreTagAttr:function(n,e,t,r){return o(n,e,t,r)}}).replace(/\<\/?div\>/gi,"")};var o=function(n,e,t,o){if(/video|audio/i.test(n))return"";if(/code|pre|span/i.test(n)){if("style"==e){var a=t.match(/color:([#a-z0-9]{3,7}|\s+[#a-z0-9]{3,8})/gi);return a&&a.length?'style="'+a[0]+'"':""}if("class"==e)return e+"='"+r.default.escapeAttrValue(t)+"'"}return"a"===n&&"class"==e&&"at"===t?e+"='"+r.default.escapeAttrValue(t)+"'":"img"===n&&/src|class/i.test(e)?e+"='"+r.default.escapeAttrValue(t)+"' referrerPolicy='no-referrer'":void 0}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=r("%TypeError%"),i=t(52),s=t(18),l=t(53),c=t(55),u=t(56),d=t(60),p=t(20),h=t(81),m=o("String.prototype.split"),f=Object("a"),g="a"!==f[0]||!(0 in f);n.exports=function(n){var e,t=d(this),r=g&&h(this)?m(this,""):t,o=u(r);if(!c(n))throw new a("Array.prototype.forEach callback must be a function");arguments.length>1&&(e=arguments[1]);for(var f=0;f<o;){var v=p(f);if(l(r,v)){var y=s(r,v);i(n,e,[y,f,r])}f+=1}}},function(n,e,t){"use strict";var r=t(75),o=t(14);n.exports=function(){var n=Array.prototype.forEach;return r(n)?n:o}},function(n,e){function t(){var n={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return n}var r=/javascript\s*\:/gim;e.whiteList=t(),e.getDefaultWhiteList=t,e.onAttr=function(n,e,t){},e.onIgnoreAttr=function(n,e,t){},e.safeAttrValue=function(n,e){return r.test(e)?"":e}},function(n,e){n.exports={indexOf:function(n,e){var t,r;if(Array.prototype.indexOf)return n.indexOf(e);for(t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},forEach:function(n,e,t){var r,o;if(Array.prototype.forEach)return n.forEach(e,t);for(r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(n){return String.prototype.trimRight?n.trimRight():n.replace(/(\s*$)/g,"")}}},function(n,e,t){"use strict";var r=t(0)("%TypeError%"),o=t(86),a=t(19),i=t(8);n.exports=function(n,e){if("Object"!==i(n))throw new r("Assertion failed: Type(O) is not Object");if(!a(e))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+o(e));return n[e]}},function(n,e,t){"use strict";n.exports=function(n){return"string"==typeof n||"symbol"==typeof n}},function(n,e,t){"use strict";var r=t(0),o=r("%String%"),a=r("%TypeError%");n.exports=function(n){if("symbol"==typeof n)throw new a("Cannot convert a Symbol value to a string");return o(n)}},function(n,e,t){"use strict";n.exports=function(n){return null===n||"function"!=typeof n&&"object"!=typeof n}},function(n,e,t){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t(23);n.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},function(n,e,t){"use strict";n.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var n={},e=Symbol("test"),t=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;for(e in n[e]=42,n)return!1;if("function"==typeof Object.keys&&0!==Object.keys(n).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var r=Object.getOwnPropertySymbols(n);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(n,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(n,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(n,e,t){"use strict";var r=t(23);n.exports=function(){return r()&&!!Symbol.toStringTag}},function(n,e,t){"use strict";var r=t(9);n.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(n,e,t){"use strict";var r=Object.prototype.toString;n.exports=function(n){var e=r.call(n),t="[object Arguments]"===e;return t||(t="[object Array]"!==e&&null!==n&&"object"==typeof n&&"number"==typeof n.length&&n.length>=0&&"[object Function]"===r.call(n.callee)),t}},function(n,e,t){"use strict";var r=t(5),o=t(1),a=o("Object.prototype.propertyIsEnumerable"),i=o("Array.prototype.push");n.exports=function(n){var e=r(n),t=[];for(var o in e)a(e,o)&&i(t,[o,e[o]]);return t}},function(n,e,t){"use strict";var r=t(27);n.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},function(n,e,t){"use strict";var r=t(5),o=t(20),a=t(1)("String.prototype.replace"),i=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var n=o(r(this));return a(a(n,i,""),s,"")}},function(n,e,t){"use strict";var r=t(29);n.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:r}},function(n,e,t){function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}function o(n){return n.replace(g,"&lt;").replace(v,"&gt;")}function a(n){return n.replace(y,"&quot;")}function i(n){return n.replace(b,'"')}function s(n){return n.replace(x,(function(n,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function l(n){return n.replace(w,":").replace(E," ")}function c(n){for(var e="",t=0,r=n.length;t<r;t++)e+=n.charCodeAt(t)<32?" ":n.charAt(t);return m.trim(e)}function u(n){return c(n=l(n=s(n=i(n))))}function d(n){return o(n=a(n))}var p=t(7).FilterCSS,h=t(7).getDefaultWhiteList,m=t(11),f=new p,g=/</g,v=/>/g,y=/"/g,b=/&quot;/g,x=/&#([a-zA-Z0-9]*);?/gim,w=/&colon;?/gim,E=/&newline;?/gim,j=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,A=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,T=/u\s*r\s*l\s*\(.*/gi;e.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},e.getDefaultWhiteList=r,e.onTag=function(n,e,t){},e.onIgnoreTag=function(n,e,t){},e.onTagAttr=function(n,e,t){},e.onIgnoreTagAttr=function(n,e,t){},e.safeAttrValue=function(n,e,t,r){if(t=u(t),"href"===e||"src"===e){if("#"===(t=m.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===e){if(j.lastIndex=0,j.test(t))return""}else if("style"===e){if(A.lastIndex=0,A.test(t))return"";if(T.lastIndex=0,T.test(t)&&(j.lastIndex=0,j.test(t)))return"";!1!==r&&(t=(r=r||f).process(t))}return d(t)},e.escapeHtml=o,e.escapeQuote=a,e.unescapeQuote=i,e.escapeHtmlEntities=s,e.escapeDangerHtml5Entities=l,e.clearNonPrintableCharacter=c,e.friendlyAttrValue=u,e.escapeAttrValue=d,e.onIgnoreTagStripAll=function(){return""},e.StripTagBody=function(n,e){function t(e){return!!r||-1!==m.indexOf(n,e)}"function"!=typeof e&&(e=function(){});var r=!Array.isArray(n),o=[],a=!1;return{onIgnoreTag:function(n,r,i){if(t(n)){if(i.isClosing){var s="[/removed]",l=i.position+s.length;return o.push([!1!==a?a:i.position,l]),a=!1,s}return a||(a=i.position),"[removed]"}return e(n,r,i)},remove:function(n){var e="",t=0;return m.forEach(o,(function(r){e+=n.slice(t,r[0]),t=r[1]})),e+=n.slice(t)}}},e.stripCommentTag=function(n){for(var e="",t=0;t<n.length;){var r=n.indexOf("\x3c!--",t);if(-1===r){e+=n.slice(t);break}e+=n.slice(t,r);var o=n.indexOf("--\x3e",r);if(-1===o)break;t=o+3}return e},e.stripBlankChar=function(n){var e=n.split("");return(e=e.filter((function(n){var e=n.charCodeAt(0);return!(127===e||e<=31&&10!==e&&13!==e)}))).join("")},e.cssFilter=f,e.getDefaultCSSWhiteList=h},function(n,e,t){function r(n){var e=l.spaceIndex(n);if(-1===e)var t=n.slice(1,-1);else t=n.slice(1,e+1);return"/"===(t=l.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function o(n){return"</"===n.slice(0,2)}function a(n,e){for(;e<n.length;e++){var t=n[e];if(" "!==t)return"="===t?e:-1}}function i(n,e){for(;e>0;e--){var t=n[e];if(" "!==t)return"="===t?e:-1}}function s(n){return function(n){return'"'===n[0]&&'"'===n[n.length-1]||"'"===n[0]&&"'"===n[n.length-1]}(n)?n.substr(1,n.length-2):n}var l=t(11),c=/[^a-zA-Z0-9_:\.\-]/gim;e.parseTag=function(n,e,t){"use strict";var a="",i=0,s=!1,l=!1,c=0,u=n.length,d="",p="";n:for(c=0;c<u;c++){var h=n.charAt(c);if(!1===s){if("<"===h){s=c;continue}}else if(!1===l){if("<"===h){a+=t(n.slice(i,c)),s=c,i=c;continue}if(">"===h){a+=t(n.slice(i,s)),d=r(p=n.slice(s,c+1)),a+=e(s,a.length,d,p,o(p)),i=c+1,s=!1;continue}if('"'===h||"'"===h)for(var m=1,f=n.charAt(c-m);""===f.trim()||"="===f;){if("="===f){l=h;continue n}f=n.charAt(c-++m)}}else if(h===l){l=!1;continue}}return i<n.length&&(a+=t(n.substr(i))),a},e.parseAttr=function(n,e){"use strict";function t(n,t){if(!((n=(n=l.trim(n)).replace(c,"").toLowerCase()).length<1)){var r=e(n,t||"");r&&o.push(r)}}for(var r=0,o=[],u=!1,d=n.length,p=0;p<d;p++){var h,m=n.charAt(p);if(!1!==u||"="!==m)if(!1===u||p!==r||'"'!==m&&"'"!==m||"="!==n.charAt(p-1)){if(/\s|\n|\t/.test(m)){if(n=n.replace(/\s|\n|\t/g," "),!1===u){if(-1===(h=a(n,p))){t(l.trim(n.slice(r,p))),u=!1,r=p+1;continue}p=h-1;continue}if(-1===(h=i(n,p-1))){t(u,s(l.trim(n.slice(r,p)))),u=!1,r=p+1;continue}}}else{if(-1===(h=n.indexOf(m,p+1)))break;t(u,l.trim(n.slice(r+1,h))),u=!1,r=(p=h)+1}else u=n.slice(r,p),r=p+1}return r<n.length&&(!1===u?t(n.slice(r)):t(u,s(l.trim(n.slice(r))))),l.trim(o.join(" "))}},function(n,e,t){var r,o,a;
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[n,e],r=function(n,e){"use strict";function t(n){function e(e){var t=n.style.width;n.style.width="0px",n.offsetWidth,n.style.width=t,n.style.overflowY=e}function t(){if(0!==n.scrollHeight){var e=function(n){for(var e=[];n&&n.parentNode&&n.parentNode instanceof Element;)n.parentNode.scrollTop&&e.push({node:n.parentNode,scrollTop:n.parentNode.scrollTop}),n=n.parentNode;return e}(n),t=document.documentElement&&document.documentElement.scrollTop;n.style.height="",n.style.height=n.scrollHeight+o+"px",s=n.clientWidth,e.forEach((function(n){n.node.scrollTop=n.scrollTop})),t&&(document.documentElement.scrollTop=t)}}function r(){t();var r=Math.round(parseFloat(n.style.height)),o=window.getComputedStyle(n,null),a="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):n.offsetHeight;if(a<r?"hidden"===o.overflowY&&(e("scroll"),t(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):"hidden"!==o.overflowY&&(e("hidden"),t(),a="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),l!==a){l=a;var s=i("autosize:resized");try{n.dispatchEvent(s)}catch(n){}}}if(n&&n.nodeName&&"TEXTAREA"===n.nodeName&&!a.has(n)){var o=null,s=null,l=null,c=function(){n.clientWidth!==s&&r()},u=function(e){window.removeEventListener("resize",c,!1),n.removeEventListener("input",r,!1),n.removeEventListener("keyup",r,!1),n.removeEventListener("autosize:destroy",u,!1),n.removeEventListener("autosize:update",r,!1),Object.keys(e).forEach((function(t){n.style[t]=e[t]})),a.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",u,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",r,!1),window.addEventListener("resize",c,!1),n.addEventListener("input",r,!1),n.addEventListener("autosize:update",r,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",a.set(n,{destroy:u,update:r}),function(){var e=window.getComputedStyle(n,null);"vertical"===e.resize?n.style.resize="none":"both"===e.resize&&(n.style.resize="horizontal"),o="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(o)&&(o=0),r()}()}}function r(n){var e=a.get(n);e&&e.destroy()}function o(n){var e=a.get(n);e&&e.update()}var a="function"==typeof Map?new Map:function(){var n=[],e=[];return{has:function(e){return n.indexOf(e)>-1},get:function(t){return e[n.indexOf(t)]},set:function(t,r){-1===n.indexOf(t)&&(n.push(t),e.push(r))},delete:function(t){var r=n.indexOf(t);r>-1&&(n.splice(r,1),e.splice(r,1))}}}(),i=function(n){return new Event(n,{bubbles:!0})};try{new Event("test")}catch(n){i=function(n){var e=document.createEvent("Event");return e.initEvent(n,!0,!1),e}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(n){return n}).destroy=function(n){return n},s.update=function(n){return n}):((s=function(n,e){return n&&Array.prototype.forEach.call(n.length?n:[n],(function(n){return t(n)})),n}).destroy=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],r),n},s.update=function(n){return n&&Array.prototype.forEach.call(n.length?n:[n],o),n}),e.default=s,n.exports=e.default},void 0!==(a="function"==typeof r?r.apply(e,o):r)&&(n.exports=a)},function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n){return!!n&&this.init(n),this}function a(n){return new o(n)}var i=r(t(42)),s=r(t(33)),l=r(t(37)),c=r(t(12)),u=t(6),d=r(t(41)),p=r(t(36)),h=t(40),m=r(t(38)),f=r(t(3)),g=r(t(39)),v=r(t(13)),y=(r(t(35)),{comment:"",nick:"",mail:"",link:"",ua:f.default.ua,url:"",QQAvatar:""}),b="",x={},w={cdn:"https://gravatar.loli.net/avatar/",ds:["mp","identicon","monsterid","wavatar","robohash","retro",""],params:"",hide:!1};o.prototype.init=function(n){if("undefined"==typeof document)throw new Error("Sorry, Valine does not support Server-side rendering.");var e=this;return n&&(n=f.default.extend(u.CONFIG,n),e.i18n=(0,l.default)(n.lang||f.default.lang,n.langMode),e.cfg=n,c.default.maps=!!n.emojiMaps&&n.emojiMaps||c.default.maps,c.default.cdn=!!n.emojiCDN&&n.emojiCDN||c.default.cdn,e._init()),e},o.prototype._init=function(){var n=this;try{var e=n.cfg,t=e.avatar,r=e.avatarForce,o=e.avatar_cdn,a=e.visitor,i=e.path,s=void 0===i?location.pathname:i,l=e.pageSize,c=e.recordIP;n.cfg.path=s.replace(/index\.html?$/,"");var d=w.ds,g=r?"&q="+(0,u.RandomStr)():"";w.params="?d="+(d.indexOf(t)>-1?t:"mp")+"&v="+u.VERSION+g,w.hide="hide"===t,w.cdn=/^https?\:\/\//.test(o)?o:w.cdn,n.cfg.pageSize=isNaN(l)||l<1?10:l,c&&(0,h.recordIPFn)((function(n){return y.ip=n}));var v=n.cfg.el||null,b=(0,f.default)(v);if(v=v instanceof HTMLElement?v:b[b.length-1]||null){n.$el=(0,f.default)(v),n.$el.addClass("v").attr("data-class","v"),w.hide&&n.$el.addClass("hide-avatar"),n.cfg.meta=(n.cfg.guest_info||n.cfg.meta||u.defaultMeta).filter((function(n){return u.defaultMeta.indexOf(n)>-1})),n.cfg.requiredFields=n.cfg.requiredFields.filter((function(n){return u.defaultMeta.indexOf(n)>-1}));var x=(0==n.cfg.meta.length?u.defaultMeta:n.cfg.meta).map((function(e){var t="mail"==e?"email":"text";return u.defaultMeta.indexOf(e)>-1?'<input name="'+e+'" placeholder="'+n.i18n.t(e)+'" class="v'+e+' vinput" type="'+t+'">':""})),E='<div class="vpanel"><div class="vwrap"><p class="cancel-reply text-right" style="display:none;" title="'+n.i18n.t("cancelReply")+'"><svg class="vicon cancel-reply-btn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4220" width="22" height="22"><path d="M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z" p-id="4221"></path><path d="M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z" p-id="4222" ></path></svg></p><div class="vheader item'+x.length+'">'+x.join("")+'</div><div class="vedit"><textarea id="veditor" class="veditor vinput" placeholder="'+n.cfg.placeholder+'"></textarea><div class="vrow"><div class="vcol vcol-60 status-bar"></div><div class="vcol vcol-40 vctrl text-right"><span title="'+n.i18n.t("emoji")+'"  class="vicon vemoji-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16172" width="22" height="22" ><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z" p-id="16173"></path><path d="M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z" p-id="16174"></path><path d="M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z" p-id="16175"></path><path d="M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z" p-id="16176"></path></svg></span><span title="'+n.i18n.t("preview")+'" class="vicon vpreview-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17688" width="22" height="22"><path d="M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z" p-id="17689"></path><path d="M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z" p-id="17690"></path><path d="M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z" p-id="17691"></path><path d="M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z" p-id="17692"></path></svg></span></div></div></div><div class="vrow"><div class="vcol vcol-30" ><a alt="Markdown is supported" href="https://guides.github.com/features/mastering-markdown/" class="vicon" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a></div><div class="vcol vcol-70 text-right"><button type="button"  title="Cmd|Ctrl+Enter" class="vsubmit vbtn">'+n.i18n.t("submit")+'</button></div></div><div class="vemojis" style="display:none;"></div><div class="vinput vpreview" style="display:none;"></div></div></div><div class="vcount" style="display:none;"><span class="vnum">0</span> '+n.i18n.t("comments")+'</div><div class="vload-top text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vcards"></div><div class="vload-bottom text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vempty" style="display:none;"></div><div class="vpage txt-center" style="display:none"><button type="button" class="vmore vbtn">'+n.i18n.t("more")+'</button></div><div class="vpower txt-right">Powered By <a href="https://valine.js.org" target="_blank">Valine</a><br>v'+u.VERSION+"</div>";n.$el.html(E),n.$el.find(".cancel-reply").on("click",(function(e){n.reset()}));var A=n.$el.find(".vempty");n.$nodata={show:function(e){return A.html(e||n.i18n.t("sofa")).show(),n},hide:function(){return A.hide(),n}};var T=n.$el.find(".vload-bottom"),C=n.$el.find(".vload-top");n.$loading={show:function(e){return e&&C.show()||T.show(),n.$nodata.hide(),n},hide:function(){return C.hide(),T.hide(),0===n.$el.find(".vcard").length&&n.$nodata.show(),n}}}(0,p.default)(n.cfg,(function(e){var t=(0,f.default)(".valine-comment-count"),r=0;!function e(t){var o=t[r++];if(o){var a=(0,f.default)(o).attr("data-xid");a&&n.Q(a).count().then((function(n){o.innerText=n,e(t)})).catch((function(n){o.innerText=0}))}}(t),a&&j.add(AV.Object.extend("Counter"),n.cfg.path),n.$el&&n.bind()}))}catch(e){(0,m.default)(n,e,"init")}};var E=function(n,e){var t=new n,r=new AV.ACL;r.setPublicReadAccess(!0),r.setPublicWriteAccess(!0),t.setACL(r),t.set("url",e.url),t.set("xid",e.xid),t.set("title",e.title),t.set("time",1),t.save().then((function(n){(0,f.default)(e.el).find(".leancloud-visitors-count").text(1)})).catch((function(n){}))},j={add:function(n,e){var t=this,r=(0,f.default)(".leancloud_visitors,.leancloud-visitors");if(1===r.length){var o=r[0],a=decodeURI((0,f.default)(o).attr("id")),i=(0,f.default)(o).attr("data-flag-title"),s=encodeURI(a),l={el:o,url:a,xid:s,title:i};if(decodeURI(a)===decodeURI(e)){var c=new AV.Query(n);c.equalTo("url",a),c.find().then((function(e){if(e.length>0){var t=e[0];t.increment("time"),t.save().then((function(n){(0,f.default)(o).find(".leancloud-visitors-count").text(n.get("time"))})).catch((function(n){}))}else E(n,l)})).catch((function(e){101==e.code?E(n,l):(0,m.default)(t,e)}))}else j.show(n,r)}else j.show(n,r)},show:function(n,e){var t=[];if(e.forEach((function(n){var e=(0,f.default)(n).find(".leancloud-visitors-count");e&&e.text("0"),t.push(/\%/.test((0,f.default)(n).attr("id"))?decodeURI((0,f.default)(n).attr("id")):(0,f.default)(n).attr("id"))})),t.length){var r=new AV.Query(n);r.containedIn("url",t),r.find().then((function(n){n.length>0&&e.forEach((function(e){n.forEach((function(n){var t=n.get("xid")||encodeURI(n.get("url")),r=n.get("time"),o=(0,f.default)(e),a=o.attr("id");if((/\%/.test(a)?a:encodeURI(a))==t){var i=o.find(".leancloud-visitors-count");i&&i.text(r)}}))}))})).catch((function(n){}))}}};o.prototype.Q=function(n){var e=this,t=arguments.length,r=e.cfg.clazzName;if(1==t){var o=new AV.Query(r);o.doesNotExist("rid");var a=new AV.Query(r);a.equalTo("rid","");var i=AV.Query.or(o,a);return"*"===n?i.exists("url"):i.equalTo("url",decodeURI(n)),i.addDescending("createdAt"),i.addDescending("insertedAt"),i}var s=JSON.stringify(arguments[1]).replace(/(\[|\])/g,""),l="select * from "+r+" where rid in ("+s+") order by -createdAt,-createdAt";return AV.Query.doCloudQuery(l)},o.prototype.installLocale=function(n,e){return this.i18n(n,e),this},o.prototype.setPath=function(n){return this.config.path=n,this},o.prototype.bind=function(){var n=this,e=n.$el.find(".vemojis"),t=n.$el.find(".vpreview"),r=n.$el.find(".vemoji-btn"),o=n.$el.find(".vpreview-btn"),a=n.$el.find(".veditor"),l=c.default.maps,p=!1;n.$emoji={show:function(){return!p&&function(n){var t=[];for(var r in l)l.hasOwnProperty(r)&&c.default.build(r)&&t.push('<i title="'+r+'" >'+c.default.build(r)+"</i>");e.html(t.join("")),p=!0,e.find("i").on("click",(function(n){n.preventDefault(),k(a[0]," :"+(0,f.default)(this).attr("title")+":")}))}(),n.$preview.hide(),e.show(),r.addClass("actived"),n.$emoji},hide:function(){return r.removeClass("actived"),e.hide(),n.$emoji}},n.$preview={show:function(){return b?(n.$emoji.hide(),o.addClass("actived"),t.html((0,g.default)(b)).show(),M()):n.$preview.hide(),n.$preview},hide:function(){return o.removeClass("actived"),t.hide().html(""),n.$preview}};var E=function(e){var r=e.val()||"";r||n.$preview.hide(),b!=r&&(b=r,o.hasClass("actived")>-1&&b!=t.html()&&t.html((0,g.default)(b)),M())};r.on("click",(function(e){r.hasClass("actived")?n.$emoji.hide():n.$emoji.show()})),o.on("click",(function(e){o.hasClass("actived")?n.$preview.hide():n.$preview.show()}));var j=n.cfg.meta,A={},T={veditor:"comment"};for(var C in j.forEach((function(n){T["v"+n]=n})),T)T.hasOwnProperty(C)&&function(){var e=T[C],t=n.$el.find("."+C);A[e]=t,t.on("input change blur propertychange",(function(r){n.cfg.enableQQ&&"blur"===r.type&&"nick"===e&&(t.val()&&!isNaN(t.val())?(0,h.fetchQQFn)(t.val(),(function(n){var e=n.nick||t.val(),r=n.qq+"@qq.com";(0,f.default)(".vnick").val(e),(0,f.default)(".vmail").val(r),y.nick=e,y.mail=r,y.QQAvatar=n.pic})):f.default.store.get(u.QQCacheKey)&&f.default.store.get(u.QQCacheKey).nick!=t.val()&&(f.default.store.remove(u.QQCacheKey),y.nick=t.val(),y.mail="",y.QQAvatar="")),"comment"===e?((0,s.default)(t[0]),S((function(n){E(t)}))()):y[e]=(0,v.default)(t.val().replace(/(^\s*)|(\s*$)/g,"").substring(0,35))}))}();var S=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,t=void 0;return function(){var r=this,o=arguments;t&&clearTimeout(t),t=setTimeout((function(){n.apply(r,o)}),e)}},k=function(n,e){if(document.selection)n.focus(),document.selection.createRange().text=e,n.focus();else if(n.selectionStart||"0"==n.selectionStart){var t=n.selectionStart,r=n.selectionEnd,o=n.scrollTop;n.value=n.value.substring(0,t)+e+n.value.substring(r,n.value.length),n.focus(),n.selectionStart=t+e.length,n.selectionEnd=t+e.length,n.scrollTop=o}else n.focus(),n.value+=e;S((function(e){E((0,f.default)(n))}))()},_={no:1,size:n.cfg.pageSize,skip:n.cfg.pageSize},P=n.$el.find(".vpage");P.on("click",(function(n){P.hide(),_.no++,D()}));var D=function(){var e=_.size,t=_.no,r=Number(n.$el.find(".vnum").text());n.$loading.show();var o=n.Q(n.cfg.path);o.limit(e),o.skip((t-1)*e),o.find().then((function(o){if(_.skip=_.size,o&&o.length){var a=[];o.forEach((function(e){a.push(e.id),I(e,n.$el.find(".vcards"),!0)})),n.Q(n.cfg.path,a).then((function(n){(n&&n.results||[]).forEach((function(n){I(n,(0,f.default)('.vquote[data-self-id="'+n.get("rid")+'"]'))}))})).catch((function(n){})),e*t<r?P.show():P.hide(),M()}else n.$nodata.show();n.$loading.hide()})).catch((function(e){n.$loading.hide(),(0,m.default)(n,e,"query")}))};n.Q(n.cfg.path).count().then((function(e){e>0?(n.$el.find(".vcount").show().find(".vnum").text(e),D()):n.$loading.hide()})).catch((function(e){(0,m.default)(n,e,"count")}));var B=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=/(https?|http):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,t=n.match(e)||[];return t.length>0?t[0]:""},I=function(e,t,r){var o=(0,f.default)('<div class="vcard" id="'+e.id+'"></div>'),a=(0,v.default)(e.get("ua")),s="";a&&!/ja/.test(n.cfg.lang)&&(s=(a=f.default.detect(a)).version?a.os?'<span class="vsys">'+a.browser+" "+a.version+'</span> <span class="vsys">'+a.os+" "+a.osVersion+"</span>":"":'<span class="vsys">'+a.browser+"</span>"),"*"===n.cfg.path&&(s='<a href="'+e.get("url")+'" class="vsys">'+e.get("url")+"</a>");var l=e.get("link")?/^https?\:\/\//.test(e.get("link"))?e.get("link"):"http://"+e.get("link"):"",c=f.default.escape((0,v.default)(e.get("nick").substring(0,30))),u=l?'<a class="vnick" rel="nofollow" href="'+B(l)+'" target="_blank" >'+c+"</a>":'<span class="vnick">'+c+"</span>",p=(w.hide?"":n.cfg.enableQQ&&e.get("QQAvatar")?(0,v.default)('<img class="vimg" src="'+B(e.get("QQAvatar"))+'" referrerPolicy="no-referrer"/>'):'<img class="vimg" src="'+(w.cdn+(0,i.default)(e.get("mail"))+w.params)+'">')+'<div class="vh"><div class="vhead">'+u+" "+s+'</div><div class="vmeta"><span class="vtime" >'+(0,d.default)(e.get("insertedAt"),n.i18n)+'</span><span class="vat" data-vm-id="'+(e.get("rid")||e.id)+'" data-self-id="'+e.id+'">'+n.i18n.t("reply")+'</span></div><div class="vcontent" data-expand="'+n.i18n.t("expand")+'">'+(0,g.default)(e.get("comment"))+'</div><div class="vreply-wrapper" data-self-id="'+e.id+'"></div><div class="vquote" data-self-id="'+e.id+'"></div></div>';o.html(p);var h=o.find(".vat");o.find("a:not(.at)").forEach((function(n){(0,f.default)(n).attr({target:"_blank",rel:"noopener"})})),r?t.append(o):t.prepend(o);var m=o.find(".vcontent");m&&z(m),h&&R(h,e)},O={},R=function(e,t){e.on("click",(function(r){var o=e.attr("data-vm-id"),a=e.attr("data-self-id"),i=n.$el.find(".vwrap"),s="@"+f.default.escape(t.get("nick"));(0,f.default)('.vreply-wrapper[data-self-id="'+a+'"]').append(i).find(".cancel-reply").show(),O={at:f.default.escape(s)+" ",rid:o,pid:a,rmail:t.get("mail")},A.comment.attr({placeholder:s})[0].focus()}))},M=function(){setTimeout((function(){try{n.cfg.mathjax&&"MathJax"in window&&"version"in window.MathJax&&(/^3.*/.test(window.MathJax.version)&&MathJax.typeset()||MathJax.Hub.Queue(["Typeset",MathJax.Hub,document.querySelector(".v")])),"renderMathInElement"in window&&renderMathInElement((0,f.default)(".v")[0],{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})}catch(n){}}),100)},z=function(n){setTimeout((function(){n[0].offsetHeight>200&&(n.addClass("expand"),n.on("click",(function(e){n.removeClass("expand")})))}))};!function(e){if(e=f.default.store.get(u.MetaCacheKey)||e)for(var t in j)if(j.hasOwnProperty(t)){var r=j[t];n.$el.find(".v"+r).val(f.default.unescape(e[r])),y[r]=e[r]}var o=f.default.store.get(u.QQCacheKey);y.QQAvatar=n.cfg.enableQQ&&!!o&&o.pic||""}(),n.reset=function(){y.comment="",A.comment.val(""),E(A.comment),A.comment.attr("placeholder",n.cfg.placeholder),O={},n.$preview.hide(),n.$el.find(".vpanel").append(n.$el.find(".vwrap")),n.$el.find(".cancel-reply").hide(),b="",s.default.update(A.comment[0])};var L=n.$el.find(".vsubmit"),F=function(e){if(n.cfg.requiredFields.indexOf("nick")>-1&&y.nick.length<3)return A.nick[0].focus(),void n.$el.find(".status-bar").text(""+n.i18n.t("nickFail")).empty(3e3);if(n.cfg.requiredFields.indexOf("mail")>-1&&!/[\w-\.]+@([\w-]+\.)+[a-z]{2,3}/.test(y.mail))return A.mail[0].focus(),void n.$el.find(".status-bar").text(""+n.i18n.t("mailFail")).empty(3e3);if(""!=b){for(var t in x)if(x.hasOwnProperty(t)){var r=x[t];b=b.replace(t,r),URL.revokeObjectURL(t)}x={},y.comment=(0,v.default)(b),y.nick=y.nick||"Anonymous";var o=f.default.store.get("vlx");o&&Date.now()/1e3-o/1e3<20?n.$el.find(".status-bar").text(n.i18n.t("busy")).empty(3e3):H()}else A.comment[0].focus()},H=function(){f.default.store.set("vlx",Date.now()),L.attr({disabled:!0}),n.$loading.show(!0);var e=new(AV.Object.extend(n.cfg.clazzName||"Comment"));if(y.url=decodeURI(n.cfg.path),y.insertedAt=new Date,O.rid){var t=O.pid||O.rid;e.set("rid",O.rid),e.set("pid",t),y.comment=b.replace("<p>",'<p><a class="at" href="#'+t+'">'+O.at+"</a> , ")}for(var r in y)if(y.hasOwnProperty(r)){var o=y[r];e.set(r,o)}e.setACL(function(){var n=new AV.ACL;return n.setPublicReadAccess(!0),n.setPublicWriteAccess(!1),n}()),e.save().then((function(e){"Anonymous"!=y.nick&&f.default.store.set(u.MetaCacheKey,{nick:y.nick,link:y.link,mail:y.mail});var t=n.$el.find(".vnum");try{O.rid?I(e,(0,f.default)('.vquote[data-self-id="'+O.rid+'"]'),!0):(Number(t.text())?t.text(Number(t.text())+1):n.$el.find(".vcount").show().find(".vnum").text(Number(t.text())+1),I(e,n.$el.find(".vcards")),_.skip++),L.removeAttr("disabled"),n.$loading.hide(),n.reset()}catch(e){(0,m.default)(n,e,"save")}})).catch((function(e){(0,m.default)(n,e,"commitEvt")}))};L.on("click",F),(0,f.default)(document).on("keydown",(function(n){var e=(n=window.event||n).keyCode||n.which||n.charCode;(n.ctrlKey||n.metaKey)&&13===e&&F(),9===e&&"veditor"==(document.activeElement.id||"")&&(n.preventDefault(),k(a[0],"    "))})).on("paste",(function(n){var e="clipboardData"in n?n.clipboardData:n.originalEvent&&n.originalEvent.clipboardData||window.clipboardData;e&&q(e.items,!0)})),a.on("dragenter dragleave dragover drop",(function(n){n.stopPropagation(),n.preventDefault(),"drop"===n.type&&q(n.dataTransfer.items)}));var q=function(n,e){for(var t=0,r=n.length;t<r;t++){var o=n[t];if("string"===o.kind&&o.type.match("^text/html"))!e&&o.getAsString((function(n){n&&k(a[0],n.replace(/<[^>]+>/g,""))}));else if(o.type.indexOf("image")>-1){N(o.getAsFile());continue}}},N=function(n){try{var e=URL.createObjectURL(n),t="![image]("+e+") ",r=new FileReader;k(a[0],t),r.onload=function(){x[e]=r.result},r.readAsDataURL(n)}catch(n){}}},n.exports=a,n.exports.default=a},function(n,e,t){"use strict";e.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t(3));e.default={getApi:function(n,e){r.default.ajax({url:"https://app-router.com/2/route",body:{appId:n}}).then((function(n){n.json().then((function(n){return e&&e("//"+n.api_server)}))}))}}},function(n,e,t){"use strict";e.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t(3)),o=!1;e.default=function(n,e){if("AV"in window){var t=window.AV.version||window.AV.VERSION;parseInt(t.split(".")[0])>2?o=!!AV.applicationId&&!!AV.applicationKey:r.default.deleteInWin("AV",0)}o?e&&e():r.default.sdkLoader("//unpkg.com/leancloud-storage@3/dist/av-min.js","AV",(function(t){var r,a="https://",i=n.app_id||n.appId,s=n.app_key||n.appKey;if(!n.serverURLs)switch(i.slice(-9)){case"-9Nh9j0Va":a+="tab.";break;case"-MdYXbMMI":a+="us."}r=n.serverURLs||a+"leancloud.cn",AV.init({appId:i,appKey:s,serverURLs:r}),o=!0,e&&e()}))}},function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}e.__esModule=!0;var o=r(t(84)),a=r(t(100)),i=r(t(101)),s=r(t(98)),l=r(t(99)),c={zh:a.default,"zh-cn":a.default,"zh-CN":a.default,"zh-TW":i.default,en:s.default,"en-US":s.default,ja:l.default,"ja-JP":l.default};e.default=function(n,e){return!c[n]&&n&&e&&(c[n]=e),new o.default({phrases:c[n||"zh"],locale:n})}},function(n,e,t){"use strict";e.__esModule=!0,e.default=function(n,e){if(n.$el&&n.$loading.hide().$nodata.hide(),"[object Error]"==={}.toString.call(e)){var t=e.code||e.message||e.error||"";if(isNaN(t))n.$el&&n.$nodata.show('<pre style="text-align:left;"> '+JSON.stringify(e)+"</pre>");else{var r=n.i18n.t("code-"+t),o=(r=="code-"+t?void 0:r)||e.message||e.error||"";101==t||-1==t?n.$nodata.show():n.$el&&n.$nodata.show('<pre style="text-align:left;">Code '+t+": "+o+"</pre>")}}else n.$el&&n.$nodata.show('<pre style="text-align:left;">'+JSON.stringify(e)+"</pre>")}},function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}e.__esModule=!0;var o=t(83),a=r(t(79)),i=r(t(3)),s=r(t(12)),l=r(t(13)),c=new o.marked.Renderer;c.code=function(n,e){return'<pre><code class="hljs language-'+e+'">'+(e&&hljs.getLanguage(e)?hljs.highlight(e,n).value:i.default.escape(n))+"</code></pre>"},o.marked.setOptions({renderer:"hljs"in window?c:new o.marked.Renderer,highlight:function(n,e){return"hljs"in window?e&&hljs.getLanguage(e)&&hljs.highlight(e,n,!0).value||hljs.highlightAuto(n).value:(0,a.default)(n)},gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0,headerPrefix:"v-"}),e.default=function(n){return(0,l.default)((0,o.marked)(s.default.parse(n,!0)))}},function(n,e,t){"use strict";e.__esModule=!0,e.recordIPFn=e.fetchQQFn=void 0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t(3)),o=t(6);e.fetchQQFn=function(n,e){var t=r.default.store.get(o.QQCacheKey);t&&t.qq==n?e&&e(t):r.default.ajax({url:"//valine.api.ioliu.cn/getqqinfo",method:"POST",body:{qq:n}}).then((function(n){n.json().then((function(n){n.errmsg||(r.default.store.set(o.QQCacheKey,n),e&&e(n))}))}))},e.recordIPFn=function(n){r.default.ajax({url:"https://forge.speedtest.cn/api/location/info",method:"get"}).then((function(n){return n.json()})).then((function(e){n&&n(e.ip)}))}},function(n,e,t){"use strict";e.__esModule=!0,e.default=function(n,e){if(!n)return"Invalid Date.";try{var t=o(n).getTime();if(isNaN(t))return"Invalid Date.";var a=(new Date).getTime()-t,i=Math.floor(a/864e5);if(0===i){var s=a%864e5,l=Math.floor(s/36e5);if(0===l){var c=s%36e5,u=Math.floor(c/6e4);if(0===u){var d=c%6e4;return Math.round(d/1e3)+" "+e.t("seconds")}return u+" "+e.t("minutes")}return l+" "+e.t("hours")}return i<0?e.t("now"):i<8?i+" "+e.t("days"):r(n)}catch(n){}};var r=function(n){var e=a(n.getDate(),2),t=a(n.getMonth()+1,2);return a(n.getFullYear(),2)+"-"+t+"-"+e},o=function n(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):/GMT/.test(e||"")?n(new Date(e).getTime()):(e=(e||"").replace(/(^\s*)|(\s*$)/g,"").replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))},a=function(n,e){for(var t=n.toString();t.length<e;)t="0"+t;return t}},function(n,e,t){var r;!function(o){"use strict";function a(n,e){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}function i(n,e,t,r,o,i){return a(function(n,e){return n<<e|n>>>32-e}(a(a(e,n),a(r,i)),o),t)}function s(n,e,t,r,o,a,s){return i(e&t|~e&r,n,e,o,a,s)}function l(n,e,t,r,o,a,s){return i(e&r|t&~r,n,e,o,a,s)}function c(n,e,t,r,o,a,s){return i(e^t^r,n,e,o,a,s)}function u(n,e,t,r,o,a,s){return i(t^(e|~r),n,e,o,a,s)}function d(n,e){n[e>>5]|=128<<e%32,n[14+(e+64>>>9<<4)]=e;var t,r,o,i,d,p=1732584193,h=-271733879,m=-1732584194,f=271733878;for(t=0;t<n.length;t+=16)r=p,o=h,i=m,d=f,p=s(p,h,m,f,n[t],7,-680876936),f=s(f,p,h,m,n[t+1],12,-389564586),m=s(m,f,p,h,n[t+2],17,606105819),h=s(h,m,f,p,n[t+3],22,-1044525330),p=s(p,h,m,f,n[t+4],7,-176418897),f=s(f,p,h,m,n[t+5],12,1200080426),m=s(m,f,p,h,n[t+6],17,-1473231341),h=s(h,m,f,p,n[t+7],22,-45705983),p=s(p,h,m,f,n[t+8],7,1770035416),f=s(f,p,h,m,n[t+9],12,-1958414417),m=s(m,f,p,h,n[t+10],17,-42063),h=s(h,m,f,p,n[t+11],22,-1990404162),p=s(p,h,m,f,n[t+12],7,1804603682),f=s(f,p,h,m,n[t+13],12,-40341101),m=s(m,f,p,h,n[t+14],17,-1502002290),p=l(p,h=s(h,m,f,p,n[t+15],22,1236535329),m,f,n[t+1],5,-165796510),f=l(f,p,h,m,n[t+6],9,-1069501632),m=l(m,f,p,h,n[t+11],14,643717713),h=l(h,m,f,p,n[t],20,-373897302),p=l(p,h,m,f,n[t+5],5,-701558691),f=l(f,p,h,m,n[t+10],9,38016083),m=l(m,f,p,h,n[t+15],14,-660478335),h=l(h,m,f,p,n[t+4],20,-405537848),p=l(p,h,m,f,n[t+9],5,568446438),f=l(f,p,h,m,n[t+14],9,-1019803690),m=l(m,f,p,h,n[t+3],14,-187363961),h=l(h,m,f,p,n[t+8],20,1163531501),p=l(p,h,m,f,n[t+13],5,-1444681467),f=l(f,p,h,m,n[t+2],9,-51403784),m=l(m,f,p,h,n[t+7],14,1735328473),p=c(p,h=l(h,m,f,p,n[t+12],20,-1926607734),m,f,n[t+5],4,-378558),f=c(f,p,h,m,n[t+8],11,-2022574463),m=c(m,f,p,h,n[t+11],16,1839030562),h=c(h,m,f,p,n[t+14],23,-35309556),p=c(p,h,m,f,n[t+1],4,-1530992060),f=c(f,p,h,m,n[t+4],11,1272893353),m=c(m,f,p,h,n[t+7],16,-155497632),h=c(h,m,f,p,n[t+10],23,-1094730640),p=c(p,h,m,f,n[t+13],4,681279174),f=c(f,p,h,m,n[t],11,-358537222),m=c(m,f,p,h,n[t+3],16,-722521979),h=c(h,m,f,p,n[t+6],23,76029189),p=c(p,h,m,f,n[t+9],4,-640364487),f=c(f,p,h,m,n[t+12],11,-421815835),m=c(m,f,p,h,n[t+15],16,530742520),p=u(p,h=c(h,m,f,p,n[t+2],23,-995338651),m,f,n[t],6,-198630844),f=u(f,p,h,m,n[t+7],10,1126891415),m=u(m,f,p,h,n[t+14],15,-1416354905),h=u(h,m,f,p,n[t+5],21,-57434055),p=u(p,h,m,f,n[t+12],6,1700485571),f=u(f,p,h,m,n[t+3],10,-1894986606),m=u(m,f,p,h,n[t+10],15,-1051523),h=u(h,m,f,p,n[t+1],21,-2054922799),p=u(p,h,m,f,n[t+8],6,1873313359),f=u(f,p,h,m,n[t+15],10,-30611744),m=u(m,f,p,h,n[t+6],15,-1560198380),h=u(h,m,f,p,n[t+13],21,1309151649),p=u(p,h,m,f,n[t+4],6,-145523070),f=u(f,p,h,m,n[t+11],10,-1120210379),m=u(m,f,p,h,n[t+2],15,718787259),h=u(h,m,f,p,n[t+9],21,-343485551),p=a(p,r),h=a(h,o),m=a(m,i),f=a(f,d);return[p,h,m,f]}function p(n){var e,t="",r=32*n.length;for(e=0;e<r;e+=8)t+=String.fromCharCode(n[e>>5]>>>e%32&255);return t}function h(n){var e,t=[];for(t[(n.length>>2)-1]=void 0,e=0;e<t.length;e+=1)t[e]=0;var r=8*n.length;for(e=0;e<r;e+=8)t[e>>5]|=(255&n.charCodeAt(e/8))<<e%32;return t}function m(n){var e,t,r="0123456789abcdef",o="";for(t=0;t<n.length;t+=1)e=n.charCodeAt(t),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function f(n){return unescape(encodeURIComponent(n))}function g(n){return function(n){return p(d(h(n),8*n.length))}(f(n))}function v(n,e){return function(n,e){var t,r,o=h(n),a=[],i=[];for(a[15]=i[15]=void 0,o.length>16&&(o=d(o,8*n.length)),t=0;t<16;t+=1)a[t]=909522486^o[t],i[t]=1549556828^o[t];return r=d(a.concat(h(e)),512+8*e.length),p(d(i.concat(r),640))}(f(n),f(e))}function y(n,e,t){return e?t?v(e,n):function(n,e){return m(v(n,e))}(e,n):t?g(n):function(n){return m(g(n))}(n)}void 0!==(r=function(){return y}.call(e,t,e,n))&&(n.exports=r)}()},function(n,e,t){"use strict";var r=t(2),o=t(4),a=t(1),i=t(5),s=t(14),l=t(15),c=l(),u=t(44),d=a("Array.prototype.slice"),p=o.apply(c),h=function(n,e){return i(n),p(n,d(arguments,1))};r(h,{getPolyfill:l,implementation:s,shim:u}),n.exports=h},function(n,e,t){"use strict";var r=t(2),o=t(15);n.exports=function(){var n=o();return r(Array.prototype,{forEach:n},{forEach:function(){return Array.prototype.forEach!==n}}),n}},function(n,e,t){"use strict";e.__esModule=!0;var r=function(n){return n&&n.__esModule?n:{default:n}}(t(47));e.default=function(n){return n=(0,r.default)({url:"",method:"get",body:{}},n),new Promise((function(e,t){if("jsonp"==n.method){var r="cb_"+(Date.now()+Math.round(1e3*Math.random())).toString(32),o=document,i=o.body,s=o.createElement("script");return s.async=!0,s.defer=!0,n.url.indexOf("?")>-1?n.url+="&"+a({callback:r,t:Date.now()}):n.url+="?"+a({callback:r,t:Date.now()}),s.src=n.url,window[r]=function(n){window[r]=null,i.removeChild(s),e(n)},void i.appendChild(s)}var l="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c=[],u=[],d={};for(var p in a(n.body)&&(n.url=n.url+"?"+("get"==n.method?a(n.body):"")),l.open(n.method||"get",n.url),"blob"==n.dataType&&(l.responseType="blob"),l.onload=function(){l.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(n,e,t){c.push(e=e.toLowerCase()),u.push([e,t]),d[e]=d[e]?d[e]+","+t:t})),e(function n(){return{ok:2==(l.status/100|0),statusText:l.statusText,status:l.status,url:l.responseURL,text:function(){return Promise.resolve(l.responseText)},json:function(){return Promise.resolve(l.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([l.response]))},clone:n,headers:{keys:function(){return c},entries:function(){return u},get:function(n){return d[n.toLowerCase()]},has:function(n){return n.toLowerCase()in d}}}}())},l.onerror=t,l.withCredentials="include"==n.credentials,n.headers)l.setRequestHeader(p,n.headers[p]);l.send("post"==n.method?n.body:"get"==n.method?"":a(n.body))}))};var o=encodeURIComponent,a=function(n){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(o(t)+"="+o(n[t]));return(e=e.join("&").replace(/%20/g,"+"))||""}},function(n,e,t){"use strict";e.__esModule=!0,e.default=function(n){var e={},t={Trident:(n=n||navigator.userAgent).indexOf("Trident")>-1||n.indexOf("NET CLR")>-1,Presto:n.indexOf("Presto")>-1,WebKit:n.indexOf("AppleWebKit")>-1,Gecko:n.indexOf("Gecko/")>-1,Safari:n.indexOf("Safari")>-1,Edge:n.indexOf("Edge")>-1||n.indexOf("Edg")>-1,Chrome:n.indexOf("Chrome")>-1||n.indexOf("CriOS")>-1,IE:n.indexOf("MSIE")>-1||n.indexOf("Trident")>-1,Firefox:n.indexOf("Firefox")>-1||n.indexOf("FxiOS")>-1,"Firefox Focus":n.indexOf("Focus")>-1,Chromium:n.indexOf("Chromium")>-1,Opera:n.indexOf("Opera")>-1||n.indexOf("OPR")>-1,Vivaldi:n.indexOf("Vivaldi")>-1,Yandex:n.indexOf("YaBrowser")>-1,Kindle:n.indexOf("Kindle")>-1||n.indexOf("Silk/")>-1,360:n.indexOf("360EE")>-1||n.indexOf("360SE")>-1,UC:n.indexOf("UC")>-1||n.indexOf(" UBrowser")>-1,QQBrowser:n.indexOf("QQBrowser")>-1,QQ:n.indexOf("QQ/")>-1,Baidu:n.indexOf("Baidu")>-1||n.indexOf("BIDUBrowser")>-1,Maxthon:n.indexOf("Maxthon")>-1,Sogou:n.indexOf("MetaSr")>-1||n.indexOf("Sogou")>-1,LBBROWSER:n.indexOf("LBBROWSER")>-1,"2345Explorer":n.indexOf("2345Explorer")>-1,TheWorld:n.indexOf("TheWorld")>-1,XiaoMi:n.indexOf("MiuiBrowser")>-1,Quark:n.indexOf("Quark")>-1,Qiyu:n.indexOf("Qiyu")>-1,Wechat:n.indexOf("MicroMessenger")>-1,Taobao:n.indexOf("AliApp(TB")>-1,Alipay:n.indexOf("AliApp(AP")>-1,Weibo:n.indexOf("Weibo")>-1,Douban:n.indexOf("com.douban.frodo")>-1,Suning:n.indexOf("SNEBUY-APP")>-1,iQiYi:n.indexOf("IqiyiApp")>-1,Windows:n.indexOf("Windows")>-1,Linux:n.indexOf("Linux")>-1||n.indexOf("X11")>-1,macOS:n.indexOf("Macintosh")>-1,Android:n.indexOf("Android")>-1||n.indexOf("Adr")>-1,Ubuntu:n.indexOf("Ubuntu")>-1,FreeBSD:n.indexOf("FreeBSD")>-1,Debian:n.indexOf("Debian")>-1,"Windows Phone":n.indexOf("IEMobile")>-1||n.indexOf("Windows Phone")>-1,BlackBerry:n.indexOf("BlackBerry")>-1||n.indexOf("RIM")>-1||n.indexOf("BB10")>-1,MeeGo:n.indexOf("MeeGo")>-1,Symbian:n.indexOf("Symbian")>-1,iOS:n.indexOf("like Mac OS X")>-1,"Chrome OS":n.indexOf("CrOS")>-1,WebOS:n.indexOf("hpwOS")>-1,Mobile:n.indexOf("Mobi")>-1||n.indexOf("iPh")>-1||n.indexOf("480")>-1,Tablet:n.indexOf("Tablet")>-1||n.indexOf("Pad")>-1||n.indexOf("Nexus 7")>-1};t.Mobile&&(t.Mobile=!(n.indexOf("iPad")>-1));var r={browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","macOS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"]};for(var o in r)if(r.hasOwnProperty(o))for(var a=0,i=r[o].length;a<i;a++){var s=r[o][a];t[s]&&(e[o]=s)}var l={Windows:function(){return{"10.0":"11",6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[n.replace(/^.*Windows NT ([\d.]+).*$/,"$1")]},Android:n.replace(/^.*Android ([\d.]+);.*$/,"$1"),iOS:n.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,"."),Debian:n.replace(/^.*Debian\/([\d.]+).*$/,"$1"),"Windows Phone":n.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2"),macOS:n.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,"."),WebOS:n.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1"),BlackBerry:n.replace(/^.*BB([\d.]+);*$/,"$1")};e.osVersion="";var c=l[e.os];c&&(e.osVersion="function"==typeof c?c():c==n?"":c);var u={Safari:n.replace(/^.*Version\/([\d.]+).*$/,"$1"),Chrome:n.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1"),IE:n.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1"),Edge:n.replace(/^.*Edge?\/([\d.]+).*$/,"$1"),Firefox:n.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1"),"Firefox Focus":n.replace(/^.*Focus\/([\d.]+).*$/,"$1"),Chromium:n.replace(/^.*Chromium\/([\d.]+).*$/,"$1"),Opera:n.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1"),Vivaldi:n.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1"),Yandex:n.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1"),Kindle:n.replace(/^.*Version\/([\d.]+).*$/,"$1"),Maxthon:n.replace(/^.*Maxthon\/([\d.]+).*$/,"$1"),QQBrowser:n.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1"),QQ:n.replace(/^.*QQ\/([\d.]+).*$/,"$1"),Baidu:n.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1"),UC:n.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1"),Sogou:n.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1"),"2345Explorer":n.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1"),TheWorld:n.replace(/^.*TheWorld ([\d.]+).*$/,"$1"),XiaoMi:n.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1"),Quark:n.replace(/^.*Quark\/([\d.]+).*$/,"$1"),Qiyu:n.replace(/^.*Qiyu\/([\d.]+).*$/,"$1"),Wechat:n.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1"),Taobao:n.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1"),Alipay:n.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1"),Weibo:n.replace(/^.*weibo__([\d.]+).*$/,"$1"),Douban:n.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1"),Suning:n.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1"),iQiYi:n.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")};e.version="";var d=u[e.browser];return d&&(e.version="function"==typeof d?d():d==n?"":d),null==e.browser&&(e.browser="Unknow App"),e}},function(n,e,t){"use strict";e.__esModule=!0,e.default=function(n){n=Object(n);for(var e=1,t=arguments.length;e<t;e++){var r=arguments[e];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}},function(n,e,t){"use strict";function r(n){return/^\{[\s\S]*\}$/.test(JSON.stringify(n))}function o(n){return"[object Function]"==={}.toString.call(n)}function a(n){return"[object Array]"==={}.toString.call(n)}function i(n){if("string"==typeof n)try{return JSON.parse(n)}catch(e){return n}}function s(){if(!(this instanceof s))return new s}function l(n,e){var t=arguments,i=null;if(u||(u=s()),0===t.length)return u.get();if(1===t.length){if("string"==typeof n)return u.get(n);if(r(n))return u.set(n)}if(2===t.length&&"string"==typeof n){if(!e)return u.remove(n);if(e&&"string"==typeof e)return u.set(n,e);e&&o(e)&&(i=null,i=e(n,u.get(n)),l.set(n,i))}if(2===t.length&&a(n)&&o(e))for(var c=0,d=n.length;c<d;c++)i=e(n[c],u.get(n[c])),l.set(n[c],i);return l}e.__esModule=!0;var c=window.localStorage;c=function(n){var e="_Is_Incognit";try{n.setItem(e,"yes")}catch(e){if(["QuotaExceededError","NS_ERROR_DOM_QUOTA_REACHED"].indexOf(e.name)>-1){var t=function(){};n.__proto__={setItem:t,getItem:t,removeItem:t,clear:t}}}finally{"yes"===n.getItem(e)&&n.removeItem(e)}return n}(c),s.prototype={set:function(n,e){if(n&&!r(n))c.setItem(n,function(n){return void 0===n||"function"==typeof n?n+"":JSON.stringify(n)}(e));else if(r(n))for(var t in n)this.set(t,n[t]);return this},get:function(n){if(!n){var e={};return this.each((function(n,t){return e[n]=t})),e}if("?"===n.charAt(0))return this.has(n.substr(1));var t=arguments;if(t.length>1){for(var r={},o=0,a=t.length;o<a;o++){var s=i(c.getItem(t[o]));s&&(r[t[o]]=s)}return r}return i(c.getItem(n))},clear:function(){return c.clear(),this},remove:function(n){var e=this.get(n);return c.removeItem(n),e},has:function(n){return{}.hasOwnProperty.call(this.get(),n)},keys:function(){var n=[];return this.each((function(e){n.push(e)})),n},each:function(n){for(var e=0,t=c.length;e<t;e++){var r=c.key(e);n(r,this.get(r))}return this},search:function(n){for(var e=this.keys(),t={},r=0,o=e.length;r<o;r++)e[r].indexOf(n)>-1&&(t[e[r]]=this.get(e[r]));return t}};var u=null;for(var d in s.prototype)l[d]=s.prototype[d];e.default=l},function(n,e,t){var r,o;o=function(n,e,t){function r(e,o,a){return a=Object.create(r.fn),e&&a.push.apply(a,e.addEventListener?[e]:""+e===e?/</.test(e)?((o=n.createElement(o)).innerHTML=e,o.children):o?(o=r(o)[0])?o[t](e):a:n[t](e):e),a}return r.fn=[],r.one=function(n,e){return r(n,e)[0]||null},r}(document,0,"querySelectorAll"),void 0!==(r=function(){return o}.apply(e,[]))&&(n.exports=r)},function(n,e,t){function r(n){return null==n}function o(n){(n=function(n){var e={};for(var t in n)e[t]=n[t];return e}(n||{})).whiteList=n.whiteList||a.whiteList,n.onAttr=n.onAttr||a.onAttr,n.onIgnoreAttr=n.onIgnoreAttr||a.onIgnoreAttr,n.safeAttrValue=n.safeAttrValue||a.safeAttrValue,this.options=n}var a=t(16),i=t(51);t(17),o.prototype.process=function(n){if(!(n=(n=n||"").toString()))return"";var e=this.options,t=e.whiteList,o=e.onAttr,a=e.onIgnoreAttr,s=e.safeAttrValue;return i(n,(function(n,e,i,l,c){var u=t[i],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(l):u instanceof RegExp&&(d=u.test(l)),!0!==d&&(d=!1),l=s(i,l)){var p,h={position:e,sourcePosition:n,source:c,isWhite:d};return d?r(p=o(i,l,h))?i+":"+l:p:r(p=a(i,l,h))?void 0:p}}))},n.exports=o},function(n,e,t){var r=t(17);n.exports=function(n,e){function t(){if(!a){var t=r.trim(n.slice(i,s)),o=t.indexOf(":");if(-1!==o){var c=r.trim(t.slice(0,o)),u=r.trim(t.slice(o+1));if(c){var d=e(i,l.length,c,u,t);d&&(l+=d+"; ")}}}i=s+1}";"!==(n=r.trimRight(n))[n.length-1]&&(n+=";");for(var o=n.length,a=!1,i=0,s=0,l="";s<o;s++){var c=n[s];if("/"===c&&"*"===n[s+1]){var u=n.indexOf("*/",s+2);if(-1===u)break;i=(s=u+1)+1,a=!1}else"("===c?a=!0:")"===c?a=!1:";"===c?a||t():"\n"===c&&t()}return r.trim(l)}},function(n,e,t){"use strict";var r=t(0),o=t(1),a=r("%TypeError%"),i=t(54),s=r("%Reflect.apply%",!0)||o("%Function.prototype.apply%");n.exports=function(n,e){var t=arguments.length>2?arguments[2]:[];if(!i(t))throw new a("Assertion failed: optional `argumentsList`, if provided, must be a List");return s(n,e,t)}},function(n,e,t){"use strict";var r=t(0)("%TypeError%"),o=t(19),a=t(8);n.exports=function(n,e){if("Object"!==a(n))throw new r("Assertion failed: `O` must be an Object");if(!o(e))throw new r("Assertion failed: `P` must be a Property Key");return e in n}},function(n,e,t){"use strict";var r=t(0)("%Array%"),o=!r.isArray&&t(1)("Object.prototype.toString");n.exports=r.isArray||function(n){return"[object Array]"===o(n)}},function(n,e,t){"use strict";n.exports=t(10)},function(n,e,t){"use strict";var r=t(0)("%TypeError%"),o=t(18),a=t(58),i=t(8);n.exports=function(n){if("Object"!==i(n))throw new r("Assertion failed: `obj` must be an Object");return a(o(n,"length"))}},function(n,e,t){"use strict";var r=t(63),o=t(59);n.exports=function(n){var e=o(n);return 0!==e&&(e=r(e)),0===e?0:e}},function(n,e,t){"use strict";var r=t(72),o=t(57);n.exports=function(n){var e=o(n);return e<=0?0:e>r?r:e}},function(n,e,t){"use strict";var r=t(0),o=r("%TypeError%"),a=r("%Number%"),i=r("%RegExp%"),s=r("%parseInt%"),l=t(1),c=t(73),u=t(71),d=l("String.prototype.slice"),p=c(/^0b[01]+$/i),h=c(/^0o[0-7]+$/i),m=c(/^[-+]0x[0-9a-f]+$/i),f=c(new i("["+["","​","￾"].join("")+"]","g")),g=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),v=new RegExp("(^["+g+"]+)|(["+g+"]+$)","g"),y=l("String.prototype.replace"),b=t(61);n.exports=function n(e){var t=u(e)?e:b(e,a);if("symbol"==typeof t)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof t){if(p(t))return n(s(d(t,2),2));if(h(t))return n(s(d(t,2),8));if(f(t)||m(t))return NaN;var r=function(n){return y(n,v,"")}(t);if(r!==t)return n(r)}return a(t)}},function(n,e,t){"use strict";var r=t(0)("%Object%"),o=t(5);n.exports=function(n){return o(n),r(n)}},function(n,e,t){"use strict";var r=t(76);n.exports=function(n){return arguments.length>1?r(n,arguments[1]):r(n)}},function(n,e,t){"use strict";var r=t(0)("%TypeError%");n.exports=function(n,e){if(null==n)throw new r(e||"Cannot call method on "+n);return n}},function(n,e,t){"use strict";var r=t(67),o=t(68),a=t(64),i=t(70),s=t(69),l=t(74);n.exports=function(n){var e=a(n);return i(e)?0:0!==e&&s(e)?l(e)*o(r(e)):e}},function(n,e,t){"use strict";var r=t(65);n.exports=function(n){var e=r(n,Number);if("string"!=typeof e)return+e;var t=e.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(t)?NaN:+t}},function(n,e,t){"use strict";n.exports=t(77)},function(n,e,t){"use strict";n.exports=function(n){return null===n?"Null":void 0===n?"Undefined":"function"==typeof n||"object"==typeof n?"Object":"number"==typeof n?"Number":"boolean"==typeof n?"Boolean":"string"==typeof n?"String":void 0}},function(n,e,t){"use strict";var r=t(0)("%Math.abs%");n.exports=function(n){return r(n)}},function(n,e,t){"use strict";var r=Math.floor;n.exports=function(n){return r(n)}},function(n,e,t){"use strict";var r=Number.isNaN||function(n){return n!=n};n.exports=Number.isFinite||function(n){return"number"==typeof n&&!r(n)&&n!==1/0&&n!==-1/0}},function(n,e,t){"use strict";n.exports=Number.isNaN||function(n){return n!=n}},function(n,e,t){"use strict";n.exports=function(n){return null===n||"function"!=typeof n&&"object"!=typeof n}},function(n,e,t){"use strict";var r=t(0),o=r("%Math%"),a=r("%Number%");n.exports=a.MAX_SAFE_INTEGER||o.pow(2,53)-1},function(n,e,t){"use strict";var r=t(0)("RegExp.prototype.test"),o=t(4);n.exports=function(n){return o(r,n)}},function(n,e,t){"use strict";n.exports=function(n){return n>=0?1:-1}},function(n,e){n.exports=function(n){var e=!0,t=!0,r=!1;if("function"==typeof n){try{n.call("f",(function(n,t,r){"object"!=typeof r&&(e=!1)})),n.call([null],(function(){"use strict";t="string"==typeof this}),"x")}catch(n){r=!0}return!r&&e&&t}return!1}},function(n,e,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=t(21),a=t(10),i=t(80),s=t(82),l=function(n,e){if(null==n)throw new TypeError("Cannot call method on "+n);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var t,r,i,s="string"===e?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<s.length;++i)if(t=n[s[i]],a(t)&&(r=t.call(n),o(r)))return r;throw new TypeError("No default value")},c=function(n,e){var t=n[e];if(null!=t){if(!a(t))throw new TypeError(t+" returned for property "+e+" of object "+n+" is not a function");return t}};n.exports=function(n){if(o(n))return n;var e,t="default";if(arguments.length>1&&(arguments[1]===String?t="string":arguments[1]===Number&&(t="number")),r&&(Symbol.toPrimitive?e=c(n,Symbol.toPrimitive):s(n)&&(e=Symbol.prototype.valueOf)),void 0!==e){var a=e.call(n,t);if(o(a))return a;throw new TypeError("unable to convert exotic object to primitive")}return"default"===t&&(i(n)||s(n))&&(t="string"),l(n,"default"===t?"number":t)}},function(n,e,t){"use strict";var r=Object.prototype.toString,o=t(21),a=t(10),i=function(n){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===r.call(n)?String:Number)===String||e===Number){var t,i,s=e===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<s.length;++i)if(a(n[s[i]])&&(t=n[s[i]](),o(t)))return t;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};n.exports=function(n){return o(n)?n:arguments.length>1?i(n,arguments[1]):i(n)}},function(n,e,t){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;n.exports=function(n){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var t,a=r.call(arguments,1),i=function(){if(this instanceof t){var o=e.apply(this,a.concat(r.call(arguments)));return Object(o)===o?o:this}return e.apply(n,a.concat(r.call(arguments)))},s=Math.max(0,e.length-a.length),l=[],c=0;c<s;c++)l.push("$"+c);if(t=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,t.prototype=new u,u.prototype=null}return t}},function(n,e,t){n.exports=function(){"use strict";var n=function(n,e){return function(n){var e=n.exports=function(){return new RegExp("(?:"+e.line().source+")|(?:"+e.block().source+")","gm")};e.line=function(){return/(?:^|\s)\/\/(.+?)$/gm},e.block=function(){return/\/\*([\S\s]*?)\*\//gm}}(e={exports:{}}),e.exports}(),e=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"];return function(t,r){void 0===r&&(r={});var o=r.colors;void 0===o&&(o=e);var a=0,i={},s=new RegExp("("+/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source+"|"+/</.source+")|("+n().source+")","gmi");return t.replace(s,(function(n,e,t){if(t)return function(n){return'<span style="color: slategray">'+n+"</span>"}(t);if("<"===e)return"&lt;";var r;i[e]?r=i[e]:(r=o[a],i[e]=r);var s='<span style="color: #'+r+'">'+e+"</span>";return a=++a%o.length,s}))}}()},function(n,e,t){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,a=t(24)();n.exports=function(n){return"object"==typeof n&&null!==n&&(a?function(n){try{return r.call(n),!0}catch(n){return!1}}(n):"[object Date]"===o.call(n))}},function(n,e,t){"use strict";var r=String.prototype.valueOf,o=Object.prototype.toString,a=t(24)();n.exports=function(n){return"string"==typeof n||"object"==typeof n&&(a?function(n){try{return r.call(n),!0}catch(n){return!1}}(n):"[object String]"===o.call(n))}},function(n,e,t){"use strict";var r=Object.prototype.toString;if(t(22)()){var o=Symbol.prototype.toString,a=/^Symbol\(.*\)$/;n.exports=function(n){if("symbol"==typeof n)return!0;if("[object Symbol]"!==r.call(n))return!1;try{return function(n){return"symbol"==typeof n.valueOf()&&a.test(o.call(n))}(n)}catch(n){return!1}}}else n.exports=function(n){return!1}},function(n,e,t){!function(n){"use strict";function e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function t(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function r(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=r(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0;return function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function s(e){n.defaults=e}function l(n,e){if(e){if(w.test(n))return n.replace(E,C)}else if(j.test(n))return n.replace(A,C);return n}function c(n){return n.replace(S,(function(n,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}function u(n,e){n=n.source||n,e=e||"";var t={replace:function(e,r){return r=(r=r.source||r).replace(k,"$1"),n=n.replace(e,r),t},getRegex:function(){return new RegExp(n,e)}};return t}function d(n,e,t){if(n){var r;try{r=decodeURIComponent(c(t)).replace(_,"").toLowerCase()}catch(n){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!P.test(t)&&(t=function(n,e){D[" "+n]||(B.test(n)?D[" "+n]=n+"/":D[" "+n]=m(n,"/",!0));var t=-1===(n=D[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(I,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(O,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(n){return null}return t}function p(n){for(var e,t,r=1;r<arguments.length;r++)for(t in e=arguments[r])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function h(n,e){var t=n.replace(/\|/g,(function(n,e,t){for(var r=!1,o=e;--o>=0&&"\\"===t[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function m(n,e,t){var r=n.length;if(0===r)return"";for(var o=0;o<r;){var a=n.charAt(r-o-1);if(a!==e||t){if(a===e||!t)break;o++}else o++}return n.substr(0,r-o)}function f(n){n&&n.sanitize&&n.silent}function g(n,e){if(e<1)return"";for(var t="";e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function v(n,e,t,r){var o=e.href,a=e.title?l(e.title):null,i=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:t,href:o,title:a,text:i,tokens:r.inlineTokens(i,[])};return r.state.inLink=!1,s}return{type:"image",raw:t,href:o,title:a,text:l(i)}}function y(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function b(n){var e,t,r="",o=n.length;for(e=0;e<o;e++)t=n.charCodeAt(e),Math.random()>.5&&(t="x"+t.toString(16)),r+="&#"+t+";";return r}function x(n,e,t){if(null==n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),f(e=p({},x.defaults,e||{})),t){var r,o=e.highlight;try{r=F.lex(n,e)}catch(n){return t(n)}var a=function(n){var a;if(!n)try{e.walkTokens&&x.walkTokens(r,e.walkTokens),a=$.parse(r,e)}catch(e){n=e}return e.highlight=o,n?t(n):t(null,a)};if(!o||o.length<3)return a();if(delete e.highlight,!r.length)return a();var i=0;return x.walkTokens(r,(function(n){"code"===n.type&&(i++,setTimeout((function(){o(n.text,n.lang,(function(e,t){if(e)return a(e);null!=t&&t!==n.text&&(n.text=t,n.escaped=!0),0==--i&&a()}))}),0))})),void(0===i&&a())}try{var s=F.lex(n,e);return e.walkTokens&&x.walkTokens(s,e.walkTokens),$.parse(s,e)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+l(n.message+"",!0)+"</pre>";throw n}}n.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var w=/[&<>"']/,E=/[&<>"']/g,j=/[<>"']|&(?!#?\w+;)/,A=/[<>"']|&(?!#?\w+;)/g,T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C=function(n){return T[n]},S=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,k=/(^|[^\[])\^/g,_=/[^\w:]/g,P=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,D={},B=/^[^:]+:\/*[^/]*$/,I=/^([^:]+:)[\s\S]*$/,O=/^([^:]+:\/*[^/]*)[\s\S]*$/,R={exec:function(){}},M=function(){function e(e){this.options=e||n.defaults}var t=e.prototype;return t.space=function(n){var e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}},t.code=function(n){var e=this.rules.block.code.exec(n);if(e){var t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:m(t,"\n")}}},t.fences=function(n){var e=this.rules.block.fences.exec(n);if(e){var t=e[0],r=function(n,e){var t=n.match(/^(\s+)(?:```)/);if(null===t)return e;var r=t[1];return e.split("\n").map((function(n){var e=n.match(/^\s+/);return null===e?n:e[0].length>=r.length?n.slice(r.length):n})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim():e[2],text:r}}},t.heading=function(n){var e=this.rules.block.heading.exec(n);if(e){var t=e[2].trim();if(/#$/.test(t)){var r=m(t,"#");this.options.pedantic?t=r.trim():r&&!/ $/.test(r)||(t=r.trim())}var o={type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}},t.hr=function(n){var e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}},t.blockquote=function(n){var e=this.rules.block.blockquote.exec(n);if(e){var t=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(t,[]),text:t}}},t.list=function(n){var e=this.rules.block.list.exec(n);if(e){var t,r,o,i,s,l,c,u,d,p,h,m,f=e[1].trim(),g=f.length>1,v={type:"list",raw:"",ordered:g,start:g?+f.slice(0,-1):"",loose:!1,items:[]};f=g?"\\d{1,9}\\"+f.slice(-1):"\\"+f,this.options.pedantic&&(f=g?f:"[*+-]");for(var y=new RegExp("^( {0,3}"+f+")((?: [^\\n]*)?(?:\\n|$))");n&&(m=!1,e=y.exec(n))&&!this.rules.block.hr.test(n);){if(t=e[0],n=n.substring(t.length),u=e[2].split("\n",1)[0],d=n.split("\n",1)[0],this.options.pedantic?(i=2,h=u.trimLeft()):(i=(i=e[2].search(/[^ ]/))>4?1:i,h=u.slice(i),i+=e[1].length),l=!1,!u&&/^ *$/.test(d)&&(t+=d+"\n",n=n.substring(d.length+1),m=!0),!m)for(var b=new RegExp("^ {0,"+Math.min(3,i-1)+"}(?:[*+-]|\\d{1,9}[.)])");n&&(u=p=n.split("\n",1)[0],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!b.test(u));){if(u.search(/[^ ]/)>=i||!u.trim())h+="\n"+u.slice(i);else{if(l)break;h+="\n"+u}l||u.trim()||(l=!0),t+=p+"\n",n=n.substring(p.length+1)}v.loose||(c?v.loose=!0:/\n *\n *$/.test(t)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h))&&(o="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:t,task:!!r,checked:o,loose:!1,text:h}),v.raw+=t}v.items[v.items.length-1].raw=t.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();var x=v.items.length;for(s=0;s<x;s++){this.lexer.state.top=!1,v.items[s].tokens=this.lexer.blockTokens(v.items[s].text,[]);var w=v.items[s].tokens.filter((function(n){return"space"===n.type})),E=w.every((function(n){for(var e,t=0,r=a(n.raw.split(""));!(e=r()).done;)if("\n"===e.value&&(t+=1),t>1)return!0;return!1}));!v.loose&&w.length&&E&&(v.loose=!0,v.items[s].loose=!0)}return v}},t.html=function(n){var e=this.rules.block.html.exec(n);if(e){var t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(t.type="paragraph",t.text=this.options.sanitizer?this.options.sanitizer(e[0]):l(e[0]),t.tokens=[],this.lexer.inline(t.text,t.tokens)),t}},t.def=function(n){var e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},t.table=function(n){var e=this.rules.block.table.exec(n);if(e){var t={type:"table",header:h(e[1]).map((function(n){return{text:n}})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];var r,o,a,i,s=t.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;for(s=t.rows.length,r=0;r<s;r++)t.rows[r]=h(t.rows[r],t.header.length).map((function(n){return{text:n}}));for(s=t.header.length,o=0;o<s;o++)t.header[o].tokens=[],this.lexer.inlineTokens(t.header[o].text,t.header[o].tokens);for(s=t.rows.length,o=0;o<s;o++)for(i=t.rows[o],a=0;a<i.length;a++)i[a].tokens=[],this.lexer.inlineTokens(i[a].text,i[a].tokens);return t}}},t.lheading=function(n){var e=this.rules.block.lheading.exec(n);if(e){var t={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}},t.paragraph=function(n){var e=this.rules.block.paragraph.exec(n);if(e){var t={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}},t.text=function(n){var e=this.rules.block.text.exec(n);if(e){var t={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}},t.escape=function(n){var e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:l(e[1])}},t.tag=function(n){var e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):l(e[0]):e[0]}},t.link=function(n){var e=this.rules.inline.link.exec(n);if(e){var t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;var r=m(t.slice(0,-1),"\\");if((t.length-r.length)%2==0)return}else{var o=function(n,e){if(-1===n.indexOf(e[1]))return-1;for(var t=n.length,r=0,o=0;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&--r<0)return o;return-1}(e[2],"()");if(o>-1){var a=(0===e[0].indexOf("!")?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,a).trim(),e[3]=""}}var i=e[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);l&&(i=l[1],s=l[3])}else s=e[3]?e[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(t)?i.slice(1):i.slice(1,-1)),v(e,{href:i?i.replace(this.rules.inline._escapes,"$1"):i,title:s?s.replace(this.rules.inline._escapes,"$1"):s},e[0],this.lexer)}},t.reflink=function(n,e){var t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){var r=(t[2]||t[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return v(t,r,t[0],this.lexer)}},t.emStrong=function(n,e,t){void 0===t&&(t="");var r=this.rules.inline.emStrong.lDelim.exec(n);if(r&&(!r[3]||!t.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=r[1]||r[2]||"";if(!o||o&&(""===t||this.rules.inline.punctuation.exec(t))){var a,i,s=r[0].length-1,l=s,c=0,u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,e=e.slice(-1*n.length+s);null!=(r=u.exec(e));)if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(i=a.length,r[3]||r[4])l+=i;else if(!((r[5]||r[6])&&s%3)||(s+i)%3){if(!((l-=i)>0)){if(i=Math.min(i,i+l+c),Math.min(s,i)%2){var d=n.slice(1,s+r.index+i);return{type:"em",raw:n.slice(0,s+r.index+i+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}var p=n.slice(2,s+r.index+i-1);return{type:"strong",raw:n.slice(0,s+r.index+i+1),text:p,tokens:this.lexer.inlineTokens(p,[])}}}else c+=i}}},t.codespan=function(n){var e=this.rules.inline.code.exec(n);if(e){var t=e[2].replace(/\n/g," "),r=/[^ ]/.test(t),o=/^ /.test(t)&&/ $/.test(t);return r&&o&&(t=t.substring(1,t.length-1)),t=l(t,!0),{type:"codespan",raw:e[0],text:t}}},t.br=function(n){var e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}},t.del=function(n){var e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}},t.autolink=function(n,e){var t,r,o=this.rules.inline.autolink.exec(n);if(o)return r="@"===o[2]?"mailto:"+(t=l(this.options.mangle?e(o[1]):o[1])):t=l(o[1]),{type:"link",raw:o[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}},t.url=function(n,e){var t;if(t=this.rules.inline.url.exec(n)){var r,o;if("@"===t[2])o="mailto:"+(r=l(this.options.mangle?e(t[0]):t[0]));else{var a;do{a=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(a!==t[0]);r=l(t[0]),o="www."===t[1]?"http://"+r:r}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(n,e){var t,r=this.rules.inline.text.exec(n);if(r)return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):l(r[0]):r[0]:l(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:t}},e}(),z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:R,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};z.def=u(z.def).replace("label",z._label).replace("title",z._title).getRegex(),z.bullet=/(?:[*+-]|\d{1,9}[.)])/,z.listItemStart=u(/^( *)(bull) */).replace("bull",z.bullet).getRegex(),z.list=u(z.list).replace(/bull/g,z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+z.def.source+")").getRegex(),z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,z.html=u(z.html,"i").replace("comment",z._comment).replace("tag",z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z.paragraph=u(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.blockquote=u(z.blockquote).replace("paragraph",z.paragraph).getRegex(),z.normal=p({},z),z.gfm=p({},z.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),z.gfm.table=u(z.gfm.table).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.gfm.paragraph=u(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",z.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.pedantic=p({},z.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:R,paragraph:u(z.normal._paragraph).replace("hr",z.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var L={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:R,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:R,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};L.punctuation=u(L.punctuation).replace(/punctuation/g,L._punctuation).getRegex(),L.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,L.escapedEmSt=/\\\*|\\_/g,L._comment=u(z._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),L.emStrong.lDelim=u(L.emStrong.lDelim).replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimAst=u(L.emStrong.rDelimAst,"g").replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimUnd=u(L.emStrong.rDelimUnd,"g").replace(/punct/g,L._punctuation).getRegex(),L._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,L._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,L._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,L.autolink=u(L.autolink).replace("scheme",L._scheme).replace("email",L._email).getRegex(),L._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,L.tag=u(L.tag).replace("comment",L._comment).replace("attribute",L._attribute).getRegex(),L._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,L._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,L._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,L.link=u(L.link).replace("label",L._label).replace("href",L._href).replace("title",L._title).getRegex(),L.reflink=u(L.reflink).replace("label",L._label).replace("ref",z._label).getRegex(),L.nolink=u(L.nolink).replace("ref",z._label).getRegex(),L.reflinkSearch=u(L.reflinkSearch,"g").replace("reflink",L.reflink).replace("nolink",L.nolink).getRegex(),L.normal=p({},L),L.pedantic=p({},L.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",L._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",L._label).getRegex()}),L.gfm=p({},L.normal,{escape:u(L.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),L.gfm.url=u(L.gfm.url,"i").replace("email",L.gfm._extended_email).getRegex(),L.breaks=p({},L.gfm,{br:u(L.br).replace("{2,}","*").getRegex(),text:u(L.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var F=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||n.defaults,this.options.tokenizer=this.options.tokenizer||new M,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:z.normal,inline:L.normal};this.options.pedantic?(t.block=z.pedantic,t.inline=L.pedantic):this.options.gfm&&(t.block=z.gfm,this.options.breaks?t.inline=L.breaks:t.inline=L.gfm),this.tokenizer.rules=t}e.lex=function(n,t){return new e(t).lex(n)},e.lexInline=function(n,t){return new e(t).inlineTokens(n)};var r=e.prototype;return r.lex=function(n){n=n.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(n,this.tokens);for(var e;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens},r.blockTokens=function(n,e){var t,r,o,a,i=this;for(void 0===e&&(e=[]),this.options.pedantic&&(n=n.replace(/^ +$/gm,""));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(t=r.call({lexer:i},n,e))&&(n=n.substring(t.raw.length),e.push(t),!0)}))))if(t=this.tokenizer.space(n))n=n.substring(t.raw.length),1===t.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(t);else if(t=this.tokenizer.code(n))n=n.substring(t.raw.length),!(r=e[e.length-1])||"paragraph"!==r.type&&"text"!==r.type?e.push(t):(r.raw+="\n"+t.raw,r.text+="\n"+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(t=this.tokenizer.fences(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.heading(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.hr(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.blockquote(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.list(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.html(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.def(n))n=n.substring(t.raw.length),!(r=e[e.length-1])||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title}):(r.raw+="\n"+t.raw,r.text+="\n"+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(t=this.tokenizer.table(n))n=n.substring(t.raw.length),e.push(t);else if(t=this.tokenizer.lheading(n))n=n.substring(t.raw.length),e.push(t);else if(o=n,this.options.extensions&&this.options.extensions.startBlock&&function(){var e=1/0,t=n.slice(1),r=void 0;i.options.extensions.startBlock.forEach((function(n){"number"==typeof(r=n.call({lexer:this},t))&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(o=n.substring(0,e+1))}(),this.state.top&&(t=this.tokenizer.paragraph(o)))r=e[e.length-1],a&&"paragraph"===r.type?(r.raw+="\n"+t.raw,r.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t),a=o.length!==n.length,n=n.substring(t.raw.length);else if(t=this.tokenizer.text(n))n=n.substring(t.raw.length),(r=e[e.length-1])&&"text"===r.type?(r.raw+="\n"+t.raw,r.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(t);else if(n){var s="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent)break;throw new Error(s)}return this.state.top=!0,e},r.inline=function(n,e){this.inlineQueue.push({src:n,tokens:e})},r.inlineTokens=function(n,e){var t=this;void 0===e&&(e=[]);var r,o,a,i,s,l,c=n;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+g("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+g("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(o){return!!(r=o.call({lexer:t},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)}))))if(r=this.tokenizer.escape(n))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.tag(n))n=n.substring(r.raw.length),(o=e[e.length-1])&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);else if(r=this.tokenizer.link(n))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.reflink(n,this.tokens.links))n=n.substring(r.raw.length),(o=e[e.length-1])&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);else if(r=this.tokenizer.emStrong(n,c,l))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.codespan(n))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.br(n))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.del(n))n=n.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.autolink(n,b))n=n.substring(r.raw.length),e.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(n,b))){if(a=n,this.options.extensions&&this.options.extensions.startInline&&function(){var e=1/0,r=n.slice(1),o=void 0;t.options.extensions.startInline.forEach((function(n){"number"==typeof(o=n.call({lexer:this},r))&&o>=0&&(e=Math.min(e,o))})),e<1/0&&e>=0&&(a=n.substring(0,e+1))}(),r=this.tokenizer.inlineText(a,y))n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(l=r.raw.slice(-1)),s=!0,(o=e[e.length-1])&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);else if(n){var d="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent)break;throw new Error(d)}}else n=n.substring(r.raw.length),e.push(r);return e},t(e,null,[{key:"rules",get:function(){return{block:z,inline:L}}}]),e}(),H=function(){function e(e){this.options=e||n.defaults}var t=e.prototype;return t.code=function(n,e,t){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(n,r);null!=o&&o!==n&&(t=!0,n=o)}return n=n.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+l(r,!0)+'">'+(t?n:l(n,!0))+"</code></pre>\n":"<pre><code>"+(t?n:l(n,!0))+"</code></pre>\n"},t.blockquote=function(n){return"<blockquote>\n"+n+"</blockquote>\n"},t.html=function(n){return n},t.heading=function(n,e,t,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(t)+'">'+n+"</h"+e+">\n":"<h"+e+">"+n+"</h"+e+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(n,e,t){var r=e?"ol":"ul";return"<"+r+(e&&1!==t?' start="'+t+'"':"")+">\n"+n+"</"+r+">\n"},t.listitem=function(n){return"<li>"+n+"</li>\n"},t.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(n){return"<p>"+n+"</p>\n"},t.table=function(n,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"},t.tablerow=function(n){return"<tr>\n"+n+"</tr>\n"},t.tablecell=function(n,e){var t=e.header?"th":"td";return(e.align?"<"+t+' align="'+e.align+'">':"<"+t+">")+n+"</"+t+">\n"},t.strong=function(n){return"<strong>"+n+"</strong>"},t.em=function(n){return"<em>"+n+"</em>"},t.codespan=function(n){return"<code>"+n+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(n){return"<del>"+n+"</del>"},t.link=function(n,e,t){if(null===(n=d(this.options.sanitize,this.options.baseUrl,n)))return t;var r='<a href="'+l(n)+'"';return e&&(r+=' title="'+e+'"'),r+">"+t+"</a>"},t.image=function(n,e,t){if(null===(n=d(this.options.sanitize,this.options.baseUrl,n)))return t;var r='<img src="'+n+'" alt="'+t+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},t.text=function(n){return n},e}(),q=function(){function n(){}var e=n.prototype;return e.strong=function(n){return n},e.em=function(n){return n},e.codespan=function(n){return n},e.del=function(n){return n},e.html=function(n){return n},e.text=function(n){return n},e.link=function(n,e,t){return""+t},e.image=function(n,e,t){return""+t},e.br=function(){return""},n}(),N=function(){function n(){this.seen={}}var e=n.prototype;return e.serialize=function(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(n,e){var t=n,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[n];do{t=n+"-"+ ++r}while(this.seen.hasOwnProperty(t))}return e||(this.seen[n]=r,this.seen[t]=0),t},e.slug=function(n,e){void 0===e&&(e={});var t=this.serialize(n);return this.getNextSafeSlug(t,e.dryrun)},n}(),$=function(){function e(e){this.options=e||n.defaults,this.options.renderer=this.options.renderer||new H,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new q,this.slugger=new N}e.parse=function(n,t){return new e(t).parse(n)},e.parseInline=function(n,t){return new e(t).parseInline(n)};var t=e.prototype;return t.parse=function(n,e){void 0===e&&(e=!0);var t,r,o,a,i,s,l,u,d,p,h,m,f,g,v,y,b,x,w,E="",j=n.length;for(t=0;t<j;t++)if(p=n[t],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type])||!1===(w=this.options.extensions.renderers[p.type].call({parser:this},p))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))switch(p.type){case"space":continue;case"hr":E+=this.renderer.hr();continue;case"heading":E+=this.renderer.heading(this.parseInline(p.tokens),p.depth,c(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue;case"code":E+=this.renderer.code(p.text,p.lang,p.escaped);continue;case"table":for(u="",l="",a=p.header.length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(p.header[r].tokens),{header:!0,align:p.align[r]});for(u+=this.renderer.tablerow(l),d="",a=p.rows.length,r=0;r<a;r++){for(l="",i=(s=p.rows[r]).length,o=0;o<i;o++)l+=this.renderer.tablecell(this.parseInline(s[o].tokens),{header:!1,align:p.align[o]});d+=this.renderer.tablerow(l)}E+=this.renderer.table(u,d);continue;case"blockquote":d=this.parse(p.tokens),E+=this.renderer.blockquote(d);continue;case"list":for(h=p.ordered,m=p.start,f=p.loose,a=p.items.length,d="",r=0;r<a;r++)y=(v=p.items[r]).checked,b=v.task,g="",v.task&&(x=this.renderer.checkbox(y),f?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=x+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=x+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:x}):g+=x),g+=this.parse(v.tokens,f),d+=this.renderer.listitem(g,b,y);E+=this.renderer.list(d,h,m);continue;case"html":E+=this.renderer.html(p.text);continue;case"paragraph":E+=this.renderer.paragraph(this.parseInline(p.tokens));continue;case"text":for(d=p.tokens?this.parseInline(p.tokens):p.text;t+1<j&&"text"===n[t+1].type;)d+="\n"+((p=n[++t]).tokens?this.parseInline(p.tokens):p.text);E+=e?this.renderer.paragraph(d):d;continue;default:var A='Token with "'+p.type+'" type was not found.';if(this.options.silent)return;throw new Error(A)}else E+=w||"";return E},t.parseInline=function(n,e){e=e||this.renderer;var t,r,o,a="",i=n.length;for(t=0;t<i;t++)if(r=n[t],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(o=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":a+=e.text(r.text);break;case"html":a+=e.html(r.text);break;case"link":a+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":a+=e.image(r.href,r.title,r.text);break;case"strong":a+=e.strong(this.parseInline(r.tokens,e));break;case"em":a+=e.em(this.parseInline(r.tokens,e));break;case"codespan":a+=e.codespan(r.text);break;case"br":a+=e.br();break;case"del":a+=e.del(this.parseInline(r.tokens,e));break;case"text":a+=e.text(r.text);break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(s)}else a+=o||"";return a},e}();x.options=x.setOptions=function(n){return p(x.defaults,n),s(x.defaults),x},x.getDefaults=i,x.defaults=n.defaults,x.use=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r,o=p.apply(void 0,[{}].concat(e)),a=x.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((function(n){if(n.extensions&&(r=!0,n.extensions.forEach((function(n){if(!n.name)throw new Error("extension name required");if(n.renderer){var e=a.renderers?a.renderers[n.name]:null;a.renderers[n.name]=e?function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=n.renderer.apply(this,r);return!1===a&&(a=e.apply(this,r)),a}:n.renderer}if(n.tokenizer){if(!n.level||"block"!==n.level&&"inline"!==n.level)throw new Error("extension level must be 'block' or 'inline'");a[n.level]?a[n.level].unshift(n.tokenizer):a[n.level]=[n.tokenizer],n.start&&("block"===n.level?a.startBlock?a.startBlock.push(n.start):a.startBlock=[n.start]:"inline"===n.level&&(a.startInline?a.startInline.push(n.start):a.startInline=[n.start]))}n.childTokens&&(a.childTokens[n.name]=n.childTokens)}))),n.renderer&&function(){var e=x.defaults.renderer||new H;for(var t in n.renderer)!function(t){var r=e[t];e[t]=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=n.renderer[t].apply(e,a);return!1===s&&(s=r.apply(e,a)),s}}(t);o.renderer=e}(),n.tokenizer&&function(){var e=x.defaults.tokenizer||new M;for(var t in n.tokenizer)!function(t){var r=e[t];e[t]=function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];var s=n.tokenizer[t].apply(e,a);return!1===s&&(s=r.apply(e,a)),s}}(t);o.tokenizer=e}(),n.walkTokens){var e=x.defaults.walkTokens;o.walkTokens=function(t){n.walkTokens.call(this,t),e&&e.call(this,t)}}r&&(o.extensions=a),x.setOptions(o)}))},x.walkTokens=function(n,e){for(var t,r=a(n);!(t=r()).done;)!function(){var n=t.value;switch(e.call(x,n),n.type){case"table":for(var r,o=a(n.header);!(r=o()).done;){var i=r.value;x.walkTokens(i.tokens,e)}for(var s,l=a(n.rows);!(s=l()).done;)for(var c,u=a(s.value);!(c=u()).done;){var d=c.value;x.walkTokens(d.tokens,e)}break;case"list":x.walkTokens(n.items,e);break;default:x.defaults.extensions&&x.defaults.extensions.childTokens&&x.defaults.extensions.childTokens[n.type]?x.defaults.extensions.childTokens[n.type].forEach((function(t){x.walkTokens(n[t],e)})):n.tokens&&x.walkTokens(n.tokens,e)}}()},x.parseInline=function(n,e){if(null==n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");f(e=p({},x.defaults,e||{}));try{var t=F.lexInline(n,e);return e.walkTokens&&x.walkTokens(t,e.walkTokens),$.parseInline(t,e)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+l(n.message+"",!0)+"</pre>";throw n}},x.Parser=$,x.parser=$.parse,x.Renderer=H,x.TextRenderer=q,x.Lexer=F,x.lexer=F.lex,x.Tokenizer=M,x.Slugger=N,x.parse=x;var U=x.options,V=x.setOptions,G=x.use,W=x.walkTokens,Q=x.parseInline,J=x,Y=$.parse,K=F.lex;n.Lexer=F,n.Parser=$,n.Renderer=H,n.Slugger=N,n.TextRenderer=q,n.Tokenizer=M,n.getDefaults=i,n.lexer=K,n.marked=x,n.options=U,n.parse=J,n.parseInline=Q,n.parser=Y,n.setOptions=V,n.use=G,n.walkTokens=W,Object.defineProperty(n,"__esModule",{value:!0})}(e)},function(n,e,t){"use strict";function r(n,e){var t=function(n){var e={};return s(l(n),(function(n){var t=n[0],r=n[1];s(r,(function(n){e[n]=t}))})),e}(n.pluralTypeToLanguages);return t[e]||t[m.call(e,/-/,1)[0]]||t.en}function o(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(n,e,t,r,o){if("string"!=typeof n)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return n;var a=n,i=r||b,s="number"==typeof e?{smart_count:e}:e;if(null!=s.smart_count&&n){var l=o||v,c=m.call(n,f),p=function(n,e,t){return n.pluralTypes[e](t)}(l,y(l,t||"en"),s.smart_count);a=d(c[p]||c[0])}return h.call(a,i,(function(n,e){return u(s,e)&&null!=s[e]?s[e]:n}))}function i(n){var e=n||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var t=e.allowMissing?a:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:t,this.warn=e.warn||p,this.tokenRegex=function(n){var e=n&&n.prefix||"%{",t=n&&n.suffix||"}";if(e===f||t===f)throw new RangeError('"'+f+'" token is reserved for pluralization');return new RegExp(o(e)+"(.*?)"+o(t),"g")}(e.interpolation),this.pluralRules=e.pluralRules||v}var s=t(43),l=t(89),c=t(94),u=t(25),d=t(92),p=function(n){c(!1,n)},h=String.prototype.replace,m=String.prototype.split,f="||||",g=function(n){var e=n%100,t=e%10;return 11!==e&&1===t?0:2<=t&&t<=4&&!(e>=12&&e<=14)?1:2},v={pluralTypes:{arabic:function(n){if(n<3)return n;var e=n%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:g,chinese:function(){return 0},croatian:g,french:function(n){return n>=2?1:0},german:function(n){return 1!==n?1:0},russian:g,lithuanian:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){if(1===n)return 0;var e=n%10;return 2<=e&&e<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var e=n%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}},y=function(){var n={};return function(e,t){var o=n[t];return o&&!e.pluralTypes[o]&&(o=null,n[t]=o),o||(o=r(e,t))&&(n[t]=o),o}}(),b=/%\{(.*?)\}/g;i.prototype.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},i.prototype.extend=function(n,e){s(l(n||{}),(function(n){var t=n[0],r=n[1],o=e?e+"."+t:t;"object"==typeof r?this.extend(r,o):this.phrases[o]=r}),this)},i.prototype.unset=function(n,e){"string"==typeof n?delete this.phrases[n]:s(l(n||{}),(function(n){var t=n[0],r=n[1],o=e?e+"."+t:t;"object"==typeof r?this.unset(r,o):delete this.phrases[o]}),this)},i.prototype.clear=function(){this.phrases={}},i.prototype.replace=function(n){this.clear(),this.extend(n)},i.prototype.t=function(n,e){var t,r,o=null==e?{}:e;return"string"==typeof this.phrases[n]?t=this.phrases[n]:"string"==typeof o._?t=o._:this.onMissingKey?r=(0,this.onMissingKey)(n,o,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+n+'"'),r=n),"string"==typeof t&&(r=a(t,o,this.currentLocale,this.tokenRegex,this.pluralRules)),r},i.prototype.has=function(n){return u(this.phrases,n)},i.transformPhrase=function(n,e,t){return a(n,e,t)},n.exports=i},function(n,e,t){"use strict";function r(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(n){return e[n]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(n){r[n]=n})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(n){return!1}}()?Object.assign:function(n,e){for(var t,s,l=r(n),c=1;c<arguments.length;c++){for(var u in t=Object(arguments[c]))a.call(t,u)&&(l[u]=t[u]);if(o){s=o(t);for(var d=0;d<s.length;d++)i.call(t,s[d])&&(l[s[d]]=t[s[d]])}}return l}},function(n,e,t){function r(n,e){if(n===1/0||n===-1/0||n!=n||n&&n>-1e3&&n<1e3||q.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof n){var r=n<0?-V(-n):V(n);if(r!==n){var o=String(r),a=z.call(e,o.length+1);return L.call(o,t,"$&_")+"."+L.call(L.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return L.call(e,t,"$&_")}function o(n,e,t){var r="double"===(t.quoteStyle||e)?'"':"'";return r+n+r}function a(n){return L.call(String(n),/"/g,"&quot;")}function i(n){return!("[object Array]"!==c(n)||Y&&"object"==typeof n&&Y in n)}function s(n){if(J)return n&&"object"==typeof n&&n instanceof Symbol;if("symbol"==typeof n)return!0;if(!n||"object"!=typeof n||!Q)return!1;try{return Q.call(n),!0}catch(n){}return!1}function l(n,e){return en.call(n,e)}function c(n){return O.call(n)}function u(n){if(n.name)return n.name;var e=M.call(R.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function d(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function p(n){if(!P||!n||"object"!=typeof n)return!1;try{P.call(n,P);try{D.call(n,D)}catch(n){return!0}return n instanceof WeakMap}catch(n){}return!1}function h(n){if(!B||!n||"object"!=typeof n)return!1;try{return B.call(n),!0}catch(n){}return!1}function m(n){if(!D||!n||"object"!=typeof n)return!1;try{D.call(n,D);try{P.call(n,P)}catch(n){return!0}return n instanceof WeakSet}catch(n){}return!1}function f(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return f(z.call(n,0,e.maxStringLength),e)+r}return o(L.call(L.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,g),"single",e)}function g(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+F.call(e.toString(16))}function v(n){return"Object("+n+")"}function y(n){return n+" { ? }"}function b(n,e,t,r){return n+" ("+e+") {"+(r?x(t,r):$.call(t,", "))+"}"}function x(n,e){if(0===n.length)return"";var t="\n"+e.prev+e.base;return t+$.call(n,","+t)+"\n"+e.prev}function w(n,e){var t=i(n),r=[];if(t){r.length=n.length;for(var o=0;o<n.length;o++)r[o]=l(n,o)?e(n[o],n):""}var a,s="function"==typeof W?W(n):[];if(J){a={};for(var c=0;c<s.length;c++)a["$"+s[c]]=s[c]}for(var u in n)l(n,u)&&(t&&String(Number(u))===u&&u<n.length||J&&a["$"+u]instanceof Symbol||(q.call(/[^\w$]/,u)?r.push(e(u,n)+": "+e(n[u],n)):r.push(u+": "+e(n[u],n))));if("function"==typeof W)for(var d=0;d<s.length;d++)K.call(n,s[d])&&r.push("["+e(s[d])+"]: "+e(n[s[d]],n));return r}var E="function"==typeof Map&&Map.prototype,j=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,A=E&&j&&"function"==typeof j.get?j.get:null,T=E&&Map.prototype.forEach,C="function"==typeof Set&&Set.prototype,S=Object.getOwnPropertyDescriptor&&C?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,k=C&&S&&"function"==typeof S.get?S.get:null,_=C&&Set.prototype.forEach,P="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,D="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,B="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,I=Boolean.prototype.valueOf,O=Object.prototype.toString,R=Function.prototype.toString,M=String.prototype.match,z=String.prototype.slice,L=String.prototype.replace,F=String.prototype.toUpperCase,H=String.prototype.toLowerCase,q=RegExp.prototype.test,N=Array.prototype.concat,$=Array.prototype.join,U=Array.prototype.slice,V=Math.floor,G="function"==typeof BigInt?BigInt.prototype.valueOf:null,W=Object.getOwnPropertySymbols,Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,J="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Y="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,K=Object.prototype.propertyIsEnumerable,Z=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null),X=t(102).custom,nn=X&&s(X)?X:null;n.exports=function n(e,t,g,E){function j(e,t,r){if(t&&(E=U.call(E)).push(t),r){var o={depth:C.depth};return l(C,"quoteStyle")&&(o.quoteStyle=C.quoteStyle),n(e,o,g+1,E)}return n(e,C,g+1,E)}var C=t||{};if(l(C,"quoteStyle")&&"single"!==C.quoteStyle&&"double"!==C.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(l(C,"maxStringLength")&&("number"==typeof C.maxStringLength?C.maxStringLength<0&&C.maxStringLength!==1/0:null!==C.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var S=!l(C,"customInspect")||C.customInspect;if("boolean"!=typeof S&&"symbol"!==S)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(l(C,"indent")&&null!==C.indent&&"\t"!==C.indent&&!(parseInt(C.indent,10)===C.indent&&C.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(l(C,"numericSeparator")&&"boolean"!=typeof C.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var P=C.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return f(e,C);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var D=String(e);return P?r(e,D):D}if("bigint"==typeof e){var B=String(e)+"n";return P?r(e,B):B}var O=void 0===C.depth?5:C.depth;if(void 0===g&&(g=0),g>=O&&O>0&&"object"==typeof e)return i(e)?"[Array]":"[Object]";var R=function(n,e){var t;if("\t"===n.indent)t="\t";else{if(!("number"==typeof n.indent&&n.indent>0))return null;t=$.call(Array(n.indent+1)," ")}return{base:t,prev:$.call(Array(e+1),t)}}(C,g);if(void 0===E)E=[];else if(d(E,e)>=0)return"[Circular]";if("function"==typeof e){var M=u(e),F=w(e,j);return"[Function"+(M?": "+M:" (anonymous)")+"]"+(F.length>0?" { "+$.call(F,", ")+" }":"")}if(s(e)){var q=J?L.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Q.call(e);return"object"!=typeof e||J?q:v(q)}if(function(n){return!(!n||"object"!=typeof n)&&("undefined"!=typeof HTMLElement&&n instanceof HTMLElement||"string"==typeof n.nodeName&&"function"==typeof n.getAttribute)}(e)){for(var V="<"+H.call(String(e.nodeName)),W=e.attributes||[],X=0;X<W.length;X++)V+=" "+W[X].name+"="+o(a(W[X].value),"double",C);return V+=">",e.childNodes&&e.childNodes.length&&(V+="..."),V+"</"+H.call(String(e.nodeName))+">"}if(i(e)){if(0===e.length)return"[]";var en=w(e,j);return R&&!function(n){for(var e=0;e<n.length;e++)if(d(n[e],"\n")>=0)return!1;return!0}(en)?"["+x(en,R)+"]":"[ "+$.call(en,", ")+" ]"}if(function(n){return!("[object Error]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e)){var tn=w(e,j);return"cause"in e&&!K.call(e,"cause")?"{ ["+String(e)+"] "+$.call(N.call("[cause]: "+j(e.cause),tn),", ")+" }":0===tn.length?"["+String(e)+"]":"{ ["+String(e)+"] "+$.call(tn,", ")+" }"}if("object"==typeof e&&S){if(nn&&"function"==typeof e[nn])return e[nn]();if("symbol"!==S&&"function"==typeof e.inspect)return e.inspect()}if(function(n){if(!A||!n||"object"!=typeof n)return!1;try{A.call(n);try{k.call(n)}catch(n){return!0}return n instanceof Map}catch(n){}return!1}(e)){var rn=[];return T.call(e,(function(n,t){rn.push(j(t,e,!0)+" => "+j(n,e))})),b("Map",A.call(e),rn,R)}if(function(n){if(!k||!n||"object"!=typeof n)return!1;try{k.call(n);try{A.call(n)}catch(n){return!0}return n instanceof Set}catch(n){}return!1}(e)){var on=[];return _.call(e,(function(n){on.push(j(n,e))})),b("Set",k.call(e),on,R)}if(p(e))return y("WeakMap");if(m(e))return y("WeakSet");if(h(e))return y("WeakRef");if(function(n){return!("[object Number]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e))return v(j(Number(e)));if(function(n){if(!n||"object"!=typeof n||!G)return!1;try{return G.call(n),!0}catch(n){}return!1}(e))return v(j(G.call(e)));if(function(n){return!("[object Boolean]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e))return v(I.call(e));if(function(n){return!("[object String]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e))return v(j(String(e)));if(!function(n){return!("[object Date]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e)&&!function(n){return!("[object RegExp]"!==c(n)||Y&&"object"==typeof n&&Y in n)}(e)){var an=w(e,j),sn=Z?Z(e)===Object.prototype:e instanceof Object||e.constructor===Object,ln=e instanceof Object?"":"null prototype",cn=!sn&&Y&&Object(e)===e&&Y in e?z.call(c(e),8,-1):ln?"Object":"",un=(sn||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(cn||ln?"["+$.call(N.call([],cn||[],ln||[]),": ")+"] ":"");return 0===an.length?un+"{}":R?un+"{"+x(an,R)+"}":un+"{ "+$.call(an,", ")+" }"}return String(e)};var en=Object.prototype.hasOwnProperty||function(n){return n in this}},function(n,e,t){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=t(26),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(n){var e=n.constructor;return e&&e.prototype===n},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var n in window)try{if(!p["$"+n]&&o.call(window,n)&&null!==window[n]&&"object"==typeof window[n])try{d(window[n])}catch(n){return!0}}catch(n){return!0}return!1}(),m=function(n){if("undefined"==typeof window||!h)return d(n);try{return d(n)}catch(n){return!1}};r=function(n){var e=null!==n&&"object"==typeof n,t="[object Function]"===a.call(n),r=i(n),s=e&&"[object String]"===a.call(n),d=[];if(!e&&!t&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&t;if(s&&n.length>0&&!o.call(n,0))for(var h=0;h<n.length;++h)d.push(String(h));if(r&&n.length>0)for(var f=0;f<n.length;++f)d.push(String(f));else for(var g in n)p&&"prototype"===g||!o.call(n,g)||d.push(String(g));if(l)for(var v=m(n),y=0;y<u.length;++y)v&&"constructor"===u[y]||!o.call(n,u[y])||d.push(u[y]);return d}}n.exports=r},function(n,e,t){"use strict";var r=Array.prototype.slice,o=t(26),a=Object.keys,i=a?function(n){return a(n)}:t(87),s=Object.keys;i.shim=function(){return Object.keys?function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2)||(Object.keys=function(n){return s(o(n)?r.call(n):n)}):Object.keys=i,Object.keys||i},n.exports=i},function(n,e,t){"use strict";var r=t(2),o=t(4),a=t(27),i=t(28),s=t(90),l=o(i(),Object);r(l,{getPolyfill:i,implementation:a,shim:s}),n.exports=l},function(n,e,t){"use strict";var r=t(28),o=t(2);n.exports=function(){var n=r();return o(Object,{entries:n},{entries:function(){return Object.entries!==n}}),n}},function(n,e){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(n){if(c===setTimeout)return setTimeout(n,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(n,0);try{return c(n,0)}catch(e){try{return c.call(null,n,0)}catch(e){return c.call(this,n,0)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):f=-1,h.length&&i())}function i(){if(!m){var n=o(a);m=!0;for(var e=h.length;e;){for(p=h,h=[];++f<e;)p&&p[f].run();f=-1,e=h.length}p=null,m=!1,function(n){if(u===clearTimeout)return clearTimeout(n);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(n);try{u(n)}catch(e){try{return u.call(null,n)}catch(e){return u.call(this,n)}}}(n)}}function s(n,e){this.fun=n,this.array=e}function l(){}var c,u,d=n.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(n){c=t}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(n){u=r}}();var p,h=[],m=!1,f=-1;d.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];h.push(new s(n,e)),1!==h.length||m||o(i)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(n){return[]},d.binding=function(n){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(n){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(n,e,t){"use strict";var r=t(4),o=t(2),a=t(29),i=t(30),s=t(93),l=r(i());o(l,{getPolyfill:i,implementation:a,shim:s}),n.exports=l},function(n,e,t){"use strict";var r=t(2),o=t(30);n.exports=function(){var n=o();return r(String.prototype,{trim:n},{trim:function(){return String.prototype.trim!==n}}),n}},function(n,e,t){"use strict";(function(e){var t=function(){};if("production"!==e.env.NODE_ENV){var r=function(n,e){var t=arguments.length;e=new Array(t>1?t-1:0);for(var r=1;r<t;r++)e[r-1]=arguments[r];var o=0,a="Warning: "+n.replace(/%s/g,(function(){return e[o++]}));try{throw new Error(a)}catch(n){}};t=function(n,e,t){var o=arguments.length;t=new Array(o>2?o-2:0);for(var a=2;a<o;a++)t[a-2]=arguments[a];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");n||r.apply(null,[e].concat(t))}}n.exports=t}).call(e,t(91))},function(n,e,t){function r(n,e){return new i(e).process(n)}var o=t(31),a=t(32),i=t(96);for(var s in(e=n.exports=r).filterXSS=r,e.FilterXSS=i,o)e[s]=o[s];for(var s in a)e[s]=a[s];"undefined"!=typeof window&&(window.filterXSS=n.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=n.exports)},function(n,e,t){function r(n){return null==n}function o(n){(n=function(n){var e={};for(var t in n)e[t]=n[t];return e}(n||{})).stripIgnoreTag&&(n.onIgnoreTag,n.onIgnoreTag=i.onIgnoreTagStripAll),n.whiteList=n.whiteList||n.allowList||i.whiteList,n.onTag=n.onTag||i.onTag,n.onTagAttr=n.onTagAttr||i.onTagAttr,n.onIgnoreTag=n.onIgnoreTag||i.onIgnoreTag,n.onIgnoreTagAttr=n.onIgnoreTagAttr||i.onIgnoreTagAttr,n.safeAttrValue=n.safeAttrValue||i.safeAttrValue,n.escapeHtml=n.escapeHtml||i.escapeHtml,this.options=n,!1===n.css?this.cssFilter=!1:(n.css=n.css||{},this.cssFilter=new a(n.css))}var a=t(7).FilterCSS,i=t(31),s=t(32),l=s.parseTag,c=s.parseAttr,u=t(11);o.prototype.process=function(n){if(!(n=(n=n||"").toString()))return"";var e=this.options,t=e.whiteList,o=e.onTag,a=e.onIgnoreTag,s=e.onTagAttr,d=e.onIgnoreTagAttr,p=e.safeAttrValue,h=e.escapeHtml,m=this.cssFilter;e.stripBlankChar&&(n=i.stripBlankChar(n)),e.allowCommentTag||(n=i.stripCommentTag(n));var f=!1;e.stripIgnoreTagBody&&(f=i.StripTagBody(e.stripIgnoreTagBody,a),a=f.onIgnoreTag);var g=l(n,(function(n,e,i,l,f){var g,v={sourcePosition:n,position:e,isClosing:f,isWhite:t.hasOwnProperty(i)};if(!r(g=o(i,l,v)))return g;if(v.isWhite){if(v.isClosing)return"</"+i+">";var y=function(n){var e=u.spaceIndex(n);if(-1===e)return{html:"",closing:"/"===n[n.length-2]};var t="/"===(n=u.trim(n.slice(e+1,-1)))[n.length-1];return t&&(n=u.trim(n.slice(0,-1))),{html:n,closing:t}}(l),b=t[i],x=c(y.html,(function(n,e){var t,o=-1!==u.indexOf(b,n);return r(t=s(i,n,e,o))?o?(e=p(i,n,e,m))?n+'="'+e+'"':n:r(t=d(i,n,e,o))?void 0:t:t}));return l="<"+i,x&&(l+=" "+x),y.closing&&(l+=" /"),l+">"}return r(g=a(i,l,v))?h(l):g}),h);return f&&(g=f.remove(g)),g},n.exports=o},function(n,e){n.exports={smile:"e3/2018new_weixioa02_org.png",lovely:"09/2018new_keai_org.png",happy:"1e/2018new_taikaixin_org.png",clap:"6e/2018new_guzhang_thumb.png",whee:"33/2018new_xixi_thumb.png",haha:"8f/2018new_haha_thumb.png","laugh and cry":"4a/2018new_xiaoku_thumb.png",wink:"43/2018new_jiyan_org.png",greddy:"fa/2018new_chanzui_org.png",awkward:"a3/2018new_heixian_thumb.png",sweat:"28/2018new_han_org.png","pick nose":"9a/2018new_wabi_thumb.png",hum:"7c/2018new_heng_thumb.png",angry:"f6/2018new_nu_thumb.png",grievance:"a5/2018new_weiqu_thumb.png",poor:"96/2018new_kelian_org.png",disappoint:"aa/2018new_shiwang_thumb.png",sad:"ee/2018new_beishang_org.png",tear:"6e/2018new_leimu_org.png","no way":"83/2018new_kuxiao_org.png",shy:"c1/2018new_haixiu_org.png",dirt:"10/2018new_wu_thumb.png","love you":"f6/2018new_aini_org.png",kiss:"2c/2018new_qinqin_thumb.png",amorousness:"9d/2018new_huaxin_org.png",longing:"c9/2018new_chongjing_org.png",desire:"3e/2018new_tianping_thumb.png","bad laugh":"4d/2018new_huaixiao_org.png",blackness:"9e/2018new_yinxian_org.png","laugh without word":"2d/2018new_xiaoerbuyu_org.png",titter:"71/2018new_touxiao_org.png",cool:"c4/2018new_ku_org.png","not easy":"aa/2018new_bingbujiandan_thumb.png",think:"30/2018new_sikao_org.png",question:"b8/2018new_ningwen_org.png","no idea":"2a/2018new_wenhao_thumb.png",dizzy:"07/2018new_yun_thumb.png",bomb:"a2/2018new_shuai_thumb.png",bone:"a1/2018new_kulou_thumb.png","be quiet":"b0/2018new_xu_org.png","shut up":"62/2018new_bizui_org.png",stupid:"dd/2018new_shayan_org.png","surprise ":"49/2018new_chijing_org.png",vomit:"08/2018new_tu_org.png",cold:"40/2018new_kouzhao_thumb.png",sick:"3b/2018new_shengbing_thumb.png",bye:"fd/2018new_baibai_thumb.png","look down on":"da/2018new_bishi_org.png","white eye":"ef/2018new_landelini_org.png","left hum":"43/2018new_zuohengheng_thumb.png","right hum":"c1/2018new_youhengheng_thumb.png",crazy:"17/2018new_zhuakuang_org.png","scold ":"87/2018new_zhouma_thumb.png","hit on face":"cb/2018new_dalian_org.png",wow:"ae/2018new_ding_org.png",fan:"86/2018new_hufen02_org.png",money:"a2/2018new_qian_thumb.png",yawn:"55/2018new_dahaqian_org.png",sleepy:"3c/2018new_kun_thumb.png",sleep:"e2/2018new_shuijiao_thumb.png","watermelon ":"01/2018new_chigua_thumb.png",doge:"a1/2018new_doge02_org.png",dog:"22/2018new_erha_org.png",cat:"7b/2018new_miaomiao_thumb.png",thumb:"e6/2018new_zan_org.png",good:"8a/2018new_good_org.png",ok:"45/2018new_ok_org.png",yeah:"29/2018new_ye_thumb.png","shack hand":"e9/2018new_woshou_thumb.png",bow:"e7/2018new_zuoyi_org.png",come:"42/2018new_guolai_thumb.png",punch:"86/2018new_quantou_thumb.png"}},function(n,e){n.exports={nick:"NickName",mail:"E-Mail",link:"Website(http://)",nickFail:"NickName cannot be less than 3 bytes.",mailFail:"Please confirm your email address.",sofa:"No comment yet.",submit:"Submit",reply:"Reply",cancelReply:"Cancel reply",comments:"Comments",cancel:"Cancel",confirm:"Confirm",continue:"Continue",more:"Load More...",preview:"Preview",emoji:"Emoji",expand:"See more....",seconds:"seconds ago",minutes:"minutes ago",hours:"hours ago",days:"days ago",now:"just now",uploading:"Uploading ...",uploadDone:"Upload completed!",busy:"Submit is busy, please wait...","code-98":"Valine initialization failed, please check your version of av-min.js.","code-99":"Valine initialization failed, Please check the `el` element in the init method.","code-100":"Valine initialization failed, Please check your appId and appKey.","code-140":"The total number of API calls today has exceeded the development version limit.","code-401":"Unauthorized operation, Please check your appId and appKey.","code-403":"Access denied by API domain white list, Please check your security domain."}},function(n,e){n.exports={nick:"ニックネーム",mail:"メールアドレス",link:"サイト(http://)",nickFail:"3バイト以上のニックネームをご入力ください.",mailFail:"メールアドレスをご確認ください.",sofa:"コメントしましょう~",submit:"提出する",reply:"返信する",cancelReply:"キャンセル",comments:"コメント",cancel:"キャンセル",confirm:"確認する",continue:"继续",more:"さらに読み込む...",preview:"プレビュー",emoji:"絵文字",expand:"もっと見る",seconds:"秒前",minutes:"分前",hours:"時間前",days:"日前",now:"たっだ今",uploading:"アップロード中...",uploadDone:"アップロードが完了しました!",busy:"20 秒間隔で提出してください    ...","code-98":"ロードエラーです。av-min.js のバージョンを確認してください.","code-99":"ロードエラーです。initにある`el`エレメントを確認ください.","code-100":"ロードエラーです。AppIdとAppKeyを確認ください.","code-140":"今日のAPIコールの総数が開発バージョンの上限を超えた.","code-401":"権限が制限されています。AppIdとAppKeyを確認ください.","code-403":"アクセスがAPIなどに制限されました、ドメイン名のセキュリティ設定を確認ください"}},function(n,e){n.exports={nick:"昵称",mail:"邮箱",link:"网址(http://)",nickFail:"昵称不能少于3个字符",mailFail:"请填写正确的邮件地址",sofa:"来发评论吧~",submit:"提交",reply:"回复",cancelReply:"取消回复",comments:"评论",cancel:"取消",confirm:"确认",continue:"继续",more:"加载更多...",preview:"预览",emoji:"表情",expand:"查看更多...",seconds:"秒前",minutes:"分钟前",hours:"小时前",days:"天前",now:"刚刚",uploading:"正在传输...",uploadDone:"传输完成!",busy:"操作频繁，请稍候再试...","code-98":"Valine 初始化失败，请检查 av-min.js 版本","code-99":"Valine 初始化失败，请检查init中的`el`元素.","code-100":"Valine 初始化失败，请检查你的AppId和AppKey.","code-140":"今日 API 调用总次数已超过开发版限制.","code-401":"未经授权的操作，请检查你的AppId和AppKey.","code-403":"访问被API域名白名单拒绝，请检查你的安全域名设置."}},function(n,e){n.exports={nick:"暱稱",mail:"郵箱",link:"網址(http://)",nickFail:"昵稱不能少於3個字符",mailFail:"請填寫正確的郵件地址",sofa:"來發評論吧~",submit:"提交",reply:"回覆",cancelReply:"取消回覆",comments:"評論",cancel:"取消",confirm:"確認",continue:"繼續",more:"加載更多...",preview:"預覽",emoji:"表情",expand:"查看更多...",seconds:"秒前",minutes:"分鐘前",hours:"小時前",days:"天前",now:"剛剛",uploading:"正在上傳...",uploadDone:"上傳完成!",busy:"操作頻繁，請稍候再試...","code-98":"Valine 初始化失敗，請檢查 av-min.js 版本","code-99":"Valine 初始化失敗，請檢查init中的`el`元素.","code-100":"Valine 初始化失敗，請檢查你的AppId和AppKey.","code-140":"今日 API 調用總次數已超過開發版限制.","code-401":"未經授權的操作，請檢查你的AppId和AppKey.","code-403":"訪問被API域名白名單拒絕，請檢查你的安全域名設置."}},function(n,e){},function(n,e,t){var r=t(104);"string"==typeof r&&(r=[[n.i,r,""]]);var o={transform:void 0};t(106)(r,o),r.locals&&(n.exports=r.locals)},function(n,e,t){(e=t(105)(!1)).push([n.i,'.v[data-class=v]{font-size:16px;text-align:left}.v[data-class=v] *{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:1.75}.v[data-class=v] .vinput,.v[data-class=v] .veditor,.v[data-class=v] p,.v[data-class=v] pre code,.v[data-class=v] .status-bar{color:#555}.v[data-class=v] .vtime,.v[data-class=v] .vsys{color:#b3b3b3}.v[data-class=v] .text-right{text-align:right}.v[data-class=v] .text-center{text-align:center}.v[data-class=v] img{max-width:100%;border:none}.v[data-class=v] hr{margin:.825em 0;border-color:#f6f6f6;border-style:dashed}.v[data-class=v].hide-avatar .vimg{display:none}.v[data-class=v] a{position:relative;cursor:pointer;color:#1abc9c;text-decoration:none;display:inline-block}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] pre,.v[data-class=v] code{background-color:#f8f8f8;padding:.2em .4em;border-radius:3px;font-size:85%;margin:0}.v[data-class=v] pre{padding:10px;overflow:auto;line-height:1.45}.v[data-class=v] pre code{padding:0;background:transparent;white-space:pre-wrap;word-break:keep-all}.v[data-class=v] blockquote{color:#666;margin:.5em 0;padding:0 0 0 1em;border-left:8px solid rgba(238,238,238,.5)}.v[data-class=v] .vinput{border:none;resize:none;outline:none;padding:10px 5px;max-width:100%;font-size:.775em;-webkit-box-sizing:border-box;box-sizing:border-box}.v[data-class=v] input[type=checkbox],.v[data-class=v] input[type=radio]{display:inline-block;vertical-align:middle;margin-top:-2px}.v[data-class=v] .vicon{cursor:pointer;display:inline-block;overflow:hidden;fill:#555;vertical-align:middle}.v[data-class=v] .vicon+.vicon{margin-left:10px}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vrow{font-size:0;padding:10px 0}.v[data-class=v] .vrow .vcol{display:inline-block;vertical-align:middle;font-size:14px}.v[data-class=v] .vrow .vcol.vcol-20{width:20%}.v[data-class=v] .vrow .vcol.vcol-30{width:30%}.v[data-class=v] .vrow .vcol.vcol-40{width:40%}.v[data-class=v] .vrow .vcol.vcol-50{width:50%}.v[data-class=v] .vrow .vcol.vcol-60{width:60%}.v[data-class=v] .vrow .vcol.vcol-70{width:70%}.v[data-class=v] .vrow .vcol.vcol-80{width:80%}.v[data-class=v] .vrow .vcol.vctrl{font-size:12px}.v[data-class=v] .vemoji,.v[data-class=v] .emoji{width:26px;height:26px;overflow:hidden;vertical-align:middle;margin:0 1px;display:inline-block}.v[data-class=v] .vwrap{border:1px solid #f0f0f0;border-radius:4px;margin-bottom:10px;overflow:hidden;position:relative;padding:10px}.v[data-class=v] .vwrap input{background:transparent}.v[data-class=v] .vwrap .vedit{position:relative;padding-top:10px}.v[data-class=v] .vwrap .cancel-reply-btn{position:absolute;right:5px;top:5px;cursor:pointer}.v[data-class=v] .vwrap .vemojis{display:none;font-size:18px;max-height:145px;overflow:auto;padding-bottom:10px;-webkit-box-shadow:0px 0 1px #f0f0f0;box-shadow:0px 0 1px #f0f0f0}.v[data-class=v] .vwrap .vemojis i{font-style:normal;padding-top:7px;width:36px;cursor:pointer;text-align:center;display:inline-block;vertical-align:middle}.v[data-class=v] .vwrap .vpreview{padding:7px;-webkit-box-shadow:0px 0 1px #f0f0f0;box-shadow:0px 0 1px #f0f0f0}.v[data-class=v] .vwrap .vheader .vinput{width:33.33%;border-bottom:1px #dedede dashed}.v[data-class=v] .vwrap .vheader.item2 .vinput{width:50%}.v[data-class=v] .vwrap .vheader.item1 .vinput{width:100%}.v[data-class=v] .vwrap .vheader .vinput:focus{border-bottom-color:#eb5055}@media screen and (max-width: 520px){.v[data-class=v] .vwrap .vheader .vinput{width:100%}.v[data-class=v] .vwrap .vheader.item2 .vinput{width:100%}}.v[data-class=v] .vpower{color:#999;font-size:.75em;padding:.5em 0}.v[data-class=v] .vpower a{font-size:.75em}.v[data-class=v] .vcount{padding:5px;font-weight:600;font-size:1.25em}.v[data-class=v] ul,.v[data-class=v] ol{padding:0;margin-left:1.25em}.v[data-class=v] .txt-center{text-align:center}.v[data-class=v] .txt-right{text-align:right}.v[data-class=v] .veditor{width:100%;min-height:8.75em;font-size:.875em;background:transparent;resize:vertical;-webkit-transition:all .25s ease;transition:all .25s ease}.v[data-class=v] .vbtn{-webkit-transition-duration:.4s;transition-duration:.4s;text-align:center;color:#555;border:1px solid #ededed;border-radius:.3em;display:inline-block;background:transparent;margin-bottom:0;font-weight:400;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;white-space:nowrap;padding:.5em 1.25em;font-size:.875em;line-height:1.42857143;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}.v[data-class=v] .vbtn+.vbtn{margin-left:1.25em}.v[data-class=v] .vbtn:active,.v[data-class=v] .vbtn:hover{color:#3090e4;border-color:#3090e4}.v[data-class=v] .vbtn:disabled{border-color:#e1e1e1;color:#e1e1e1;background-color:#fdfafa;cursor:not-allowed}.v[data-class=v] .vempty{padding:1.25em;text-align:center;color:#555;overflow:auto}.v[data-class=v] .vsys{display:inline-block;padding:.2em .5em;font-size:.75em;border-radius:.2em;margin-right:.3em}@media screen and (max-width: 520px){.v[data-class=v] .vsys{display:none}}.v[data-class=v] .vcards{width:100%}.v[data-class=v] .vcards .vcard{padding-top:1.25em;position:relative;display:block}.v[data-class=v] .vcards .vcard:after{content:"";clear:both;display:block}.v[data-class=v] .vcards .vcard .vimg{width:3.125em;height:3.125em;float:left;border-radius:50%;margin-right:.7525em;border:1px solid #f5f5f5;padding:.125em}@media screen and (max-width: 720px){.v[data-class=v] .vcards .vcard .vimg{width:2.5em;height:2.5em}}.v[data-class=v] .vcards .vcard .vhead{line-height:1.5;margin-top:0}.v[data-class=v] .vcards .vcard .vhead .vnick{position:relative;font-size:.875em;font-weight:500;margin-right:.875em;cursor:pointer;text-decoration:none;display:inline-block}.v[data-class=v] .vcards .vcard .vhead .vnick:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vh{overflow:hidden;padding-bottom:.5em;border-bottom:1px dashed #f5f5f5}.v[data-class=v] .vcards .vcard .vh .vtime{font-size:.75em;margin-right:.875em}.v[data-class=v] .vcards .vcard .vh .vmeta{line-height:1;position:relative}.v[data-class=v] .vcards .vcard .vh .vmeta .vat{font-size:.8125em;color:#ef2f11;cursor:pointer;float:right}.v[data-class=v] .vcards .vcard:last-child .vh{border-bottom:none}.v[data-class=v] .vcards .vcard .vcontent{word-wrap:break-word;word-break:break-all;font-size:.875em;line-height:2;position:relative;margin-bottom:.75em;padding-top:.625em}.v[data-class=v] .vcards .vcard .vcontent.expand{cursor:pointer;max-height:8em;overflow:hidden}.v[data-class=v] .vcards .vcard .vcontent.expand::before{display:block;content:"";position:absolute;width:100%;left:0;top:0;bottom:3.15em;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(rgba(255, 255, 255, 0.9)));background:linear-gradient(180deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.9));z-index:999}.v[data-class=v] .vcards .vcard .vcontent.expand::after{display:block;content:attr(data-expand);text-align:center;color:#828586;position:absolute;width:100%;height:3.15em;line-height:3.15em;left:0;bottom:0;z-index:999;background:rgba(255,255,255,.9)}.v[data-class=v] .vcards .vcard .vquote{padding-left:1em;border-left:1px dashed rgba(238,238,238,.5)}.v[data-class=v] .vcards .vcard .vquote .vimg{width:2.225em;height:2.225em}.v[data-class=v] .vpage .vmore{margin:1em 0}.v[data-class=v] .clear{content:"";display:block;clear:both}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes pulse{50%{background:#dcdcdc}}@keyframes pulse{50%{background:#dcdcdc}}.v[data-class=v] .vspinner{width:22px;height:22px;display:inline-block;border:6px double #a0a0a0;border-top-color:transparent;border-bottom-color:transparent;border-radius:50%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear;position:relative;vertical-align:middle;margin:0 5px}[data-theme=dark] .v[data-class=v] .vinput,[data-theme=dark] .v[data-class=v] .veditor,[data-theme=dark] .v[data-class=v] p,[data-theme=dark] .v[data-class=v] pre code,[data-theme=dark] .v[data-class=v] .status-bar,.dark .v[data-class=v] .vinput,.dark .v[data-class=v] .veditor,.dark .v[data-class=v] p,.dark .v[data-class=v] pre code,.dark .v[data-class=v] .status-bar,.theme__dark .v[data-class=v] .vinput,.theme__dark .v[data-class=v] .veditor,.theme__dark .v[data-class=v] p,.theme__dark .v[data-class=v] pre code,.theme__dark .v[data-class=v] .status-bar,.night .v[data-class=v] .vinput,.night .v[data-class=v] .veditor,.night .v[data-class=v] p,.night .v[data-class=v] pre code,.night .v[data-class=v] .status-bar{color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vtime,[data-theme=dark] .v[data-class=v] .vsys,.dark .v[data-class=v] .vtime,.dark .v[data-class=v] .vsys,.theme__dark .v[data-class=v] .vtime,.theme__dark .v[data-class=v] .vsys,.night .v[data-class=v] .vtime,.night .v[data-class=v] .vsys{color:#929298}[data-theme=dark] .v[data-class=v] pre,[data-theme=dark] .v[data-class=v] code,[data-theme=dark] .v[data-class=v] pre code,.dark .v[data-class=v] pre,.dark .v[data-class=v] code,.dark .v[data-class=v] pre code,.theme__dark .v[data-class=v] pre,.theme__dark .v[data-class=v] code,.theme__dark .v[data-class=v] pre code,.night .v[data-class=v] pre,.night .v[data-class=v] code,.night .v[data-class=v] pre code{color:#929298;background-color:#151414}[data-theme=dark] .v[data-class=v] .vwrap,.dark .v[data-class=v] .vwrap,.theme__dark .v[data-class=v] .vwrap,.night .v[data-class=v] .vwrap{border-color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vicon,.dark .v[data-class=v] .vicon,.theme__dark .v[data-class=v] .vicon,.night .v[data-class=v] .vicon{fill:#b2b2b5}[data-theme=dark] .v[data-class=v] .vicon.actived,.dark .v[data-class=v] .vicon.actived,.theme__dark .v[data-class=v] .vicon.actived,.night .v[data-class=v] .vicon.actived{fill:#66b1ff}[data-theme=dark] .v[data-class=v] .vbtn,.dark .v[data-class=v] .vbtn,.theme__dark .v[data-class=v] .vbtn,.night .v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}[data-theme=dark] .v[data-class=v] .vbtn:hover,.dark .v[data-class=v] .vbtn:hover,.theme__dark .v[data-class=v] .vbtn:hover,.night .v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}[data-theme=dark] .v[data-class=v] a:hover,.dark .v[data-class=v] a:hover,.theme__dark .v[data-class=v] a:hover,.night .v[data-class=v] a:hover{color:#d7191a}[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand::before,.dark .v[data-class=v] .vcards .vcard .vcontent.expand::before,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand::before,.night .v[data-class=v] .vcards .vcard .vcontent.expand::before{background:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.7)));background:linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7))}[data-theme=dark] .v[data-class=v] .vcards .vcard .vcontent.expand::after,.dark .v[data-class=v] .vcards .vcard .vcontent.expand::after,.theme__dark .v[data-class=v] .vcards .vcard .vcontent.expand::after,.night .v[data-class=v] .vcards .vcard .vcontent.expand::after{background:rgba(0,0,0,.7)}@media(prefers-color-scheme: dark){.v[data-class=v] .vinput,.v[data-class=v] .veditor,.v[data-class=v] p,.v[data-class=v] pre code,.v[data-class=v] .status-bar{color:#b2b2b5}.v[data-class=v] .vtime,.v[data-class=v] .vsys{color:#929298}.v[data-class=v] pre,.v[data-class=v] code,.v[data-class=v] pre code{color:#929298;background-color:#151414}.v[data-class=v] .vwrap{border-color:#b2b2b5}.v[data-class=v] .vicon{fill:#b2b2b5}.v[data-class=v] .vicon.actived{fill:#66b1ff}.v[data-class=v] .vbtn{color:#b2b2b5;border-color:#b2b2b5}.v[data-class=v] .vbtn:hover{color:#66b1ff;border-color:#66b1ff}.v[data-class=v] a:hover{color:#d7191a}.v[data-class=v] .vcards .vcard .vcontent.expand::before{background:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0.7)));background:linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7))}.v[data-class=v] .vcards .vcard .vcontent.expand::after{background:rgba(0,0,0,.7)}}',""]),n.exports=e},function(n,e,t){"use strict";function r(n,e){var t=n[1]||"",r=n[3];if(!r)return t;if(e&&"function"==typeof btoa){var o=function(n){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n)))))," */")}(r);return[t].concat(r.sources.map((function(n){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(n," */")}))).concat([o]).join("\n")}return[t].join("\n")}n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=r(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);r&&o[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),e.push(l))}},e}},function(n,e,t){function r(n,e){for(var t=0;t<n.length;t++){var r=n[t],o=m[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],e))}else{var i=[];for(a=0;a<r.parts.length;a++)i.push(u(r.parts[a],e));m[r.id]={id:r.id,refs:1,parts:i}}}}function o(n,e){for(var t=[],r={},o=0;o<n.length;o++){var a=n[o],i=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(s):t.push(r[i]={id:i,parts:[s]})}return t}function a(n,e){var t=g(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===n.insertAt)r?r.nextSibling?t.insertBefore(e,r.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),b.push(e);else{if("bottom"!==n.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(e)}}function i(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=b.indexOf(n);e>=0&&b.splice(e,1)}function s(n){var e=document.createElement("style");return n.attrs.type="text/css",c(e,n.attrs),a(n,e),e}function l(n){var e=document.createElement("link");return n.attrs.type="text/css",n.attrs.rel="stylesheet",c(e,n.attrs),a(n,e),e}function c(n,e){Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])}))}function u(n,e){var t,r,o,a;if(e.transform&&n.css){if(!(a=e.transform(n.css)))return function(){};n.css=a}if(e.singleton){var c=y++;t=v||(v=s(e)),r=d.bind(null,t,c,!1),o=d.bind(null,t,c,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=l(e),r=h.bind(null,t,e),o=function(){i(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(e),r=p.bind(null,t),o=function(){i(t)});return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else o()}}function d(n,e,t,r){var o=t?"":r.css;if(n.styleSheet)n.styleSheet.cssText=w(e,o);else{var a=document.createTextNode(o),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(a,i[e]):n.appendChild(a)}}function p(n,e){var t=e.css,r=e.media;if(r&&n.setAttribute("media",r),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}function h(n,e,t){var r=t.css,o=t.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=x(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=n.href;n.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var m={},f=function(n){var e;return function(){return void 0===e&&(e=n.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),g=function(n){var e={};return function(t){return void 0===e[t]&&(e[t]=n.call(this,t)),e[t]}}((function(n){return document.querySelector(n)})),v=null,y=0,b=[],x=t(107);n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=f()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=o(n,e);return r(t,e),function(n){for(var a=[],i=0;i<t.length;i++){var s=t[i];(l=m[s.id]).refs--,a.push(l)}for(n&&r(o(n,e),e),i=0;i<a.length;i++){var l;if(0===(l=a[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete m[l.id]}}}};var w=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}()},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,r=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(n,e){var o,a=e.trim().replace(/^"(.*)"$/,(function(n,e){return e})).replace(/^'(.*)'$/,(function(n,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?n:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(n,e,t){t(103),n.exports=t(34)}])},function(n,e,t){"use strict";t(114)},function(n,e,t){"use strict";var r=t(306),o=t(117),a=t(64),i=Object.prototype.hasOwnProperty,s={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,e){return n+"["+e+"]"},repeat:function(n){return n}},l=Array.isArray,c=Array.prototype.push,u=function(n,e){c.apply(n,l(e)?e:[e])},d=Date.prototype.toISOString,p=a.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(n){return d.call(n)},skipNulls:!1,strictNullHandling:!1},m={},f=function n(e,t,a,i,s,c,d,p,f,g,v,y,b,x,w,E){for(var j,A=e,T=E,C=0,S=!1;void 0!==(T=T.get(m))&&!S;){var k=T.get(e);if(C+=1,void 0!==k){if(k===C)throw new RangeError("Cyclic object value");S=!0}void 0===T.get(m)&&(C=0)}if("function"==typeof p?A=p(t,A):A instanceof Date?A=v(A):"comma"===a&&l(A)&&(A=o.maybeMap(A,(function(n){return n instanceof Date?v(n):n}))),null===A){if(s)return d&&!x?d(t,h.encoder,w,"key",y):t;A=""}if("string"==typeof(j=A)||"number"==typeof j||"boolean"==typeof j||"symbol"==typeof j||"bigint"==typeof j||o.isBuffer(A))return d?[b(x?t:d(t,h.encoder,w,"key",y))+"="+b(d(A,h.encoder,w,"value",y))]:[b(t)+"="+b(String(A))];var _,P=[];if(void 0===A)return P;if("comma"===a&&l(A))x&&d&&(A=o.maybeMap(A,d)),_=[{value:A.length>0?A.join(",")||null:void 0}];else if(l(p))_=p;else{var D=Object.keys(A);_=f?D.sort(f):D}for(var B=i&&l(A)&&1===A.length?t+"[]":t,I=0;I<_.length;++I){var O=_[I],R="object"==typeof O&&void 0!==O.value?O.value:A[O];if(!c||null!==R){var M=l(A)?"function"==typeof a?a(B,O):B:B+(g?"."+O:"["+O+"]");E.set(e,C);var z=r();z.set(m,E),u(P,n(R,M,a,i,s,c,"comma"===a&&x&&l(A)?null:d,p,f,g,v,y,b,x,w,z))}}return P};n.exports=function(n,e){var t,o=n,c=function(n){if(!n)return h;if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var e=n.charset||h.charset;if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=a.default;if(void 0!==n.format){if(!i.call(a.formatters,n.format))throw new TypeError("Unknown format option provided.");t=n.format}var r=a.formatters[t],o=h.filter;return("function"==typeof n.filter||l(n.filter))&&(o=n.filter),{addQueryPrefix:"boolean"==typeof n.addQueryPrefix?n.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===n.allowDots?h.allowDots:!!n.allowDots,charset:e,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:h.charsetSentinel,delimiter:void 0===n.delimiter?h.delimiter:n.delimiter,encode:"boolean"==typeof n.encode?n.encode:h.encode,encoder:"function"==typeof n.encoder?n.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:t,formatter:r,serializeDate:"function"==typeof n.serializeDate?n.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof n.skipNulls?n.skipNulls:h.skipNulls,sort:"function"==typeof n.sort?n.sort:null,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:h.strictNullHandling}}(e);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(t=c.filter);var d,p=[];if("object"!=typeof o||null===o)return"";d=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var m=s[d];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===m&&e&&e.commaRoundTrip;t||(t=Object.keys(o)),c.sort&&t.sort(c.sort);for(var v=r(),y=0;y<t.length;++y){var b=t[y];c.skipNulls&&null===o[b]||u(p,f(o[b],b,m,g,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,v))}var x=p.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),x.length>0?w+x:""}},function(n,e,t){"use strict";var r=t(17),o=t(312),a=t(316),i=r("%TypeError%"),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),m=o("Map.prototype.has",!0),f=function(n,e){for(var t,r=n;null!==(t=r.next);r=t)if(t.key===e)return r.next=t.next,t.next=n.next,n.next=t,t};n.exports=function(){var n,e,t,r={assert:function(n){if(!r.has(n))throw new i("Side channel does not contain "+a(n))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(n)return c(n,r)}else if(l){if(e)return p(e,r)}else if(t)return function(n,e){var t=f(n,e);return t&&t.value}(t,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(n)return d(n,r)}else if(l){if(e)return m(e,r)}else if(t)return function(n,e){return!!f(n,e)}(t,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(n||(n=new s),u(n,r,o)):l?(e||(e=new l),h(e,r,o)):(t||(t={key:{},next:null}),function(n,e,t){var r=f(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}}(t,r,o))}};return r}},function(n,e,t){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t(308);n.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(n,e,t){"use strict";n.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var n={},e=Symbol("test"),t=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;for(e in n[e]=42,n)return!1;if("function"==typeof Object.keys&&0!==Object.keys(n).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var r=Object.getOwnPropertySymbols(n);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(n,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(n,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(n,e,t){"use strict";var r={foo:{}},o=Object;n.exports=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof o)}},function(n,e,t){"use strict";var r="Function.prototype.bind called on incompatible ",o=Object.prototype.toString,a=Math.max,i=function(n,e){for(var t=[],r=0;r<n.length;r+=1)t[r]=n[r];for(var o=0;o<e.length;o+=1)t[o+n.length]=e[o];return t},s=function(n,e){for(var t=[],r=e||0,o=0;r<n.length;r+=1,o+=1)t[o]=n[r];return t},l=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t};n.exports=function(n){var e=this;if("function"!=typeof e||"[object Function]"!==o.apply(e))throw new TypeError(r+e);for(var t,c=s(arguments,1),u=function(){if(this instanceof t){var r=e.apply(this,i(c,arguments));return Object(r)===r?r:this}return e.apply(n,i(c,arguments))},d=a(0,e.length-c.length),p=[],h=0;h<d;h++)p[h]="$"+h;if(t=Function("binder","return function ("+l(p,",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var m=function(){};m.prototype=e.prototype,t.prototype=new m,m.prototype=null}return t}},function(n,e,t){"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,a=t(63);n.exports=a.call(r,o)},function(n,e,t){"use strict";var r=t(17),o=t(313),a=o(r("String.prototype.indexOf"));n.exports=function(n,e){var t=r(n,!!e);return"function"==typeof t&&a(n,".prototype.")>-1?o(t):t}},function(n,e,t){"use strict";var r=t(63),o=t(17),a=t(314),i=o("%TypeError%"),s=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(l,s),u=o("%Object.defineProperty%",!0),d=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(n){u=null}n.exports=function(n){if("function"!=typeof n)throw new i("a function is required");var e=c(r,l,arguments);return a(e,1+d(0,n.length-(arguments.length-1)),!0)};var p=function(){return c(r,s,arguments)};u?u(n.exports,"apply",{value:p}):n.exports.apply=p},function(n,e,t){"use strict";var r=t(17),o=t(315),a=t(115)(),i=t(116),s=r("%TypeError%"),l=r("%Math.floor%");n.exports=function(n,e){if("function"!=typeof n)throw new s("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new s("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in n&&i){var u=i(n,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!t)&&(a?o(n,"length",e,!0,!0):o(n,"length",e)),n}},function(n,e,t){"use strict";var r=t(115)(),o=t(17),a=r&&o("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch(n){a=!1}var i=o("%SyntaxError%"),s=o("%TypeError%"),l=t(116);n.exports=function(n,e,t){if(!n||"object"!=typeof n&&"function"!=typeof n)throw new s("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!l&&l(n,e);if(a)a(n,e,{configurable:null===c&&d?d.configurable:!c,enumerable:null===r&&d?d.enumerable:!r,value:t,writable:null===o&&d?d.writable:!o});else{if(!u&&(r||o||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");n[e]=t}}},function(n,e,t){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&o&&"function"==typeof o.get?o.get:null,i=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,f=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,E=RegExp.prototype.test,j=Array.prototype.concat,A=Array.prototype.join,T=Array.prototype.slice,C=Math.floor,S="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===P||"symbol")?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function O(n,e){if(n===1/0||n===-1/0||n!=n||n&&n>-1e3&&n<1e3||E.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof n){var r=n<0?-C(-n):C(n);if(r!==n){var o=String(r),a=y.call(e,o.length+1);return b.call(o,t,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,t,"$&_")}var R=t(317),M=R.custom,z=N(M)?M:null;function L(n,e,t){var r="double"===(t.quoteStyle||e)?'"':"'";return r+n+r}function F(n){return b.call(String(n),/"/g,"&quot;")}function H(n){return!("[object Array]"!==V(n)||D&&"object"==typeof n&&D in n)}function q(n){return!("[object RegExp]"!==V(n)||D&&"object"==typeof n&&D in n)}function N(n){if(P)return n&&"object"==typeof n&&n instanceof Symbol;if("symbol"==typeof n)return!0;if(!n||"object"!=typeof n||!_)return!1;try{return _.call(n),!0}catch(n){}return!1}n.exports=function n(e,t,r,o){var s=t||{};if(U(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(U(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!U(s,"customInspect")||s.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(U(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(U(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=s.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function n(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return n(y.call(e,0,t.maxStringLength),t)+o}return L(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",t)}(e,s);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var x=String(e);return f?O(e,x):x}if("bigint"==typeof e){var E=String(e)+"n";return f?O(e,E):E}var C=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=C&&C>0&&"object"==typeof e)return H(e)?"[Array]":"[Object]";var k=function(n,e){var t;if("\t"===n.indent)t="\t";else{if(!("number"==typeof n.indent&&n.indent>0))return null;t=A.call(Array(n.indent+1)," ")}return{base:t,prev:A.call(Array(e+1),t)}}(s,r);if(void 0===o)o=[];else if(G(o,e)>=0)return"[Circular]";function M(e,t,a){if(t&&(o=T.call(o)).push(t),a){var i={depth:s.depth};return U(s,"quoteStyle")&&(i.quoteStyle=s.quoteStyle),n(e,i,r+1,o)}return n(e,s,r+1,o)}if("function"==typeof e&&!q(e)){var $=function(n){if(n.name)return n.name;var e=v.call(g.call(n),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),X=Z(e,M);return"[Function"+($?": "+$:" (anonymous)")+"]"+(X.length>0?" { "+A.call(X,", ")+" }":"")}if(N(e)){var nn=P?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(e);return"object"!=typeof e||P?nn:Q(nn)}if(function(n){if(!n||"object"!=typeof n)return!1;if("undefined"!=typeof HTMLElement&&n instanceof HTMLElement)return!0;return"string"==typeof n.nodeName&&"function"==typeof n.getAttribute}(e)){for(var en="<"+w.call(String(e.nodeName)),tn=e.attributes||[],rn=0;rn<tn.length;rn++)en+=" "+tn[rn].name+"="+L(F(tn[rn].value),"double",s);return en+=">",e.childNodes&&e.childNodes.length&&(en+="..."),en+="</"+w.call(String(e.nodeName))+">"}if(H(e)){if(0===e.length)return"[]";var on=Z(e,M);return k&&!function(n){for(var e=0;e<n.length;e++)if(G(n[e],"\n")>=0)return!1;return!0}(on)?"["+K(on,k)+"]":"[ "+A.call(on,", ")+" ]"}if(function(n){return!("[object Error]"!==V(n)||D&&"object"==typeof n&&D in n)}(e)){var an=Z(e,M);return"cause"in Error.prototype||!("cause"in e)||B.call(e,"cause")?0===an.length?"["+String(e)+"]":"{ ["+String(e)+"] "+A.call(an,", ")+" }":"{ ["+String(e)+"] "+A.call(j.call("[cause]: "+M(e.cause),an),", ")+" }"}if("object"==typeof e&&l){if(z&&"function"==typeof e[z]&&R)return R(e,{depth:C-r});if("symbol"!==l&&"function"==typeof e.inspect)return e.inspect()}if(function(n){if(!a||!n||"object"!=typeof n)return!1;try{a.call(n);try{c.call(n)}catch(n){return!0}return n instanceof Map}catch(n){}return!1}(e)){var sn=[];return i&&i.call(e,(function(n,t){sn.push(M(t,e,!0)+" => "+M(n,e))})),Y("Map",a.call(e),sn,k)}if(function(n){if(!c||!n||"object"!=typeof n)return!1;try{c.call(n);try{a.call(n)}catch(n){return!0}return n instanceof Set}catch(n){}return!1}(e)){var ln=[];return u&&u.call(e,(function(n){ln.push(M(n,e))})),Y("Set",c.call(e),ln,k)}if(function(n){if(!d||!n||"object"!=typeof n)return!1;try{d.call(n,d);try{p.call(n,p)}catch(n){return!0}return n instanceof WeakMap}catch(n){}return!1}(e))return J("WeakMap");if(function(n){if(!p||!n||"object"!=typeof n)return!1;try{p.call(n,p);try{d.call(n,d)}catch(n){return!0}return n instanceof WeakSet}catch(n){}return!1}(e))return J("WeakSet");if(function(n){if(!h||!n||"object"!=typeof n)return!1;try{return h.call(n),!0}catch(n){}return!1}(e))return J("WeakRef");if(function(n){return!("[object Number]"!==V(n)||D&&"object"==typeof n&&D in n)}(e))return Q(M(Number(e)));if(function(n){if(!n||"object"!=typeof n||!S)return!1;try{return S.call(n),!0}catch(n){}return!1}(e))return Q(M(S.call(e)));if(function(n){return!("[object Boolean]"!==V(n)||D&&"object"==typeof n&&D in n)}(e))return Q(m.call(e));if(function(n){return!("[object String]"!==V(n)||D&&"object"==typeof n&&D in n)}(e))return Q(M(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!function(n){return!("[object Date]"!==V(n)||D&&"object"==typeof n&&D in n)}(e)&&!q(e)){var cn=Z(e,M),un=I?I(e)===Object.prototype:e instanceof Object||e.constructor===Object,dn=e instanceof Object?"":"null prototype",pn=!un&&D&&Object(e)===e&&D in e?y.call(V(e),8,-1):dn?"Object":"",hn=(un||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(pn||dn?"["+A.call(j.call([],pn||[],dn||[]),": ")+"] ":"");return 0===cn.length?hn+"{}":k?hn+"{"+K(cn,k)+"}":hn+"{ "+A.call(cn,", ")+" }"}return String(e)};var $=Object.prototype.hasOwnProperty||function(n){return n in this};function U(n,e){return $.call(n,e)}function V(n){return f.call(n)}function G(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function W(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+x.call(e.toString(16))}function Q(n){return"Object("+n+")"}function J(n){return n+" { ? }"}function Y(n,e,t,r){return n+" ("+e+") {"+(r?K(t,r):A.call(t,", "))+"}"}function K(n,e){if(0===n.length)return"";var t="\n"+e.prev+e.base;return t+A.call(n,","+t)+"\n"+e.prev}function Z(n,e){var t=H(n),r=[];if(t){r.length=n.length;for(var o=0;o<n.length;o++)r[o]=U(n,o)?e(n[o],n):""}var a,i="function"==typeof k?k(n):[];if(P){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var l in n)U(n,l)&&(t&&String(Number(l))===l&&l<n.length||P&&a["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?r.push(e(l,n)+": "+e(n[l],n)):r.push(l+": "+e(n[l],n))));if("function"==typeof k)for(var c=0;c<i.length;c++)B.call(n,i[c])&&r.push("["+e(i[c])+"]: "+e(n[i[c]],n));return r}},function(n,e){},function(n,e,t){"use strict";var r=t(117),o=Object.prototype.hasOwnProperty,a=Array.isArray,i={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(n){return n.replace(/&#(\d+);/g,(function(n,e){return String.fromCharCode(parseInt(e,10))}))},l=function(n,e){return n&&"string"==typeof n&&e.comma&&n.indexOf(",")>-1?n.split(","):n},c=function(n,e,t,r){if(n){var a=t.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,i=/(\[[^[\]]*])/g,s=t.depth>0&&/(\[[^[\]]*])/.exec(a),c=s?a.slice(0,s.index):a,u=[];if(c){if(!t.plainObjects&&o.call(Object.prototype,c)&&!t.allowPrototypes)return;u.push(c)}for(var d=0;t.depth>0&&null!==(s=i.exec(a))&&d<t.depth;){if(d+=1,!t.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+a.slice(s.index)+"]"),function(n,e,t,r){for(var o=r?e:l(e,t),a=n.length-1;a>=0;--a){var i,s=n[a];if("[]"===s&&t.parseArrays)i=[].concat(o);else{i=t.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);t.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(i=[])[u]=o:"__proto__"!==c&&(i[c]=o):i={0:o}}o=i}return o}(u,e,t,r)}};n.exports=function(n,e){var t=function(n){if(!n)return i;if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==n.charset&&"utf-8"!==n.charset&&"iso-8859-1"!==n.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===n.charset?i.charset:n.charset;return{allowDots:void 0===n.allowDots?i.allowDots:!!n.allowDots,allowPrototypes:"boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,allowSparse:"boolean"==typeof n.allowSparse?n.allowSparse:i.allowSparse,arrayLimit:"number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof n.charsetSentinel?n.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof n.comma?n.comma:i.comma,decoder:"function"==typeof n.decoder?n.decoder:i.decoder,delimiter:"string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,depth:"number"==typeof n.depth||!1===n.depth?+n.depth:i.depth,ignoreQueryPrefix:!0===n.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof n.interpretNumericEntities?n.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,parseArrays:!1!==n.parseArrays,plainObjects:"boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling}}(e);if(""===n||null==n)return t.plainObjects?Object.create(null):{};for(var u="string"==typeof n?function(n,e){var t,c={__proto__:null},u=e.ignoreQueryPrefix?n.replace(/^\?/,""):n,d=e.parameterLimit===1/0?void 0:e.parameterLimit,p=u.split(e.delimiter,d),h=-1,m=e.charset;if(e.charsetSentinel)for(t=0;t<p.length;++t)0===p[t].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[t]?m="utf-8":"utf8=%26%2310003%3B"===p[t]&&(m="iso-8859-1"),h=t,t=p.length);for(t=0;t<p.length;++t)if(t!==h){var f,g,v=p[t],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(f=e.decoder(v,i.decoder,m,"key"),g=e.strictNullHandling?null:""):(f=e.decoder(v.slice(0,b),i.decoder,m,"key"),g=r.maybeMap(l(v.slice(b+1),e),(function(n){return e.decoder(n,i.decoder,m,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===m&&(g=s(g)),v.indexOf("[]=")>-1&&(g=a(g)?[g]:g),o.call(c,f)?c[f]=r.combine(c[f],g):c[f]=g}return c}(n,t):n,d=t.plainObjects?Object.create(null):{},p=Object.keys(u),h=0;h<p.length;++h){var m=p[h],f=c(m,u[m],t,"string"==typeof n);d=r.merge(d,f,t)}return!0===t.allowSparse?d:r.compact(d)}},function(n,e,t){var r=t(18),o=t(321),a=t(322);n.exports=function(n){var e=r(n);return a(e,o(e))+1}},function(n,e){n.exports=function(n){var e=new Date(n.getTime()),t=e.getTimezoneOffset();return e.setSeconds(0,0),6e4*t+e.getTime()%6e4}},function(n,e,t){var r=t(18);n.exports=function(n){var e=r(n),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}},function(n,e,t){var r=t(323);n.exports=function(n,e){var t=r(n),o=r(e),a=t.getTime()-6e4*t.getTimezoneOffset(),i=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((a-i)/864e5)}},function(n,e,t){var r=t(18);n.exports=function(n){var e=r(n);return e.setHours(0,0,0,0),e}},function(n,e,t){var r=t(18),o=t(65),a=t(326);n.exports=function(n){var e=r(n),t=o(e).getTime()-a(e).getTime();return Math.round(t/6048e5)+1}},function(n,e,t){var r=t(18);n.exports=function(n,e){var t=e&&Number(e.weekStartsOn)||0,o=r(n),a=o.getDay(),i=(a<t?7:0)+a-t;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}},function(n,e,t){var r=t(119),o=t(65);n.exports=function(n){var e=r(n),t=new Date(0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),o(t)}},function(n,e,t){var r=t(118);n.exports=function(n){if(r(n))return!isNaN(n);throw new TypeError(toString.call(n)+" is not an instance of Date")}},function(n,e,t){var r=t(329),o=t(330);n.exports={distanceInWords:r(),format:o()}},function(n,e){n.exports=function(){var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,t,r){var o;return r=r||{},o="string"==typeof n[e]?n[e]:1===t?n[e].one:n[e].other.replace("{{count}}",t),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(n,e,t){var r=t(331);n.exports=function(){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],c={MMM:function(e){return n[e.getMonth()]},MMMM:function(n){return e[n.getMonth()]},dd:function(n){return t[n.getDay()]},ddd:function(n){return o[n.getDay()]},dddd:function(n){return a[n.getDay()]},A:function(n){return n.getHours()/12>=1?i[1]:i[0]},a:function(n){return n.getHours()/12>=1?s[1]:s[0]},aa:function(n){return n.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach((function(n){c[n+"o"]=function(e,t){return function(n){var e=n%100;if(e>20||e<10)switch(e%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"}(t[n](e))}})),{formatters:c,formattingTokensRegExp:r(c)}}},function(n,e){var t=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];n.exports=function(n){var e=[];for(var r in n)n.hasOwnProperty(r)&&e.push(r);var o=t.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(n,e,t){"use strict";var r=t(5),o=t(120),a=t(333),i=t(127);var s=function n(e){var t=new a(e),s=o(a.prototype.request,t);return r.extend(s,a.prototype,t),r.extend(s,t),s.create=function(t){return n(i(e,t))},s}(t(66));s.Axios=a,s.Cancel=t(42),s.CancelToken=t(346),s.isCancel=t(126),s.VERSION=t(128).version,s.all=function(n){return Promise.all(n)},s.spread=t(347),s.isAxiosError=t(348),n.exports=s,n.exports.default=s},function(n,e,t){"use strict";var r=t(5),o=t(121),a=t(334),i=t(335),s=t(127),l=t(345),c=l.validators;function u(n){this.defaults=n,this.interceptors={request:new a,response:new a}}u.prototype.request=function(n,e){"string"==typeof n?(e=e||{}).url=n:e=n||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(n){"function"==typeof n.runWhen&&!1===n.runWhen(e)||(o=o&&n.synchronous,r.unshift(n.fulfilled,n.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(n){u.push(n.fulfilled,n.rejected)})),!o){var d=[i,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),a=Promise.resolve(e);d.length;)a=a.then(d.shift(),d.shift());return a}for(var p=e;r.length;){var h=r.shift(),m=r.shift();try{p=h(p)}catch(n){m(n);break}}try{a=i(p)}catch(n){return Promise.reject(n)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},u.prototype.getUri=function(n){return n=s(this.defaults,n),o(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(n){u.prototype[n]=function(e,t){return this.request(s(t||{},{method:n,url:e,data:(t||{}).data}))}})),r.forEach(["post","put","patch"],(function(n){u.prototype[n]=function(e,t,r){return this.request(s(r||{},{method:n,url:e,data:t}))}})),n.exports=u},function(n,e,t){"use strict";var r=t(5);function o(){this.handlers=[]}o.prototype.use=function(n,e,t){return this.handlers.push({fulfilled:n,rejected:e,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},o.prototype.forEach=function(n){r.forEach(this.handlers,(function(e){null!==e&&n(e)}))},n.exports=o},function(n,e,t){"use strict";var r=t(5),o=t(336),a=t(126),i=t(66),s=t(42);function l(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new s("canceled")}n.exports=function(n){return l(n),n.headers=n.headers||{},n.data=o.call(n,n.data,n.headers,n.transformRequest),n.headers=r.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete n.headers[e]})),(n.adapter||i.adapter)(n).then((function(e){return l(n),e.data=o.call(n,e.data,e.headers,n.transformResponse),e}),(function(e){return a(e)||(l(n),e&&e.response&&(e.response.data=o.call(n,e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)}))}},function(n,e,t){"use strict";var r=t(5),o=t(66);n.exports=function(n,e,t){var a=this||o;return r.forEach(t,(function(t){n=t.call(a,n,e)})),n}},function(n,e,t){"use strict";var r=t(5);n.exports=function(n,e){r.forEach(n,(function(t,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(n[e]=t,delete n[r])}))}},function(n,e,t){"use strict";var r=t(125);n.exports=function(n,e,t){var o=t.config.validateStatus;t.status&&o&&!o(t.status)?e(r("Request failed with status code "+t.status,t.config,null,t.request,t)):n(t)}},function(n,e,t){"use strict";var r=t(5);n.exports=r.isStandardBrowserEnv()?{write:function(n,e,t,o,a,i){var s=[];s.push(n+"="+encodeURIComponent(e)),r.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){var e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(n,e,t){"use strict";var r=t(341),o=t(342);n.exports=function(n,e){return n&&!r(e)?o(n,e):e}},function(n,e,t){"use strict";n.exports=function(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}},function(n,e,t){"use strict";n.exports=function(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}},function(n,e,t){"use strict";var r=t(5),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];n.exports=function(n){var e,t,a,i={};return n?(r.forEach(n.split("\n"),(function(n){if(a=n.indexOf(":"),e=r.trim(n.substr(0,a)).toLowerCase(),t=r.trim(n.substr(a+1)),e){if(i[e]&&o.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([t]):i[e]?i[e]+", "+t:t}})),i):i}},function(n,e,t){"use strict";var r=t(5);n.exports=r.isStandardBrowserEnv()?function(){var n,e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function o(n){var r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=o(window.location.href),function(e){var t=r.isString(e)?o(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0}},function(n,e,t){"use strict";var r=t(128).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(n,e){o[n]=function(t){return typeof t===n||"a"+(e<1?"n ":" ")+n}}));var a={};o.transitional=function(n,e,t){function o(n,e){return"[Axios v"+r+"] Transitional option '"+n+"'"+e+(t?". "+t:"")}return function(t,r,i){if(!1===n)throw new Error(o(r," has been removed"+(e?" in "+e:"")));return e&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!n||n(t,r,i)}},n.exports={assertOptions:function(n,e,t){if("object"!=typeof n)throw new TypeError("options must be an object");for(var r=Object.keys(n),o=r.length;o-- >0;){var a=r[o],i=e[a];if(i){var s=n[a],l=void 0===s||i(s,a,n);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==t)throw Error("Unknown option "+a)}},validators:o}},function(n,e,t){"use strict";var r=t(42);function o(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(n){e=n}));var t=this;this.promise.then((function(n){if(t._listeners){var e,r=t._listeners.length;for(e=0;e<r;e++)t._listeners[e](n);t._listeners=null}})),this.promise.then=function(n){var e,r=new Promise((function(n){t.subscribe(n),e=n})).then(n);return r.cancel=function(){t.unsubscribe(e)},r},n((function(n){t.reason||(t.reason=new r(n),e(t.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(n){this.reason?n(this.reason):this._listeners?this._listeners.push(n):this._listeners=[n]},o.prototype.unsubscribe=function(n){if(this._listeners){var e=this._listeners.indexOf(n);-1!==e&&this._listeners.splice(e,1)}},o.source=function(){var n;return{token:new o((function(e){n=e})),cancel:n}},n.exports=o},function(n,e,t){"use strict";n.exports=function(n){return function(e){return n.apply(null,e)}}},function(n,e,t){"use strict";var r=t(5);n.exports=function(n){return r.isObject(n)&&!0===n.isAxiosError}},function(n,e,t){},function(n,e,t){"use strict";t(129)},function(n,e,t){},function(n,e,t){n.exports=function(n){function e(n){let t,o,a,i=null;function s(...n){if(!s.enabled)return;const r=s,o=Number(new Date),a=o-(t||o);r.diff=a,r.prev=t,r.curr=o,t=o,n[0]=e.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");let i=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";i++;const a=e.formatters[o];if("function"==typeof a){const e=n[i];t=a.call(r,e),n.splice(i,1),i--}return t}),e.formatArgs.call(r,n);(r.log||e.log).apply(r,n)}return s.namespace=n,s.useColors=e.useColors(),s.color=e.selectColor(n),s.extend=r,s.destroy=e.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==e.namespaces&&(o=e.namespaces,a=e.enabled(n)),a),set:n=>{i=n}}),"function"==typeof e.init&&e.init(s),s}function r(n,t){const r=e(this.namespace+(void 0===t?":":t)+n);return r.log=this.log,r}function o(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(n){if(n instanceof Error)return n.stack||n.message;return n},e.disable=function(){const n=[...e.names.map(o),...e.skips.map(o).map(n=>"-"+n)].join(",");return e.enable(""),n},e.enable=function(n){let t;e.save(n),e.namespaces=n,e.names=[],e.skips=[];const r=("string"==typeof n?n:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(n=r[t].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+n.slice(1)+"$")):e.names.push(new RegExp("^"+n+"$")))},e.enabled=function(n){if("*"===n[n.length-1])return!0;let t,r;for(t=0,r=e.skips.length;t<r;t++)if(e.skips[t].test(n))return!1;for(t=0,r=e.names.length;t<r;t++)if(e.names[t].test(n))return!0;return!1},e.humanize=t(353),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(t=>{e[t]=n[t]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(n){let t=0;for(let e=0;e<n.length;e++)t=(t<<5)-t+n.charCodeAt(e),t|=0;return e.colors[Math.abs(t)%e.colors.length]},e.enable(e.load()),e}},function(n,e){var t=1e3,r=6e4,o=60*r,a=24*o;function i(n,e,t,r){var o=e>=1.5*t;return Math.round(n/t)+" "+r+(o?"s":"")}n.exports=function(n,e){e=e||{};var s=typeof n;if("string"===s&&n.length>0)return function(n){if((n=String(n)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(!e)return;var i=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*o;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}(n);if("number"===s&&isFinite(n))return e.long?function(n){var e=Math.abs(n);if(e>=a)return i(n,e,a,"day");if(e>=o)return i(n,e,o,"hour");if(e>=r)return i(n,e,r,"minute");if(e>=t)return i(n,e,t,"second");return n+" ms"}(n):function(n){var e=Math.abs(n);if(e>=a)return Math.round(n/a)+"d";if(e>=o)return Math.round(n/o)+"h";if(e>=r)return Math.round(n/r)+"m";if(e>=t)return Math.round(n/t)+"s";return n+"ms"}(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},function(n,e,t){"use strict";t(131)},function(n,e,t){"use strict";t(132)},function(n,e,t){"use strict";t(133)},function(n,e,t){"use strict";t(134)},function(n,e,t){"use strict";t(135)},function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(67);t(47);var a=t(0),i=t(136),s=t.n(i),l=t(137),c=t.n(l),u={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${c()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=p(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=h(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return s()([{name:"description",content:this.$description}],n,this.siteMeta,m)},updateCanonicalLink(){d(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",p(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){h(null,this.currentMetaTags),d()}};function d(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function p(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function h(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function m(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var f=t(138),g={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(f)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),o=window.innerHeight+t;for(let n=0;n<e.length;n++){const a=e[n],i=e[n+1],s=0===n&&0===t||t>=a.parentElement.offsetTop+10&&(!i||t<i.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(s&&l!==decodeURIComponent(a.hash)){const t=a;if(o===r)for(let t=n+1;t<e.length;t++)if(l===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},v=(t(289),Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}),y=function(n){return"IMG"===n.tagName},b=function(n){return n&&1===n.nodeType},x=function(n){return".svg"===(n.currentSrc||n.src).substr(-4).toLowerCase()},w=function(n){try{return Array.isArray(n)?n.filter(y):function(n){return NodeList.prototype.isPrototypeOf(n)}(n)?[].slice.call(n).filter(y):b(n)?[n].filter(y):"string"==typeof n?[].slice.call(document.querySelectorAll(n)).filter(y):[]}catch(n){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},E=function(n){var e=document.createElement("div");return e.classList.add("medium-zoom-overlay"),e.style.background=n,e},j=function(n){var e=n.getBoundingClientRect(),t=e.top,r=e.left,o=e.width,a=e.height,i=n.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return i.removeAttribute("id"),i.style.position="absolute",i.style.top=t+s+"px",i.style.left=r+l+"px",i.style.width=o+"px",i.style.height=a+"px",i.style.transform="",i},A=function(n,e){var t=v({bubbles:!1,cancelable:!1,detail:void 0},e);if("function"==typeof window.CustomEvent)return new CustomEvent(n,t);var r=document.createEvent("CustomEvent");return r.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),r};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");var T=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=window.Promise||function(n){function e(){}n(e,e)},o=function(n){var e=n.target;e!==B?-1!==C.indexOf(e)&&f({target:e}):m()},a=function(){if(!k&&D.original){var n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(_-n)>P.scrollOffset&&setTimeout(m,150)}},i=function(n){var e=n.key||n.keyCode;"Escape"!==e&&"Esc"!==e&&27!==e||m()},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n;if(n.background&&(B.style.background=n.background),n.container&&n.container instanceof Object&&(e.container=v({},P.container,n.container)),n.template){var t=b(n.template)?n.template:document.querySelector(n.template);e.template=t}return P=v({},P,e),C.forEach((function(n){n.dispatchEvent(A("medium-zoom:update",{detail:{zoom:I}}))})),I},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(v({},P,e))},c=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.reduce((function(n,e){return[].concat(n,w(e))}),[]);return r.filter((function(n){return-1===C.indexOf(n)})).forEach((function(n){C.push(n),n.classList.add("medium-zoom-image")})),S.forEach((function(n){var e=n.type,t=n.listener,o=n.options;r.forEach((function(n){n.addEventListener(e,t,o)}))})),I},u=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];D.zoomed&&m();var r=e.length>0?e.reduce((function(n,e){return[].concat(n,w(e))}),[]):C;return r.forEach((function(n){n.classList.remove("medium-zoom-image"),n.dispatchEvent(A("medium-zoom:detach",{detail:{zoom:I}}))})),C=C.filter((function(n){return-1===r.indexOf(n)})),I},d=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C.forEach((function(r){r.addEventListener("medium-zoom:"+n,e,t)})),S.push({type:"medium-zoom:"+n,listener:e,options:t}),I},p=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C.forEach((function(r){r.removeEventListener("medium-zoom:"+n,e,t)})),S=S.filter((function(t){return!(t.type==="medium-zoom:"+n&&t.listener.toString()===e.toString())})),I},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.target,t=function(){var n={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},e=void 0,t=void 0;if(P.container)if(P.container instanceof Object)e=(n=v({},n,P.container)).width-n.left-n.right-2*P.margin,t=n.height-n.top-n.bottom-2*P.margin;else{var r=(b(P.container)?P.container:document.querySelector(P.container)).getBoundingClientRect(),o=r.width,a=r.height,i=r.left,s=r.top;n=v({},n,{width:o,height:a,left:i,top:s})}e=e||n.width-2*P.margin,t=t||n.height-2*P.margin;var l=D.zoomedHd||D.original,c=x(l)?e:l.naturalWidth||e,u=x(l)?t:l.naturalHeight||t,d=l.getBoundingClientRect(),p=d.top,h=d.left,m=d.width,f=d.height,g=Math.min(Math.max(m,c),e)/m,y=Math.min(Math.max(f,u),t)/f,w=Math.min(g,y),E="scale("+w+") translate3d("+((e-m)/2-h+P.margin+n.left)/w+"px, "+((t-f)/2-p+P.margin+n.top)/w+"px, 0)";D.zoomed.style.transform=E,D.zoomedHd&&(D.zoomedHd.style.transform=E)};return new r((function(n){if(e&&-1===C.indexOf(e))n(I);else{if(D.zoomed)n(I);else{if(e)D.original=e;else{if(!(C.length>0))return void n(I);var r=C;D.original=r[0]}if(D.original.dispatchEvent(A("medium-zoom:open",{detail:{zoom:I}})),_=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,k=!0,D.zoomed=j(D.original),document.body.appendChild(B),P.template){var o=b(P.template)?P.template:document.querySelector(P.template);D.template=document.createElement("div"),D.template.appendChild(o.content.cloneNode(!0)),document.body.appendChild(D.template)}if(D.original.parentElement&&"PICTURE"===D.original.parentElement.tagName&&D.original.currentSrc&&(D.zoomed.src=D.original.currentSrc),document.body.appendChild(D.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),D.original.classList.add("medium-zoom-image--hidden"),D.zoomed.classList.add("medium-zoom-image--opened"),D.zoomed.addEventListener("click",m),D.zoomed.addEventListener("transitionend",(function e(){k=!1,D.zoomed.removeEventListener("transitionend",e),D.original.dispatchEvent(A("medium-zoom:opened",{detail:{zoom:I}})),n(I)})),D.original.getAttribute("data-zoom-src")){D.zoomedHd=D.zoomed.cloneNode(),D.zoomedHd.removeAttribute("srcset"),D.zoomedHd.removeAttribute("sizes"),D.zoomedHd.removeAttribute("loading"),D.zoomedHd.src=D.zoomed.getAttribute("data-zoom-src"),D.zoomedHd.onerror=function(){clearInterval(a),console.warn("Unable to reach the zoom image target "+D.zoomedHd.src),D.zoomedHd=null,t()};var a=setInterval((function(){D.zoomedHd.complete&&(clearInterval(a),D.zoomedHd.classList.add("medium-zoom-image--opened"),D.zoomedHd.addEventListener("click",m),document.body.appendChild(D.zoomedHd),t())}),10)}else if(D.original.hasAttribute("srcset")){D.zoomedHd=D.zoomed.cloneNode(),D.zoomedHd.removeAttribute("sizes"),D.zoomedHd.removeAttribute("loading");var i=D.zoomedHd.addEventListener("load",(function(){D.zoomedHd.removeEventListener("load",i),D.zoomedHd.classList.add("medium-zoom-image--opened"),D.zoomedHd.addEventListener("click",m),document.body.appendChild(D.zoomedHd),t()}))}else t()}}}))},m=function(){return new r((function(n){if(!k&&D.original){k=!0,document.body.classList.remove("medium-zoom--opened"),D.zoomed.style.transform="",D.zoomedHd&&(D.zoomedHd.style.transform=""),D.template&&(D.template.style.transition="opacity 150ms",D.template.style.opacity=0),D.original.dispatchEvent(A("medium-zoom:close",{detail:{zoom:I}})),D.zoomed.addEventListener("transitionend",(function e(){D.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(D.zoomed),D.zoomedHd&&document.body.removeChild(D.zoomedHd),document.body.removeChild(B),D.zoomed.classList.remove("medium-zoom-image--opened"),D.template&&document.body.removeChild(D.template),k=!1,D.zoomed.removeEventListener("transitionend",e),D.original.dispatchEvent(A("medium-zoom:closed",{detail:{zoom:I}})),D.original=null,D.zoomed=null,D.zoomedHd=null,D.template=null,n(I)}))}else n(I)}))},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.target;return D.original?m():h({target:e})},g=function(){return P},y=function(){return C},T=function(){return D.original},C=[],S=[],k=!1,_=0,P=t,D={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(e)?P=e:(e||"string"==typeof e)&&c(e),P=v({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},P);var B=E(P.background);document.addEventListener("click",o),document.addEventListener("keyup",i),document.addEventListener("scroll",a),window.addEventListener("resize",m);var I={open:h,close:m,toggle:f,update:s,clone:l,attach:c,detach:u,on:d,off:p,getOptions:g,getImages:y,getZoomedImage:T};return I},C={data:()=>({zoom:null}),mounted(){this.updateZoom()},updated(){this.updateZoom()},methods:{updateZoom(){setTimeout(()=>{this.zoom&&this.zoom.detach(),this.zoom=T(".theme-reco-content :not(a) > img",{})},1e3)}}},S=t(43),k=t.n(S),_={mounted(){k.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||r.a.component(n.name)||k.a.start(),t()}),this.$router.afterEach(()=>{k.a.done(),this.isSidebarOpen=!1})}},P=t(139),D=t.n(P),B=(t(290),{mounted(){D.a.polyfill()}}),I={props:{parent:Object,code:String,options:{align:String,color:String,backgroundTransition:Boolean,backgroundColor:String,successText:String,staticIcon:Boolean}},data:()=>({success:!1,originalBackground:null,originalTransition:null}),computed:{alignStyle(){let n={};return n[this.options.align]="7.5px",n},iconClass(){return this.options.staticIcon?"":"hover"}},mounted(){this.originalTransition=this.parent.style.transition,this.originalBackground=this.parent.style.background},beforeDestroy(){this.parent.style.transition=this.originalTransition,this.parent.style.background=this.originalBackground},methods:{hexToRgb(n){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},copyToClipboard(n){if(navigator.clipboard)navigator.clipboard.writeText(this.code).then(()=>{this.setSuccessTransitions()},()=>{});else{let n=document.createElement("textarea");document.body.appendChild(n),n.value=this.code,n.select(),document.execCommand("Copy"),n.remove(),this.setSuccessTransitions()}},setSuccessTransitions(){if(clearTimeout(this.successTimeout),this.options.backgroundTransition){this.parent.style.transition="background 350ms";let n=this.hexToRgb(this.options.backgroundColor);this.parent.style.background=`rgba(${n.r}, ${n.g}, ${n.b}, 0.1)`}this.success=!0,this.successTimeout=setTimeout(()=>{this.options.backgroundTransition&&(this.parent.style.background=this.originalBackground,this.parent.style.transition=this.originalTransition),this.success=!1},500)}}},O=(t(291),t(2)),R=Object(O.a)(I,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"code-copy"},[e("svg",{class:n.iconClass,style:n.alignStyle,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},on:{click:n.copyToClipboard}},[e("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),n._v(" "),e("path",{attrs:{fill:n.options.color,d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}})]),n._v(" "),e("span",{class:n.success?"success":"",style:n.alignStyle},[n._v("\n        "+n._s(n.options.successText)+"\n    ")])])}),[],!1,null,"b77b34d2",null).exports,M=(t(292),{updated(){this.update()},methods:{update(){setTimeout(()=>{document.querySelectorAll('div[class*="language-"] pre').forEach(n=>{if(n.classList.contains("code-copy-added"))return;let e=new(r.a.extend(R));e.options={align:"bottom",color:"#27b1ff",backgroundTransition:!0,backgroundColor:"#0075b8",successText:"Copied!",staticIcon:!1},e.code=n.innerText,e.parent=n,e.$mount(),n.classList.add("code-copy-added"),n.appendChild(e.$el)})},100)}}}),z=t(150),L={noCopy:!1,noSelect:!1,disabled:!1,minLength:100,authorName:""},F=[u,g,C,_,B,M,{data:()=>({isElement:!1}),created(){this.onCopy=n=>{const e=getSelection().getRangeAt(0);if(String(e).length<this.minLength)return;if(n.preventDefault(),this.noCopy)return;const t=document.createElement("div");t.appendChild(getSelection().getRangeAt(0).cloneContents());const o=this.$lang,a=new r.a({render:n=>n(z.default,{props:{html:t.innerHTML,lang:o}})}).$mount(),{innerHTML:i,innerText:s}=a.$el;n.clipboardData?(n.clipboardData.setData("text/html",i),n.clipboardData.setData("text/plain",s)):window.clipboardData&&window.clipboardData.setData("text",s)}},watch:{isElement(n){if(!n)return;let{copyright:e=!L.disabled}=this.$frontmatter;if(!e)return;"object"!=typeof e&&(e={});const t=e.noSelect||L.noSelect;this.minLength=e.minLength||L.minLength,this.noCopy=e.noCopy||L.noCopy,t?this.$el.style.userSelect="none":this.$el.addEventListener("copy",this.onCopy)}},updated(){this.isElement="#comment"!==this.$el.nodeName},beforeDestory(){this.$el.removeEventListener("copy",this.onCopy)}}],H={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return Object(a.i)("layout",n),r.a.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},q=Object(O.a)(H,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;Object(a.g)(q,"mixins",F);const N=[{name:"v-c79b94cc",path:"/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-c79b94cc").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-75c4716a",path:"/about/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-75c4716a").then(t)}},{path:"/about/index.html",redirect:"/about/"},{name:"v-6de30a7c",path:"/other/cv.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("CV","v-6de30a7c").then(t)}},{name:"v-c85c6318",path:"/other/project.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Projects","v-c85c6318").then(t)}},{name:"v-14e933c9",path:"/views/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-14e933c9").then(t)}},{path:"/views/index.html",redirect:"/views/"},{name:"v-1a4d740a",path:"/views/UE5/%E5%8D%81%E7%A5%9E%E6%80%A7%E6%A0%BC.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1a4d740a").then(t)}},{path:"/views/UE5/十神性格.html",redirect:"/views/UE5/%E5%8D%81%E7%A5%9E%E6%80%A7%E6%A0%BC.html"},{path:"/views/UE5/十神性格.html",redirect:"/views/UE5/%E5%8D%81%E7%A5%9E%E6%80%A7%E6%A0%BC.html"},{name:"v-39a59218",path:"/other/friends.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-39a59218").then(t)}},{name:"v-31c2ba62",path:"/views/essay/20191109.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-31c2ba62").then(t)}},{name:"v-2dbcc420",path:"/other/wx.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2dbcc420").then(t)}},{name:"v-326b3efa",path:"/views/essay/20190928.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-326b3efa").then(t)}},{name:"v-1193d347",path:"/views/crack/mybatiscodehelperprocrack.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1193d347").then(t)}},{name:"v-29c91997",path:"/views/essay/20191116.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-29c91997").then(t)}},{name:"v-a1c3f1b2",path:"/views/essay/20191130.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-a1c3f1b2").then(t)}},{name:"v-da0d1332",path:"/views/essay/20200227.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-da0d1332").then(t)}},{name:"v-b3a703be",path:"/views/essay/20200703.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-b3a703be").then(t)}},{name:"v-3db87aa6",path:"/views/essay/20200301.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3db87aa6").then(t)}},{name:"v-3fe6233e",path:"/views/essay/20200813.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3fe6233e").then(t)}},{name:"v-6ff839a5",path:"/views/essay/20201119.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6ff839a5").then(t)}},{name:"v-6f3c2f35",path:"/views/essay/20201012.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6f3c2f35").then(t)}},{name:"v-1682ebc2",path:"/views/essay/20200715.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1682ebc2").then(t)}},{name:"v-eb636232",path:"/views/essay/20211216.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-eb636232").then(t)}},{name:"v-04f7ea91",path:"/views/essay/20220808.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-04f7ea91").then(t)}},{name:"v-dcb8377e",path:"/views/frontend/EChartsStudy.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-dcb8377e").then(t)}},{name:"v-4f19b999",path:"/views/essay/20230605.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4f19b999").then(t)}},{name:"v-a968d5be",path:"/views/frontend/day2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-a968d5be").then(t)}},{name:"v-256ab3e6",path:"/views/frontend/TCP&UDP.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-256ab3e6").then(t)}},{name:"v-c768ee7e",path:"/views/frontend/html.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-c768ee7e").then(t)}},{name:"v-7bf0622d",path:"/views/frontend/js-json.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-7bf0622d").then(t)}},{name:"v-ff724ffe",path:"/views/frontend/day1.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-ff724ffe").then(t)}},{name:"v-009c8d7e",path:"/views/frontend/js.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-009c8d7e").then(t)}},{name:"v-67280466",path:"/views/frontend/reco-info.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-67280466").then(t)}},{name:"v-3bccfde1",path:"/views/frontend/vue2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3bccfde1").then(t)}},{name:"v-4f258e02",path:"/views/frontend/css.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4f258e02").then(t)}},{name:"v-e7493f7e",path:"/views/frontend/vuepress-plugin-boxx.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-e7493f7e").then(t)}},{name:"v-040aca2b",path:"/views/qaq/sum_fe_001.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-040aca2b").then(t)}},{name:"v-7854456d",path:"/views/qaq/sum_db_001.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-7854456d").then(t)}},{name:"v-066c4e69",path:"/views/qaq/sum_fe_002.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-066c4e69").then(t)}},{name:"v-1aedc2e5",path:"/views/qaq/sum_java_001.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1aedc2e5").then(t)}},{name:"v-b65a493a",path:"/views/qaq/sum_java_002.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-b65a493a").then(t)}},{name:"v-cc0c55c6",path:"/views/qaq/sum_ms_001.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-cc0c55c6").then(t)}},{name:"v-bfab03e2",path:"/views/qaq/sum_spring_001.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-bfab03e2").then(t)}},{name:"v-4201ca66",path:"/views/qaq/sum_spring_002.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4201ca66").then(t)}},{name:"v-1dd3b78b",path:"/views/qaq/sum_spring_003.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1dd3b78b").then(t)}},{name:"v-4f9ff287",path:"/views/specification/git.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4f9ff287").then(t)}},{name:"v-42a8aef2",path:"/views/specification/guide.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-42a8aef2").then(t)}},{name:"v-35e02c50",path:"/views/specification/k8s%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%B8%8Epod%E7%AE%A1%E7%90%86.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-35e02c50").then(t)}},{path:"/views/specification/k8s基本命令与pod管理.html",redirect:"/views/specification/k8s%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%B8%8Epod%E7%AE%A1%E7%90%86.html"},{path:"/views/specification/k8s基本命令与pod管理.html",redirect:"/views/specification/k8s%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%B8%8Epod%E7%AE%A1%E7%90%86.html"},{name:"v-c7139f7a",path:"/views/specification/javaNamingConvention.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-c7139f7a").then(t)}},{name:"v-01b63767",path:"/views/specification/linux01.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-01b63767").then(t)}},{name:"v-524c0207",path:"/views/specification/ali.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-524c0207").then(t)}},{name:"v-490aca87",path:"/views/specification/objectModel.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-490aca87").then(t)}},{name:"v-1712e387",path:"/views/specification/linux02.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1712e387").then(t)}},{name:"v-601bcf1a",path:"/views/specification/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-601bcf1a").then(t)}},{path:"/views/specification/提交规范.html",redirect:"/views/specification/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html"},{path:"/views/specification/提交规范.html",redirect:"/views/specification/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html"},{name:"v-6d5ac3b6",path:"/views/threejs/CannonJS%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6d5ac3b6").then(t)}},{path:"/views/threejs/CannonJS物理引擎.html",redirect:"/views/threejs/CannonJS%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E.html"},{path:"/views/threejs/CannonJS物理引擎.html",redirect:"/views/threejs/CannonJS%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E.html"},{name:"v-dce2ada6",path:"/views/threejs/DEM%E6%A8%A1%E5%9E%8B.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-dce2ada6").then(t)}},{path:"/views/threejs/DEM模型.html",redirect:"/views/threejs/DEM%E6%A8%A1%E5%9E%8B.html"},{path:"/views/threejs/DEM模型.html",redirect:"/views/threejs/DEM%E6%A8%A1%E5%9E%8B.html"},{name:"v-506ab18d",path:"/views/threejs/ExtrudeGeometry%E6%89%B9%E9%87%8F%E6%B8%B2%E6%9F%93%E5%BB%BA%E7%AD%91%E7%89%A9.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-506ab18d").then(t)}},{path:"/views/threejs/ExtrudeGeometry批量渲染建筑物.html",redirect:"/views/threejs/ExtrudeGeometry%E6%89%B9%E9%87%8F%E6%B8%B2%E6%9F%93%E5%BB%BA%E7%AD%91%E7%89%A9.html"},{path:"/views/threejs/ExtrudeGeometry批量渲染建筑物.html",redirect:"/views/threejs/ExtrudeGeometry%E6%89%B9%E9%87%8F%E6%B8%B2%E6%9F%93%E5%BB%BA%E7%AD%91%E7%89%A9.html"},{name:"v-6e3203be",path:"/views/threejs/PBR%E6%9D%90%E8%B4%A8%E4%B8%8E%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6e3203be").then(t)}},{path:"/views/threejs/PBR材质与纹理贴图.html",redirect:"/views/threejs/PBR%E6%9D%90%E8%B4%A8%E4%B8%8E%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE.html"},{path:"/views/threejs/PBR材质与纹理贴图.html",redirect:"/views/threejs/PBR%E6%9D%90%E8%B4%A8%E4%B8%8E%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE.html"},{name:"v-748e1367",path:"/views/threejs/GUI.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-748e1367").then(t)}},{name:"v-475243a8",path:"/views/threejs/UV%E5%9D%90%E6%A0%87,%E8%B4%B4%E5%9B%BE.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-475243a8").then(t)}},{path:"/views/threejs/UV坐标,贴图.html",redirect:"/views/threejs/UV%E5%9D%90%E6%A0%87,%E8%B4%B4%E5%9B%BE.html"},{path:"/views/threejs/UV坐标,贴图.html",redirect:"/views/threejs/UV%E5%9D%90%E6%A0%87,%E8%B4%B4%E5%9B%BE.html"},{name:"v-5fcfbc11",path:"/views/threejs/canvas.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-5fcfbc11").then(t)}},{name:"v-2eaebba7",path:"/views/threejs/geojson.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2eaebba7").then(t)}},{name:"v-071ea0c7",path:"/views/threejs/light.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-071ea0c7").then(t)}},{name:"v-75b7413b",path:"/views/threejs/material%E5%A4%A7%E5%85%A8.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-75b7413b").then(t)}},{path:"/views/threejs/material大全.html",redirect:"/views/threejs/material%E5%A4%A7%E5%85%A8.html"},{path:"/views/threejs/material大全.html",redirect:"/views/threejs/material%E5%A4%A7%E5%85%A8.html"},{name:"v-acc36bb2",path:"/views/threejs/math1.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-acc36bb2").then(t)}},{name:"v-56b9f172",path:"/views/threejs/math2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-56b9f172").then(t)}},{name:"v-00b07732",path:"/views/threejs/math3.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-00b07732").then(t)}},{name:"v-2aac8187",path:"/views/threejs/math4.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2aac8187").then(t)}},{name:"v-55b13ea7",path:"/views/threejs/math5.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-55b13ea7").then(t)}},{name:"v-52554071",path:"/views/threejs/onBeforeCompile%E4%BF%AE%E6%94%B9%E6%9D%90%E8%B4%A8.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-52554071").then(t)}},{path:"/views/threejs/onBeforeCompile修改材质.html",redirect:"/views/threejs/onBeforeCompile%E4%BF%AE%E6%94%B9%E6%9D%90%E8%B4%A8.html"},{path:"/views/threejs/onBeforeCompile修改材质.html",redirect:"/views/threejs/onBeforeCompile%E4%BF%AE%E6%94%B9%E6%9D%90%E8%B4%A8.html"},{name:"v-3f6365f2",path:"/views/threejs/requestAnimationFrame.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3f6365f2").then(t)}},{name:"v-1ca8af72",path:"/views/threejs/shader1.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1ca8af72").then(t)}},{name:"v-08494927",path:"/views/threejs/shader2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-08494927").then(t)}},{name:"v-5139380f",path:"/views/threejs/%E4%B8%89%E7%BB%B4%E5%9C%BA%E6%99%AF%E6%A0%87%E6%B3%A8.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-5139380f").then(t)}},{path:"/views/threejs/三维场景标注.html",redirect:"/views/threejs/%E4%B8%89%E7%BB%B4%E5%9C%BA%E6%99%AF%E6%A0%87%E6%B3%A8.html"},{path:"/views/threejs/三维场景标注.html",redirect:"/views/threejs/%E4%B8%89%E7%BB%B4%E5%9C%BA%E6%99%AF%E6%A0%87%E6%B3%A8.html"},{name:"v-2c61bab9",path:"/views/threejs/%E4%BF%A1%E5%8F%B7%E6%B3%A2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2c61bab9").then(t)}},{path:"/views/threejs/信号波.html",redirect:"/views/threejs/%E4%BF%A1%E5%8F%B7%E6%B3%A2.html"},{path:"/views/threejs/信号波.html",redirect:"/views/threejs/%E4%BF%A1%E5%8F%B7%E6%B3%A2.html"},{name:"v-1addd3e5",path:"/views/threejs/%E4%BF%A1%E5%8F%B7%E9%A3%9E%E7%BA%BF.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1addd3e5").then(t)}},{path:"/views/threejs/信号飞线.html",redirect:"/views/threejs/%E4%BF%A1%E5%8F%B7%E9%A3%9E%E7%BA%BF.html"},{path:"/views/threejs/信号飞线.html",redirect:"/views/threejs/%E4%BF%A1%E5%8F%B7%E9%A3%9E%E7%BA%BF.html"},{name:"v-ee91e7fe",path:"/views/threejs/%E5%85%89%E6%BA%90%E5%92%8C%E9%98%B4%E5%BD%B1.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-ee91e7fe").then(t)}},{path:"/views/threejs/光源和阴影.html",redirect:"/views/threejs/%E5%85%89%E6%BA%90%E5%92%8C%E9%98%B4%E5%BD%B1.html"},{path:"/views/threejs/光源和阴影.html",redirect:"/views/threejs/%E5%85%89%E6%BA%90%E5%92%8C%E9%98%B4%E5%BD%B1.html"},{name:"v-0b025a8a",path:"/views/threejs/%E5%85%AB%E5%8F%89%E6%A0%91.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-0b025a8a").then(t)}},{path:"/views/threejs/八叉树.html",redirect:"/views/threejs/%E5%85%AB%E5%8F%89%E6%A0%91.html"},{path:"/views/threejs/八叉树.html",redirect:"/views/threejs/%E5%85%AB%E5%8F%89%E6%A0%91.html"},{name:"v-39a30a51",path:"/views/threejs/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-39a30a51").then(t)}},{path:"/views/threejs/关键帧动画.html",redirect:"/views/threejs/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html"},{path:"/views/threejs/关键帧动画.html",redirect:"/views/threejs/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html"},{name:"v-05d728ce",path:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93BufferGeometry%E9%A1%B6%E7%82%B9.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-05d728ce").then(t)}},{path:"/views/threejs/几何体BufferGeometry顶点.html",redirect:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93BufferGeometry%E9%A1%B6%E7%82%B9.html"},{path:"/views/threejs/几何体BufferGeometry顶点.html",redirect:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93BufferGeometry%E9%A1%B6%E7%82%B9.html"},{name:"v-0e681fea",path:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E6%95%B0%E6%95%B0%E6%8D%AE.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-0e681fea").then(t)}},{path:"/views/threejs/几何体顶点颜色数数据.html",redirect:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E6%95%B0%E6%95%B0%E6%8D%AE.html"},{path:"/views/threejs/几何体顶点颜色数数据.html",redirect:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E6%95%B0%E6%95%B0%E6%8D%AE.html"},{name:"v-017fb0e8",path:"/views/threejs/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E4%B8%89%E7%BB%B4%E6%A8%A1%E5%9E%8B(gltf).html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-017fb0e8").then(t)}},{path:"/views/threejs/加载外部三维模型(gltf).html",redirect:"/views/threejs/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E4%B8%89%E7%BB%B4%E6%A8%A1%E5%9E%8B(gltf).html"},{path:"/views/threejs/加载外部三维模型(gltf).html",redirect:"/views/threejs/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E4%B8%89%E7%BB%B4%E6%A8%A1%E5%9E%8B(gltf).html"},{name:"v-644a41e0",path:"/views/threejs/%E5%8A%A8%E7%94%BB%E5%BA%93tween.js.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-644a41e0").then(t)}},{path:"/views/threejs/动画库tween.js.html",redirect:"/views/threejs/%E5%8A%A8%E7%94%BB%E5%BA%93tween.js.html"},{path:"/views/threejs/动画库tween.js.html",redirect:"/views/threejs/%E5%8A%A8%E7%94%BB%E5%BA%93tween.js.html"},{name:"v-54b1986e",path:"/views/threejs/%E5%8F%91%E5%85%89%E7%90%83%E4%BD%93.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-54b1986e").then(t)}},{path:"/views/threejs/发光球体.html",redirect:"/views/threejs/%E5%8F%91%E5%85%89%E7%90%83%E4%BD%93.html"},{path:"/views/threejs/发光球体.html",redirect:"/views/threejs/%E5%8F%91%E5%85%89%E7%90%83%E4%BD%93.html"},{name:"v-2b3d4044",path:"/views/threejs/%E5%90%8E%E6%9C%9F%E5%A4%84%E7%90%86EffectComposer.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3d4044").then(t)}},{path:"/views/threejs/后期处理EffectComposer.html",redirect:"/views/threejs/%E5%90%8E%E6%9C%9F%E5%A4%84%E7%90%86EffectComposer.html"},{path:"/views/threejs/后期处理EffectComposer.html",redirect:"/views/threejs/%E5%90%8E%E6%9C%9F%E5%A4%84%E7%90%86EffectComposer.html"},{name:"v-ee8e7f9c",path:"/views/threejs/%E5%B0%84%E7%BA%BF%E6%8B%BE%E5%8F%96%E6%A8%A1%E5%9E%8B.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-ee8e7f9c").then(t)}},{path:"/views/threejs/射线拾取模型.html",redirect:"/views/threejs/%E5%B0%84%E7%BA%BF%E6%8B%BE%E5%8F%96%E6%A8%A1%E5%9E%8B.html"},{path:"/views/threejs/射线拾取模型.html",redirect:"/views/threejs/%E5%B0%84%E7%BA%BF%E6%8B%BE%E5%8F%96%E6%A8%A1%E5%9E%8B.html"},{name:"v-e88b1782",path:"/views/threejs/%E5%B8%B8%E8%A7%81%E5%87%A0%E4%BD%95%E4%BD%93.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-e88b1782").then(t)}},{path:"/views/threejs/常见几何体.html",redirect:"/views/threejs/%E5%B8%B8%E8%A7%81%E5%87%A0%E4%BD%95%E4%BD%93.html"},{path:"/views/threejs/常见几何体.html",redirect:"/views/threejs/%E5%B8%B8%E8%A7%81%E5%87%A0%E4%BD%95%E4%BD%93.html"},{name:"v-59497900",path:"/views/threejs/%E5%B1%82%E7%BA%A7%E6%A8%A1%E5%9E%8B.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-59497900").then(t)}},{path:"/views/threejs/层级模型.html",redirect:"/views/threejs/%E5%B1%82%E7%BA%A7%E6%A8%A1%E5%9E%8B.html"},{path:"/views/threejs/层级模型.html",redirect:"/views/threejs/%E5%B1%82%E7%BA%A7%E6%A8%A1%E5%9E%8B.html"},{name:"v-3c4eca5a",path:"/views/threejs/%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3c4eca5a").then(t)}},{path:"/views/threejs/序列帧动画.html",redirect:"/views/threejs/%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB.html"},{path:"/views/threejs/序列帧动画.html",redirect:"/views/threejs/%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB.html"},{name:"v-6b29a2eb",path:"/views/threejs/%E6%8A%97%E9%94%AF%E9%BD%BF.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6b29a2eb").then(t)}},{path:"/views/threejs/抗锯齿.html",redirect:"/views/threejs/%E6%8A%97%E9%94%AF%E9%BD%BF.html"},{path:"/views/threejs/抗锯齿.html",redirect:"/views/threejs/%E6%8A%97%E9%94%AF%E9%BD%BF.html"},{name:"v-124f99fe",path:"/views/threejs/%E5%BB%BA%E7%AD%91%E6%B8%B2%E6%9F%93.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-124f99fe").then(t)}},{path:"/views/threejs/建筑渲染.html",redirect:"/views/threejs/%E5%BB%BA%E7%AD%91%E6%B8%B2%E6%9F%93.html"},{path:"/views/threejs/建筑渲染.html",redirect:"/views/threejs/%E5%BB%BA%E7%AD%91%E6%B8%B2%E6%9F%93.html"},{name:"v-bc8a07aa",path:"/views/threejs/%E6%97%8B%E8%BD%AC%E7%BC%A9%E6%94%BE%E5%B9%B3%E7%A7%BB.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-bc8a07aa").then(t)}},{path:"/views/threejs/旋转缩放平移.html",redirect:"/views/threejs/%E6%97%8B%E8%BD%AC%E7%BC%A9%E6%94%BE%E5%B9%B3%E7%A7%BB.html"},{path:"/views/threejs/旋转缩放平移.html",redirect:"/views/threejs/%E6%97%8B%E8%BD%AC%E7%BC%A9%E6%94%BE%E5%B9%B3%E7%A7%BB.html"},{name:"v-4e1e3529",path:"/views/threejs/%E6%97%A0%E4%BA%BA%E6%9C%BA.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4e1e3529").then(t)}},{path:"/views/threejs/无人机.html",redirect:"/views/threejs/%E6%97%A0%E4%BA%BA%E6%9C%BA.html"},{path:"/views/threejs/无人机.html",redirect:"/views/threejs/%E6%97%A0%E4%BA%BA%E6%9C%BA.html"},{name:"v-1cc674d5",path:"/views/threejs/%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E6%9D%90%E8%B4%A8.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1cc674d5").then(t)}},{path:"/views/threejs/模型对象、材质.html",redirect:"/views/threejs/%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E6%9D%90%E8%B4%A8.html"},{path:"/views/threejs/模型对象、材质.html",redirect:"/views/threejs/%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E6%9D%90%E8%B4%A8.html"},{name:"v-5067e626",path:"/views/threejs/%E6%9B%B2%E7%BA%BF%E4%B8%8E%E5%87%A0%E4%BD%95%E4%BD%93.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-5067e626").then(t)}},{path:"/views/threejs/曲线与几何体.html",redirect:"/views/threejs/%E6%9B%B2%E7%BA%BF%E4%B8%8E%E5%87%A0%E4%BD%95%E4%BD%93.html"},{path:"/views/threejs/曲线与几何体.html",redirect:"/views/threejs/%E6%9B%B2%E7%BA%BF%E4%B8%8E%E5%87%A0%E4%BD%95%E4%BD%93.html"},{name:"v-2e3d05c2",path:"/views/threejs/%E6%AC%A7%E6%8B%89%E8%A7%92.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2e3d05c2").then(t)}},{path:"/views/threejs/欧拉角.html",redirect:"/views/threejs/%E6%AC%A7%E6%8B%89%E8%A7%92.html"},{path:"/views/threejs/欧拉角.html",redirect:"/views/threejs/%E6%AC%A7%E6%8B%89%E8%A7%92.html"},{name:"v-6c5e788e",path:"/views/threejs/%E6%A0%87%E7%AD%BE.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6c5e788e").then(t)}},{path:"/views/threejs/标签.html",redirect:"/views/threejs/%E6%A0%87%E7%AD%BE.html"},{path:"/views/threejs/标签.html",redirect:"/views/threejs/%E6%A0%87%E7%AD%BE.html"},{name:"v-e62abbcc",path:"/views/threejs/%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%89%8D%E7%AB%AFUI%E7%95%8C%E9%9D%A2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-e62abbcc").then(t)}},{path:"/views/threejs/渲染器和前端UI界面.html",redirect:"/views/threejs/%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%89%8D%E7%AB%AFUI%E7%95%8C%E9%9D%A2.html"},{path:"/views/threejs/渲染器和前端UI界面.html",redirect:"/views/threejs/%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%89%8D%E7%AB%AFUI%E7%95%8C%E9%9D%A2.html"},{name:"v-6c559c8b",path:"/views/threejs/%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8BSprite.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6c559c8b").then(t)}},{path:"/views/threejs/精灵模型Sprite.html",redirect:"/views/threejs/%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8BSprite.html"},{path:"/views/threejs/精灵模型Sprite.html",redirect:"/views/threejs/%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8BSprite.html"},{name:"v-62d23476",path:"/views/threejs/%E7%BA%BF%E8%B7%AF.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-62d23476").then(t)}},{path:"/views/threejs/线路.html",redirect:"/views/threejs/%E7%BA%BF%E8%B7%AF.html"},{path:"/views/threejs/线路.html",redirect:"/views/threejs/%E7%BA%BF%E8%B7%AF.html"},{name:"v-1cc8cfa2",path:"/views/threejs/%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%A2%A8%E5%8D%A1%E6%89%98.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1cc8cfa2").then(t)}},{path:"/views/threejs/经纬度转墨卡托.html",redirect:"/views/threejs/%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%A2%A8%E5%8D%A1%E6%89%98.html"},{path:"/views/threejs/经纬度转墨卡托.html",redirect:"/views/threejs/%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%A2%A8%E5%8D%A1%E6%89%98.html"},{name:"v-70759a5a",path:"/views/threejs/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-70759a5a").then(t)}},{path:"/views/threejs/相机基础.html",redirect:"/views/threejs/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80.html"},{path:"/views/threejs/相机基础.html",redirect:"/views/threejs/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80.html"},{name:"v-6f4db01a",path:"/views/threejs/%E8%87%AA%E5%BB%BA%E5%A4%9A%E8%BE%B9%E5%BD%A2.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6f4db01a").then(t)}},{path:"/views/threejs/自建多边形.html",redirect:"/views/threejs/%E8%87%AA%E5%BB%BA%E5%A4%9A%E8%BE%B9%E5%BD%A2.html"},{path:"/views/threejs/自建多边形.html",redirect:"/views/threejs/%E8%87%AA%E5%BB%BA%E5%A4%9A%E8%BE%B9%E5%BD%A2.html"},{name:"v-6cedb8c7",path:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9B%B4%E5%A2%99).html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6cedb8c7").then(t)}},{path:"/views/threejs/设置动画和特效(围墙).html",redirect:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9B%B4%E5%A2%99).html"},{path:"/views/threejs/设置动画和特效(围墙).html",redirect:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9B%B4%E5%A2%99).html"},{name:"v-3ac48946",path:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9C%86%E5%BD%A2%E5%9B%B4%E5%A2%99).html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-3ac48946").then(t)}},{path:"/views/threejs/设置动画和特效(圆形围墙).html",redirect:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9C%86%E5%BD%A2%E5%9B%B4%E5%A2%99).html"},{path:"/views/threejs/设置动画和特效(圆形围墙).html",redirect:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9C%86%E5%BD%A2%E5%9B%B4%E5%A2%99).html"},{name:"v-6fb031ba",path:"/views/threejs/%E9%98%B5%E5%88%97%E6%96%B9%E5%9D%97.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-6fb031ba").then(t)}},{path:"/views/threejs/阵列方块.html",redirect:"/views/threejs/%E9%98%B5%E5%88%97%E6%96%B9%E5%9D%97.html"},{path:"/views/threejs/阵列方块.html",redirect:"/views/threejs/%E9%98%B5%E5%88%97%E6%96%B9%E5%9D%97.html"},{name:"v-4573024c",path:"/views/threejs/%E9%AA%A8%E9%AA%BC%E5%85%B3%E8%8A%82Bone.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-4573024c").then(t)}},{path:"/views/threejs/骨骼关节Bone.html",redirect:"/views/threejs/%E9%AA%A8%E9%AA%BC%E5%85%B3%E8%8A%82Bone.html"},{path:"/views/threejs/骨骼关节Bone.html",redirect:"/views/threejs/%E9%AA%A8%E9%AA%BC%E5%85%B3%E8%8A%82Bone.html"},{name:"v-0648f580",path:"/views/webgis/MAPGIS%20-%20%E5%89%AF%E6%9C%AC%20(2).html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-0648f580").then(t)}},{path:"/views/webgis/MAPGIS - 副本 (2).html",redirect:"/views/webgis/MAPGIS%20-%20%E5%89%AF%E6%9C%AC%20(2).html"},{path:"/views/webgis/MAPGIS - 副本 (2).html",redirect:"/views/webgis/MAPGIS%20-%20%E5%89%AF%E6%9C%AC%20(2).html"},{name:"v-20216c61",path:"/views/webgis/MAPGIS.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-20216c61").then(t)}},{name:"v-ef9384be",path:"/views/webgis/mapbox.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-ef9384be").then(t)}},{name:"v-aa2d5b3e",path:"/views/webgis/openlayer.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-aa2d5b3e").then(t)}},{name:"v-2c144e1c",path:"/views/webgis/%E5%B0%8F%E5%8F%B6%E5%AD%90%E4%BD%93%E9%AA%8C.html",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2c144e1c").then(t)}},{path:"/views/webgis/小叶子体验.html",redirect:"/views/webgis/%E5%B0%8F%E5%8F%B6%E5%AD%90%E4%BD%93%E9%AA%8C.html"},{path:"/views/webgis/小叶子体验.html",redirect:"/views/webgis/%E5%B0%8F%E5%8F%B6%E5%AD%90%E4%BD%93%E9%AA%8C.html"},{name:"v-b1564aac",path:"/tag/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tags","v-b1564aac").then(t)},meta:{pid:"tags",id:"tags"}},{path:"/tag/index.html",redirect:"/tag/"},{name:"v-ef9325c4",path:"/categories/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("FrontmatterKey","v-ef9325c4").then(t)},meta:{pid:"categories",id:"categories"}},{path:"/categories/index.html",redirect:"/categories/"},{name:"v-6319eb4e",path:"/timeline/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("TimeLines","v-6319eb4e").then(t)},meta:{pid:"timeline",id:"timeline"}},{path:"/timeline/index.html",redirect:"/timeline/"},{name:"v-1f06f810",path:"/tag/十神/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-1f06f810").then(t)},meta:{pid:"tags",id:"十神"}},{path:"/tag/十神/index.html",redirect:"/tag/十神/"},{name:"v-1eedfa34",path:"/tag/随笔/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-1eedfa34").then(t)},meta:{pid:"tags",id:"随笔"}},{path:"/tag/随笔/index.html",redirect:"/tag/随笔/"},{name:"v-ee617cea",path:"/tag/破解/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-ee617cea").then(t)},meta:{pid:"tags",id:"破解"}},{path:"/tag/破解/index.html",redirect:"/tag/破解/"},{name:"v-184030a4",path:"/tag/IDEA/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-184030a4").then(t)},meta:{pid:"tags",id:"IDEA"}},{path:"/tag/IDEA/index.html",redirect:"/tag/IDEA/"},{name:"v-5e43a71f",path:"/tag/ECharts/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-5e43a71f").then(t)},meta:{pid:"tags",id:"ECharts"}},{path:"/tag/ECharts/index.html",redirect:"/tag/ECharts/"},{name:"v-32584c46",path:"/tag/Day/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-32584c46").then(t)},meta:{pid:"tags",id:"Day"}},{path:"/tag/Day/index.html",redirect:"/tag/Day/"},{name:"v-3c2760d0",path:"/tag/网络协议/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-3c2760d0").then(t)},meta:{pid:"tags",id:"网络协议"}},{path:"/tag/网络协议/index.html",redirect:"/tag/网络协议/"},{name:"v-184d950c",path:"/tag/HTML/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-184d950c").then(t)},meta:{pid:"tags",id:"HTML"}},{path:"/tag/HTML/index.html",redirect:"/tag/HTML/"},{name:"v-7a5f6990",path:"/tag/JavaScript/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-7a5f6990").then(t)},meta:{pid:"tags",id:"JavaScript"}},{path:"/tag/JavaScript/index.html",redirect:"/tag/JavaScript/"},{name:"v-14722046",path:"/tag/json/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-14722046").then(t)},meta:{pid:"tags",id:"json"}},{path:"/tag/json/index.html",redirect:"/tag/json/"},{name:"v-e8d86dc8",path:"/tag/js/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-e8d86dc8").then(t)},meta:{pid:"tags",id:"js"}},{path:"/tag/js/index.html",redirect:"/tag/js/"},{name:"v-dfb71430",path:"/tag/vuepress/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-dfb71430").then(t)},meta:{pid:"tags",id:"vuepress"}},{path:"/tag/vuepress/index.html",redirect:"/tag/vuepress/"},{name:"v-32475d9a",path:"/tag/Vue/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-32475d9a").then(t)},meta:{pid:"tags",id:"Vue"}},{path:"/tag/Vue/index.html",redirect:"/tag/Vue/"},{name:"v-3259a754",path:"/tag/CSS/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-3259a754").then(t)},meta:{pid:"tags",id:"CSS"}},{path:"/tag/CSS/index.html",redirect:"/tag/CSS/"},{name:"v-5acc93b2",path:"/tag/复习/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-5acc93b2").then(t)},meta:{pid:"tags",id:"复习"}},{path:"/tag/复习/index.html",redirect:"/tag/复习/"},{name:"v-4a5e8070",path:"/tag/开发规范/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-4a5e8070").then(t)},meta:{pid:"tags",id:"开发规范"}},{path:"/tag/开发规范/index.html",redirect:"/tag/开发规范/"},{name:"v-32383f72",path:"/tag/git/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-32383f72").then(t)},meta:{pid:"tags",id:"git"}},{path:"/tag/git/index.html",redirect:"/tag/git/"},{name:"v-08174efe",path:"/tag/分布式/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-08174efe").then(t)},meta:{pid:"tags",id:"分布式"}},{path:"/tag/分布式/index.html",redirect:"/tag/分布式/"},{name:"v-32360c9a",path:"/tag/k8s/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-32360c9a").then(t)},meta:{pid:"tags",id:"k8s"}},{path:"/tag/k8s/index.html",redirect:"/tag/k8s/"},{name:"v-18082c7a",path:"/tag/Java/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-18082c7a").then(t)},meta:{pid:"tags",id:"Java"}},{path:"/tag/Java/index.html",redirect:"/tag/Java/"},{name:"v-7418fe36",path:"/tag/linux/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-7418fe36").then(t)},meta:{pid:"tags",id:"linux"}},{path:"/tag/linux/index.html",redirect:"/tag/linux/"},{name:"v-2c5ef868",path:"/tag/cesiumjs/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-2c5ef868").then(t)},meta:{pid:"tags",id:"cesiumjs"}},{path:"/tag/cesiumjs/index.html",redirect:"/tag/cesiumjs/"},{name:"v-142dcc86",path:"/tag/math/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-142dcc86").then(t)},meta:{pid:"tags",id:"math"}},{path:"/tag/math/index.html",redirect:"/tag/math/"},{name:"v-2677c2ac",path:"/tag/threeBase/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-2677c2ac").then(t)},meta:{pid:"tags",id:"threeBase"}},{path:"/tag/threeBase/index.html",redirect:"/tag/threeBase/"},{name:"v-7d8f5bf6",path:"/tag/smartCity/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-7d8f5bf6").then(t)},meta:{pid:"tags",id:"smartCity"}},{path:"/tag/smartCity/index.html",redirect:"/tag/smartCity/"},{name:"v-3237e804",path:"/tag/gui/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-3237e804").then(t)},meta:{pid:"tags",id:"gui"}},{path:"/tag/gui/index.html",redirect:"/tag/gui/"},{name:"v-237a0423",path:"/tag/three基础/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-237a0423").then(t)},meta:{pid:"tags",id:"three基础"}},{path:"/tag/three基础/index.html",redirect:"/tag/three基础/"},{name:"v-68543700",path:"/tag/shader/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-68543700").then(t)},meta:{pid:"tags",id:"shader"}},{path:"/tag/shader/index.html",redirect:"/tag/shader/"},{name:"v-804c9f96",path:"/tag/mapgis基本操作/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-804c9f96").then(t)},meta:{pid:"tags",id:"mapgis基本操作"}},{path:"/tag/mapgis基本操作/index.html",redirect:"/tag/mapgis基本操作/"},{name:"v-1fcf8536",path:"/tag/mapbox/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-1fcf8536").then(t)},meta:{pid:"tags",id:"mapbox"}},{path:"/tag/mapbox/index.html",redirect:"/tag/mapbox/"},{name:"v-38b6f3dc",path:"/tag/Openlayer/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-38b6f3dc").then(t)},meta:{pid:"tags",id:"Openlayer"}},{path:"/tag/Openlayer/index.html",redirect:"/tag/Openlayer/"},{name:"v-3051569c",path:"/tag/Leaflet/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Tag","v-3051569c").then(t)},meta:{pid:"tags",id:"Leaflet"}},{path:"/tag/Leaflet/index.html",redirect:"/tag/Leaflet/"},{name:"v-7f065b48",path:"/categories/UE5/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-7f065b48").then(t)},meta:{pid:"categories",id:"UE5"}},{path:"/categories/UE5/index.html",redirect:"/categories/UE5/"},{name:"v-83975be0",path:"/categories/Essay/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-83975be0").then(t)},meta:{pid:"categories",id:"Essay"}},{path:"/categories/Essay/index.html",redirect:"/categories/Essay/"},{name:"v-33b5a8cf",path:"/categories/Abstract/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-33b5a8cf").then(t)},meta:{pid:"categories",id:"Abstract"}},{path:"/categories/Abstract/index.html",redirect:"/categories/Abstract/"},{name:"v-70594396",path:"/categories/Front-end/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-70594396").then(t)},meta:{pid:"categories",id:"Front-end"}},{path:"/categories/Front-end/index.html",redirect:"/categories/Front-end/"},{name:"v-09da73d8",path:"/categories/cesiumjs/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-09da73d8").then(t)},meta:{pid:"categories",id:"cesiumjs"}},{path:"/categories/cesiumjs/index.html",redirect:"/categories/cesiumjs/"},{name:"v-6553ce74",path:"/categories/threejs/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-6553ce74").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/index.html",redirect:"/categories/threejs/"},{name:"v-447ca0f4",path:"/categories/webgis/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Category","v-447ca0f4").then(t)},meta:{pid:"categories",id:"webgis"}},{path:"/categories/webgis/index.html",redirect:"/categories/webgis/"},{name:"v-7c1bf909",path:"/tag/随笔/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-7c1bf909").then(t)},meta:{pid:"tags",id:"随笔"}},{path:"/tag/随笔/page/2/index.html",redirect:"/tag/随笔/page/2/"},{name:"v-1da003d3",path:"/tag/threeBase/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1da003d3").then(t)},meta:{pid:"tags",id:"threeBase"}},{path:"/tag/threeBase/page/2/index.html",redirect:"/tag/threeBase/page/2/"},{name:"v-1da003f2",path:"/tag/threeBase/page/3/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-1da003f2").then(t)},meta:{pid:"tags",id:"threeBase"}},{path:"/tag/threeBase/page/3/index.html",redirect:"/tag/threeBase/page/3/"},{name:"v-30b137d0",path:"/tag/smartCity/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-30b137d0").then(t)},meta:{pid:"tags",id:"smartCity"}},{path:"/tag/smartCity/page/2/index.html",redirect:"/tag/smartCity/page/2/"},{name:"v-0dd851ad",path:"/categories/Essay/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-0dd851ad").then(t)},meta:{pid:"categories",id:"Essay"}},{path:"/categories/Essay/page/2/index.html",redirect:"/categories/Essay/page/2/"},{name:"v-73608532",path:"/categories/Front-end/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-73608532").then(t)},meta:{pid:"categories",id:"Front-end"}},{path:"/categories/Front-end/page/2/index.html",redirect:"/categories/Front-end/page/2/"},{name:"v-2b3c9b92",path:"/categories/threejs/page/2/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3c9b92").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/page/2/index.html",redirect:"/categories/threejs/page/2/"},{name:"v-2b3c9b54",path:"/categories/threejs/page/3/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3c9b54").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/page/3/index.html",redirect:"/categories/threejs/page/3/"},{name:"v-2b3c9b16",path:"/categories/threejs/page/4/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3c9b16").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/page/4/index.html",redirect:"/categories/threejs/page/4/"},{name:"v-2b3c9ad8",path:"/categories/threejs/page/5/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3c9ad8").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/page/5/index.html",redirect:"/categories/threejs/page/5/"},{name:"v-2b3c9a9a",path:"/categories/threejs/page/6/",component:q,beforeEnter:(n,e,t)=>{Object(a.a)("Layout","v-2b3c9a9a").then(t)},meta:{pid:"categories",id:"threejs"}},{path:"/categories/threejs/page/6/index.html",redirect:"/categories/threejs/page/6/"},{path:"*",component:q}],$={title:"刘宇豪の秘密基地",description:"",base:"/",headTags:[["meta",{name:"viewport",content:"width=device-width,initial-scale=1,user-scalable=no"}],["meta",{name:"renderer",content:"webkit"}],["meta",{name:"referrer",content:"never"}],["meta",{"data-draft-node":"block","data-draft-type":"table","data-size":"normal","data-row-style":"normal"}],["link",{rel:"icon",href:"/logo.png"}],["link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/vuepress/favicon-16x16.png"}],["link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/vuepress/favicon-32x32.png"}],["link",{rel:"mask-icon",href:"/vuepress/safari-pinned-tab.svg"}],["link",{rel:"manifest",href:"/manifest.json"}],["link",{rel:"apple-touch-icon",sizes:"57x57",href:"/vuepress/apple-touch-icon-57x57.png"}],["link",{rel:"apple-touch-icon",sizes:"60x60",href:"/vuepress/apple-touch-icon-60x60.png"}],["link",{rel:"apple-touch-icon",sizes:"72x72",href:"/vuepress/apple-touch-icon-72x72.png"}],["link",{rel:"apple-touch-icon",sizes:"76x76",href:"/vuepress/apple-touch-icon-76x76.png"}],["link",{rel:"apple-touch-icon",sizes:"120x120",href:"/vuepress/apple-touch-icon-120x120.png"}],["link",{rel:"apple-touch-icon",sizes:"144x144",href:"/vuepress/apple-touch-icon-144x144.png"}],["link",{rel:"apple-touch-icon",sizes:"152x152",href:"/vuepress/apple-touch-icon-152x152.png"}],["link",{rel:"apple-touch-icon",sizes:"180x180",href:"/vuepress/apple-touch-icon-180x180.png"}],["meta",{name:"apple-mobile-web-app-capable",content:"yes"}],["meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}],["meta",{name:"msapplication-TileImage",content:"/vuepress/msapplication-icon-144x144.png"}],["meta",{name:"msapplication-TileColor",content:"#000000"}],["script",{language:"javascript",type:"text/javascript",src:"https://cdn.bootcss.com/jquery/3.6.0/jquery.min.js"}],["script",{language:"javascript",type:"text/javascript",src:"/js/MouseClickEffect.js"}]],pages:[{title:"VuePress Home",frontmatter:{home:!0,title:"VuePress Home"},regularPath:"/",relativePath:"README.md",key:"v-c79b94cc",path:"/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"关于我",frontmatter:{title:"关于我",isTimeLine:!1,sidebar:!1,isShowComments:!0},regularPath:"/about/",relativePath:"about/README.md",key:"v-75c4716a",path:"/about/",headers:[{level:2,title:"个人简历",slug:"个人简历",normalizedTitle:"个人简历",charIndex:7},{level:2,title:"一句话",slug:"一句话",normalizedTitle:"一句话",charIndex:159},{level:2,title:"关于我",slug:"关于我",normalizedTitle:"关于我",charIndex:203},{level:2,title:"兴趣方向",slug:"兴趣方向",normalizedTitle:"兴趣方向",charIndex:278},{level:2,title:"成熟标志",slug:"成熟标志",normalizedTitle:"成熟标志",charIndex:309},{level:2,title:"社区",slug:"社区",normalizedTitle:"社区",charIndex:460},{level:2,title:"部落",slug:"部落",normalizedTitle:"部落",charIndex:492},{level:2,title:"其他",slug:"其他",normalizedTitle:"其他",charIndex:901},{level:2,title:"联系",slug:"联系",normalizedTitle:"联系",charIndex:962},{level:2,title:"赞赏",slug:"赞赏",normalizedTitle:"赞赏",charIndex:989}],headersStr:"个人简历 一句话 关于我 兴趣方向 成熟标志 社区 部落 其他 联系 赞赏",content:"\n\n\n\n\n# 个人简历\n\nCV\n\n你若盛开，清风自来。\n\n- img: /img/other/5666c8e4-867a-3356-9708-6ba918e87853.jpg\n  link: /other/cv.html\n  name: CV\n  desc: 你若盛开，清风自来。\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# 一句话\n\n * Just do IT ! （翻译：我只是个搞 IT的！哭笑脸）\n\n\n# 关于我\n\n * 一个莫名其妙的，喜欢敲代码，喜欢研究技术的，表面上高冷、不苟言笑的，偶尔又嬉皮笑脸，偶尔又特立独行的，双重性格的技术爱好者！\n\n\n# 兴趣方向\n\n * 在互联网信息高速公路上 流浪。 。\n\n\n# 成熟标志\n\n * 爱您：997220\n * 会扔、敢买、能赚、懂爱！\n * 自信乐观，勇于担当，明白责任的意义！\n * 意识到自己时间有限，具备区分什么是值得花时间的、什么是不值得花时间的的能力！\n * 成年人的发泄方式，不再是改头像、换签名、发朋友圈，而是吹吹风，静一静，习惯性的等待自愈！\n\n\n# 社区\n\n * 博客：去看看\n * Github：去看看\n\n\n# 部落\n\n * Email：510143087@qq.com\n * 微信：见下方或 [ 点我直达 ]，记得一定要先看一眼 [ Guide ]\n * 友链：欢迎入队组队🏆 --\x3e 《 Let's go! 》\n\nFor you\n\n你若盛开，清风自来。\n\nTo me\n\n心若浮沉，浅笑安然。\n\n- img: /img/other/766d39ee-fbf0-329e-8973-45e90625b579.jpg\n  link: /other/friends.html\n  name: For you\n  desc: 你若盛开，清风自来。\n- img: /img/other/c33a5027-85d3-3eb4-a785-dd404f674baa.jpg\n  link: /other/friends.html\n  name: To me\n  desc: 心若浮沉，浅笑安然。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 其他\n\n * 本仓库代码使用 MIT 协议进行开源，但是全部文档内容使用 CC 4.0 BY-SA 协议进行发布\n\n\n# 联系\n\n\n\n     \n个人   公众号\n\n\n\n\n# 赞赏\n\nThanks for you!",normalizedContent:"\n\n\n\n\n# 个人简历\n\ncv\n\n你若盛开，清风自来。\n\n- img: /img/other/5666c8e4-867a-3356-9708-6ba918e87853.jpg\n  link: /other/cv.html\n  name: cv\n  desc: 你若盛开，清风自来。\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# 一句话\n\n * just do it ! （翻译：我只是个搞 it的！哭笑脸）\n\n\n# 关于我\n\n * 一个莫名其妙的，喜欢敲代码，喜欢研究技术的，表面上高冷、不苟言笑的，偶尔又嬉皮笑脸，偶尔又特立独行的，双重性格的技术爱好者！\n\n\n# 兴趣方向\n\n * 在互联网信息高速公路上 流浪。 。\n\n\n# 成熟标志\n\n * 爱您：997220\n * 会扔、敢买、能赚、懂爱！\n * 自信乐观，勇于担当，明白责任的意义！\n * 意识到自己时间有限，具备区分什么是值得花时间的、什么是不值得花时间的的能力！\n * 成年人的发泄方式，不再是改头像、换签名、发朋友圈，而是吹吹风，静一静，习惯性的等待自愈！\n\n\n# 社区\n\n * 博客：去看看\n * github：去看看\n\n\n# 部落\n\n * email：510143087@qq.com\n * 微信：见下方或 [ 点我直达 ]，记得一定要先看一眼 [ guide ]\n * 友链：欢迎入队组队🏆 --\x3e 《 let's go! 》\n\nfor you\n\n你若盛开，清风自来。\n\nto me\n\n心若浮沉，浅笑安然。\n\n- img: /img/other/766d39ee-fbf0-329e-8973-45e90625b579.jpg\n  link: /other/friends.html\n  name: for you\n  desc: 你若盛开，清风自来。\n- img: /img/other/c33a5027-85d3-3eb4-a785-dd404f674baa.jpg\n  link: /other/friends.html\n  name: to me\n  desc: 心若浮沉，浅笑安然。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 其他\n\n * 本仓库代码使用 mit 协议进行开源，但是全部文档内容使用 cc 4.0 by-sa 协议进行发布\n\n\n# 联系\n\n\n\n     \n个人   公众号\n\n\n\n\n# 赞赏\n\nthanks for you!",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{frontmatter:{sidebar:!1,isComment:!1,isShowReward:!1,layout:"CV"},regularPath:"/other/cv.html",relativePath:"other/cv.md",key:"v-6de30a7c",path:"/other/cv.html",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{frontmatter:{sidebar:!1,isComment:!1,isShowReward:!1,layout:"Projects"},regularPath:"/other/project.html",relativePath:"other/project.md",key:"v-c85c6318",path:"/other/project.html",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"概览",frontmatter:{title:"概览",sidebar:!0,date:"2019-08-21T00:00:00.000Z",sidebarDepth:0,isShowComments:!0},regularPath:"/views/",relativePath:"views/README.md",key:"v-14e933c9",path:"/views/",headersStr:null,content:" \n \n \n远航\n \n昂然踏着前路去\n追赶理想旅途上\n前行步步怀自信\n风吹雨打不退让\n \n无论我去到哪方\n心里梦想不变样\n是新生 是醒觉\n梦想永远在世上\n \n前路哪怕远 只要自强\n我继续独自寻路向\n常为以往梦想发狂\n耐心摸索路途上\n \n怀自信 我永不怕夜航\n到困倦我自弹自唱\n掌声我向梦想里寻\n尽管一切是狂想\n \n途人路上回望我\n只因我的怪模样\n途人谁能明白我\n今天眼睛多雪亮\n \n人是各有各理想\n奔向目标不退让\n用歌声 用欢笑\n来博知音的赞赏\n \n怀自信 我永不怕夜航\n到困倦我自弹自唱\n掌声我向梦想里寻\n尽管一切是狂想\n \n昂然踏着前路去\n追赶理想旅途上\n前行步步怀自信\n依照心中那 正确方向\n \n怀着爱与恕的心\n充满梦想的笑着\n用歌声 用欢笑\n来博知音的赞赏\n \n\n【分类】\n\n【标签】\n\n【vue】 | 【threejs】\n\n【cesium】 | 【openlayer】",normalizedContent:" \n \n \n远航\n \n昂然踏着前路去\n追赶理想旅途上\n前行步步怀自信\n风吹雨打不退让\n \n无论我去到哪方\n心里梦想不变样\n是新生 是醒觉\n梦想永远在世上\n \n前路哪怕远 只要自强\n我继续独自寻路向\n常为以往梦想发狂\n耐心摸索路途上\n \n怀自信 我永不怕夜航\n到困倦我自弹自唱\n掌声我向梦想里寻\n尽管一切是狂想\n \n途人路上回望我\n只因我的怪模样\n途人谁能明白我\n今天眼睛多雪亮\n \n人是各有各理想\n奔向目标不退让\n用歌声 用欢笑\n来博知音的赞赏\n \n怀自信 我永不怕夜航\n到困倦我自弹自唱\n掌声我向梦想里寻\n尽管一切是狂想\n \n昂然踏着前路去\n追赶理想旅途上\n前行步步怀自信\n依照心中那 正确方向\n \n怀着爱与恕的心\n充满梦想的笑着\n用歌声 用欢笑\n来博知音的赞赏\n \n\n【分类】\n\n【标签】\n\n【vue】 | 【threejs】\n\n【cesium】 | 【openlayer】",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"十神性格",frontmatter:{title:"十神性格",date:"2023-10-31T00:00:00.000Z",tags:["十神"],categories:["UE5"],isShowComments:!0},regularPath:"/views/UE5/%E5%8D%81%E7%A5%9E%E6%80%A7%E6%A0%BC.html",relativePath:"views/UE5/十神性格.md",key:"v-1a4d740a",path:"/views/UE5/%E5%8D%81%E7%A5%9E%E6%80%A7%E6%A0%BC.html",headers:[{level:2,title:"（一）正财",slug:"一-正财",normalizedTitle:"（一）正财",charIndex:3},{level:2,title:"（二）偏财",slug:"二-偏财",normalizedTitle:"（二）偏财",charIndex:12},{level:2,title:"（三）正官",slug:"三-正官",normalizedTitle:"（三）正官",charIndex:21},{level:2,title:"（四）偏官（七杀）",slug:"四-偏官-七杀",normalizedTitle:"（四）偏官（七杀）",charIndex:30},{level:2,title:"（五）正印",slug:"五-正印",normalizedTitle:"（五）正印",charIndex:43},{level:2,title:"（ 六）偏印（枭神）",slug:"六-偏印-枭神",normalizedTitle:"（ 六）偏印（枭神）",charIndex:52},{level:2,title:"（七）食神",slug:"七-食神",normalizedTitle:"（七）食神",charIndex:66},{level:2,title:"（八）伤官",slug:"八-伤官",normalizedTitle:"（八）伤官",charIndex:75},{level:2,title:"（九）比肩",slug:"九-比肩",normalizedTitle:"（九）比肩",charIndex:84},{level:2,title:"（十）劫财（羊刃）",slug:"十-劫财-羊刃",normalizedTitle:"（十）劫财（羊刃）",charIndex:93}],excerpt:"<Boxx/>\n",headersStr:"（一）正财 （二）偏财 （三）正官 （四）偏官（七杀） （五）正印 （ 六）偏印（枭神） （七）食神 （八）伤官 （九）比肩 （十）劫财（羊刃）",content:" * （一）正财\n * （二）偏财\n * （三）正官\n * （四）偏官（七杀）\n * （五）正印\n * （ 六）偏印（枭神）\n * （七）食神\n * （八）伤官\n * （九）比肩\n * （十）劫财（羊刃）\n\n\n\n\n# （一）正财\n\n正财代表妻子、钱财、才华、房产、田园，父辈姑姑、叔伯。又代表名誉、地位、信誉、富禄吉祥喜庆之事等。\n\n为纯物质型十神。重现实、讲实际，脚踏实地，诚实可信。财星者，一步一个脚印，坚信成功在于勤奋。\n\n 1. 为喜用者：为人正义，明辨是非，爱打抱不平，诚实，有责任心。礼貌热情，对家庭忠实，对妻子爱惜。（富裕、健康、事业有成）\n\n 2. 为忌用者：其人性格温顺，深谋远虑，处处小心谨慎，有时胆小怕事。自我保护意识很强。太过者，虚伪狡诈，不值得信赖。为人不爱读书，好逸恶劳。吝啬贪婪，苟安且乐。（贫困、辛苦、疾病、婚灾）\n\n\n# （二）偏财\n\n偏财表示意外之横财，浮动资产、彩票、奖金、股票等外来之财。又代表父辈兄弟姐妹。偏才乃众人之财，宜露不宜藏。\n\n女性天干露财：穿金戴银，（注：日主为金水木）易因酒色而薄情寡义。\n\n男性天干露财：慷慨热情，一掷千金，出手阔绰。\n\n偏财人的性格为人豪爽大方，风流多情，女人缘极佳。颇具商业头脑，会赚会花，不吝惜钱财，出手大方。\n\n偏向于物质型十神、其本性偏向于吉神。偏财之人深谙理财处事诀窍；头脑灵活，多才多艺，为人处事圆满干炼；豪爽仗义，较注重物质的享受。偏财者，对任何事情拿的起，放的下。\n\n 1. 为喜用者：（富裕、事业有成、多才多艺）\n\n 2. 为忌用者：（贫困、疾病、婚灾、玩世不恭、铺张浪费）\n\n\n# （三）正官\n\n正官代表名誉地位，权贵。护财神、礼法约束、官司口舌、丈夫、儿子女儿等。\n\n正官为正气之神，只要一位（特别女命），喜露不宜藏，须有正印相配，有官有印必掌实权。\n\n为物质型十神，是最具理性的十神。习惯在法律、法规、社会习俗、规章制度允许的前提下求名、求发展。正官者，一身正气崇尚正义。\n\n 1. 为喜用者：性格为人清高，廉洁公正、自尊心强、重视名誉、品行端正、心地善良、光明磊落、讲道德重礼节。处处受人尊敬，为人厚道，做事稳重，办事认真。（名声、地位、权力、事业）\n\n 2. 为忌用者：如为忌神或太过，依七杀之性断必验。（压力、阻力、慢性病、贫贱、官灾。）\n\n\n# （四）偏官（七杀）\n\n七杀表示暴力，权力刚强有威、胆量、聪明伶俐、偏夫情人、小人、男命子女等。七杀喜制伏为贵。书曰：七杀有制化为权，即言此。\n\n七杀人的性格：富有进取心，待人热情，办事果敢，有正义感和侠义精神，疾恶如仇，性刚急暴如火。做事有魄力，但脾气古怪任性。为人争强好胜不服输，女命易在婚姻上出麻烦，有感情风波。\n\n为物质型十神。名声、地位是七杀之人终身的追求，他们能为名利舍弃一切，包括家庭、生命。七杀者，胜者为王、败者为寇。\n\n 1. 为喜用者：（名声、地位、权力、事业）\n\n 2. 为忌用者：（伤残、疾病、牢狱、争斗、小人、贫贱）\n\n\n# （五）正印\n\n印，官府掌权人的印章，权力的象征。代表文化、修养、学识、教养。印为护身之神，为生母，有时也为父亲。\n\n用之印星不可破，是指身弱的情况下。财旺破印主克母，自己也有病。\n\n女命以印为用，嫁理想之丈夫。命中有印，平生好敬神佛。\n\n为纯精神型十神。淡薄名利、注重荣誉、好学多思、博爱无私。印星者，善于思考，疏于实践。\n\n 1. 为喜用者：具有慈悲心肠，富有浓厚的人情味，待人重情、重义。其人有大志，聪明多智慧，大智若愚、内涵不露。思考力丰富，有随机应变的才能。相貌体态丰满，平生富态安祥。一生体健少病，无大险。（学历、荣誉、地位、靠山、贵人）\n\n 2. 为忌用者：（休学、失业、损名、贫穷、懒 惰、疾病）\n\n\n# （ 六）偏印（枭神）\n\n偏印性好夺食，称其为枭。相传枭是上古时一种猛禽，从不自己觅食，专夺别人现成的食物。偏印有制为好，枭神多易有色情之灾，车祸官非口舌、克子女等。本身易生暗疾。\n\n偏印为继母，有时也为父亲。\n\n枭神人性格多变，疑心重不轻易信任别人，朋友多难知心。其人貌丑身矮小，胆怯心虚，凡事无成。克害六亲严重，小时克母，长大克妻。太过者，优柔寡断，不切实际，懒惰、爱睡觉、办事虎头蛇尾，没长性，有始无终。\n\n为精神型十神。思想怪异，深具创造力。精明能干，缺少人情味。枭神者，排斥他人他物，偏业之人。\n\n 1. 为喜用者：（偏业、思想上的成就，学术、荣誉、地位）\n\n 2. 为忌用者：（病灾、不雅的胎记疤痕及痣。破财、休学、失业，伤克子女）\n\n\n# （七）食神\n\n食神表示长寿之星、吃穿、衣禄、头脑、思想 、投资、子女、是忠孝的标志。\n\n其性格：为人宽宏大量、优游自主、多福多寿、心宽体胖，精神健旺不喜与人争，为人厚道，讲道德。有君子之风。富有审美及艺术欣赏力。\n\n食神的作用是身旺可泄身生财，身弱可制官杀与之抗衡。无官杀，食又太过贱命一条，头脑迟顿，口语不清，甚至痴呆、傻子，极易上当受骗。如身旺，食神见官杀两失其用，导致身旺无泄。与伤官见官同论。\n\n命带食神大多都为好命，1、可泄旺身、2、可制官杀。故食神被称做福将，长寿之星。\n\n为精神型十神。聪明仁慈、通情达理，乐于奉献。食神者，优游自足、随遇而安，和气生财、与世无争。\n\n 1. 为喜用者：（平安、福气、多才多艺、经济福裕 、身体健康）\n\n 2. 为忌用者：（疾病、劳累、贫困）\n\n\n# （八）伤官\n\n伤官代表人的口才好，能说会道，聪明伶俐，机智灵巧的特性。有外交家的天赋与风度。平生爱好广泛，有艺术才能，性格外向开朗、活泼、爱说爱笑。但有时爱空想，不切实际。\n\n伤官人有独立性，不依赖他人，有抗上心理，爱与当官的做对，气量狭窄有冤必报。叛逆、难以管束，本人也不愿受约束，崇尚自由。\n\n为精神和物质矛盾型十神。才华横溢，大胆泼辣，斗志昂扬，狂傲乖张。刚愎自用，言语尖锐，气量狭小是其主要特点。伤官者，欲望强烈永不满足。\n\n 1. 为喜用者：（多才多艺、技术成果、升职、富裕）\n\n 2. 为忌用者：（官灾、降职失业、病退休学、伤病灾）\n\n\n# （九）比肩\n\n比肩代表兄弟姐妹，朋友、战友、同学、同辈中人。比肩有帮身的作用，身旺为忌则克父克妻。\n\n比肩人性格：自尊心强，与人不和，独断专行，刚愎自用，好施展权威，坚持己见，好发号施令，为人好强，要面子。不服输，敢做敢为，敢拼敢闯，好管闲事，轻财好友。有组织管理才能，特别关心自己的部下，或朋友，受到拥护。为人讲究，但有抗上心理，喜自由，不愿受管制。\n\n比肩身弱可帮身，身旺夺财，大多夫妻不和，易有婚变之灾，如组合不好，婚后易有色情之灾，古有天干一气格，为富贵之命。又有专旺格：曰木曲直、水润下、火炎上、金从革、土稼蔷。\n\n身旺有比肩：以官为用大贵。以食伤为用利文途，学业有成，文章振发。以财为用大富，但起伏大，不长久。\n\n为物质型十神，其本性偏向于凶神。比肩之人自信自尊，好攀比，不服输，有自知之明。比肩者，人不犯我，我不犯人。\n\n 1. 为喜用者：（多得兄弟姐妹、朋友助益，竞争中得名得利，富裕）\n\n 2. 为忌用者：（官非口舌、破财、病灾、婚灾）\n\n\n# （十）劫财（羊刃）\n\n劫才的特性与比肩一样，身旺有比劫，其人好吹牛说大话，好色、贪酒赌博成性。喜投机，但贪小失大，对钱财挥霍无度。为忌则薄情寡义，兄弟不睦，男女婚姻不顺的明显标志，也是破财受拖累的标志。\n\n为物质型十神。自信、武断，斗志高昂，以行动解决问题；投机取巧，野心勃勃；人不犯我，我也犯人。\n\n 1. 为喜用者：（意志坚强、竞争得利、事业有成）\n\n 2. 为忌用者：（打架斗殴、偷盗抢劫、官灾牢狱，破财病灾、克妻、克夫、克父，贫寒）",normalizedContent:" * （一）正财\n * （二）偏财\n * （三）正官\n * （四）偏官（七杀）\n * （五）正印\n * （ 六）偏印（枭神）\n * （七）食神\n * （八）伤官\n * （九）比肩\n * （十）劫财（羊刃）\n\n\n\n\n# （一）正财\n\n正财代表妻子、钱财、才华、房产、田园，父辈姑姑、叔伯。又代表名誉、地位、信誉、富禄吉祥喜庆之事等。\n\n为纯物质型十神。重现实、讲实际，脚踏实地，诚实可信。财星者，一步一个脚印，坚信成功在于勤奋。\n\n 1. 为喜用者：为人正义，明辨是非，爱打抱不平，诚实，有责任心。礼貌热情，对家庭忠实，对妻子爱惜。（富裕、健康、事业有成）\n\n 2. 为忌用者：其人性格温顺，深谋远虑，处处小心谨慎，有时胆小怕事。自我保护意识很强。太过者，虚伪狡诈，不值得信赖。为人不爱读书，好逸恶劳。吝啬贪婪，苟安且乐。（贫困、辛苦、疾病、婚灾）\n\n\n# （二）偏财\n\n偏财表示意外之横财，浮动资产、彩票、奖金、股票等外来之财。又代表父辈兄弟姐妹。偏才乃众人之财，宜露不宜藏。\n\n女性天干露财：穿金戴银，（注：日主为金水木）易因酒色而薄情寡义。\n\n男性天干露财：慷慨热情，一掷千金，出手阔绰。\n\n偏财人的性格为人豪爽大方，风流多情，女人缘极佳。颇具商业头脑，会赚会花，不吝惜钱财，出手大方。\n\n偏向于物质型十神、其本性偏向于吉神。偏财之人深谙理财处事诀窍；头脑灵活，多才多艺，为人处事圆满干炼；豪爽仗义，较注重物质的享受。偏财者，对任何事情拿的起，放的下。\n\n 1. 为喜用者：（富裕、事业有成、多才多艺）\n\n 2. 为忌用者：（贫困、疾病、婚灾、玩世不恭、铺张浪费）\n\n\n# （三）正官\n\n正官代表名誉地位，权贵。护财神、礼法约束、官司口舌、丈夫、儿子女儿等。\n\n正官为正气之神，只要一位（特别女命），喜露不宜藏，须有正印相配，有官有印必掌实权。\n\n为物质型十神，是最具理性的十神。习惯在法律、法规、社会习俗、规章制度允许的前提下求名、求发展。正官者，一身正气崇尚正义。\n\n 1. 为喜用者：性格为人清高，廉洁公正、自尊心强、重视名誉、品行端正、心地善良、光明磊落、讲道德重礼节。处处受人尊敬，为人厚道，做事稳重，办事认真。（名声、地位、权力、事业）\n\n 2. 为忌用者：如为忌神或太过，依七杀之性断必验。（压力、阻力、慢性病、贫贱、官灾。）\n\n\n# （四）偏官（七杀）\n\n七杀表示暴力，权力刚强有威、胆量、聪明伶俐、偏夫情人、小人、男命子女等。七杀喜制伏为贵。书曰：七杀有制化为权，即言此。\n\n七杀人的性格：富有进取心，待人热情，办事果敢，有正义感和侠义精神，疾恶如仇，性刚急暴如火。做事有魄力，但脾气古怪任性。为人争强好胜不服输，女命易在婚姻上出麻烦，有感情风波。\n\n为物质型十神。名声、地位是七杀之人终身的追求，他们能为名利舍弃一切，包括家庭、生命。七杀者，胜者为王、败者为寇。\n\n 1. 为喜用者：（名声、地位、权力、事业）\n\n 2. 为忌用者：（伤残、疾病、牢狱、争斗、小人、贫贱）\n\n\n# （五）正印\n\n印，官府掌权人的印章，权力的象征。代表文化、修养、学识、教养。印为护身之神，为生母，有时也为父亲。\n\n用之印星不可破，是指身弱的情况下。财旺破印主克母，自己也有病。\n\n女命以印为用，嫁理想之丈夫。命中有印，平生好敬神佛。\n\n为纯精神型十神。淡薄名利、注重荣誉、好学多思、博爱无私。印星者，善于思考，疏于实践。\n\n 1. 为喜用者：具有慈悲心肠，富有浓厚的人情味，待人重情、重义。其人有大志，聪明多智慧，大智若愚、内涵不露。思考力丰富，有随机应变的才能。相貌体态丰满，平生富态安祥。一生体健少病，无大险。（学历、荣誉、地位、靠山、贵人）\n\n 2. 为忌用者：（休学、失业、损名、贫穷、懒 惰、疾病）\n\n\n# （ 六）偏印（枭神）\n\n偏印性好夺食，称其为枭。相传枭是上古时一种猛禽，从不自己觅食，专夺别人现成的食物。偏印有制为好，枭神多易有色情之灾，车祸官非口舌、克子女等。本身易生暗疾。\n\n偏印为继母，有时也为父亲。\n\n枭神人性格多变，疑心重不轻易信任别人，朋友多难知心。其人貌丑身矮小，胆怯心虚，凡事无成。克害六亲严重，小时克母，长大克妻。太过者，优柔寡断，不切实际，懒惰、爱睡觉、办事虎头蛇尾，没长性，有始无终。\n\n为精神型十神。思想怪异，深具创造力。精明能干，缺少人情味。枭神者，排斥他人他物，偏业之人。\n\n 1. 为喜用者：（偏业、思想上的成就，学术、荣誉、地位）\n\n 2. 为忌用者：（病灾、不雅的胎记疤痕及痣。破财、休学、失业，伤克子女）\n\n\n# （七）食神\n\n食神表示长寿之星、吃穿、衣禄、头脑、思想 、投资、子女、是忠孝的标志。\n\n其性格：为人宽宏大量、优游自主、多福多寿、心宽体胖，精神健旺不喜与人争，为人厚道，讲道德。有君子之风。富有审美及艺术欣赏力。\n\n食神的作用是身旺可泄身生财，身弱可制官杀与之抗衡。无官杀，食又太过贱命一条，头脑迟顿，口语不清，甚至痴呆、傻子，极易上当受骗。如身旺，食神见官杀两失其用，导致身旺无泄。与伤官见官同论。\n\n命带食神大多都为好命，1、可泄旺身、2、可制官杀。故食神被称做福将，长寿之星。\n\n为精神型十神。聪明仁慈、通情达理，乐于奉献。食神者，优游自足、随遇而安，和气生财、与世无争。\n\n 1. 为喜用者：（平安、福气、多才多艺、经济福裕 、身体健康）\n\n 2. 为忌用者：（疾病、劳累、贫困）\n\n\n# （八）伤官\n\n伤官代表人的口才好，能说会道，聪明伶俐，机智灵巧的特性。有外交家的天赋与风度。平生爱好广泛，有艺术才能，性格外向开朗、活泼、爱说爱笑。但有时爱空想，不切实际。\n\n伤官人有独立性，不依赖他人，有抗上心理，爱与当官的做对，气量狭窄有冤必报。叛逆、难以管束，本人也不愿受约束，崇尚自由。\n\n为精神和物质矛盾型十神。才华横溢，大胆泼辣，斗志昂扬，狂傲乖张。刚愎自用，言语尖锐，气量狭小是其主要特点。伤官者，欲望强烈永不满足。\n\n 1. 为喜用者：（多才多艺、技术成果、升职、富裕）\n\n 2. 为忌用者：（官灾、降职失业、病退休学、伤病灾）\n\n\n# （九）比肩\n\n比肩代表兄弟姐妹，朋友、战友、同学、同辈中人。比肩有帮身的作用，身旺为忌则克父克妻。\n\n比肩人性格：自尊心强，与人不和，独断专行，刚愎自用，好施展权威，坚持己见，好发号施令，为人好强，要面子。不服输，敢做敢为，敢拼敢闯，好管闲事，轻财好友。有组织管理才能，特别关心自己的部下，或朋友，受到拥护。为人讲究，但有抗上心理，喜自由，不愿受管制。\n\n比肩身弱可帮身，身旺夺财，大多夫妻不和，易有婚变之灾，如组合不好，婚后易有色情之灾，古有天干一气格，为富贵之命。又有专旺格：曰木曲直、水润下、火炎上、金从革、土稼蔷。\n\n身旺有比肩：以官为用大贵。以食伤为用利文途，学业有成，文章振发。以财为用大富，但起伏大，不长久。\n\n为物质型十神，其本性偏向于凶神。比肩之人自信自尊，好攀比，不服输，有自知之明。比肩者，人不犯我，我不犯人。\n\n 1. 为喜用者：（多得兄弟姐妹、朋友助益，竞争中得名得利，富裕）\n\n 2. 为忌用者：（官非口舌、破财、病灾、婚灾）\n\n\n# （十）劫财（羊刃）\n\n劫才的特性与比肩一样，身旺有比劫，其人好吹牛说大话，好色、贪酒赌博成性。喜投机，但贪小失大，对钱财挥霍无度。为忌则薄情寡义，兄弟不睦，男女婚姻不顺的明显标志，也是破财受拖累的标志。\n\n为物质型十神。自信、武断，斗志高昂，以行动解决问题；投机取巧，野心勃勃；人不犯我，我也犯人。\n\n 1. 为喜用者：（意志坚强、竞争得利、事业有成）\n\n 2. 为忌用者：（打架斗殴、偷盗抢劫、官灾牢狱，破财病灾、克妻、克夫、克父，贫寒）",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"朋友",frontmatter:{title:"朋友",sidebar:!1,isShowComments:!0,reward:!1},regularPath:"/other/friends.html",relativePath:"other/friends.md",key:"v-39a59218",path:"/other/friends.html",headers:[{level:3,title:"高质量友人帐",slug:"高质量友人帐",normalizedTitle:"高质量友人帐",charIndex:2},{level:3,title:"友链互换",slug:"友链互换",normalizedTitle:"友链互换",charIndex:2511}],headersStr:"高质量友人帐 友链互换",content:"# 高质量友人帐\n\n * 朋友丰富人生 —— 林肯\n * 展示所有友情站点，排名不分先后！\n * 稍息，立正。欢迎入队！👍\n\n午后南杂\n\nEnjoy when you can, and endure when you must.\n\nznote\n\n荷尽已无擎雨盖，菊残犹有傲霜枝。\n\nEvan's blog\n\n积跬步以至千里，致敬每个爱学习的你。\n\n友人c\n\n只要心还眺。\n\n田小波\n\n欢迎访问田小波的技术博客。\n\n易良同学的博客\n\n正在努力！\n\n会飞的小弋\n\n喜欢大数据，嵌入式和机器视觉\n\n站位等待中...\n\n稍息，立正。欢迎入队！👍\n\n- name: 午后南杂\n  avatar: https://www.recoluan.com/head.png\n  desc: Enjoy when you can, and endure when you must.\n  link: https://www.recoluan.com\n  bgColor: 'rgb(165 216 243)'\n  textColor: '#6854A1'\n#- name: 青灯有味\n#  desc: 闹里有钱，静外安身。\n#  avatar: https://zscnb.gitee.io/logo.png\n#  link: https://zscnb.gitee.io/\n#  bgColor: '#FCE5BF'\n#  textColor: '#7B2532'\n- name: znote\n  desc: 荷尽已无擎雨盖，菊残犹有傲霜枝。\n  avatar: https://zpj80231.gitee.io/vuepress/head-fish.jpg\n  link: https://zpj80231.gitee.io/\n  bgColor: '#FCDBA0'\n  textColor: '#A05F2C'\n#- name: 有梦想的咸鱼\n#  desc: 我不能克制我记几。\n#  avatar: https://blog.liudongyang.top/head-logo.gif\n#  link: https://blog.liudongyang.top\n#  bgColor: '#1abc9c'\n#  textColor: '#c0392b'\n- name: Evan's blog\n  avatar: https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200103123203.jpg\n  desc: 积跬步以至千里，致敬每个爱学习的你。\n  link: https://xugaoyi.com/\n  bgColor: '#2980b9'\n  textColor: '#ecf0f1'\n- name: 友人c\n  avatar: https://www.ihewro.com/usr/uploads/2020/02/863730882.jpg\n  desc: 只要心还眺。\n  link: https://www.ihewro.com/\n  bgColor: 'rgb(136,181,214)'\n  textColor: 'rgb(249,249,249)'\n- name: 田小波\n  avatar: https://www.tianxiaobo.com/images/tx.png\n  desc: 欢迎访问田小波的技术博客。\n  link: https://www.tianxiaobo.com/\n  bgColor: '#B39CD0'\n  textColor: '#FBEAFF'\n- name: 易良同学的博客\n  desc: 正在努力！\n  avatar: https://yiliang.site/assets/images/avatar.jpeg\n  link: https://yiliang.site\n  bgColor: 'rgb(220 218 218)'\n  textColor: '#2c3e50' \n- name: 会飞的小弋\n  link: https://lovelijunyi.gitee.io/\n  avatar: https://gitee.com/lovelijunyi/images/raw/master/20200404135847.jpg\n  desc: 喜欢大数据，嵌入式和机器视觉\n  bgColor: 'rgb(243 126 126)'\n  textColor: 'rgb(102 48 72)'\n- name: 站位等待中...\n  link: \n  avatar: \n  desc: 稍息，立正。欢迎入队！👍\n  bgColor: 'rgb(157 156 186)'\n  textColor: 'rgb(252 249 247)'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nFor you\n\n你若盛开，清风自来。\n\nTo me\n\n心若浮沉，浅笑安然。\n\n- img: /img/other/5666c8e4-867a-3356-9708-6ba918e87853.jpg\n  link: /other/friends.html\n  name: For you\n  desc: 你若盛开，清风自来。\n- img: /img/other/4ec4e5f0-947b-3abe-9e8b-47bad5b8cf1c.jpg\n  link: /about/index.html\n  name: To me\n  desc: 心若浮沉，浅笑安然。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 友链互换\n\n如需友链，请 联系我 或 留言👇 告知，格式如下：\n\n- name: znote\n  desc: 荷尽已无擎雨盖，菊残犹有傲霜枝\n  avatar: https://zpj80231.github.io/vuepress/head-fish.jpg\n  link: https://zpj80231.github.io/\n  bgColor: '#FCDBA0'\n  textColor: '#A05F2C'\n\n\n1\n2\n3\n4\n5\n6\n\n * 颜色仅供参考。\n * 站点要求：内容合法、非营利性。\n * 申请前请记得先添加本站哦～",normalizedContent:"# 高质量友人帐\n\n * 朋友丰富人生 —— 林肯\n * 展示所有友情站点，排名不分先后！\n * 稍息，立正。欢迎入队！👍\n\n午后南杂\n\nenjoy when you can, and endure when you must.\n\nznote\n\n荷尽已无擎雨盖，菊残犹有傲霜枝。\n\nevan's blog\n\n积跬步以至千里，致敬每个爱学习的你。\n\n友人c\n\n只要心还眺。\n\n田小波\n\n欢迎访问田小波的技术博客。\n\n易良同学的博客\n\n正在努力！\n\n会飞的小弋\n\n喜欢大数据，嵌入式和机器视觉\n\n站位等待中...\n\n稍息，立正。欢迎入队！👍\n\n- name: 午后南杂\n  avatar: https://www.recoluan.com/head.png\n  desc: enjoy when you can, and endure when you must.\n  link: https://www.recoluan.com\n  bgcolor: 'rgb(165 216 243)'\n  textcolor: '#6854a1'\n#- name: 青灯有味\n#  desc: 闹里有钱，静外安身。\n#  avatar: https://zscnb.gitee.io/logo.png\n#  link: https://zscnb.gitee.io/\n#  bgcolor: '#fce5bf'\n#  textcolor: '#7b2532'\n- name: znote\n  desc: 荷尽已无擎雨盖，菊残犹有傲霜枝。\n  avatar: https://zpj80231.gitee.io/vuepress/head-fish.jpg\n  link: https://zpj80231.gitee.io/\n  bgcolor: '#fcdba0'\n  textcolor: '#a05f2c'\n#- name: 有梦想的咸鱼\n#  desc: 我不能克制我记几。\n#  avatar: https://blog.liudongyang.top/head-logo.gif\n#  link: https://blog.liudongyang.top\n#  bgcolor: '#1abc9c'\n#  textcolor: '#c0392b'\n- name: evan's blog\n  avatar: https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200103123203.jpg\n  desc: 积跬步以至千里，致敬每个爱学习的你。\n  link: https://xugaoyi.com/\n  bgcolor: '#2980b9'\n  textcolor: '#ecf0f1'\n- name: 友人c\n  avatar: https://www.ihewro.com/usr/uploads/2020/02/863730882.jpg\n  desc: 只要心还眺。\n  link: https://www.ihewro.com/\n  bgcolor: 'rgb(136,181,214)'\n  textcolor: 'rgb(249,249,249)'\n- name: 田小波\n  avatar: https://www.tianxiaobo.com/images/tx.png\n  desc: 欢迎访问田小波的技术博客。\n  link: https://www.tianxiaobo.com/\n  bgcolor: '#b39cd0'\n  textcolor: '#fbeaff'\n- name: 易良同学的博客\n  desc: 正在努力！\n  avatar: https://yiliang.site/assets/images/avatar.jpeg\n  link: https://yiliang.site\n  bgcolor: 'rgb(220 218 218)'\n  textcolor: '#2c3e50' \n- name: 会飞的小弋\n  link: https://lovelijunyi.gitee.io/\n  avatar: https://gitee.com/lovelijunyi/images/raw/master/20200404135847.jpg\n  desc: 喜欢大数据，嵌入式和机器视觉\n  bgcolor: 'rgb(243 126 126)'\n  textcolor: 'rgb(102 48 72)'\n- name: 站位等待中...\n  link: \n  avatar: \n  desc: 稍息，立正。欢迎入队！👍\n  bgcolor: 'rgb(157 156 186)'\n  textcolor: 'rgb(252 249 247)'\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\nfor you\n\n你若盛开，清风自来。\n\nto me\n\n心若浮沉，浅笑安然。\n\n- img: /img/other/5666c8e4-867a-3356-9708-6ba918e87853.jpg\n  link: /other/friends.html\n  name: for you\n  desc: 你若盛开，清风自来。\n- img: /img/other/4ec4e5f0-947b-3abe-9e8b-47bad5b8cf1c.jpg\n  link: /about/index.html\n  name: to me\n  desc: 心若浮沉，浅笑安然。\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 友链互换\n\n如需友链，请 联系我 或 留言👇 告知，格式如下：\n\n- name: znote\n  desc: 荷尽已无擎雨盖，菊残犹有傲霜枝\n  avatar: https://zpj80231.github.io/vuepress/head-fish.jpg\n  link: https://zpj80231.github.io/\n  bgcolor: '#fcdba0'\n  textcolor: '#a05f2c'\n\n\n1\n2\n3\n4\n5\n6\n\n * 颜色仅供参考。\n * 站点要求：内容合法、非营利性。\n * 申请前请记得先添加本站哦～",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"此一去不过经年，再回首不复往昔",frontmatter:{title:"此一去不过经年，再回首不复往昔",date:"2022-11-09T15:54:56.000Z",tags:["随笔"],categories:["Essay"],sticky:1,isShowComments:!0},regularPath:"/views/essay/20191109.html",relativePath:"views/essay/20191109.md",key:"v-31c2ba62",path:"/views/essay/20191109.html",headers:[{level:2,title:"浪费的时间",slug:"浪费的时间",normalizedTitle:"浪费的时间",charIndex:38},{level:2,title:"学习",slug:"学习",normalizedTitle:"学习",charIndex:709},{level:2,title:"我这是怎么了",slug:"我这是怎么了",normalizedTitle:"我这是怎么了",charIndex:1231}],excerpt:"<Boxx/>\n<p>不知道怎么开头，就是想写点东西，然后记录一下自己，嗯，就这么简单。</p>\n",headersStr:"浪费的时间 学习 我这是怎么了",content:"不知道怎么开头，就是想写点东西，然后记录一下自己，嗯，就这么简单。\n\n\n# 浪费的时间\n\n不知不觉北京深秋已过，渐入初冬了。而我自工作以来，似乎是适应了北京的这种快节奏和生活。\n\n上班，下班，吃饭，睡觉，单位宿舍两点一线，属于自己的时间很少，不对，不是很少，只不过是都用来做无用功了，无意义的加班、游戏以及挤地铁。\n\n每个人都生活在自己的舒适区，一旦我们适应了这种生活就很难做出改变，同样，也就很难成长。\n\n而我已不自觉的掉了进去，当然，更多的还是自己对时间概念认识的不足。\n\n前几天看到时间管理中与“墨菲定律”、“彼得原理”同样有趣的定律是“帕金森定理”，第一次看到“帕金森”这个词，我不禁想到了一代传奇人物尼古拉斯赵四，哈哈，赵四跳舞，大个儿说：没有精神病还真跳不出这帕金森的感觉！\n\n帕金森定理按我的理解通俗来讲：就是不管给你的一项工作分配多少时间，这项工作总会膨胀使用完这段时间。\n\n举个例子，就好比当时上大学的时候，老师布置的作业，不管给你三天、五天、一个月，但在这段时间内，我们总是会找各种借口去拖延，去占用这段时间，在完成作业或任务的时候往往是最后那几天。\n\n无奈吧，但这就是拖延的后果，令人沮丧。\n\n同时也通俗的介绍一下墨菲定律和彼得原理吧：\n\n * 墨菲定律：越害怕（担心）什么，就越会发生什么。\n * 彼得原理：一个人的能力和要提升的职位不相匹配，从公司角度出发短期内可能看不出来有什么不好的地方，但长远来看，会对公司对组织的长远发展造成不利影响。\n\n所以，我给自己总结一招就是：简单的事情简单做，复杂的事情简单做。手机上也下载了ToDo，就像微软介绍的那样，就从“我的一天”开始吧。\n\n\n\n\n# 学习\n\n前端时间一直在搞自己的博客，从之前的hexo迁到了新兴的vuepress，从而认识了vuepress-theme-reco这里的好多小伙伴。\n\n有幸，我的博客被当做“Nice Blog Examples”被展示在了官网上供其他人交流和参考。\n\n\n\n话说回来，除了做博客之外，这段时间也真的学了不少，Vue、JWT、Mq、Redis、SpringBoot、SpringCloud，且不说工作中有没有用到，但奈何都只是皮毛，更何况学的多又杂，很多的知识层面都只是停留在基础上或者会用上，更多的原理、底层都还需要挖掘。\n\n虽然大部分知识都过了一遍，但脑子里还没形成自己的架构，这就真的是没有学透。\n\n好比Vue，之前跟着教程学了一遍敲了个项目在github上，也有十几个人start了，但前段时间有人问我问题的时候，内心动态是这样的：“我去，什么鬼，当时为什么这样写？”，事情往往就是这样，刚学完的时候感觉，嗯，也还可以，但时间长不接触或者不看之后，真的是会忘的。\n\n怎么说呢，知识这种东西，学过一遍和没学过是不一样的，我可能忘了它，但我的骨子里已经有了它。\n\n希望它没有忘记我吧！\n\n只能找个时间再学一遍了，来，ToDo，安排上！\n\n\n# 我这是怎么了\n\n每隔一段时间，就忍不住想写写东西，明明心里有话但就是敲不出来。\n\n定个目标：每月抽些时间，随笔也好，记录也罢，总得要拿些东西出来的呀！\n\n可能对于那些“不存在读者”来说，这些文字就是一些乱七八糟的鸡汤，但对我来说，是对我过去的一些记录也是对我之后的一点鼓励。\n\n搞了一个小时就这样吧！2333",normalizedContent:"不知道怎么开头，就是想写点东西，然后记录一下自己，嗯，就这么简单。\n\n\n# 浪费的时间\n\n不知不觉北京深秋已过，渐入初冬了。而我自工作以来，似乎是适应了北京的这种快节奏和生活。\n\n上班，下班，吃饭，睡觉，单位宿舍两点一线，属于自己的时间很少，不对，不是很少，只不过是都用来做无用功了，无意义的加班、游戏以及挤地铁。\n\n每个人都生活在自己的舒适区，一旦我们适应了这种生活就很难做出改变，同样，也就很难成长。\n\n而我已不自觉的掉了进去，当然，更多的还是自己对时间概念认识的不足。\n\n前几天看到时间管理中与“墨菲定律”、“彼得原理”同样有趣的定律是“帕金森定理”，第一次看到“帕金森”这个词，我不禁想到了一代传奇人物尼古拉斯赵四，哈哈，赵四跳舞，大个儿说：没有精神病还真跳不出这帕金森的感觉！\n\n帕金森定理按我的理解通俗来讲：就是不管给你的一项工作分配多少时间，这项工作总会膨胀使用完这段时间。\n\n举个例子，就好比当时上大学的时候，老师布置的作业，不管给你三天、五天、一个月，但在这段时间内，我们总是会找各种借口去拖延，去占用这段时间，在完成作业或任务的时候往往是最后那几天。\n\n无奈吧，但这就是拖延的后果，令人沮丧。\n\n同时也通俗的介绍一下墨菲定律和彼得原理吧：\n\n * 墨菲定律：越害怕（担心）什么，就越会发生什么。\n * 彼得原理：一个人的能力和要提升的职位不相匹配，从公司角度出发短期内可能看不出来有什么不好的地方，但长远来看，会对公司对组织的长远发展造成不利影响。\n\n所以，我给自己总结一招就是：简单的事情简单做，复杂的事情简单做。手机上也下载了todo，就像微软介绍的那样，就从“我的一天”开始吧。\n\n\n\n\n# 学习\n\n前端时间一直在搞自己的博客，从之前的hexo迁到了新兴的vuepress，从而认识了vuepress-theme-reco这里的好多小伙伴。\n\n有幸，我的博客被当做“nice blog examples”被展示在了官网上供其他人交流和参考。\n\n\n\n话说回来，除了做博客之外，这段时间也真的学了不少，vue、jwt、mq、redis、springboot、springcloud，且不说工作中有没有用到，但奈何都只是皮毛，更何况学的多又杂，很多的知识层面都只是停留在基础上或者会用上，更多的原理、底层都还需要挖掘。\n\n虽然大部分知识都过了一遍，但脑子里还没形成自己的架构，这就真的是没有学透。\n\n好比vue，之前跟着教程学了一遍敲了个项目在github上，也有十几个人start了，但前段时间有人问我问题的时候，内心动态是这样的：“我去，什么鬼，当时为什么这样写？”，事情往往就是这样，刚学完的时候感觉，嗯，也还可以，但时间长不接触或者不看之后，真的是会忘的。\n\n怎么说呢，知识这种东西，学过一遍和没学过是不一样的，我可能忘了它，但我的骨子里已经有了它。\n\n希望它没有忘记我吧！\n\n只能找个时间再学一遍了，来，todo，安排上！\n\n\n# 我这是怎么了\n\n每隔一段时间，就忍不住想写写东西，明明心里有话但就是敲不出来。\n\n定个目标：每月抽些时间，随笔也好，记录也罢，总得要拿些东西出来的呀！\n\n可能对于那些“不存在读者”来说，这些文字就是一些乱七八糟的鸡汤，但对我来说，是对我过去的一些记录也是对我之后的一点鼓励。\n\n搞了一个小时就这样吧！2333",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"微信",frontmatter:{title:"微信",isShowComments:!0},regularPath:"/other/wx.html",relativePath:"other/wx.md",key:"v-2dbcc420",path:"/other/wx.html",headers:[{level:2,title:"微信二维码",slug:"微信二维码",normalizedTitle:"微信二维码",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"微信二维码",content:" * 微信二维码\n\n\n\n\n# 微信二维码\n\n",normalizedContent:" * 微信二维码\n\n\n\n\n# 微信二维码\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"不要在命运需要你逆风飞翔时，选择随风而去",frontmatter:{title:"不要在命运需要你逆风飞翔时，选择随风而去",date:"2022-09-28T20:53:26.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20190928.html",relativePath:"views/essay/20190928.md",key:"v-326b3efa",path:"/views/essay/20190928.html",headers:[{level:2,title:"无聊之时",slug:"无聊之时",normalizedTitle:"无聊之时",charIndex:2}],excerpt:'<Boxx/>\n<h2 id="无聊之时"><a class="header-anchor" href="#无聊之时">#</a> 无聊之时</h2>\n<p>你是否有过这样的经历，在黄昏时分被一种浓浓的情绪气氛笼罩着，无限的压抑、茫然、空虚和无所适从，情感没有依托，你感觉“抓”不住任何东西，世界像个巨大的空洞，任何事物进人，都被消解。你甚至对自己陌生……，你想逃离，它却如影随形。</p>\n',headersStr:"无聊之时",content:"# 无聊之时\n\n你是否有过这样的经历，在黄昏时分被一种浓浓的情绪气氛笼罩着，无限的压抑、茫然、空虚和无所适从，情感没有依托，你感觉“抓”不住任何东西，世界像个巨大的空洞，任何事物进人，都被消解。你甚至对自己陌生……，你想逃离，它却如影随形。\n\n或是在寂静的夜里，你感觉时间滴滴答答仿佛吞噬着你的生命，而你却在窒息的、无能为力的绝望中遇见了另一个自己，那个隐藏的很深的超越你自己的真正的自己。\n\n……\n\n告别无聊：\n\n> 从小事情做起，从细节入手。\n> 首先恢复信心，重新激发生活的热情！你可以采取以下建议：\n\n * You Can Do It！勇敢不是不害怕，而是害怕的时候你还能坚持去做！\n\nTO    DO\n1.    做自己喜欢做的事情，做自己擅长的事情，找回成功的喜悦，找回失去的信心，找到前进动力和方向；\n2.    心累了，人烦恼了就歇歇，让心灵去旅行，可以去爬山，看海，感受壮丽风光，拥抱自然，融入自然；\n3.    可以做喜欢的运动发泄一些，推荐篮球，散步和跑步。跑步可以锻炼身体，锻炼和提高人的意志；\n4.    可以找知心朋友小聚，小酌几杯，向朋友倾诉，让温馨的友情驱散你内心的无聊，苦闷和孤独；\n5.    多和家人聊天，或者打电话，加强沟通，增进感情，告诉家人，我爱他们；\n6.    寻找知心恋人，让爱情升华你的情感，点缀你的生活，照亮你的灵魂；\n7.    如果有什么烦恼不方便和朋友，家人说的，可以上网于陌生人聊天，倾吐一下，也可以找到新的朋友；\n8.    在网上写日记，记下生活的点滴；\n9.    可以和三五知己逛街购物，说不定有意外的便宜货或者意外的美食在等着你，从中你可以收获意外的惊喜;\n10.   好好学习，找到学习的乐趣，不断进步，提高自己的学习成绩，结合自己的兴趣多看有关书籍，规划好自己的专业和就业道路，规划好自己的人生道路；\n11.   可以和家人适当地观看自己喜爱的电视剧，同时又可以和家人聊聊天，增进感情；\n12.   可以阅读自己感兴趣的书籍，开拓视野，增长见闻，丰富知识，为学习和工作打下良好的基础；\n13.   可以练练书法，画画，钢琴或者其它乐器，陶冶情操，增加气质；\n14.   提倡绿色上网，看看新闻，适当玩玩游戏，但是不是沉迷，这样可以打发时间；\n15.   适当地在家里做家务，这样既可以保持卫生，有可以得到家人的赞扬，可以得到生活的乐趣；\n16.   夕阳西下，来到野外寻找蒲公英，对着夕阳，迎着晚风轻轻一吹，那就是我飞扬的蒲公英；\n17.   睡不着的时候，可以想象你可以让谁开心，帮助别人是对自己最大的回报！\n\nOK，写给自己同时分享给别人，以后无聊的时候不要再没事做啦！",normalizedContent:"# 无聊之时\n\n你是否有过这样的经历，在黄昏时分被一种浓浓的情绪气氛笼罩着，无限的压抑、茫然、空虚和无所适从，情感没有依托，你感觉“抓”不住任何东西，世界像个巨大的空洞，任何事物进人，都被消解。你甚至对自己陌生……，你想逃离，它却如影随形。\n\n或是在寂静的夜里，你感觉时间滴滴答答仿佛吞噬着你的生命，而你却在窒息的、无能为力的绝望中遇见了另一个自己，那个隐藏的很深的超越你自己的真正的自己。\n\n……\n\n告别无聊：\n\n> 从小事情做起，从细节入手。\n> 首先恢复信心，重新激发生活的热情！你可以采取以下建议：\n\n * you can do it！勇敢不是不害怕，而是害怕的时候你还能坚持去做！\n\nto    do\n1.    做自己喜欢做的事情，做自己擅长的事情，找回成功的喜悦，找回失去的信心，找到前进动力和方向；\n2.    心累了，人烦恼了就歇歇，让心灵去旅行，可以去爬山，看海，感受壮丽风光，拥抱自然，融入自然；\n3.    可以做喜欢的运动发泄一些，推荐篮球，散步和跑步。跑步可以锻炼身体，锻炼和提高人的意志；\n4.    可以找知心朋友小聚，小酌几杯，向朋友倾诉，让温馨的友情驱散你内心的无聊，苦闷和孤独；\n5.    多和家人聊天，或者打电话，加强沟通，增进感情，告诉家人，我爱他们；\n6.    寻找知心恋人，让爱情升华你的情感，点缀你的生活，照亮你的灵魂；\n7.    如果有什么烦恼不方便和朋友，家人说的，可以上网于陌生人聊天，倾吐一下，也可以找到新的朋友；\n8.    在网上写日记，记下生活的点滴；\n9.    可以和三五知己逛街购物，说不定有意外的便宜货或者意外的美食在等着你，从中你可以收获意外的惊喜;\n10.   好好学习，找到学习的乐趣，不断进步，提高自己的学习成绩，结合自己的兴趣多看有关书籍，规划好自己的专业和就业道路，规划好自己的人生道路；\n11.   可以和家人适当地观看自己喜爱的电视剧，同时又可以和家人聊聊天，增进感情；\n12.   可以阅读自己感兴趣的书籍，开拓视野，增长见闻，丰富知识，为学习和工作打下良好的基础；\n13.   可以练练书法，画画，钢琴或者其它乐器，陶冶情操，增加气质；\n14.   提倡绿色上网，看看新闻，适当玩玩游戏，但是不是沉迷，这样可以打发时间；\n15.   适当地在家里做家务，这样既可以保持卫生，有可以得到家人的赞扬，可以得到生活的乐趣；\n16.   夕阳西下，来到野外寻找蒲公英，对着夕阳，迎着晚风轻轻一吹，那就是我飞扬的蒲公英；\n17.   睡不着的时候，可以想象你可以让谁开心，帮助别人是对自己最大的回报！\n\nok，写给自己同时分享给别人，以后无聊的时候不要再没事做啦！",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"IDEA MyBatisCodeHelper-Pro-3.1.9 最新版破解",frontmatter:{title:"IDEA MyBatisCodeHelper-Pro-3.1.9 最新版破解",date:"2023-05-19T00:00:00.000Z",tags:["破解","IDEA"],categories:["Abstract"],isShowComments:!0},regularPath:"/views/crack/mybatiscodehelperprocrack.html",relativePath:"views/crack/mybatiscodehelperprocrack.md",key:"v-1193d347",path:"/views/crack/mybatiscodehelperprocrack.html",headers:[{level:2,title:"下载 MyBatisCodeHelper-Pro",slug:"下载-mybatiscodehelper-pro",normalizedTitle:"下载 mybatiscodehelper-pro",charIndex:186},{level:2,title:"下载 cfr",slug:"下载-cfr",normalizedTitle:"下载 cfr",charIndex:214},{level:2,title:"使用 Javassist 修改类文件",slug:"使用-javassist-修改类文件",normalizedTitle:"使用 javassist 修改类文件",charIndex:224},{level:2,title:"替换 jar 包的对应 class 文件",slug:"替换-jar-包的对应-class-文件",normalizedTitle:"替换 jar 包的对应 class 文件",charIndex:246},{level:2,title:"查看结果",slug:"查看结果",normalizedTitle:"查看结果",charIndex:270}],excerpt:"<Boxx/>\n<p>MyBatisCodeHelper-Pro 是我一直使用的一款 IDEA 插件，和其他同类型插件相比，它的代码生成和自动补全等功能帮我极大的提升了开发效率。</p>\n<p>但必须收费版才能体验到这些强大的功能，而我一直是 idea 最新版用户，网上一些 MyBatisCodeHelper-Pro 2.x 破解老版本不适用，所以搜集了一些资料，最终出来这个最新版的破解。</p>\n",headersStr:"下载 MyBatisCodeHelper-Pro 下载 cfr 使用 Javassist 修改类文件 替换 jar 包的对应 class 文件 查看结果",content:'MyBatisCodeHelper-Pro 是我一直使用的一款 IDEA 插件，和其他同类型插件相比，它的代码生成和自动补全等功能帮我极大的提升了开发效率。\n\n但必须收费版才能体验到这些强大的功能，而我一直是 idea 最新版用户，网上一些 MyBatisCodeHelper-Pro 2.x 破解老版本不适用，所以搜集了一些资料，最终出来这个最新版的破解。\n\n\n\n * 下载 MyBatisCodeHelper-Pro\n * 下载 cfr\n * 使用 Javassist 修改类文件\n * 替换 jar 包的对应 class 文件\n * 查看结果\n\n\n\n> 提前申明：\n> \n> 这篇文章只用于作者个人记录，任何人不得转载、分享。不转发不扩散，如因此造成的任何损失或其他影响，本人概不承担。\n> \n> MyBatisCodeHelper-Pro 是一款很不错的 IDEA 插件，有能力的还是购买正版授权。\n> \n> 如官方侵权或产生其他影响请联系我立即删除。\n\n\n# 下载 MyBatisCodeHelper-Pro\n\n在 idea 插件市场：https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro/versions 下载所需版本。\n\n下载目前最新版：MybatisCodeHelperNew-3.1.9.zip。解压，找到 jar 包：MyBatisCodeHelper-Pro-obfuss.jar。\n\n\n# 下载 cfr\n\n一个 Java 反编译器，官网：https://www.benf.org/other/cfr\n\n下载好后，将 cfr-0.152.jar 和 MyBatisCodeHelper-Pro-obfuss.jar 放在同一目录下，执行命令：\n\njava -jar cfr-0.152.jar MyBatisCodeHelper-Pro-obfuss.jar --renamedupmembers true --hideutf false >> a.txt\n\n\n1\n\n\n等待数秒钟命令执行完毕，分析 a.txt 文件：\n\n 1. 最终定位到：搜索 @SerializedName(value="validTo")\n\n/*\n * Decompiled with CFR 0.152.\n * \n * Could not load the following classes:\n *  com.google.gson.annotations.SerializedName\n *  kotlin.TypeCastException\n */\npackage com.ccnode.codegenerator.e.f;\n\nimport com.ccnode.codegenerator.myconfigurable.DomainObject;\nimport com.google.gson.annotations.SerializedName;\nimport kotlin.TypeCastException;\n\npublic class c {\n    // 付费密钥\n    @SerializedName(value="paidKey")\n    private String e;\n    // 校验是否通过\n    @SerializedName(value="valid")\n    private Boolean c;\n    // 机器码，激活时会显示\n    @SerializedName(value="userMac")\n    private String a;\n    // 激活的截至日期\n    @SerializedName(value="validTo")\n    private Long b;\n    private static String d;\n    private static final String[] bb;\n    private static final String[] cb;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n我加了注释，然后我们使用 Java 字节码技术修改这个类的各个属性 get 方法，使之直接返回正确的值即可。\n\n 2. 通过上述方法随便输入激活码激活时，正常都是成功的，但有的可能会发现激活是吧，报错：base64解密异常，分析报错信息\n\n最终定位到：打开 a.txt，搜索 private static Gson\n\n找到如下所在的包及类：\n\n/*\n * Decompiled with CFR 0.152.\n * \n * Could not load the following classes:\n *  com.google.gson.Gson\n */\npackage com.ccnode.codegenerator.e.e;\n\nimport com.ccnode.codegenerator.e.e.c;\nimport com.google.gson.Gson;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Base64;\n\npublic class a {\n    private static Gson a;\n    private static final String[] bb;\n    private static final String[] cb;\n\n    public static com.ccnode.codegenerator.e.f.c a(String string) {\n        String string2;\n        byte[] byArray = c.b(c.b(com.ccnode.codegenerator.e.e.a.b(-25012, 31799)), Base64.getDecoder().decode(string));\n        com.ccnode.codegenerator.e.f.c c2 = null;\n        try {\n            string2 = new String(byArray, com.ccnode.codegenerator.e.e.a.b(-25009, -31477));\n        }\n        catch (UnsupportedEncodingException unsupportedEncodingException) {\n            throw new RuntimeException(unsupportedEncodingException);\n        }\n        try {\n            c2 = (com.ccnode.codegenerator.e.f.c)a.fromJson(string2, com.ccnode.codegenerator.e.f.c.class);\n        }\n        catch (Exception exception) {\n            throw new RuntimeException(com.ccnode.codegenerator.e.e.a.b(-25010, -18101) + string2, exception);\n        }\n        return c2;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n其实想想也是，肯定是这个类解析转换为指定信息，然后给了第一步的 com.ccnode.codegenerator.e.f.c。看他里面逻辑无非就是 base64 解析，然后 gson 转换。直接修改这个类即可。\n\n\n# 使用 Javassist 修改类文件\n\n添加 maven 依赖：\n\n<dependency>\n    <groupId>org.javassist</groupId>\n    <artifactId>javassist</artifactId>\n    <version>3.25.0-GA</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n如上分析，主要修改的就是 com.ccnode.codegenerator.e.e.a 的 a 方法。\n\n    public static void main(String[] args) throws NotFoundException, CannotCompileException, IOException {\n        // 加载类\n        ClassPool classPool = ClassPool.getDefault();\n        // 直接使用 jar 路径\n        classPool.appendClassPath("Downloads\\\\Compressed\\\\MyBatisCodeHelper-Pro-obfuss.jar");\n        classPool.appendClassPath("maven\\\\repositroy\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10.1\\\\gson-2.10.1.jar");\n        // 或者添加 class 目录\n        //classPool.appendClassPath("");\n\n        // 获取指定类\n        CtClass ctClass = classPool.get("com.ccnode.codegenerator.e.e.a");\n        CtMethod parseLicenseMethod = ctClass.getDeclaredMethod("a", new CtClass[] { classPool.get("java.lang.String") });\n        StringBuffer bodyBuff = new StringBuffer();\n        bodyBuff.append("{")\n                .append("\tcom.google.gson.Gson gson = new com.google.gson.Gson();")\n                .append("\tcom.ccnode.codegenerator.e.f.c e = (com.ccnode.codegenerator.e.f.c)gson.fromJson($1,com.ccnode.codegenerator.e.f.c.class);")\n                .append("\treturn e;")\n                .append("}");\n        parseLicenseMethod.setBody(bodyBuff.toString());\n\n        // 对修改的文件，写出到一个新文件\n        ctClass.writeFile("Downloads\\\\Compressed\\\\MyBatisCodeHelper-Pro-obfuss-3.1.9-new");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n运行完成后，会将修改的 class 文件生成到指定目录下。\n\n\n# 替换 jar 包的对应 class 文件\n\n使用压缩工具 Bandzip 或 7zip 替换都有问题。\n\n直接使用 Java 命令替换 jar 包中的指定 class 文件：\n\n// MyBatisCodeHelper-Pro-obfuss.jar 文件和 com 是同级目录\njar uvf MyBatisCodeHelper-Pro-obfuss.jar com\\ccnode\\codegenerator\\e\\e\\a.class\n// 输出结果\n// 正在添加: com/ccnode/codegenerator/e/e/a.class(输入 = 4937) (输出 = 3210)(压缩了 34%)\n\n\n1\n2\n3\n4\n\n\n这里值得注意的是 a.class 必须放在 com\\ccnode\\codegenerator\\e\\e\\a.class 文件下，要和 jar 里的的路径对应起来。\n\n贴出 jar 命令参数详解：\n\n-u 添加文件到jar包中\n-v 生成详细的报造，并输出至标准设备\n-f 指定jar包的文件名\n-c 创建一个jar包\n-t 显示jar中的内容列表\n-x 解压jar包\n-m 指定manifest.mf文件.(manifest.mf文件中可以对jar包及其中的内容作一些一设置)\n-0 产生jar包时不对其中的内容进行压缩处理\n-M 不产生所有文件的清单文件(Manifest.mf)。这个参数与忽略掉-m参数的设置\n-i 为指定的jar文件创建索引文件\n-C 表示转到相应的目录下执行jar命令,相当于cd到那个目录，然后不带-C执行jar命令\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 查看结果\n\n最后再使用 jd-gui 或其他反编译工具，先找到对应 class 文件，看一下是否替换成功。\n\n然后将更新后的这个 jar 包，替换原始 jar 包，重启 idea，按如下格式输入离线激活码激活，大功告成。\n\n{\n    "paidKey": "abcdefg",\n    "valid": true,\n    "userMac": "离线激活时显示的唯一码",\n    "validTo": 4859711999000\n}\n\n\n1\n2\n3\n4\n5\n6\n',normalizedContent:'mybatiscodehelper-pro 是我一直使用的一款 idea 插件，和其他同类型插件相比，它的代码生成和自动补全等功能帮我极大的提升了开发效率。\n\n但必须收费版才能体验到这些强大的功能，而我一直是 idea 最新版用户，网上一些 mybatiscodehelper-pro 2.x 破解老版本不适用，所以搜集了一些资料，最终出来这个最新版的破解。\n\n\n\n * 下载 mybatiscodehelper-pro\n * 下载 cfr\n * 使用 javassist 修改类文件\n * 替换 jar 包的对应 class 文件\n * 查看结果\n\n\n\n> 提前申明：\n> \n> 这篇文章只用于作者个人记录，任何人不得转载、分享。不转发不扩散，如因此造成的任何损失或其他影响，本人概不承担。\n> \n> mybatiscodehelper-pro 是一款很不错的 idea 插件，有能力的还是购买正版授权。\n> \n> 如官方侵权或产生其他影响请联系我立即删除。\n\n\n# 下载 mybatiscodehelper-pro\n\n在 idea 插件市场：https://plugins.jetbrains.com/plugin/9837-mybatiscodehelperpro/versions 下载所需版本。\n\n下载目前最新版：mybatiscodehelpernew-3.1.9.zip。解压，找到 jar 包：mybatiscodehelper-pro-obfuss.jar。\n\n\n# 下载 cfr\n\n一个 java 反编译器，官网：https://www.benf.org/other/cfr\n\n下载好后，将 cfr-0.152.jar 和 mybatiscodehelper-pro-obfuss.jar 放在同一目录下，执行命令：\n\njava -jar cfr-0.152.jar mybatiscodehelper-pro-obfuss.jar --renamedupmembers true --hideutf false >> a.txt\n\n\n1\n\n\n等待数秒钟命令执行完毕，分析 a.txt 文件：\n\n 1. 最终定位到：搜索 @serializedname(value="validto")\n\n/*\n * decompiled with cfr 0.152.\n * \n * could not load the following classes:\n *  com.google.gson.annotations.serializedname\n *  kotlin.typecastexception\n */\npackage com.ccnode.codegenerator.e.f;\n\nimport com.ccnode.codegenerator.myconfigurable.domainobject;\nimport com.google.gson.annotations.serializedname;\nimport kotlin.typecastexception;\n\npublic class c {\n    // 付费密钥\n    @serializedname(value="paidkey")\n    private string e;\n    // 校验是否通过\n    @serializedname(value="valid")\n    private boolean c;\n    // 机器码，激活时会显示\n    @serializedname(value="usermac")\n    private string a;\n    // 激活的截至日期\n    @serializedname(value="validto")\n    private long b;\n    private static string d;\n    private static final string[] bb;\n    private static final string[] cb;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n我加了注释，然后我们使用 java 字节码技术修改这个类的各个属性 get 方法，使之直接返回正确的值即可。\n\n 2. 通过上述方法随便输入激活码激活时，正常都是成功的，但有的可能会发现激活是吧，报错：base64解密异常，分析报错信息\n\n最终定位到：打开 a.txt，搜索 private static gson\n\n找到如下所在的包及类：\n\n/*\n * decompiled with cfr 0.152.\n * \n * could not load the following classes:\n *  com.google.gson.gson\n */\npackage com.ccnode.codegenerator.e.e;\n\nimport com.ccnode.codegenerator.e.e.c;\nimport com.google.gson.gson;\nimport java.io.unsupportedencodingexception;\nimport java.util.base64;\n\npublic class a {\n    private static gson a;\n    private static final string[] bb;\n    private static final string[] cb;\n\n    public static com.ccnode.codegenerator.e.f.c a(string string) {\n        string string2;\n        byte[] byarray = c.b(c.b(com.ccnode.codegenerator.e.e.a.b(-25012, 31799)), base64.getdecoder().decode(string));\n        com.ccnode.codegenerator.e.f.c c2 = null;\n        try {\n            string2 = new string(byarray, com.ccnode.codegenerator.e.e.a.b(-25009, -31477));\n        }\n        catch (unsupportedencodingexception unsupportedencodingexception) {\n            throw new runtimeexception(unsupportedencodingexception);\n        }\n        try {\n            c2 = (com.ccnode.codegenerator.e.f.c)a.fromjson(string2, com.ccnode.codegenerator.e.f.c.class);\n        }\n        catch (exception exception) {\n            throw new runtimeexception(com.ccnode.codegenerator.e.e.a.b(-25010, -18101) + string2, exception);\n        }\n        return c2;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n其实想想也是，肯定是这个类解析转换为指定信息，然后给了第一步的 com.ccnode.codegenerator.e.f.c。看他里面逻辑无非就是 base64 解析，然后 gson 转换。直接修改这个类即可。\n\n\n# 使用 javassist 修改类文件\n\n添加 maven 依赖：\n\n<dependency>\n    <groupid>org.javassist</groupid>\n    <artifactid>javassist</artifactid>\n    <version>3.25.0-ga</version>\n</dependency>\n\n\n1\n2\n3\n4\n5\n\n\n如上分析，主要修改的就是 com.ccnode.codegenerator.e.e.a 的 a 方法。\n\n    public static void main(string[] args) throws notfoundexception, cannotcompileexception, ioexception {\n        // 加载类\n        classpool classpool = classpool.getdefault();\n        // 直接使用 jar 路径\n        classpool.appendclasspath("downloads\\\\compressed\\\\mybatiscodehelper-pro-obfuss.jar");\n        classpool.appendclasspath("maven\\\\repositroy\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10.1\\\\gson-2.10.1.jar");\n        // 或者添加 class 目录\n        //classpool.appendclasspath("");\n\n        // 获取指定类\n        ctclass ctclass = classpool.get("com.ccnode.codegenerator.e.e.a");\n        ctmethod parselicensemethod = ctclass.getdeclaredmethod("a", new ctclass[] { classpool.get("java.lang.string") });\n        stringbuffer bodybuff = new stringbuffer();\n        bodybuff.append("{")\n                .append("\tcom.google.gson.gson gson = new com.google.gson.gson();")\n                .append("\tcom.ccnode.codegenerator.e.f.c e = (com.ccnode.codegenerator.e.f.c)gson.fromjson($1,com.ccnode.codegenerator.e.f.c.class);")\n                .append("\treturn e;")\n                .append("}");\n        parselicensemethod.setbody(bodybuff.tostring());\n\n        // 对修改的文件，写出到一个新文件\n        ctclass.writefile("downloads\\\\compressed\\\\mybatiscodehelper-pro-obfuss-3.1.9-new");\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n运行完成后，会将修改的 class 文件生成到指定目录下。\n\n\n# 替换 jar 包的对应 class 文件\n\n使用压缩工具 bandzip 或 7zip 替换都有问题。\n\n直接使用 java 命令替换 jar 包中的指定 class 文件：\n\n// mybatiscodehelper-pro-obfuss.jar 文件和 com 是同级目录\njar uvf mybatiscodehelper-pro-obfuss.jar com\\ccnode\\codegenerator\\e\\e\\a.class\n// 输出结果\n// 正在添加: com/ccnode/codegenerator/e/e/a.class(输入 = 4937) (输出 = 3210)(压缩了 34%)\n\n\n1\n2\n3\n4\n\n\n这里值得注意的是 a.class 必须放在 com\\ccnode\\codegenerator\\e\\e\\a.class 文件下，要和 jar 里的的路径对应起来。\n\n贴出 jar 命令参数详解：\n\n-u 添加文件到jar包中\n-v 生成详细的报造，并输出至标准设备\n-f 指定jar包的文件名\n-c 创建一个jar包\n-t 显示jar中的内容列表\n-x 解压jar包\n-m 指定manifest.mf文件.(manifest.mf文件中可以对jar包及其中的内容作一些一设置)\n-0 产生jar包时不对其中的内容进行压缩处理\n-m 不产生所有文件的清单文件(manifest.mf)。这个参数与忽略掉-m参数的设置\n-i 为指定的jar文件创建索引文件\n-c 表示转到相应的目录下执行jar命令,相当于cd到那个目录，然后不带-c执行jar命令\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 查看结果\n\n最后再使用 jd-gui 或其他反编译工具，先找到对应 class 文件，看一下是否替换成功。\n\n然后将更新后的这个 jar 包，替换原始 jar 包，重启 idea，按如下格式输入离线激活码激活，大功告成。\n\n{\n    "paidkey": "abcdefg",\n    "valid": true,\n    "usermac": "离线激活时显示的唯一码",\n    "validto": 4859711999000\n}\n\n\n1\n2\n3\n4\n5\n6\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"牢骚太盛防肠断，风物长宜放眼量",frontmatter:{title:"牢骚太盛防肠断，风物长宜放眼量",date:"2022-12-16T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20191116.html",relativePath:"views/essay/20191116.md",key:"v-29c91997",path:"/views/essay/20191116.html",headers:[{level:2,title:"游戏",slug:"游戏",normalizedTitle:"游戏",charIndex:187},{level:2,title:"订阅号",slug:"订阅号",normalizedTitle:"订阅号",charIndex:482}],headersStr:"游戏 订阅号",content:"“牢骚太盛防肠断，风物长宜放眼量” ——出自《赠柳亚子先生》\n\n意思是：你遇到一些不顺心的事，牢骚太多了，要提防有碍身心健康，对一切风光景物要放开眼界去衡量。\n\n这句诗是针对柳亚子来诗所表现的思想情绪进行正面的批评和规劝。诗人说，应该放开眼界，从远处，大处着眼，也就是从未来从全局着眼，胸襟开阔，保持健康的心态。\n\n而闲来无事的我也只能写写东西发发牢骚来解解闷啦~\n\n\n# 游戏\n\n今天和基友开了两把，爽了一番，心情很是舒畅。\n\n\n\n作为王者多赛季最强王者资深老玩家，装了卸，卸了装，一次又一次。相信不少人对这个游戏是既爱又恨，爱它给我带来的身心放松、精神享受，恨它给我带来的愧疚不堪、萎靡不振！\n\n每当我意识到这个问题，常常是懊悔不已。几次下定决心退出，奈何不如人意。\n\n故，此次，一定，必须，是我的最后一次。\n\n也致我亲爱的基友们：希望你们下次开玩时千万不要喊我，更不要说 等你 这两个字眼，唉哟，最受不了这个了。\n\n放弃这些无意义的游戏之后，准备转战写作剪辑方向了，闲来无事拍拍照片，练练文笔，捎带着思考一下人生，这一天不也就这么过去了嘛！捂脸笑！\n\n\n# 订阅号\n\n说到订阅号不得不吐槽一下微信新版订阅号展示逻辑问题，让我使用起来非常难受，借用知友的回答：\n\n\n\n确实，之前的订阅号列表就像是我关注的微博博主，常常是因为我对这个人感兴趣，然后他更新了信息，我才会去主动点进列表页面去观看他的相关消息。\n\n而现在的订阅号更多的是从订阅号作者角度出发，以信息流的方式展示给我们，不管质量好坏和我们是否喜欢，作为用户我们只能被动接受这些消息，较比之前不能主动选择（还需要按右上角进入订阅号列表，对我来说太难了），让人十分难受。\n\n当然，这从订阅号作者角度出发来说是好的，因为这种信息流的方式增加了你文章的曝光率，只要你的内容足够优秀，你会引来大批的追随者。\n\n相信这也是微信交互设计师权衡之后决定的吧，牺牲部分用户体验，加强订阅号生态质量。\n\n话说回来订阅号也准备改版了，就同博客（znote）同步更新吧，从资料、笔记、学习出发，整理知识，梳理架构，就先从随笔开始吧。",normalizedContent:"“牢骚太盛防肠断，风物长宜放眼量” ——出自《赠柳亚子先生》\n\n意思是：你遇到一些不顺心的事，牢骚太多了，要提防有碍身心健康，对一切风光景物要放开眼界去衡量。\n\n这句诗是针对柳亚子来诗所表现的思想情绪进行正面的批评和规劝。诗人说，应该放开眼界，从远处，大处着眼，也就是从未来从全局着眼，胸襟开阔，保持健康的心态。\n\n而闲来无事的我也只能写写东西发发牢骚来解解闷啦~\n\n\n# 游戏\n\n今天和基友开了两把，爽了一番，心情很是舒畅。\n\n\n\n作为王者多赛季最强王者资深老玩家，装了卸，卸了装，一次又一次。相信不少人对这个游戏是既爱又恨，爱它给我带来的身心放松、精神享受，恨它给我带来的愧疚不堪、萎靡不振！\n\n每当我意识到这个问题，常常是懊悔不已。几次下定决心退出，奈何不如人意。\n\n故，此次，一定，必须，是我的最后一次。\n\n也致我亲爱的基友们：希望你们下次开玩时千万不要喊我，更不要说 等你 这两个字眼，唉哟，最受不了这个了。\n\n放弃这些无意义的游戏之后，准备转战写作剪辑方向了，闲来无事拍拍照片，练练文笔，捎带着思考一下人生，这一天不也就这么过去了嘛！捂脸笑！\n\n\n# 订阅号\n\n说到订阅号不得不吐槽一下微信新版订阅号展示逻辑问题，让我使用起来非常难受，借用知友的回答：\n\n\n\n确实，之前的订阅号列表就像是我关注的微博博主，常常是因为我对这个人感兴趣，然后他更新了信息，我才会去主动点进列表页面去观看他的相关消息。\n\n而现在的订阅号更多的是从订阅号作者角度出发，以信息流的方式展示给我们，不管质量好坏和我们是否喜欢，作为用户我们只能被动接受这些消息，较比之前不能主动选择（还需要按右上角进入订阅号列表，对我来说太难了），让人十分难受。\n\n当然，这从订阅号作者角度出发来说是好的，因为这种信息流的方式增加了你文章的曝光率，只要你的内容足够优秀，你会引来大批的追随者。\n\n相信这也是微信交互设计师权衡之后决定的吧，牺牲部分用户体验，加强订阅号生态质量。\n\n话说回来订阅号也准备改版了，就同博客（znote）同步更新吧，从资料、笔记、学习出发，整理知识，梳理架构，就先从随笔开始吧。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"末年初雪至",frontmatter:{title:"末年初雪至",date:"2022-11-30T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20191130.html",relativePath:"views/essay/20191130.md",key:"v-a1c3f1b2",path:"/views/essay/20191130.html",headers:[{level:2,title:"初雪",slug:"初雪",normalizedTitle:"初雪",charIndex:2},{level:2,title:"计划",slug:"计划",normalizedTitle:"计划",charIndex:280},{level:2,title:"随笔小结",slug:"随笔小结",normalizedTitle:"随笔小结",charIndex:384},{level:2,title:"其他",slug:"其他",normalizedTitle:"其他",charIndex:268}],excerpt:'<Boxx/>\n<h2 id="初雪"><a class="header-anchor" href="#初雪">#</a> 初雪</h2>\n<p><img src="https://s2.ax1x.com/2019/12/28/lmNRgg.png" alt="lmNRgg.png" /></p>\n<p>自昨晚就从朋友圈刷屁屁的雪，也是累坏了一群人，看给孩子高兴的。</p>\n',headersStr:"初雪 计划 随笔小结 其他",content:"# 初雪\n\n\n\n自昨晚就从朋友圈刷屁屁的雪，也是累坏了一群人，看给孩子高兴的。\n\n今早还睡意朦胧的时候，就听见屋外铁锹稀里咣当的声音，掀开窗户一看，啧啧啧，屋外已是一偏雪景，开心。\n\n于是赶紧打开电脑，深吸一口仙气，准备发一篇万字长文来表达我一下此时此刻激动的心情（/激动脸）。\n\n\n\n红墙飞白雪，这个简直就是帝都的风雪标志，下雪天的时候人不多，拍照、观景估计都是不错的，可惜媳妇儿上班班，唉，不然来一次雪中漫步可能也不错吧，哈哈哈~\n\n随着初雪已致，2019尾声悄然到来，仿佛也在跟我说：臭小子，准备好迎接2020吧。\n\n然后就是一些其他的牢骚了。\n\n\n# 计划\n\n说起来真的是有好多事情没有做呢，年末总结没有动，计划单没有写，项目梳理还不完善，光是想想就疯了。（一脸的不情愿）\n\n没办法，得交点东西出来呀，只好先截个脑图了，暂且算是对自己的草草交代。\n\n\n\n\n# 随笔小结\n\n前言：随笔这个东西，不是那么简单唷。。\n\n学生时代，没事搞个命题作文来应付应付考试，顺带还能展示展示风采！职场时光，执笔次数都屈指可数，文采更是大不如从前，还风采...，依旧？更多的是记录一些生活的感悟，以及经历，想想真是挺怀念以前的在校生活呀！！\n\n刚开始的时候也是抽空挤时间东一句西一句的凑，但是后来慢慢发现写作这个东西，就跟待人待事一样，需要拿出专门的时间思考，下笔，修改，再修改。\n\n平时灵感来了记录一下，时间到了就静下心来好好写。\n\n现在很少能沉静下来，闲余时间不是在刷手机就是在刷手机的路上，安静下来读一本书都很难，甚至最近都没有好好听一首歌，就是那种融入到歌曲里面，神游天外的感觉。\n\n所以最近我在努力，努力，努力找寻属于自己的 “静”。\n\n静，则光通达。什么是静，一个人内心很沉静的时候，你的内心就会很纯洁，就像池塘的水一样，当池塘的水很静的时候，它往往污泥什么的都沉淀了，你能够一眼看到底，所以保持内心的沉静，于是，静则光通达。——陈果\n\n怎么样，读书有用了吧，将别人的知识点引入到自己的文章中去，并加以修饰，这就是我们自己的东西，发光了别人，强大了自己。\n\n这里不由得推荐一下 old Chinese person，网易云歌单ID：3068309305，每次写点东西的时候总得听着它才能有孜孜不倦的灵感，是从友人那儿偷来的，真的是一首能让人静下心来的神曲！\n\n\n# 其他\n\n有位自由诗人，他叫许巍；有位孤独诗人，他叫朴树；有位理想诗人，他叫李健；有位摇滚诗人，他叫郑钧。\n\n以上几位都是我喜欢的歌手，熟悉我的朋友都知道，之前非常喜欢许巍，故乡、像风一样自由，都是我K歌必点歌曲，唱K时也能唱好它，是因为我感觉我就是曲中之魂，嗨歌时更有一种身临其境之感，也总能把自己带入歌曲的那种情景中去，仿佛自己就是其中的主人公。\n\n但是现在再听，已完全没有当时的那种触动感，一度怀疑是不是工作之后劳碌的我没有了当年的热枕（哭笑脸），同时，期待可以遇见那么一首歌，能够唤起我的回忆。\n\n所以，保持内心的沉静。（昨晚下单了XS，%@3&……，怎么让我保持沉静！）\n\n就这样吧，北京的初雪，11月底12月初，19年末20年始，一切都是那么的刚刚好！",normalizedContent:"# 初雪\n\n\n\n自昨晚就从朋友圈刷屁屁的雪，也是累坏了一群人，看给孩子高兴的。\n\n今早还睡意朦胧的时候，就听见屋外铁锹稀里咣当的声音，掀开窗户一看，啧啧啧，屋外已是一偏雪景，开心。\n\n于是赶紧打开电脑，深吸一口仙气，准备发一篇万字长文来表达我一下此时此刻激动的心情（/激动脸）。\n\n\n\n红墙飞白雪，这个简直就是帝都的风雪标志，下雪天的时候人不多，拍照、观景估计都是不错的，可惜媳妇儿上班班，唉，不然来一次雪中漫步可能也不错吧，哈哈哈~\n\n随着初雪已致，2019尾声悄然到来，仿佛也在跟我说：臭小子，准备好迎接2020吧。\n\n然后就是一些其他的牢骚了。\n\n\n# 计划\n\n说起来真的是有好多事情没有做呢，年末总结没有动，计划单没有写，项目梳理还不完善，光是想想就疯了。（一脸的不情愿）\n\n没办法，得交点东西出来呀，只好先截个脑图了，暂且算是对自己的草草交代。\n\n\n\n\n# 随笔小结\n\n前言：随笔这个东西，不是那么简单唷。。\n\n学生时代，没事搞个命题作文来应付应付考试，顺带还能展示展示风采！职场时光，执笔次数都屈指可数，文采更是大不如从前，还风采...，依旧？更多的是记录一些生活的感悟，以及经历，想想真是挺怀念以前的在校生活呀！！\n\n刚开始的时候也是抽空挤时间东一句西一句的凑，但是后来慢慢发现写作这个东西，就跟待人待事一样，需要拿出专门的时间思考，下笔，修改，再修改。\n\n平时灵感来了记录一下，时间到了就静下心来好好写。\n\n现在很少能沉静下来，闲余时间不是在刷手机就是在刷手机的路上，安静下来读一本书都很难，甚至最近都没有好好听一首歌，就是那种融入到歌曲里面，神游天外的感觉。\n\n所以最近我在努力，努力，努力找寻属于自己的 “静”。\n\n静，则光通达。什么是静，一个人内心很沉静的时候，你的内心就会很纯洁，就像池塘的水一样，当池塘的水很静的时候，它往往污泥什么的都沉淀了，你能够一眼看到底，所以保持内心的沉静，于是，静则光通达。——陈果\n\n怎么样，读书有用了吧，将别人的知识点引入到自己的文章中去，并加以修饰，这就是我们自己的东西，发光了别人，强大了自己。\n\n这里不由得推荐一下 old chinese person，网易云歌单id：3068309305，每次写点东西的时候总得听着它才能有孜孜不倦的灵感，是从友人那儿偷来的，真的是一首能让人静下心来的神曲！\n\n\n# 其他\n\n有位自由诗人，他叫许巍；有位孤独诗人，他叫朴树；有位理想诗人，他叫李健；有位摇滚诗人，他叫郑钧。\n\n以上几位都是我喜欢的歌手，熟悉我的朋友都知道，之前非常喜欢许巍，故乡、像风一样自由，都是我k歌必点歌曲，唱k时也能唱好它，是因为我感觉我就是曲中之魂，嗨歌时更有一种身临其境之感，也总能把自己带入歌曲的那种情景中去，仿佛自己就是其中的主人公。\n\n但是现在再听，已完全没有当时的那种触动感，一度怀疑是不是工作之后劳碌的我没有了当年的热枕（哭笑脸），同时，期待可以遇见那么一首歌，能够唤起我的回忆。\n\n所以，保持内心的沉静。（昨晚下单了xs，%@3&……，怎么让我保持沉静！）\n\n就这样吧，北京的初雪，11月底12月初，19年末20年始，一切都是那么的刚刚好！",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"超级无敌睡眠法则",frontmatter:{title:"超级无敌睡眠法则",date:"2023-02-27T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20200227.html",relativePath:"views/essay/20200227.md",key:"v-da0d1332",path:"/views/essay/20200227.html",headers:[{level:2,title:"姿势",slug:"姿势",normalizedTitle:"姿势",charIndex:132},{level:2,title:"放松",slug:"放松",normalizedTitle:"放松",charIndex:174},{level:2,title:"呼吸",slug:"呼吸",normalizedTitle:"呼吸",charIndex:163}],excerpt:"<Boxx/>\n<br/>\n<ul>\n<li>\n<p>你睡了么，可惜我失眠了 -</p>\n<p>终于，我这么没心没肺连梦都不做的人也失眠了😭...</p>\n<p>谁能告诉我该怎么办，接连好几天了额，太太太痛苦了~</p>\n</li>\n</ul>\n",headersStr:"姿势 放松 呼吸",content:"\n\n\n * 你睡了么，可惜我失眠了 -\n   \n   终于，我这么没心没肺连梦都不做的人也失眠了😭...\n   \n   谁能告诉我该怎么办，接连好几天了额，太太太痛苦了~\n\n\n\n网上查了一下，最近压力🍐大？好嘛，么得办法，自我总结一套睡眠法则💪💪\n\n\n# 姿势\n\n 1. 全身平躺，双手自然放下\n\n 2. 脑子放空，深呼吸👃一次\n\n\n# 放松\n\n 1. 脑子放空，5秒的 深呼吸 一次\n\n 2. 集中注意力，放在脑子里，告诉自己全身开始 放松\n    [1] 慢慢的，将注意力集中到脚部，脚开始放松\n    [2] 慢慢的，随着注意力来到小腿部，小腿放松\n    [3] 慢慢的，随之来到大腿部，大腿放松\n    [4] 慢慢的，来到臀部，臀部放松\n    [5] 慢慢的，来到腰部，腰部放松\n    [6] 慢慢的，来到手臂处，手臂放松\n    [7] 慢慢的，来到肩膀处，肩膀放松\n    [8] 慢慢的，回到头部，放松...\n\n\n# 呼吸\n\n 1. 然后保持 478呼吸法 来帮助睡眠（可依据个人调整为456呼吸等）\n    [1] 吸气⏪，1，2，3，4\n    [2] 停气🤫，1，2，3，4，5，6，7\n    [3] 呼气⏩，1，2，3，4，5，6，7，8\n    [4] 吸气⏪，1，2，3，4\n    [5] 停气🤫，1，2，3，4，5，6，7\n    [6] 呼气⏩，1，2，3，4，5，6，7，8\n    [7] 吸气⏪，1，2，3，4\n    [8] 停气🤫，1，2，3，4，5，6，7\n    [9] 呼气⏩，1，2，3，4，5，6，7，8\n    [10] 如此反复 ⏪🤫⏩ ...\n    \n\n * 安静的，睡吧~ 睡吧~ 😴😴🌙\n\n本人夜观天象，觉今日晚10:10乃是睡觉吉时，睡个好觉妥妥的。",normalizedContent:"\n\n\n * 你睡了么，可惜我失眠了 -\n   \n   终于，我这么没心没肺连梦都不做的人也失眠了😭...\n   \n   谁能告诉我该怎么办，接连好几天了额，太太太痛苦了~\n\n\n\n网上查了一下，最近压力🍐大？好嘛，么得办法，自我总结一套睡眠法则💪💪\n\n\n# 姿势\n\n 1. 全身平躺，双手自然放下\n\n 2. 脑子放空，深呼吸👃一次\n\n\n# 放松\n\n 1. 脑子放空，5秒的 深呼吸 一次\n\n 2. 集中注意力，放在脑子里，告诉自己全身开始 放松\n    [1] 慢慢的，将注意力集中到脚部，脚开始放松\n    [2] 慢慢的，随着注意力来到小腿部，小腿放松\n    [3] 慢慢的，随之来到大腿部，大腿放松\n    [4] 慢慢的，来到臀部，臀部放松\n    [5] 慢慢的，来到腰部，腰部放松\n    [6] 慢慢的，来到手臂处，手臂放松\n    [7] 慢慢的，来到肩膀处，肩膀放松\n    [8] 慢慢的，回到头部，放松...\n\n\n# 呼吸\n\n 1. 然后保持 478呼吸法 来帮助睡眠（可依据个人调整为456呼吸等）\n    [1] 吸气⏪，1，2，3，4\n    [2] 停气🤫，1，2，3，4，5，6，7\n    [3] 呼气⏩，1，2，3，4，5，6，7，8\n    [4] 吸气⏪，1，2，3，4\n    [5] 停气🤫，1，2，3，4，5，6，7\n    [6] 呼气⏩，1，2，3，4，5，6，7，8\n    [7] 吸气⏪，1，2，3，4\n    [8] 停气🤫，1，2，3，4，5，6，7\n    [9] 呼气⏩，1，2，3，4，5，6，7，8\n    [10] 如此反复 ⏪🤫⏩ ...\n    \n\n * 安静的，睡吧~ 睡吧~ 😴😴🌙\n\n本人夜观天象，觉今日晚10:10乃是睡觉吉时，睡个好觉妥妥的。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"人逐渐成熟的过程往往也是心逐渐麻木的过程",frontmatter:{title:"人逐渐成熟的过程往往也是心逐渐麻木的过程",date:"2022-07-03T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20200703.html",relativePath:"views/essay/20200703.md",key:"v-b3a703be",path:"/views/essay/20200703.html",headers:[{level:2,title:"始",slug:"始",normalizedTitle:"始",charIndex:2},{level:2,title:"感",slug:"感",normalizedTitle:"感",charIndex:167},{level:2,title:"奈",slug:"奈",normalizedTitle:"奈",charIndex:515}],headersStr:"始 感 奈",content:"# 始\n\n\n\n前阵子在豆瓣上看到一个帖子，提问是：“你的工资能满足你体面的生活吗？”\n\n底下评论的人很多，其中最让人深刻的是这三条：\n\n 1. “四线城市，公务员，两个月的工资勉强够一个月的开销。”\n\n 2. “两万左右，在北京，不买房子的话，活得还行，就是要出卖自己的健康。”\n\n 3. “税后一万二，在广州，偶尔得出卖自己的灵魂，感觉前途一片灰暗，唯一值得庆幸的是不靠家里…”\n\n\n# 感\n\n看完这个帖子我突然觉得有些凄凉，按理说这是最好的时代，你头上明明顶着21世纪的太阳，但是抬头看，依然有阴霾；你明明生长在一个蓬勃发展的时代，但是你心里依然充满不安。\n\n更可怕的是，你的身体就像一块劣质的电池，充电需要充很久，不但充不满而且用得快。你看起来很忙，忙得根本停不下来。可你实际上又很穷，穷得不敢停下来。至于体面地生活，遥远得像是下辈子的事儿。\n\n你学会了说：“谈钱伤感情”，可后来才发现，没钱才伤感情。\n\n你学会了说：“要保持独立的人格，不被金钱左右”，可后来才发现，没钱的灵魂根本就没法硬气地站立。\n\n你学会了说：“要孝敬父母、让在乎的人过上幸福的日子”，可后才发现，没钱根本就做不了孝子，也给不了在乎的人幸福。\n\n\n# 奈\n\n看，你学了多少年的对错，可现如今才明白，现实只讲输赢。",normalizedContent:"# 始\n\n\n\n前阵子在豆瓣上看到一个帖子，提问是：“你的工资能满足你体面的生活吗？”\n\n底下评论的人很多，其中最让人深刻的是这三条：\n\n 1. “四线城市，公务员，两个月的工资勉强够一个月的开销。”\n\n 2. “两万左右，在北京，不买房子的话，活得还行，就是要出卖自己的健康。”\n\n 3. “税后一万二，在广州，偶尔得出卖自己的灵魂，感觉前途一片灰暗，唯一值得庆幸的是不靠家里…”\n\n\n# 感\n\n看完这个帖子我突然觉得有些凄凉，按理说这是最好的时代，你头上明明顶着21世纪的太阳，但是抬头看，依然有阴霾；你明明生长在一个蓬勃发展的时代，但是你心里依然充满不安。\n\n更可怕的是，你的身体就像一块劣质的电池，充电需要充很久，不但充不满而且用得快。你看起来很忙，忙得根本停不下来。可你实际上又很穷，穷得不敢停下来。至于体面地生活，遥远得像是下辈子的事儿。\n\n你学会了说：“谈钱伤感情”，可后来才发现，没钱才伤感情。\n\n你学会了说：“要保持独立的人格，不被金钱左右”，可后来才发现，没钱的灵魂根本就没法硬气地站立。\n\n你学会了说：“要孝敬父母、让在乎的人过上幸福的日子”，可后才发现，没钱根本就做不了孝子，也给不了在乎的人幸福。\n\n\n# 奈\n\n看，你学了多少年的对错，可现如今才明白，现实只讲输赢。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"汝之为何 吾之奈何",frontmatter:{title:"汝之为何 吾之奈何",date:"2023-03-01T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],keys:["5201314"],isShowComments:!0},regularPath:"/views/essay/20200301.html",relativePath:"views/essay/20200301.md",key:"v-3db87aa6",path:"/views/essay/20200301.html",headers:[{level:2,title:"伤脑",slug:"伤脑",normalizedTitle:"伤脑",charIndex:2},{level:2,title:"热狗之应",slug:"热狗之应",normalizedTitle:"热狗之应",charIndex:101},{level:2,title:"最后的总结",slug:"最后的总结",normalizedTitle:"最后的总结",charIndex:2590},{level:2,title:"气之因 行之果",slug:"气之因-行之果",normalizedTitle:"气之因 行之果",charIndex:2943}],headersStr:"伤脑 热狗之应 最后的总结 气之因 行之果",content:"# 伤脑\n\n女朋友生气了，而你毫无察觉。等到你看到女友那哀怨的小眼神，你才知道事情不妙，女朋友生气了。 问题的关键是，你觉得你压根就没有惹她。 故，今天，伤脑筋的是：女朋友生气了怎么办? 😱\n\n\n# 热狗之应\n\n女朋友生气的时候，或许你很莫名其妙，或许你很不理解，或许你还很心累很烦躁，但绝不要让自己的情绪被她更强烈的负面情绪带走。 或许她说话带刺，很难听，很伤人，也或许她的态度让人很不舒服，对你冷暴力，这时候万万不可动怒，一旦你也生气了，两人势必大吵一架，大吵之后若不能得到良好处理，就可能会产生感情隔阂，两人之间存在了不能触碰的禁区，显然会对日后分手埋下伏笔。\n\n所以你首先不能让自己产生情绪。\n\n发现女朋友生气了，首先你要理性地想，又来了，又耍小孩子脾气了，又要满嘴气话了，真拿这孩子没办法，好好哄吧。 没错，你要全程保持理性，跳出事件本身，清楚她说的难听的话都是气话，该想的是她为什么生气，这次该怎么哄，如何处理好她的这次生气。\n\n当然，如果真的很难忍，你还是爆炸了，那就尽兴大吵一架吧。不过等你冷静了，你还是得继续放下面子按以下步骤去哄。\n\n第一步 发现原因 对症下药 认真解释\n\n我怎么知道她为什么生气呢？ 这需要直男的你好好锻炼，日后慢慢get到你女朋友的生气点。 那最初小白的你怎么去了解呢？ 当然还得问她本人。\n\n如果你不是故意犯错，同时你真的直到实在不知道女朋友为什么生气，你完全可以拿出你最诚恳的态度去问。 必须是掏心肺腑的诚恳。 如果你单纯一句，宝贝，发生什么了，我到底哪儿做错了？ 可能只能得到一句反问，你居然不知道你哪儿错了？ 随后一句，你自己想，好好想想哪儿错了。 你只能原地懵逼百思不得解。\n\n拿出最诚恳的态度掏心肺腑地问应该是这样的。 宝贝，可能真的是我太笨太蠢了，我实在想不明白宝贝为什么生气，如果是因为我的问题，一定告诉我好吗，是我哪里考虑的太少，惹宝贝生气了？我总是很迟钝，一直不懂女孩子的心，可以给我一点点耐心吗？\n\n像这样把你真实心理过程掏心肺腑给她说，尽可能多地说，让她相信你是真不知道，你真是钢铁直男，那就没办法了只好告诉你了。\n\n知道了原因后必须对症下药，解释清楚。 为什么错了，为什么发生了，起因经过结尾，以及自己的全部心理过程。 没错这又是一个掏心肺腑的过程，要把自己的所有心里想法全透明给她。 当时怎么想的，之后怎么想的，为什么会发生这样的事，具体到每个细节，原原本本地说清楚。 如果你是冤枉的，就务必这样解释清楚，如果你真的有错，讲清情况后要立刻承认错误。 如果你的女朋友也很理性，能明事理，这样解释应该就可以解决问题。 但大多数不能，会认死理，要面子等等，那就要进行下一步。\n\n第二步 深情吐露心声\n\n这个标题感觉好违和。 先听我慢慢说吧。\n\n解释清楚后，就不要再拘泥于她生气的原因了，别揪着一个点再翻来覆去解释，只会越解释她越烦。\n\n在明了过程后，如果她还生气，可能是以下三个原因，一原因已经发生变化，比如你之后的态度不好之类，二可能是认死理，不行你犯了错咱俩就不能好了，三可能是爱面子，不行这事没完你得哄我。 无论哪种情况这时候都该进入哄的正题了。\n\n深情告白嘛就是再掏心肺腑地表达你有么多爱她，你有么多在乎她，你有多么重视她，这绝对是每个女孩子最想听的。\n\n直男不会花言巧语，就该掏心肺腑，而且女生相比花言巧语，更喜欢真实想法。就类似之前解释原因一样，你把重视她在乎她的心理过程再加进去，表达出你其实一直都是在想着她考虑着她，只是有时候方式方法出现了问题，你以后不会这样了。\n\n当然你可以跳出这件事，举例一些别的事，或者不具体到事，让她知道在你心里她多么重要，让她知道她的情绪总在影响着你的情绪，让她知道她开心你也开心，她不开心你也不开心，希望你可以让她总是有好心情，而不像这样因为自己而不高兴，让她知道她对你来说多么多么重要。 这里说的别俗套，把自己的真实想法说清楚就好。\n\n你爱他的时候，每个发自心底的想法都可以是好听的情话，即使表达拙劣一点，也会很感人。\n\n第三步 厚脸皮地哄她开心\n\n有时候，你深情太多，会显得自己很卑微，像个小丑一样在求她，这种时候不仅你自己会产生负面情绪，她也会有，会让她心里烦躁，感到有负担。你继续掏心肺腑反倒会换来她的不舒服，感觉跟你在一起是对你多大的亏欠。 所以你要及时切换心情，变成一个坏坏的，厚脸皮的，或者霸道的男友形象。 这时候必须已经过了她的气头，而在她单纯耍脾气求哄阶段。 怎么操作呢，夸她，各种夸张各种不要脸地夸，说难听点，就像卖国求荣的汉奸在讨好小日本。 然后就是说自己的不是，说自己蠢说自己笨，求包容求原谅。 然后再不停夸她，啊呀老婆最美最贤惠最善良天下第一好，得此良妻犹有何憾？ 啊呀宝贝最乖最可爱。 以后保证好好听你的。 乖，别闹了，听话。 你是我的，别想跑。 诸如此类。\n\n有时候哄女朋友不是你要哄到什么点哄到什么程度的问题，而是你要积累哄的时间，拿出你认真哄的态度给她看，这也是证明你多重视她的过程。\n\n第四步 事后沟通总结 我一直觉得情侣之间无论如何沟通最重要，尤其是异地恋。 包括之前说的，一旦你也爆炸了两人大吵一架，事后冷静了哄好后必须沟通好，必须针对此事好好谈谈交换想法，修补可能存在的裂缝。\n\n包括她生气了你单方面哄（她依然会觉得这是你们两人在吵架），哄完了你们也需要沟通，说说你们关于这件事的真实想法，说说两人以后怎么做。 遇到问题必须解决。\n\n当然，有些话你还是不敢对她说。 我替你说。\n\n哄女朋友确实是男朋友应该有的技能，尤其是异地恋，更容易缺乏安全感，再加上看着别的情侣秀恩爱，女孩子会更加觉得缺爱，所以会生气烦躁闹脾气很正常。\n\n可是啊，真的不要太作，一次两次或许可以接受，隔三差五的来，真的受不了，说不好听的，男朋友再好，再爱你，再温柔，迟早有一天也会给作没了。\n\n有的男生很直，很幼稚，很自私，但他们会为了女朋友在努力改变。 女生也会幼稚，也会自私，所以会作，会整天揪着他到底爱不爱我，有多在乎我，是不是没当初那么重视我了，然后以此去为难男朋友。\n\n即使像上述生气到哄的过程，也会耗费两人尤其是男生许多时间精力，这样的情况多了必然会影响到正常的生活。 两个人应该多些平等，多些理解，多些沟通，都该因为在一起而有所成长。\n\n\n# 最后的总结\n\n不管女朋友心情不好，无理取闹，还是你做错了事，你只要记住第一件事“你错了”。男人嘛，要大度一点。她很在意你此时的态度，如果你不理她或者一走了之，那我很悲伤地告诉你，你倒霉了。\n\n讲笑话，扮鬼脸，怎么搞笑怎么来，如果她忍不住破涕为笑，她生气这件事就算过去了。\n\n最重要的一点，一定要厚脸皮的，无休止的献殷勤，直到她开心或者和你说话为止。放心，你发过去她肯定会看到，女生往往都是在考验你或者说就是在等你一直发发发。\n\n补充一点，态度一定要诚恳，女人这件事她要的还是你一个态度，只要态度够诚恳够真心，能让她感受到的话，人家也肯定会原谅你的。\n\n最后一点就是事后一定要多沟通了，知道问题的关键所在(可能的话记下来)，下次才能尽量避免杜绝这样的事情发生，只要女友不生气，那咱不就剩哈哈哈了嘛。\n\n\n# 气之因 行之果\n\n男生一定主动一点\n\n女人都是口是心非，说你忙去吧不要真的去忙\n\n多找时间陪她\n\n两个人不要互相迁就，有什么一定要说\n\n每个女生都希望她是个小公主，希望你对她越来越好，是偏爱加独宠\n\n没事就一定一定一定要多找她多给她发消息",normalizedContent:"# 伤脑\n\n女朋友生气了，而你毫无察觉。等到你看到女友那哀怨的小眼神，你才知道事情不妙，女朋友生气了。 问题的关键是，你觉得你压根就没有惹她。 故，今天，伤脑筋的是：女朋友生气了怎么办? 😱\n\n\n# 热狗之应\n\n女朋友生气的时候，或许你很莫名其妙，或许你很不理解，或许你还很心累很烦躁，但绝不要让自己的情绪被她更强烈的负面情绪带走。 或许她说话带刺，很难听，很伤人，也或许她的态度让人很不舒服，对你冷暴力，这时候万万不可动怒，一旦你也生气了，两人势必大吵一架，大吵之后若不能得到良好处理，就可能会产生感情隔阂，两人之间存在了不能触碰的禁区，显然会对日后分手埋下伏笔。\n\n所以你首先不能让自己产生情绪。\n\n发现女朋友生气了，首先你要理性地想，又来了，又耍小孩子脾气了，又要满嘴气话了，真拿这孩子没办法，好好哄吧。 没错，你要全程保持理性，跳出事件本身，清楚她说的难听的话都是气话，该想的是她为什么生气，这次该怎么哄，如何处理好她的这次生气。\n\n当然，如果真的很难忍，你还是爆炸了，那就尽兴大吵一架吧。不过等你冷静了，你还是得继续放下面子按以下步骤去哄。\n\n第一步 发现原因 对症下药 认真解释\n\n我怎么知道她为什么生气呢？ 这需要直男的你好好锻炼，日后慢慢get到你女朋友的生气点。 那最初小白的你怎么去了解呢？ 当然还得问她本人。\n\n如果你不是故意犯错，同时你真的直到实在不知道女朋友为什么生气，你完全可以拿出你最诚恳的态度去问。 必须是掏心肺腑的诚恳。 如果你单纯一句，宝贝，发生什么了，我到底哪儿做错了？ 可能只能得到一句反问，你居然不知道你哪儿错了？ 随后一句，你自己想，好好想想哪儿错了。 你只能原地懵逼百思不得解。\n\n拿出最诚恳的态度掏心肺腑地问应该是这样的。 宝贝，可能真的是我太笨太蠢了，我实在想不明白宝贝为什么生气，如果是因为我的问题，一定告诉我好吗，是我哪里考虑的太少，惹宝贝生气了？我总是很迟钝，一直不懂女孩子的心，可以给我一点点耐心吗？\n\n像这样把你真实心理过程掏心肺腑给她说，尽可能多地说，让她相信你是真不知道，你真是钢铁直男，那就没办法了只好告诉你了。\n\n知道了原因后必须对症下药，解释清楚。 为什么错了，为什么发生了，起因经过结尾，以及自己的全部心理过程。 没错这又是一个掏心肺腑的过程，要把自己的所有心里想法全透明给她。 当时怎么想的，之后怎么想的，为什么会发生这样的事，具体到每个细节，原原本本地说清楚。 如果你是冤枉的，就务必这样解释清楚，如果你真的有错，讲清情况后要立刻承认错误。 如果你的女朋友也很理性，能明事理，这样解释应该就可以解决问题。 但大多数不能，会认死理，要面子等等，那就要进行下一步。\n\n第二步 深情吐露心声\n\n这个标题感觉好违和。 先听我慢慢说吧。\n\n解释清楚后，就不要再拘泥于她生气的原因了，别揪着一个点再翻来覆去解释，只会越解释她越烦。\n\n在明了过程后，如果她还生气，可能是以下三个原因，一原因已经发生变化，比如你之后的态度不好之类，二可能是认死理，不行你犯了错咱俩就不能好了，三可能是爱面子，不行这事没完你得哄我。 无论哪种情况这时候都该进入哄的正题了。\n\n深情告白嘛就是再掏心肺腑地表达你有么多爱她，你有么多在乎她，你有多么重视她，这绝对是每个女孩子最想听的。\n\n直男不会花言巧语，就该掏心肺腑，而且女生相比花言巧语，更喜欢真实想法。就类似之前解释原因一样，你把重视她在乎她的心理过程再加进去，表达出你其实一直都是在想着她考虑着她，只是有时候方式方法出现了问题，你以后不会这样了。\n\n当然你可以跳出这件事，举例一些别的事，或者不具体到事，让她知道在你心里她多么重要，让她知道她的情绪总在影响着你的情绪，让她知道她开心你也开心，她不开心你也不开心，希望你可以让她总是有好心情，而不像这样因为自己而不高兴，让她知道她对你来说多么多么重要。 这里说的别俗套，把自己的真实想法说清楚就好。\n\n你爱他的时候，每个发自心底的想法都可以是好听的情话，即使表达拙劣一点，也会很感人。\n\n第三步 厚脸皮地哄她开心\n\n有时候，你深情太多，会显得自己很卑微，像个小丑一样在求她，这种时候不仅你自己会产生负面情绪，她也会有，会让她心里烦躁，感到有负担。你继续掏心肺腑反倒会换来她的不舒服，感觉跟你在一起是对你多大的亏欠。 所以你要及时切换心情，变成一个坏坏的，厚脸皮的，或者霸道的男友形象。 这时候必须已经过了她的气头，而在她单纯耍脾气求哄阶段。 怎么操作呢，夸她，各种夸张各种不要脸地夸，说难听点，就像卖国求荣的汉奸在讨好小日本。 然后就是说自己的不是，说自己蠢说自己笨，求包容求原谅。 然后再不停夸她，啊呀老婆最美最贤惠最善良天下第一好，得此良妻犹有何憾？ 啊呀宝贝最乖最可爱。 以后保证好好听你的。 乖，别闹了，听话。 你是我的，别想跑。 诸如此类。\n\n有时候哄女朋友不是你要哄到什么点哄到什么程度的问题，而是你要积累哄的时间，拿出你认真哄的态度给她看，这也是证明你多重视她的过程。\n\n第四步 事后沟通总结 我一直觉得情侣之间无论如何沟通最重要，尤其是异地恋。 包括之前说的，一旦你也爆炸了两人大吵一架，事后冷静了哄好后必须沟通好，必须针对此事好好谈谈交换想法，修补可能存在的裂缝。\n\n包括她生气了你单方面哄（她依然会觉得这是你们两人在吵架），哄完了你们也需要沟通，说说你们关于这件事的真实想法，说说两人以后怎么做。 遇到问题必须解决。\n\n当然，有些话你还是不敢对她说。 我替你说。\n\n哄女朋友确实是男朋友应该有的技能，尤其是异地恋，更容易缺乏安全感，再加上看着别的情侣秀恩爱，女孩子会更加觉得缺爱，所以会生气烦躁闹脾气很正常。\n\n可是啊，真的不要太作，一次两次或许可以接受，隔三差五的来，真的受不了，说不好听的，男朋友再好，再爱你，再温柔，迟早有一天也会给作没了。\n\n有的男生很直，很幼稚，很自私，但他们会为了女朋友在努力改变。 女生也会幼稚，也会自私，所以会作，会整天揪着他到底爱不爱我，有多在乎我，是不是没当初那么重视我了，然后以此去为难男朋友。\n\n即使像上述生气到哄的过程，也会耗费两人尤其是男生许多时间精力，这样的情况多了必然会影响到正常的生活。 两个人应该多些平等，多些理解，多些沟通，都该因为在一起而有所成长。\n\n\n# 最后的总结\n\n不管女朋友心情不好，无理取闹，还是你做错了事，你只要记住第一件事“你错了”。男人嘛，要大度一点。她很在意你此时的态度，如果你不理她或者一走了之，那我很悲伤地告诉你，你倒霉了。\n\n讲笑话，扮鬼脸，怎么搞笑怎么来，如果她忍不住破涕为笑，她生气这件事就算过去了。\n\n最重要的一点，一定要厚脸皮的，无休止的献殷勤，直到她开心或者和你说话为止。放心，你发过去她肯定会看到，女生往往都是在考验你或者说就是在等你一直发发发。\n\n补充一点，态度一定要诚恳，女人这件事她要的还是你一个态度，只要态度够诚恳够真心，能让她感受到的话，人家也肯定会原谅你的。\n\n最后一点就是事后一定要多沟通了，知道问题的关键所在(可能的话记下来)，下次才能尽量避免杜绝这样的事情发生，只要女友不生气，那咱不就剩哈哈哈了嘛。\n\n\n# 气之因 行之果\n\n男生一定主动一点\n\n女人都是口是心非，说你忙去吧不要真的去忙\n\n多找时间陪她\n\n两个人不要互相迁就，有什么一定要说\n\n每个女生都希望她是个小公主，希望你对她越来越好，是偏爱加独宠\n\n没事就一定一定一定要多找她多给她发消息",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"好歌 200813 - 旅行",frontmatter:{title:"好歌 200813 - 旅行",date:"2022-08-13T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20200813.html",relativePath:"views/essay/20200813.md",key:"v-3fe6233e",path:"/views/essay/20200813.html",headers:[{level:3,title:"云热评：",slug:"云热评",normalizedTitle:"云热评：",charIndex:480}],excerpt:"<Boxx/>\n<p>这首歌是许巍为了纪念 2004 年初因车祸逝世的青岛朋友丁志强创作的 ，事实上这是一首很早就录音完成的歌，却是最后才有名字的 。</p>\n",headersStr:"云热评：",content:"这首歌是许巍为了纪念 2004 年初因车祸逝世的青岛朋友丁志强创作的 ，事实上这是一首很早就录音完成的歌，却是最后才有名字的 。\n\n借许巍老师的话来说，旅行是经历种种景色的地理意义上的跋涉，人生更是这样一场需要经历风雨的 “旅行” 。\n\n人生处处在旅行亦或修行，旅行的意义在于，它是一次成长的历练，强迫你独立生活，心智成长。\n\n旅行 - 许巍\n\n旅行 (《后会无期》电影插曲) - 许巍\n\n词：许巍\n曲：许巍\n编曲：许巍\n\n阵阵晚风吹动着松涛\n吹响这风铃声如天籁\n站在这城市的寂静处\n让一切喧嚣走远\n\n只有青山藏在白云间\n蝴蝶自由穿行在清涧\n看那晚霞盛开在天边\n有一群向西归鸟\n\n谁画出这天地 又画下我和你\n让我们的世界绚丽多彩\n谁让我们哭泣 又给我们惊喜\n让我们就这样相爱相遇\n总是要说再见 相聚又分离\n总是走在漫长的路上\n\n只有青山藏在白云间\n蝴蝶自由穿行在清涧\n看那晚霞盛开在天边\n有一群向西归鸟\n\n谁画出这天地 又画下我和你\n让我们的世界绚丽多彩\n谁让我们哭泣 又给我们惊喜\n让我们就这样相爱相遇\n总是要说再见 相聚又分离\n总是走在漫长的路上\n\n\n# 云热评：\n\n黑龙江大庆：有位自由诗人，他叫许巍；有位孤独诗人，他叫朴树；有位理想诗人，他叫李健；有位摇滚诗人，他叫郑钧\n\n2015 年 1 月 12 日\n\n趴着睡比较好：许巍的歌，不买个 SUV 在高速上面边听边开都算埋汰了啊～！！！！！！\n\n2014 年 12 月 28 日\n\n睦寰：变老的标志就是口味的改变，喜欢一些之前觉得土的东西，然后对生活麻木，过一天就一天。\n\n2014 年 11 月 26 日\n\n757351：去年我辞掉工作 八个月时间 16000 公里环骑游中国 我真不敢想像如果没有许巍这一路是怎么过来的 现在想想挺着他的歌陪着我走过高原 山区 平地 古镇 古迹 以及眼前看过的一切美景 真的感谢许巍\n\n2016 年 2 月 13 日\n\n为什么注册不上：上大学的时候有个新疆的同学，我们都问他，为什么跑这么远来西安上学，他说：西安有许巍，有郑钧，有城墙\n\n2015 年 10 月 9 日\n\n素颜嫣然：天亮是六点半到六点四十，十分钟之间。今天天空非常清亮，站在阳台能望得很远很远，甚至看见了天边久违的思念... 裹紧外套，煎荷包蛋叫孩子们吃饭！早安，今天！\n\n2014 年 12 月 4 日",normalizedContent:"这首歌是许巍为了纪念 2004 年初因车祸逝世的青岛朋友丁志强创作的 ，事实上这是一首很早就录音完成的歌，却是最后才有名字的 。\n\n借许巍老师的话来说，旅行是经历种种景色的地理意义上的跋涉，人生更是这样一场需要经历风雨的 “旅行” 。\n\n人生处处在旅行亦或修行，旅行的意义在于，它是一次成长的历练，强迫你独立生活，心智成长。\n\n旅行 - 许巍\n\n旅行 (《后会无期》电影插曲) - 许巍\n\n词：许巍\n曲：许巍\n编曲：许巍\n\n阵阵晚风吹动着松涛\n吹响这风铃声如天籁\n站在这城市的寂静处\n让一切喧嚣走远\n\n只有青山藏在白云间\n蝴蝶自由穿行在清涧\n看那晚霞盛开在天边\n有一群向西归鸟\n\n谁画出这天地 又画下我和你\n让我们的世界绚丽多彩\n谁让我们哭泣 又给我们惊喜\n让我们就这样相爱相遇\n总是要说再见 相聚又分离\n总是走在漫长的路上\n\n只有青山藏在白云间\n蝴蝶自由穿行在清涧\n看那晚霞盛开在天边\n有一群向西归鸟\n\n谁画出这天地 又画下我和你\n让我们的世界绚丽多彩\n谁让我们哭泣 又给我们惊喜\n让我们就这样相爱相遇\n总是要说再见 相聚又分离\n总是走在漫长的路上\n\n\n# 云热评：\n\n黑龙江大庆：有位自由诗人，他叫许巍；有位孤独诗人，他叫朴树；有位理想诗人，他叫李健；有位摇滚诗人，他叫郑钧\n\n2015 年 1 月 12 日\n\n趴着睡比较好：许巍的歌，不买个 suv 在高速上面边听边开都算埋汰了啊～！！！！！！\n\n2014 年 12 月 28 日\n\n睦寰：变老的标志就是口味的改变，喜欢一些之前觉得土的东西，然后对生活麻木，过一天就一天。\n\n2014 年 11 月 26 日\n\n757351：去年我辞掉工作 八个月时间 16000 公里环骑游中国 我真不敢想像如果没有许巍这一路是怎么过来的 现在想想挺着他的歌陪着我走过高原 山区 平地 古镇 古迹 以及眼前看过的一切美景 真的感谢许巍\n\n2016 年 2 月 13 日\n\n为什么注册不上：上大学的时候有个新疆的同学，我们都问他，为什么跑这么远来西安上学，他说：西安有许巍，有郑钧，有城墙\n\n2015 年 10 月 9 日\n\n素颜嫣然：天亮是六点半到六点四十，十分钟之间。今天天空非常清亮，站在阳台能望得很远很远，甚至看见了天边久违的思念... 裹紧外套，煎荷包蛋叫孩子们吃饭！早安，今天！\n\n2014 年 12 月 4 日",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"项目管理 - 工作安排",frontmatter:{title:"项目管理 - 工作安排",date:"2023-11-19T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20201119.html",relativePath:"views/essay/20201119.md",key:"v-6ff839a5",path:"/views/essay/20201119.html",headers:[{level:2,title:"任务",slug:"任务",normalizedTitle:"任务",charIndex:69},{level:2,title:"做法",slug:"做法",normalizedTitle:"做法",charIndex:261},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:269}],excerpt:"<Boxx/>\n<p>近期项目中遇到一些管理方面的问题，虽说目前技术开发占多一点，但工作中人际交往必不可少，人只有在心情愉悦的情况下才能更高效的工作。</p>\n",headersStr:"任务 做法 总结",content:"近期项目中遇到一些管理方面的问题，虽说目前技术开发占多一点，但工作中人际交往必不可少，人只有在心情愉悦的情况下才能更高效的工作。\n\n\n# 任务\n\n安排任务，首先是个人对工作量的总体把握程度。毕竟有的人效率高，能在很短时间解决很大问题；有的人效率低，就需要有人催一下，加把劲。\n\n但是切记不要催的次数过多了，你去催他，催的次数多了，他自然烦你，而你又操着这份心，本想着都是将这份工组做好，结果却是典型的双方吃力不讨好！\n\n作为下属，忙的时候压力肯定是有的，但也要体谅领导的难处和工作的需要，做到忙中能稳，稳中有戏。\n\n\n# 做法\n\n拿住性子总结了以下几点，上至领导下至下属皆可参考吧：\n\n 1. 任务拆分：将任务分割化，尽量提前到距目标期限前几天，以保证缓冲时间可以解决其他突发性问题。\n 2. 合理安排：将分割后的几个子任务再以天或时间段为单位进行拆分并合理安排，并不定时检查工作结果。\n 3. 协商处理：双方协商工作安排是否合理，有难度一定要提前说，保证每个人有自己的当天工作任务量，在完成任务的前提下其他时间自由支配，只需保证按时交工即可。\n 4. 勤换位思考，多保持沟通。沟通是非常重要重要重要的。\n\n\n# 总结\n\n\n\n相比较而言，这样安排：时间既合理，双方又省时省力！",normalizedContent:"近期项目中遇到一些管理方面的问题，虽说目前技术开发占多一点，但工作中人际交往必不可少，人只有在心情愉悦的情况下才能更高效的工作。\n\n\n# 任务\n\n安排任务，首先是个人对工作量的总体把握程度。毕竟有的人效率高，能在很短时间解决很大问题；有的人效率低，就需要有人催一下，加把劲。\n\n但是切记不要催的次数过多了，你去催他，催的次数多了，他自然烦你，而你又操着这份心，本想着都是将这份工组做好，结果却是典型的双方吃力不讨好！\n\n作为下属，忙的时候压力肯定是有的，但也要体谅领导的难处和工作的需要，做到忙中能稳，稳中有戏。\n\n\n# 做法\n\n拿住性子总结了以下几点，上至领导下至下属皆可参考吧：\n\n 1. 任务拆分：将任务分割化，尽量提前到距目标期限前几天，以保证缓冲时间可以解决其他突发性问题。\n 2. 合理安排：将分割后的几个子任务再以天或时间段为单位进行拆分并合理安排，并不定时检查工作结果。\n 3. 协商处理：双方协商工作安排是否合理，有难度一定要提前说，保证每个人有自己的当天工作任务量，在完成任务的前提下其他时间自由支配，只需保证按时交工即可。\n 4. 勤换位思考，多保持沟通。沟通是非常重要重要重要的。\n\n\n# 总结\n\n\n\n相比较而言，这样安排：时间既合理，双方又省时省力！",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"我爱你，爱的却不是那么尽如人意",frontmatter:{title:"我爱你，爱的却不是那么尽如人意",date:"2022-10-12T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],keys:["5201314"],isShowComments:!0},regularPath:"/views/essay/20201012.html",relativePath:"views/essay/20201012.md",key:"v-6f3c2f35",path:"/views/essay/20201012.html",headers:[{level:2,title:"爱之初体验",slug:"爱之初体验",normalizedTitle:"爱之初体验",charIndex:2},{level:2,title:"爱是你我，用心交织的生活",slug:"爱是你我-用心交织的生活",normalizedTitle:"爱是你我，用心交织的生活",charIndex:196},{level:2,title:"爱要向前进",slug:"爱要向前进",normalizedTitle:"爱要向前进",charIndex:901}],headersStr:"爱之初体验 爱是你我，用心交织的生活 爱要向前进",content:"# 爱之初体验\n\n亲爱的，开头请允许我引用昨晚曾说过的一句话：“我爱你，但爱的却不是那么尽如人意！”，因为这将是全文的重点，也是引领我之后成为一个“合格男友”的重要指示。\n\n首先说一下我自己吧，我这个人长久下来你可能也会发现最大的毛病就是不会与人交流（其他人我不管，单说你），不善表达，脑子里不记事，从小就一直被人说太老实太内向，这是与生俱来的毛病，想过改，但自己终究还是自己。\n\n\n\n\n# 爱是你我，用心交织的生活\n\n接下来说说正事\n\n生气，吵架，这是每对情侣都会发生的事情，结婚之后更是如此。\n\n确实，在恋爱方面我更是不善于表达，包括想的说的做的等一切，是真的不善于表达是脑子里都没有冒出那种想法一直是空白那种都傻傻的不知道说什么一直等对方开话题那种，你能理解的吧？\n\n不懂得关心不知道照顾对方的感受，尤其是经历过这么多事以后，越发认识到自己的错误，但是每每当问题发生时，仍不知道自己错在哪，这是最致命的，我是多想希望啊，多想希望能get到你那个点，然后知错能改善莫大焉！从你能感受到的地方开始呵护你关心你，完犊子了这个真的只是说说因为我实在不知道从哪方面下手，照我的理解就是明天多找你然后多陪你。\n\n有时候我说 我也不知道怎么办了是真的不知道怎么办了，因为第一我不敢瞎说第二我怕说错了又惹你生气，还有时候我怕我天天光说做不到而你到时候更失望，因为你不止一次说过类似的话：“你告诉我我很重要，你认定我了，你会好好对我，可你的表现却不是这样”，你知道吗，光是最后几个字，每看到一次就伤心一次，我真的很努力了，每每看到发“你的表现却不是这样”，我不知道是是你真的不满意还是我真的没做好，导致我也真的真的很内疚。\n\n而应对它我也一直说一直说我想变，变成那么一个大暖男好男友，或如你期望的那样（虽然我至今还不知道），主动关心你爱护你把你捧在手心里，这真的不是你的压力也不是你的要求，这些也真的是一个合格男友该做的事情，所以你不必自责！\n\n或许你也发现了，“真的”这两个字出现的次数太多太频繁了，说这么多一是表达出强调作用，二是“真的”想表达出我爱你，是从心里的爱，虽然不如你期望的爱！( T_T)\n\n\n# 爱要向前进\n\n\n\n我记得你也说过，缺点是每个人都有的，而爱情教会则是教会了彼此包容。以后的路还很长，生气吵架拌嘴是少不了的，但是不管发生什么，希望余生，有你陪我度过！",normalizedContent:"# 爱之初体验\n\n亲爱的，开头请允许我引用昨晚曾说过的一句话：“我爱你，但爱的却不是那么尽如人意！”，因为这将是全文的重点，也是引领我之后成为一个“合格男友”的重要指示。\n\n首先说一下我自己吧，我这个人长久下来你可能也会发现最大的毛病就是不会与人交流（其他人我不管，单说你），不善表达，脑子里不记事，从小就一直被人说太老实太内向，这是与生俱来的毛病，想过改，但自己终究还是自己。\n\n\n\n\n# 爱是你我，用心交织的生活\n\n接下来说说正事\n\n生气，吵架，这是每对情侣都会发生的事情，结婚之后更是如此。\n\n确实，在恋爱方面我更是不善于表达，包括想的说的做的等一切，是真的不善于表达是脑子里都没有冒出那种想法一直是空白那种都傻傻的不知道说什么一直等对方开话题那种，你能理解的吧？\n\n不懂得关心不知道照顾对方的感受，尤其是经历过这么多事以后，越发认识到自己的错误，但是每每当问题发生时，仍不知道自己错在哪，这是最致命的，我是多想希望啊，多想希望能get到你那个点，然后知错能改善莫大焉！从你能感受到的地方开始呵护你关心你，完犊子了这个真的只是说说因为我实在不知道从哪方面下手，照我的理解就是明天多找你然后多陪你。\n\n有时候我说 我也不知道怎么办了是真的不知道怎么办了，因为第一我不敢瞎说第二我怕说错了又惹你生气，还有时候我怕我天天光说做不到而你到时候更失望，因为你不止一次说过类似的话：“你告诉我我很重要，你认定我了，你会好好对我，可你的表现却不是这样”，你知道吗，光是最后几个字，每看到一次就伤心一次，我真的很努力了，每每看到发“你的表现却不是这样”，我不知道是是你真的不满意还是我真的没做好，导致我也真的真的很内疚。\n\n而应对它我也一直说一直说我想变，变成那么一个大暖男好男友，或如你期望的那样（虽然我至今还不知道），主动关心你爱护你把你捧在手心里，这真的不是你的压力也不是你的要求，这些也真的是一个合格男友该做的事情，所以你不必自责！\n\n或许你也发现了，“真的”这两个字出现的次数太多太频繁了，说这么多一是表达出强调作用，二是“真的”想表达出我爱你，是从心里的爱，虽然不如你期望的爱！( t_t)\n\n\n# 爱要向前进\n\n\n\n我记得你也说过，缺点是每个人都有的，而爱情教会则是教会了彼此包容。以后的路还很长，生气吵架拌嘴是少不了的，但是不管发生什么，希望余生，有你陪我度过！",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"平海漫漫惜别离",frontmatter:{title:"平海漫漫惜别离",date:"2022-07-15T00:00:00.000Z",sidebarDepth:0,tags:["随笔"],categories:["Essay"],isShowComments:!0,author:"zhangpengjun,liuhongliang"},regularPath:"/views/essay/20200715.html",relativePath:"views/essay/20200715.md",key:"v-1682ebc2",path:"/views/essay/20200715.html",headers:[{level:2,title:"近况",slug:"近况",normalizedTitle:"近况",charIndex:33},{level:2,title:"唏嘘",slug:"唏嘘",normalizedTitle:"唏嘘",charIndex:163},{level:2,title:"成熟",slug:"成熟",normalizedTitle:"成熟",charIndex:7}],excerpt:"<Boxx/>\n<p>人生啊，渐渐的成熟，是青春的终点线，又是新路程的起始符。</p>\n",headersStr:"近况 唏嘘 成熟",content:"人生啊，渐渐的成熟，是青春的终点线，又是新路程的起始符。\n\n\n# 近况\n\n许久不见，疫情影响，近来居家隔离中。\n\n短短几天，都不晓得外面世界的样子了，真想一下打破这股子宁静，出去狂吸几口子那干净而又充满了夏季香草味的雨后空气。\n\n奈。。\n\n人在家中坐，心游身不由，只能体验下 刘禹锡 的 “斯是陋室，惟吾德馨” 了。\n\n\n# 唏嘘\n\n这不，只剩无情的工作外加挚友聊天，又外加近期博文没更。\n\n故，社会你亮哥把珍藏多年的金句给了我才有了这篇合作，心想存下金句的同时也为友情留个纪念，如若下次相遇或待年老之后，也为吹嘘打闹作一番唏嘘😄，注意哈，云瀚语录要开始了：\n\n * 因为有你, 让我变成更优秀的自己\n\n * 我明白你的意思，你我之间不需要解释\n\n * 你许我一时温柔，我还你一个春秋\n\n * 柜子里的衣服在不断更迭，身边的朋友何尝不是\n\n * 生活已经让他们失望很多次了，不差这一次\n\n * 不做无谓之争，输了你赢了世界又如何\n\n * 苟且的生活中也有诗与远方\n\n * 没有希望就没有失望，普通的生活才是常态\n\n * 努力学习一项技能或许不能马上变现，但它却是你一辈子的财富\n\n * 地点还是那个地点，人群却不是那个人群了\n\n * 有些人虽然说了再见，却有可能再也不见了\n\n * 我又不喜欢你，凭什么要求我渣你\n\n * 我们一直拥有的，原本是自己早已拥有的\n\n * 曾经心塞的地方，如今向往的地方\n\n * 别傻了，生活是自己的，不是给别人看的\n\n * 知世故而不世故，愿你保持善良，一如既往\n\n * 何必极力追求终点，路上亦是风景\n\n * 不念过去，不畏将来，珍惜当下，好好生活\n\n * 幸福其实很简单，此处省略无数个字\n\n * 看这人群熙熙攘攘，却不知自己该去向何方\n\n * 如果你不够优秀，人脉是不值钱的，它不是追求来的，而是吸引来的。只有等价的交换，才能得到合理的帮助，虽然听起来很冷，但这是事实\n\n * 你看着别人遥不可及的技能，可能是别人生存的本能\n\n * 生活就像咖啡只有细品才能尝到苦中的甜\n\n * 不是它不够好，是你欣赏不了\n\n * 希望你能时刻感受到生活的美好，不留遗憾\n\n * 学最好的别人，做最好的自己\n\n夏季\n\n友情\n\n- img: https://images.pexels.com/photos/158827/field-corn-air-frisch-158827.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=450&w=260\n  link: https://images.pexels.com/photos/158827/field-corn-air-frisch-158827.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=450&w=260\n  name: 夏季\n- img: https://images.pexels.com/photos/853168/pexels-photo-853168.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=260\n  link: https://images.pexels.com/photos/853168/pexels-photo-853168.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=260\n  name: 友情\n\n\n1\n2\n3\n4\n5\n6\n\n\n寥寥几句，我相信每一句的背后肯定都是一个故事，记录着成长路上的点滴。\n\n\n# 成熟\n\n你看，其实每个人都有自己的成长感悟，可能是只言片句，可能是散水流文，也可能是心语言不语。\n\n人生啊，渐渐的成熟，是青春的终点线，又是新路程的起始符。越成熟越发现，成年人的发泄方式，不再是改头像、换签名、发朋友圈，而是吹吹风，静一静，习惯性的等待自愈！\n\n生活离我们越来越近，朋友之间的联系不再那么频繁，恋人又即将占据我们的全部，愿兄弟们都能找到心满意足的生活，在这个繁杂的社会上，简单、快乐就好！\n\n还有啊，还有虽然平时不怎么联系，但偶尔会给你打个电话问候一下的朋友，真的，很幸运能在人生的路上遇到你们，亮，雷，坤，伟，大军，我想你们拉~~",normalizedContent:"人生啊，渐渐的成熟，是青春的终点线，又是新路程的起始符。\n\n\n# 近况\n\n许久不见，疫情影响，近来居家隔离中。\n\n短短几天，都不晓得外面世界的样子了，真想一下打破这股子宁静，出去狂吸几口子那干净而又充满了夏季香草味的雨后空气。\n\n奈。。\n\n人在家中坐，心游身不由，只能体验下 刘禹锡 的 “斯是陋室，惟吾德馨” 了。\n\n\n# 唏嘘\n\n这不，只剩无情的工作外加挚友聊天，又外加近期博文没更。\n\n故，社会你亮哥把珍藏多年的金句给了我才有了这篇合作，心想存下金句的同时也为友情留个纪念，如若下次相遇或待年老之后，也为吹嘘打闹作一番唏嘘😄，注意哈，云瀚语录要开始了：\n\n * 因为有你, 让我变成更优秀的自己\n\n * 我明白你的意思，你我之间不需要解释\n\n * 你许我一时温柔，我还你一个春秋\n\n * 柜子里的衣服在不断更迭，身边的朋友何尝不是\n\n * 生活已经让他们失望很多次了，不差这一次\n\n * 不做无谓之争，输了你赢了世界又如何\n\n * 苟且的生活中也有诗与远方\n\n * 没有希望就没有失望，普通的生活才是常态\n\n * 努力学习一项技能或许不能马上变现，但它却是你一辈子的财富\n\n * 地点还是那个地点，人群却不是那个人群了\n\n * 有些人虽然说了再见，却有可能再也不见了\n\n * 我又不喜欢你，凭什么要求我渣你\n\n * 我们一直拥有的，原本是自己早已拥有的\n\n * 曾经心塞的地方，如今向往的地方\n\n * 别傻了，生活是自己的，不是给别人看的\n\n * 知世故而不世故，愿你保持善良，一如既往\n\n * 何必极力追求终点，路上亦是风景\n\n * 不念过去，不畏将来，珍惜当下，好好生活\n\n * 幸福其实很简单，此处省略无数个字\n\n * 看这人群熙熙攘攘，却不知自己该去向何方\n\n * 如果你不够优秀，人脉是不值钱的，它不是追求来的，而是吸引来的。只有等价的交换，才能得到合理的帮助，虽然听起来很冷，但这是事实\n\n * 你看着别人遥不可及的技能，可能是别人生存的本能\n\n * 生活就像咖啡只有细品才能尝到苦中的甜\n\n * 不是它不够好，是你欣赏不了\n\n * 希望你能时刻感受到生活的美好，不留遗憾\n\n * 学最好的别人，做最好的自己\n\n夏季\n\n友情\n\n- img: https://images.pexels.com/photos/158827/field-corn-air-frisch-158827.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=450&w=260\n  link: https://images.pexels.com/photos/158827/field-corn-air-frisch-158827.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=450&w=260\n  name: 夏季\n- img: https://images.pexels.com/photos/853168/pexels-photo-853168.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=260\n  link: https://images.pexels.com/photos/853168/pexels-photo-853168.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=260\n  name: 友情\n\n\n1\n2\n3\n4\n5\n6\n\n\n寥寥几句，我相信每一句的背后肯定都是一个故事，记录着成长路上的点滴。\n\n\n# 成熟\n\n你看，其实每个人都有自己的成长感悟，可能是只言片句，可能是散水流文，也可能是心语言不语。\n\n人生啊，渐渐的成熟，是青春的终点线，又是新路程的起始符。越成熟越发现，成年人的发泄方式，不再是改头像、换签名、发朋友圈，而是吹吹风，静一静，习惯性的等待自愈！\n\n生活离我们越来越近，朋友之间的联系不再那么频繁，恋人又即将占据我们的全部，愿兄弟们都能找到心满意足的生活，在这个繁杂的社会上，简单、快乐就好！\n\n还有啊，还有虽然平时不怎么联系，但偶尔会给你打个电话问候一下的朋友，真的，很幸运能在人生的路上遇到你们，亮，雷，坤，伟，大军，我想你们拉~~",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"中台",frontmatter:{title:"中台",date:"2022-12-16T00:00:00.000Z",tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20211216.html",relativePath:"views/essay/20211216.md",key:"v-eb636232",path:"/views/essay/20211216.html",headers:[{level:2,title:"中台由来",slug:"中台由来",normalizedTitle:"中台由来",charIndex:208},{level:2,title:"聊聊架构",slug:"聊聊架构",normalizedTitle:"聊聊架构",charIndex:868},{level:2,title:"单体架构的时代",slug:"单体架构的时代",normalizedTitle:"单体架构的时代",charIndex:910},{level:2,title:"SOA(Service-Oriented Architecture)",slug:"soa-service-oriented-architecture",normalizedTitle:"soa(service-oriented architecture)",charIndex:1574},{level:2,title:"微服务架构",slug:"微服务架构",normalizedTitle:"微服务架构",charIndex:2606},{level:2,title:"服务共享",slug:"服务共享",normalizedTitle:"服务共享",charIndex:3068},{level:2,title:"服务拆分",slug:"服务拆分",normalizedTitle:"服务拆分",charIndex:3583},{level:2,title:"交易中台",slug:"交易中台",normalizedTitle:"交易中台",charIndex:108},{level:2,title:"金融中台",slug:"金融中台",normalizedTitle:"金融中台",charIndex:113},{level:2,title:"去中台化",slug:"去中台化",normalizedTitle:"去中台化",charIndex:6036}],excerpt:"<Boxx/>\n<p>今天给大家分享一下关于架构和中台的一些东西。</p>\n<p>主要会介绍一下中台的来源，这个大家可能都比较清楚，网上的文章和视频啊一大堆。</p>\n<p>还有就是关于架构的发展过程不得不在中间说明一下，由此引申出来中台的诞生。</p>\n<p>最后会就关于交易中台和金融中台做一个介绍，因为我最近两年在其他公司做的一个是交易中台，还有一个就是金融中台相关的业务。</p>\n",headersStr:"中台由来 聊聊架构 单体架构的时代 SOA(Service-Oriented Architecture) 微服务架构 服务共享 服务拆分 交易中台 金融中台 去中台化",content:"今天给大家分享一下关于架构和中台的一些东西。\n\n主要会介绍一下中台的来源，这个大家可能都比较清楚，网上的文章和视频啊一大堆。\n\n还有就是关于架构的发展过程不得不在中间说明一下，由此引申出来中台的诞生。\n\n最后会就关于交易中台和金融中台做一个介绍，因为我最近两年在其他公司做的一个是交易中台，还有一个就是金融中台相关的业务。\n\n> 公司内做的一个简单的分享，文章内容是我根据自己讲的还有录像又手撸了一遍，累。\n\n\n# 中台由来\n\n首先，来看一下中台的由来。\n\n中台的来源主要是阿里，他们在15年拜访在芬兰的一家游戏公司，也就是SuperCell。\n\n这家公司非常牛逼，号称是世界上最成功的的移动游戏公司，做出的游戏也非常有名，肯定很多人也玩过。\n\n比如部落战争、海岛奇兵等等。\n\n我也玩过一下他们的那个游戏，不过觉得没啥意思。\n\n这家公司的规模只有不到200人，公司的开发模式通常都会由2-7个人的小团队进行开发，这个在他们内部叫做cell，这也是他们公司名字的由来。\n\n开发过程通常是团队内部决定，然后用最快的时间开发出测试版本，如果受欢迎就继续干，否则的话就迅速放弃。\n\n产品失败之后，不光不会受到惩罚，他们还会搞个party来庆祝，庆祝自己学到了新的东西。\n\n不过我觉得挺奇葩的，要是都按照他们这个模式来，早期腾讯、阿里这些大公司都该死绝了。\n\n我们都知道，腾讯早期的时候想卖100万都没人要，马总实在没辙才只能硬着头皮继续做下去。\n\n但是，就是这样一家小公司，2015年的净利润达到了15亿美元，而且在2016年的时候被腾讯86亿美元收购。\n\n这些都不是重点哈，重点我们今天要讲的是他们的开发模式，为什么能快速开发一个新游戏出来？\n\n本来在我们想象中，开发一个新的游戏是一个很耗费时间精力的东西，几周开发一个还不错的游戏应该是很有难度的事情。\n\n重点就在于他们的”中台“，也是他们多年游戏沉淀下来的东西。\n\n他们在前面的很多年时间里对通用的游戏素材、算法等等做了很多沉淀。\n\n这也就是后面马云回来阿里之后大力搞的中台了。\n\n\n# 聊聊架构\n\n讲完中台的来历，在将中台之前，我们还是要先说说架构的发展过程。\n\n\n# 单体架构的时代\n\n在我刚刚上班的时候，大概是11年、12年基本上我接触到的项目都是这个样子。\n\n一个团队的所有东西都在一块，什么用户注册登录、支付啊、订单都在一起，经常是改一个小东西一个大项目都要跟着发布。\n\n一般单体的架构都是单进程的，这也是针对我们现在的微服务来说的，就是打个jar包或者war包上传就完事儿了，所有模块都在一个进程里，如果要升级或者重启，那整个应用服务都要重启。\n\n当然了，简单的项目划分模块分层还是有的，比如我们那时候常用的MVC模式。\n\n\n\n简单是很简单，但是同样缺点也是很明显的。\n\n第一点就是团队协同合作的成本高，如果说小公司没几个人还好，一旦业务快速发展起来，代码量感人，刚开始上班那会儿我的电脑经常就只能跑的动一个项目，不过好像也没有别的项目了。\n\n经常改一个简单的东西可能到处是冲突，更不要说一个大服务的发版问题。\n\n第二点，项目太复杂了，什么东西都是大杂烩，全在里面。\n\n第三点，数据库连接的问题，一个服务太大了，就一个数据库的集群，业务越来越多，服务器越来越多，到后面单机可能只搞个个位数的连接都要不够用了。\n\n所以，一般伴随拆分服务，数据库也会做拆分，独立的服务拥有独立的数据库。\n\n最后一点，拓展性的问题，所有的功能都在一个服务里，可能实际情况是某几个功能模块负载非常高，比如订单或者库存的服务，频繁的读写，这时候想要扩展很难搞。\n\n更严重的问题就是，如果一个模块出了问题，整个应用都不能用了。\n\n这时候没有办法了，只能拆分。\n\n因此就到了我们第二个架构模式，SOA的时代。\n\n\n# SOA(Service-Oriented Architecture)\n\n我在饿了么工作那会儿，里面就有一大堆的SOA的称呼，并且一直都是。\n\nSOA是什么意思呢，全名是这个Service-Oriented Architecture，意思就是面向服务的架构，基本上和我们现在的微服务差不多一样。\n\nSOA的核心在于：松耦合和服务重用，当单体架构出现瓶颈的时候，首先想到的都是拆，SOA时代的话，其实也已经就有了服务注册发现、服务治理这些概念了，和微服务可以说从认知上没有任何区别。\n\nSOA其实有两种模式，一种是中心化，一种是去中心化，下图中表示的就是中心化的服务调用方式。\n\n\n\n服务调用之间都通过ESB服务总线，调用方之间屏蔽了接口的修改，ESB要做服务请求路由、数据格式转换，各种HTTP SOCKET适配和接入，所有脏活累活都归他干了。\n\n这样很明显的看出来问题了。\n\n第一个就是请求，同样的请求次数是通常去中心化的2倍，本来A调用B，现在要通过ESB。\n\n第二个是肉眼可见的问题，这个ESB的压力会非常大，可以通过集群解决，但是ESB的性能瓶颈会导致所有服务的瓶颈。\n\n但是，这个模式在当初非常受欢迎，主要原因是什么呢？\n\n就是烟囱式架构引发出来的问题。\n\n烟囱式架构是什么？\n\n\n\n就像这张图描述的，你有好几个业务，因为时间或者说团队、公司各种原因，搞成了好几套独立的服务，开发和运维都没啥关系，大多数公司之前的发展过程中都会存在这样的问题。\n\n比如我之前的公司先做酒店业务、然后又有外卖、还有餐饮店、还要卖咖啡。\n\n如果说来一个业务就重头搞一套用户体系、订单体系、库存体系，最终的结果就是像矗立起来的一个个烟囱，也就是烟囱式架构。\n\n烟囱的现象很普遍，大家各玩各的，先把业务跑起来再说，但是缺陷有很多。\n\n首先，重复建设开发，不用说都能看出来，每次重头搞一套，不说开发成本，就说服务器和运维成本都够头疼的。\n\n第二点，就是系统之间交互协作成本直线上升，业务发展了，可能要做一些精确营销活动，设计用户画像，对数据分析之类的啦，这都很正常。\n\n哦豁，这时候你发现用户在好几个系统里，这个交互打通的成本就太高了。\n\n要做个数据统计，还要调好几个系统接口，可能数据结构还不一样，搞都搞死你。\n\n还有就是业务沉淀和发展，这也是后面要说的中台了。\n\n难道这些系统之间就没有通用的能抽象的能力可以共用吗？\n\n这也就是中台的发展的方向，抽象、沉淀和共用。\n\n\n\n\n# 微服务架构\n\n最后就是说到我们的微服务时代了，这个大家都很熟悉，不需要说太多东西。\n\n至于现在还有Serverless、云原生什么低代码这里就不展开了，等后面的话有机会再说。\n\n回到微服务的话题，微服务和SOA有什么区别。\n\n个人认为其实很接近，微服务就是更加自由和更细粒度的SOA。\n\n微服务没有那么多框架约束，我们想用啥用啥，虽然在SOA也可以实现，比如通信我们可以用Dubbo，可以用Feign，Thrift，GRPC，想用啥用啥。\n\n举个例子用 spring cloud 来说，eureka可以帮我们做服务注册和发现，打个@enableEurekaClient就可以成为客户端连接到Eureka了。\n\n路由直接用zuul，限流熔断用hystrix，负载均衡用ribbon，远程调用用feign。\n\n非常方便，当然还可以选择用Spring Cloud Alibaba，这个我认为可能会是将来一段时间的趋势，更新维护的非常勤快。\n\nDubbo Nacos Sentinel这一套整起来明显更符合国内的使用习惯。\n\n\n# 服务共享\n\n说完架构的发展，可以回到我们之前的中台话题。\n\n那其实中台的作用已经不言而喻了，就是共享。\n\n以现在比较主流的一些电商来说，几个共享服务中心的划分。\n\n\n\n首先用户中心必不可少，用户是基础服务，用户中心集成用户通用的能力，包括注册登录，SSO单点登录，还要和大数据配合用户打标签，用户画像等。\n\n营销中心这个也很重要，包含各种优惠活动、优惠券、红包、卡券、积分、会员等级、返佣之类的和营销相关的东西。\n\n交易中心处理用户下订单，如果下单有返佣，积分之类的话，这个叫做履约，后面再说，关于交易中台是我后面要说的。\n\n支付中心负责支付，退款，三方支付、银行对接、预算管控等等。\n\n数据中心，这个其实和业务中台是两块方向，今天我要说的都是业务中台，针对业务系统的沉淀和共享，数据中台则是更偏向大数据方向的，不在这里赘述。\n\n最底层服务是我们的基础设施和中间件的能力，比如数据库、消息服务Kafka、Rabbitmq、数仓、文件系统。\n\n这张图画出来好像除了中台和前台没别的东西了，并不是这样，我只是想表达说共享服务是作为支撑上层业务的核心，下层还有后台的服务并没有画出来而已，也就是顺应着大中台、小前台的架构来说。\n\n\n# 服务拆分\n\n讲到这个服务抽象和共享就顺便说说服务拆分的原则，这个说法太多了，见仁见智，更多的是遵循原有的一些经验去做处理。\n\n总的来说，现在我们主流的拆分都是根据业务角度去拆分。\n\n高内聚、低耦合，这个没啥说的，所有的服务都应该遵循这个原则，否则你要拆那就是瞎几把拆。\n\n高内聚说的是比如交易中台，只围绕交易相关的、依赖性非常高的进行拆分。\n\n低耦合则是说不同的服务，业务之间要隔离，不要耦合在一起，但是这个得有过程。\n\n举个例子来说一开始的业务没什么人，用户地址这些信息就放在用户的服务里，好像也没什么问题。\n\n随着业务的发展，这个地址信息和物流的服务好像关联越来越大，是不是就可以拆到物流服务里。\n\n所以，这个要用发展的眼光去看待问题，不能一刀切。\n\n回头去个小公司，别人就几万用户，几个程序员，就一个服务，你非要干微服务，拆几十个服务出来，这就不对是不是。\n\n数据完整性\n\n其实也类似，业务相关数据一定要完整，比如你做拆分，拆分完了之后用户名字拆到别的系统里去了，那就不太合理了。\n\n持续迭代\n\n也就是说要可持续性地做架构升级的调整和拆分，这个还是要跟着业务的发展走，不能一下拆的太细，也不能一下子太粗。。\n\n你能明白我的意思吧，我没有在开车。。\n\n\n# 交易中台\n\n说了好久，总算说到交易中台了，我之前干交易中台干了差不多两年时间，自认为还算比较了解，除了一些东西没有实现之外，由于公司发展和时间的关系。\n\n交易中台上面也提到过，主要就是从用户看到商品，然后到订单确认页，最后下订单，支付，配送，签收，这样一个整个过程都是交易中台在做的事情。\n\n交易的定义就是买卖双方对有价物品和服务进行互通有无的行为，可以是以货币为交易媒介的过程，也可以是以物易物。\n\n而交易过程，现在一般都是分为订约和履约两个，这基本是所有的交易中台的规则了。\n\n某某在什么时间做了什么事情，这是订约。\n\n举个例子来说，买方给卖方提供了有价物品，比如钱，卖方需要给买方提供服务。\n\n而履约的则是某某在约定的时间完成约定的事情，比如交付货币、物品或者服务。\n\n整个流程大致就是这个样子，当然一般我们都会分为正向和逆向两个方向去处理，正向完成交易的过程，逆向你可以理解为取消、退款这个环节。\n\n\n\n既然是中台，那么就要能适应各类的交易场景。\n\n比如酒店行业你去预订房间，这是正向交易，最后你去入住、离店，这是你履约的过程。\n\n供应链要采购，然后商家会发货，最后你签收，这也是订约和履约的过程。\n\n点外卖也是同样的道理。\n\n这些所有的场景，那么我们都可以用通用的流程来归纳起来，就是上面提到的通用的交易流程。\n\n\n\n抽象的概念说完了，需要再形象一点的来描述一下。\n\n上面我们说到了一些现在比较常见的服务拆分和服务的划分，下面根据实际场景看看我们服务到底是怎么划分的。\n\n这张图是美团的订单确认页，一般也叫做提单页。图太长，我拆分为3个小图来描述。\n\n可以一起来分析一下这个页面应该由哪些服务来构成，由谁来聚合这么多服务的接口？\n\n\n\n首先地址信息上面也提到过了， 这个由用户服务或者说是物流服务来提供比较合适。\n\n那配送时间这方面就应该由物流的算法来提供，他们会根据运力、天气、骑手一堆信息来计算一个比较合理的送达时间。\n\n\n\n中间这一部分商品的详细信息肯定由商品服务来提供。\n\n至于配送费啊、各种补贴、红包优惠券是不是该由营销来提供，这里其实会很复杂， 因为要计算各种条件的价格，计算出最终应该支付的金额，这个一般我们会由价格服务来输出。\n\n\n\n最下面这一部分叫做搭售，可以在下单的同时去购买会员，这个其实就相当于下了两个订单，一单是外卖单，另外一个订单就是搭售订单，购买会员的订单，最终两个订单合并支付，保持最终一致性就行了，下单成功，同时会员购买成功。\n\n最终下单成功之后发送消息，物流团队根据消息去履约配送，营销根据下单消息该送积分、送红包就怎么送，另外如果有搭售会员的话，还需要进行会员升级，这也是属于履约的一部分。\n\n这个地方还有两个挺有意思的点。\n\n第一个是扣库存的问题，应该是下单成功扣库存，还是支付成功扣库存（不用太考虑保存订单和扣库存分布式事务的问题，这个会保证最终一致性）。\n\n一般所有的业务都会下单就扣库存，但是这样会有一个问题。\n\n之前我们做活动，会把很多房间拿出来做优惠活动，单价就会便宜，但是库存有限，这个叫做尾房甩卖。\n\n很多黄牛就先去下单把库存占住，然后再卖给用户，马上取消订单，帮用户下单。\n\n所以我们之前有两种模式，针对这种类型的特殊情况会支付成功后才扣库存，普通模式像电商外卖一般没这种问题，都是下单就扣。\n\n还有一个就是这个券的问题，不知道大家发现了没有，买了会员送券，可以立刻使用，下面还标注了，本单可用。\n\n你肯定能想到这个问题，一般我们是券发给用户了才能用，这里下单成功后发消息->履约->发券，这个券都还没有怎么提前用。\n\n这又是一个交易系统里比较常见的，早两年应该是没有这个玩法的，也算是一个优化，一般会叫做虚拟券。\n\n下单的时候去核销优惠券，一般会给营销传一个特殊的标记和参数，营销根据这个判断做特殊的处理，至于具体的逻辑，我也不是很清楚，搞的挺复杂的就是了。\n\n再结合全景图看一下就清晰了和架构图看一下就清晰多了。\n\n\n\n\n# 金融中台\n\n金融中台不够纯粹，与其说是中台，不如说是事业部更合适一点，一般现在国内很多公司的金融中台基本都逃脱不了这几块的内容，很多都非常类似，就是根据不同的业务有点出入而已。\n\n\n\n支付是整个金融中台的核心，跳转的统一收银台又是支付的核心。\n\n清结算也很核心，非常重要，这个我也干过一段时间，预算，活动、券这是营销的角度，预算则是财务金融的角度。\n\n一般创建活动的时候一定要申请预算，活动创建设置库存数量，同时申请财务预算，一般情况都是1：1，创建成功不可以修改，库存可以临时改，但是预算改不了，除非重新申请。\n\n金融中台自己领会好吧。\n\n\n# 去中台化\n\n这一段我不能放，涉及到一些公司隐私的东西，但是可以聊聊其他的。\n\n比如开发流程，就我经历过的，中台这种部门一旦起来了，很容易一家独大，话语权太强，并且对于稳定性的要求太高，一定程度上阻碍了业务的开发。\n\n其次对于业务的支撑和快速发展，其实可能没有想象中的那么好，经历过的大家应该也都会有体会的。\n\n再者，中台这种产品必然涉及了太多的政治层面的博弈，我觉得SuperCell那种小公司玩得转确实可以，但是体量太大的公司玩的好挺难的，那体量不大的公司又没有太大必要搞什么鬼中台，你又不是啥游戏公司对不对，毕竟还是互联网公司为主，做业务开发为主。\n\n好了，言尽于此吧，文章来源于艾小仙。\n\nhttps://juejin.cn/post/7028151090654904333",normalizedContent:"今天给大家分享一下关于架构和中台的一些东西。\n\n主要会介绍一下中台的来源，这个大家可能都比较清楚，网上的文章和视频啊一大堆。\n\n还有就是关于架构的发展过程不得不在中间说明一下，由此引申出来中台的诞生。\n\n最后会就关于交易中台和金融中台做一个介绍，因为我最近两年在其他公司做的一个是交易中台，还有一个就是金融中台相关的业务。\n\n> 公司内做的一个简单的分享，文章内容是我根据自己讲的还有录像又手撸了一遍，累。\n\n\n# 中台由来\n\n首先，来看一下中台的由来。\n\n中台的来源主要是阿里，他们在15年拜访在芬兰的一家游戏公司，也就是supercell。\n\n这家公司非常牛逼，号称是世界上最成功的的移动游戏公司，做出的游戏也非常有名，肯定很多人也玩过。\n\n比如部落战争、海岛奇兵等等。\n\n我也玩过一下他们的那个游戏，不过觉得没啥意思。\n\n这家公司的规模只有不到200人，公司的开发模式通常都会由2-7个人的小团队进行开发，这个在他们内部叫做cell，这也是他们公司名字的由来。\n\n开发过程通常是团队内部决定，然后用最快的时间开发出测试版本，如果受欢迎就继续干，否则的话就迅速放弃。\n\n产品失败之后，不光不会受到惩罚，他们还会搞个party来庆祝，庆祝自己学到了新的东西。\n\n不过我觉得挺奇葩的，要是都按照他们这个模式来，早期腾讯、阿里这些大公司都该死绝了。\n\n我们都知道，腾讯早期的时候想卖100万都没人要，马总实在没辙才只能硬着头皮继续做下去。\n\n但是，就是这样一家小公司，2015年的净利润达到了15亿美元，而且在2016年的时候被腾讯86亿美元收购。\n\n这些都不是重点哈，重点我们今天要讲的是他们的开发模式，为什么能快速开发一个新游戏出来？\n\n本来在我们想象中，开发一个新的游戏是一个很耗费时间精力的东西，几周开发一个还不错的游戏应该是很有难度的事情。\n\n重点就在于他们的”中台“，也是他们多年游戏沉淀下来的东西。\n\n他们在前面的很多年时间里对通用的游戏素材、算法等等做了很多沉淀。\n\n这也就是后面马云回来阿里之后大力搞的中台了。\n\n\n# 聊聊架构\n\n讲完中台的来历，在将中台之前，我们还是要先说说架构的发展过程。\n\n\n# 单体架构的时代\n\n在我刚刚上班的时候，大概是11年、12年基本上我接触到的项目都是这个样子。\n\n一个团队的所有东西都在一块，什么用户注册登录、支付啊、订单都在一起，经常是改一个小东西一个大项目都要跟着发布。\n\n一般单体的架构都是单进程的，这也是针对我们现在的微服务来说的，就是打个jar包或者war包上传就完事儿了，所有模块都在一个进程里，如果要升级或者重启，那整个应用服务都要重启。\n\n当然了，简单的项目划分模块分层还是有的，比如我们那时候常用的mvc模式。\n\n\n\n简单是很简单，但是同样缺点也是很明显的。\n\n第一点就是团队协同合作的成本高，如果说小公司没几个人还好，一旦业务快速发展起来，代码量感人，刚开始上班那会儿我的电脑经常就只能跑的动一个项目，不过好像也没有别的项目了。\n\n经常改一个简单的东西可能到处是冲突，更不要说一个大服务的发版问题。\n\n第二点，项目太复杂了，什么东西都是大杂烩，全在里面。\n\n第三点，数据库连接的问题，一个服务太大了，就一个数据库的集群，业务越来越多，服务器越来越多，到后面单机可能只搞个个位数的连接都要不够用了。\n\n所以，一般伴随拆分服务，数据库也会做拆分，独立的服务拥有独立的数据库。\n\n最后一点，拓展性的问题，所有的功能都在一个服务里，可能实际情况是某几个功能模块负载非常高，比如订单或者库存的服务，频繁的读写，这时候想要扩展很难搞。\n\n更严重的问题就是，如果一个模块出了问题，整个应用都不能用了。\n\n这时候没有办法了，只能拆分。\n\n因此就到了我们第二个架构模式，soa的时代。\n\n\n# soa(service-oriented architecture)\n\n我在饿了么工作那会儿，里面就有一大堆的soa的称呼，并且一直都是。\n\nsoa是什么意思呢，全名是这个service-oriented architecture，意思就是面向服务的架构，基本上和我们现在的微服务差不多一样。\n\nsoa的核心在于：松耦合和服务重用，当单体架构出现瓶颈的时候，首先想到的都是拆，soa时代的话，其实也已经就有了服务注册发现、服务治理这些概念了，和微服务可以说从认知上没有任何区别。\n\nsoa其实有两种模式，一种是中心化，一种是去中心化，下图中表示的就是中心化的服务调用方式。\n\n\n\n服务调用之间都通过esb服务总线，调用方之间屏蔽了接口的修改，esb要做服务请求路由、数据格式转换，各种http socket适配和接入，所有脏活累活都归他干了。\n\n这样很明显的看出来问题了。\n\n第一个就是请求，同样的请求次数是通常去中心化的2倍，本来a调用b，现在要通过esb。\n\n第二个是肉眼可见的问题，这个esb的压力会非常大，可以通过集群解决，但是esb的性能瓶颈会导致所有服务的瓶颈。\n\n但是，这个模式在当初非常受欢迎，主要原因是什么呢？\n\n就是烟囱式架构引发出来的问题。\n\n烟囱式架构是什么？\n\n\n\n就像这张图描述的，你有好几个业务，因为时间或者说团队、公司各种原因，搞成了好几套独立的服务，开发和运维都没啥关系，大多数公司之前的发展过程中都会存在这样的问题。\n\n比如我之前的公司先做酒店业务、然后又有外卖、还有餐饮店、还要卖咖啡。\n\n如果说来一个业务就重头搞一套用户体系、订单体系、库存体系，最终的结果就是像矗立起来的一个个烟囱，也就是烟囱式架构。\n\n烟囱的现象很普遍，大家各玩各的，先把业务跑起来再说，但是缺陷有很多。\n\n首先，重复建设开发，不用说都能看出来，每次重头搞一套，不说开发成本，就说服务器和运维成本都够头疼的。\n\n第二点，就是系统之间交互协作成本直线上升，业务发展了，可能要做一些精确营销活动，设计用户画像，对数据分析之类的啦，这都很正常。\n\n哦豁，这时候你发现用户在好几个系统里，这个交互打通的成本就太高了。\n\n要做个数据统计，还要调好几个系统接口，可能数据结构还不一样，搞都搞死你。\n\n还有就是业务沉淀和发展，这也是后面要说的中台了。\n\n难道这些系统之间就没有通用的能抽象的能力可以共用吗？\n\n这也就是中台的发展的方向，抽象、沉淀和共用。\n\n\n\n\n# 微服务架构\n\n最后就是说到我们的微服务时代了，这个大家都很熟悉，不需要说太多东西。\n\n至于现在还有serverless、云原生什么低代码这里就不展开了，等后面的话有机会再说。\n\n回到微服务的话题，微服务和soa有什么区别。\n\n个人认为其实很接近，微服务就是更加自由和更细粒度的soa。\n\n微服务没有那么多框架约束，我们想用啥用啥，虽然在soa也可以实现，比如通信我们可以用dubbo，可以用feign，thrift，grpc，想用啥用啥。\n\n举个例子用 spring cloud 来说，eureka可以帮我们做服务注册和发现，打个@enableeurekaclient就可以成为客户端连接到eureka了。\n\n路由直接用zuul，限流熔断用hystrix，负载均衡用ribbon，远程调用用feign。\n\n非常方便，当然还可以选择用spring cloud alibaba，这个我认为可能会是将来一段时间的趋势，更新维护的非常勤快。\n\ndubbo nacos sentinel这一套整起来明显更符合国内的使用习惯。\n\n\n# 服务共享\n\n说完架构的发展，可以回到我们之前的中台话题。\n\n那其实中台的作用已经不言而喻了，就是共享。\n\n以现在比较主流的一些电商来说，几个共享服务中心的划分。\n\n\n\n首先用户中心必不可少，用户是基础服务，用户中心集成用户通用的能力，包括注册登录，sso单点登录，还要和大数据配合用户打标签，用户画像等。\n\n营销中心这个也很重要，包含各种优惠活动、优惠券、红包、卡券、积分、会员等级、返佣之类的和营销相关的东西。\n\n交易中心处理用户下订单，如果下单有返佣，积分之类的话，这个叫做履约，后面再说，关于交易中台是我后面要说的。\n\n支付中心负责支付，退款，三方支付、银行对接、预算管控等等。\n\n数据中心，这个其实和业务中台是两块方向，今天我要说的都是业务中台，针对业务系统的沉淀和共享，数据中台则是更偏向大数据方向的，不在这里赘述。\n\n最底层服务是我们的基础设施和中间件的能力，比如数据库、消息服务kafka、rabbitmq、数仓、文件系统。\n\n这张图画出来好像除了中台和前台没别的东西了，并不是这样，我只是想表达说共享服务是作为支撑上层业务的核心，下层还有后台的服务并没有画出来而已，也就是顺应着大中台、小前台的架构来说。\n\n\n# 服务拆分\n\n讲到这个服务抽象和共享就顺便说说服务拆分的原则，这个说法太多了，见仁见智，更多的是遵循原有的一些经验去做处理。\n\n总的来说，现在我们主流的拆分都是根据业务角度去拆分。\n\n高内聚、低耦合，这个没啥说的，所有的服务都应该遵循这个原则，否则你要拆那就是瞎几把拆。\n\n高内聚说的是比如交易中台，只围绕交易相关的、依赖性非常高的进行拆分。\n\n低耦合则是说不同的服务，业务之间要隔离，不要耦合在一起，但是这个得有过程。\n\n举个例子来说一开始的业务没什么人，用户地址这些信息就放在用户的服务里，好像也没什么问题。\n\n随着业务的发展，这个地址信息和物流的服务好像关联越来越大，是不是就可以拆到物流服务里。\n\n所以，这个要用发展的眼光去看待问题，不能一刀切。\n\n回头去个小公司，别人就几万用户，几个程序员，就一个服务，你非要干微服务，拆几十个服务出来，这就不对是不是。\n\n数据完整性\n\n其实也类似，业务相关数据一定要完整，比如你做拆分，拆分完了之后用户名字拆到别的系统里去了，那就不太合理了。\n\n持续迭代\n\n也就是说要可持续性地做架构升级的调整和拆分，这个还是要跟着业务的发展走，不能一下拆的太细，也不能一下子太粗。。\n\n你能明白我的意思吧，我没有在开车。。\n\n\n# 交易中台\n\n说了好久，总算说到交易中台了，我之前干交易中台干了差不多两年时间，自认为还算比较了解，除了一些东西没有实现之外，由于公司发展和时间的关系。\n\n交易中台上面也提到过，主要就是从用户看到商品，然后到订单确认页，最后下订单，支付，配送，签收，这样一个整个过程都是交易中台在做的事情。\n\n交易的定义就是买卖双方对有价物品和服务进行互通有无的行为，可以是以货币为交易媒介的过程，也可以是以物易物。\n\n而交易过程，现在一般都是分为订约和履约两个，这基本是所有的交易中台的规则了。\n\n某某在什么时间做了什么事情，这是订约。\n\n举个例子来说，买方给卖方提供了有价物品，比如钱，卖方需要给买方提供服务。\n\n而履约的则是某某在约定的时间完成约定的事情，比如交付货币、物品或者服务。\n\n整个流程大致就是这个样子，当然一般我们都会分为正向和逆向两个方向去处理，正向完成交易的过程，逆向你可以理解为取消、退款这个环节。\n\n\n\n既然是中台，那么就要能适应各类的交易场景。\n\n比如酒店行业你去预订房间，这是正向交易，最后你去入住、离店，这是你履约的过程。\n\n供应链要采购，然后商家会发货，最后你签收，这也是订约和履约的过程。\n\n点外卖也是同样的道理。\n\n这些所有的场景，那么我们都可以用通用的流程来归纳起来，就是上面提到的通用的交易流程。\n\n\n\n抽象的概念说完了，需要再形象一点的来描述一下。\n\n上面我们说到了一些现在比较常见的服务拆分和服务的划分，下面根据实际场景看看我们服务到底是怎么划分的。\n\n这张图是美团的订单确认页，一般也叫做提单页。图太长，我拆分为3个小图来描述。\n\n可以一起来分析一下这个页面应该由哪些服务来构成，由谁来聚合这么多服务的接口？\n\n\n\n首先地址信息上面也提到过了， 这个由用户服务或者说是物流服务来提供比较合适。\n\n那配送时间这方面就应该由物流的算法来提供，他们会根据运力、天气、骑手一堆信息来计算一个比较合理的送达时间。\n\n\n\n中间这一部分商品的详细信息肯定由商品服务来提供。\n\n至于配送费啊、各种补贴、红包优惠券是不是该由营销来提供，这里其实会很复杂， 因为要计算各种条件的价格，计算出最终应该支付的金额，这个一般我们会由价格服务来输出。\n\n\n\n最下面这一部分叫做搭售，可以在下单的同时去购买会员，这个其实就相当于下了两个订单，一单是外卖单，另外一个订单就是搭售订单，购买会员的订单，最终两个订单合并支付，保持最终一致性就行了，下单成功，同时会员购买成功。\n\n最终下单成功之后发送消息，物流团队根据消息去履约配送，营销根据下单消息该送积分、送红包就怎么送，另外如果有搭售会员的话，还需要进行会员升级，这也是属于履约的一部分。\n\n这个地方还有两个挺有意思的点。\n\n第一个是扣库存的问题，应该是下单成功扣库存，还是支付成功扣库存（不用太考虑保存订单和扣库存分布式事务的问题，这个会保证最终一致性）。\n\n一般所有的业务都会下单就扣库存，但是这样会有一个问题。\n\n之前我们做活动，会把很多房间拿出来做优惠活动，单价就会便宜，但是库存有限，这个叫做尾房甩卖。\n\n很多黄牛就先去下单把库存占住，然后再卖给用户，马上取消订单，帮用户下单。\n\n所以我们之前有两种模式，针对这种类型的特殊情况会支付成功后才扣库存，普通模式像电商外卖一般没这种问题，都是下单就扣。\n\n还有一个就是这个券的问题，不知道大家发现了没有，买了会员送券，可以立刻使用，下面还标注了，本单可用。\n\n你肯定能想到这个问题，一般我们是券发给用户了才能用，这里下单成功后发消息->履约->发券，这个券都还没有怎么提前用。\n\n这又是一个交易系统里比较常见的，早两年应该是没有这个玩法的，也算是一个优化，一般会叫做虚拟券。\n\n下单的时候去核销优惠券，一般会给营销传一个特殊的标记和参数，营销根据这个判断做特殊的处理，至于具体的逻辑，我也不是很清楚，搞的挺复杂的就是了。\n\n再结合全景图看一下就清晰了和架构图看一下就清晰多了。\n\n\n\n\n# 金融中台\n\n金融中台不够纯粹，与其说是中台，不如说是事业部更合适一点，一般现在国内很多公司的金融中台基本都逃脱不了这几块的内容，很多都非常类似，就是根据不同的业务有点出入而已。\n\n\n\n支付是整个金融中台的核心，跳转的统一收银台又是支付的核心。\n\n清结算也很核心，非常重要，这个我也干过一段时间，预算，活动、券这是营销的角度，预算则是财务金融的角度。\n\n一般创建活动的时候一定要申请预算，活动创建设置库存数量，同时申请财务预算，一般情况都是1：1，创建成功不可以修改，库存可以临时改，但是预算改不了，除非重新申请。\n\n金融中台自己领会好吧。\n\n\n# 去中台化\n\n这一段我不能放，涉及到一些公司隐私的东西，但是可以聊聊其他的。\n\n比如开发流程，就我经历过的，中台这种部门一旦起来了，很容易一家独大，话语权太强，并且对于稳定性的要求太高，一定程度上阻碍了业务的开发。\n\n其次对于业务的支撑和快速发展，其实可能没有想象中的那么好，经历过的大家应该也都会有体会的。\n\n再者，中台这种产品必然涉及了太多的政治层面的博弈，我觉得supercell那种小公司玩得转确实可以，但是体量太大的公司玩的好挺难的，那体量不大的公司又没有太大必要搞什么鬼中台，你又不是啥游戏公司对不对，毕竟还是互联网公司为主，做业务开发为主。\n\n好了，言尽于此吧，文章来源于艾小仙。\n\nhttps://juejin.cn/post/7028151090654904333",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Java实现常见的负载均衡算法",frontmatter:{title:"Java实现常见的负载均衡算法",date:"2022-08-08T00:00:00.000Z",tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20220808.html",relativePath:"views/essay/20220808.md",key:"v-04f7ea91",path:"/views/essay/20220808.html",headers:[{level:2,title:"什么是负载均衡",slug:"什么是负载均衡",normalizedTitle:"什么是负载均衡",charIndex:2},{level:2,title:"常见的负载均衡算法",slug:"常见的负载均衡算法",normalizedTitle:"常见的负载均衡算法",charIndex:233},{level:3,title:"1.轮询（Round Robin）",slug:"_1-轮询-round-robin",normalizedTitle:"1.轮询（round robin）",charIndex:247},{level:3,title:"2.加权轮询（WeightedRound-Robin）",slug:"_2-加权轮询-weightedround-robin",normalizedTitle:"2.加权轮询（weightedround-robin）",charIndex:2254},{level:3,title:"3.随机（Random）",slug:"_3-随机-random",normalizedTitle:"3.随机（random）",charIndex:5049},{level:3,title:"4.加权随机（Weight Random）",slug:"_4-加权随机-weight-random",normalizedTitle:"4.加权随机（weight random）",charIndex:6154},{level:3,title:"5.IPHash",slug:"_5-iphash",normalizedTitle:"5.iphash",charIndex:8037},{level:3,title:"6.最小连接数算法（ LeastConnection）",slug:"_6-最小连接数算法-leastconnection",normalizedTitle:"6.最小连接数算法（ leastconnection）",charIndex:9259},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:11285}],excerpt:"<Boxx/>\n",headersStr:"什么是负载均衡 常见的负载均衡算法 1.轮询（Round Robin） 2.加权轮询（WeightedRound-Robin） 3.随机（Random） 4.加权随机（Weight Random） 5.IPHash 6.最小连接数算法（ LeastConnection） 参考",content:'# 什么是负载均衡\n\n负载平衡（Load balancing）是一种电子计算机技术，用来在多个计算机（计算机集群）、网络连接、CPU、磁盘驱动器或其他资源中分配负载，以达到优化资源使用、最大化吞吐率、最小化响应时间、同时避免过载的目的。 使用带有负载平衡的多个服务器组件，取代单一的组件，可以通过冗余提高可靠性。负载平衡服务通常是由专用软件和硬件来完成。 主要作用是将大量作业合理地分摊到多个操作单元上进行执行，用于解决互联网架构中的高并发和高可用的问题。\n\n\n# 常见的负载均衡算法\n\n\n# 1.轮询（Round Robin）\n\n轮询算法按照顺序将新的请求分配给下一个服务器，最终实现平分请求。\n\n实例：已知服务器： s1 ，s2， s3\n\n请求1 -> s1\n\n请求2-> s2\n\n请求3 -> s3\n\n请求4 -> s1\n\n请求5 -> s2\n\n请求6 -> s3\n\n…\n\n优点：\n\n实现简单，无需记录各种服务的状态，是一种无状态的负载均衡策略。\n\n实现绝对公平\n\n缺点：当各个服务器性能不一致的情况，无法根据服务器性能去分配，无法合理利用服务器资源。\n\njava实现轮询算法：\n\n思路：根据上面的介绍，依次的选择下一个服务器，轮询算法具有周期性的特性，这就是典型的周期性概念，我们第一想法应该就是取余了。\n\n这里推荐大家《程序员的数学1》里面介绍了一些数学和编程思维的一些案例，其中就有介绍周期和分组的思想，个人感觉这本书还是不错的，推荐给大家。\n\npublic class RoundRobin {\n\n    @Data\n    public static class Server {\n\n        private int serverId;\n\n        private String name;\n\n        private int weight;\n\n        public Server(int serverId, String name) {\n            this.serverId = serverId;\n            this.name = name;\n        }\n\n        public Server(int serverId, String name, int weight) {\n            this.serverId = serverId;\n            this.name = name;\n            this.weight = weight;\n        }\n    }\n\n    private static AtomicInteger NEXT_SERVER_COUNTER = new AtomicInteger(0);\n\n    private static int select(int modulo) {\n        for (; ; ) {\n            int current = NEXT_SERVER_COUNTER.get();\n            int next = (current + 1) % modulo;\n            boolean compareAndSet = NEXT_SERVER_COUNTER.compareAndSet(current, next);\n            if (compareAndSet) {\n                return next;\n            }\n        }\n    }\n\n    public static Server selectServer(List<Server> serverList) {\n        return serverList.get(select(serverList.size()));\n    }\n\n    public static void main(String[] args) {\n        List<Server> serverList = new ArrayList<>();\n        serverList.add(new Server(1, "服务器1"));\n        serverList.add(new Server(2, "服务器2"));\n        serverList.add(new Server(3, "服务器3"));\n        for (int i = 0; i < 10; i++) {\n            Server selectedServer = selectServer(serverList);\n            System.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedServer.toString());\n\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n\n\n# 2.加权轮询（WeightedRound-Robin）\n\n由于不同的服务器配置不同，因此它们处理请求的能力也不同，给配置高的机器配置相对较高的权重，让其处理更多的请求，给配置较低的机器配置较低的权重减轻期负载压力。加权轮询可以较好的解决这个问题。\n\n思路：\n\n根据权重的大小让其获得相应被轮询到的机会。\n\n已知：\n\n服务器   权重\ns1    1\ns2    2\ns3    3\n\n可以根据权重我们在内存中创建一个这样的数组{s1,s2,s2,s3,s3,s3}，然后再按照轮询的方式选择相应的服务器。\n\n缺点：请求被分配到三台服务器上机会不够平滑。前3次请求都不会落在server3上。\n\nNginx 实现了一种平滑的加权轮询算法，可以将请求平滑（均匀）的分配到各个节点上。\n\n下面我们用Java实现一下这个算法。\n\n实现思路\n\n我们以当前节点权重作为被选中的概率\n\n public void incrCurrentWeight() {\n      this.currentWeight += weight;\n }\n\n\n1\n2\n3\n\n\n为了避免权重大的被连续选中，所以再被选中的时候我们应该让其的当前权重变小。我们可以采用\n\n// 当前权重 = 当前权重 - 总权重 1-6 =-5\n\n3-6 =-3\n\n可得权重越大下次当前权重变成最大的可能性也越大\n\npublic void selected(int total) {\n    this.currentWeight -= total;\n}\n\n\n1\n2\n3\n\n\n我们选取当前当前权重最大的一个服务器\n\npublic class WeightRoundRobin {\n\n    @Data\n    public static class Server {\n\n        private int serverId;\n\n        private String name;\n\n        private int weight;\n\n        private int currentWeight;\n\n        public Server(int serverId, String name) {\n            this.serverId = serverId;\n            this.name = name;\n        }\n\n        public Server(int serverId, String name, int weight) {\n            this.serverId = serverId;\n            this.name = name;\n            this.weight = weight;\n        }\n\n        public void selected(int total) {\n            this.currentWeight -= total;\n        }\n\n        public void incrCurrentWeight() {\n            this.currentWeight += weight;\n        }\n    }\n\n    public static Server selectServer(List<Server> serverList) {\n        int total = 0;\n        Server selectedServer = null;\n        int maxWeight = 0;\n        for (Server server : serverList) {\n            total += server.getWeight();\n            server.incrCurrentWeight();\n          \t//选取当前权重最大的一个服务器\n            if (selectedServer == null || maxWeight < server.getCurrentWeight()) {\n                selectedServer = server;\n                maxWeight = server.getCurrentWeight();\n            }\n        }\n        if (selectedServer == null){\n            Random random = new Random();\n            int next = random.nextInt(serverList.size());\n            return serverList.get(next);\n        }\n        selectedServer.selected(total);\n        return selectedServer;\n    }\n\n\n    public static void main(String[] args) {\n        List<Server> serverList = new ArrayList<>();\n        serverList.add(new Server(1, "服务器1", 1));\n        serverList.add(new Server(2, "服务器2", 3));\n        serverList.add(new Server(3, "服务器3", 10));\n        for (int i = 0; i < 10; i++) {\n            Server server = selectServer(serverList);\n            System.out.format("第%d次请求，选择服务器%s\\n", i + 1, server.toString());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n\n\n# 3.随机（Random）\n\n思路：利用随机数从所有服务器中随机选取一台，可以用服务器数组下标获取。\n\npublic class RandomLoadBalance {\n\n    @Data\n    public static class Server {\n\n        private int serverId;\n\n        private String name;\n\n        private int weight;\n\n        public Server(int serverId, String name) {\n            this.serverId = serverId;\n            this.name = name;\n        }\n    }\n\n    public static Server selectServer(List<Server> serverList) {\n        Random selector = new Random();\n        int next = selector.nextInt(serverList.size());\n        return serverList.get(next);\n    }\n\n    public static void main(String[] args) {\n        List<Server> serverList = new ArrayList<>();\n        serverList.add(new Server(1, "服务器1"));\n        serverList.add(new Server(2, "服务器2"));\n        serverList.add(new Server(3, "服务器3"));\n        for (int i = 0; i < 10; i++) {\n            Server selectedServer = selectServer(serverList);\n            System.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedServer.toString());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n\n\n# 4.加权随机（Weight Random）\n\n思路：\n\n这里我们是利用区间的思想，通过一个小于在此区间范围内的一个随机数，选中对应的区间（服务器），区间越大被选中的概率就越大。\n\n已知：\n\n服务器   权重\ns1    1\ns2    2\ns3    3\n\ns1：[0,1] s2：(1,3] s3 （3,6]\n\npublic class WeightRandom {\n\n    @Data\n    public static class Server {\n\n        private int serverId;\n\n        private String name;\n\n        private int weight;\n\n        public Server(int serverId, String name) {\n            this.serverId = serverId;\n            this.name = name;\n        }\n\n        public Server(int serverId, String name, int weight) {\n            this.serverId = serverId;\n            this.name = name;\n            this.weight = weight;\n        }\n    }\n\n    private static Server selectServer(List<Server> serverList) {\n        int sumWeight = 0;\n        for (Server server : serverList) {\n            sumWeight += server.getWeight();\n        }\n        Random serverSelector = new Random();\n        int nextServerRange = serverSelector.nextInt(sumWeight);\n        int sum = 0;\n        Server selectedServer = null;\n        for (Server server : serverList) {\n            if (nextServerRange >= sum && nextServerRange < server.getWeight() + sum) {\n                selectedServer = server;\n            }\n            sum += server.getWeight();\n        }\n        return selectedServer;\n    }\n\n    public static void main(String[] args) {\n        List<Server> serverList = new ArrayList<>();\n        serverList.add(new Server(1, "服务器1", 1));\n        serverList.add(new Server(2, "服务器2", 5));\n        serverList.add(new Server(3, "服务器3", 10));\n        for (int i = 0; i < 10; i++) {\n            Server selectedServer = selectServer(serverList);\n            System.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedServer.toString());\n\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n\n\n# 5.IPHash\n\n思路：根据每个每个请求ip（也可以是某个标识）ip.hash() % server.size()\n\npublic class IpHash {\n\n    @Data\n    public static class Server {\n\n        private int serverId;\n\n        private String name;\n\n        public Server(int serverId, String name) {\n            this.serverId = serverId;\n            this.name = name;\n        }\n    }\n\n    public static Server selectServer(List<Server> serverList, String ip) {\n        int ipHash = ip.hashCode();\n        return serverList.get(ipHash % serverList.size());\n    }\n\n    public static void main(String[] args) {\n        List<Server> serverList = new ArrayList<>();\n        serverList.add(new Server(1, "服务器1"));\n        serverList.add(new Server(2, "服务器2"));\n        serverList.add(new Server(3, "服务器3"));\n\n        List<String> ips = Arrays.asList("192.168.9.5", "192.168.9.2", "192.168.9.3");\n        for (int i = 0; i < 10; i++) {\n            for (String ip : ips) {\n                Server selectedServer = selectServer(serverList, ip);\n                System.out.format("请求ip:%s，选择服务器%s\\n", ip, selectedServer.toString());\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n\n可以看到结果：同一ip肯定会命中同一台机器。\n\n\n# 6.最小连接数算法（ LeastConnection）\n\n前面我们费尽心思来实现服务消费者请求次数分配的均衡，我们知道这样做是没错的，可以为后端的多台服务器平均分配工作量，最大程度地提高服务器的利用率，但是，实际上，请求次数的均衡并不代表负载的均衡。因此我们需要介绍最小连接数法，最小连接数法比较灵活和智能，由于后台服务器的配置不尽相同，对请求的处理有快有慢，它正是根据后端服务器当前的连接情况，动态的选取其中当前积压连接数最少的一台服务器来处理当前请求，尽可能的提高后台服务器利用率，将负载合理的分流到每一台服务器。\n\n/**\n * 最小连接数法是根据服务器当前的连接情况进行负载均衡的，当请求到来时，会选取当前连接数最少的一台服务器来处理请求。\n */\npublic class LeastConnection {\n    /**\n     * 定义map\n     * key：模拟后台服务的ip\n     * value：一个Map，map的key是权重，value是接受请求的次数，\n     */\n    static Map<String, Integer> ipMap = new HashMap<>();\n    //模拟请求的次数\n    static ThreadLocalRandom random = ThreadLocalRandom.current();\n\n    static {\n        ipMap.put("192.168.13.1", random.nextInt(10));\n        ipMap.put("192.168.13.2", random.nextInt(10));\n        ipMap.put("192.168.13.3", random.nextInt(10));\n    }\n\n    //从list中选取接受请求数最少的服务并返回\n    public String leastConnection() {\n        Iterator<String> ipListIterator = ipMap.keySet().iterator();\n        String serverName = null;\n        int times = 0;//访问次数\n        while (ipListIterator.hasNext()) {\n            String tmpServerName = ipListIterator.next();\n            int requestTimes = ipMap.get(tmpServerName);\n            //第一次需要赋值\n            if (times == 0) {\n                serverName = tmpServerName;\n                times = requestTimes;\n            } else {\n                //找到最小次数\n                if (times > requestTimes) {\n                    serverName = tmpServerName;\n                    times = requestTimes;\n                }\n            }\n        }\n        ipMap.put(serverName, ++times);//访问后+1\n        System.out.println("获取到的地址是：" + serverName + ", 访问次数：" + times);\n        return serverName;\n    }\n\n    public static void main(String[] args) {\n        TestLeastConnection testLeastConnection = new TestLeastConnection();\n        for (int i = 0; i < 10; i++) {\n            testLeastConnection.leastConnection();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# 参考\n\n * https://blog.csdn.net/u011047968/article/details/99844116\n * https://blog.csdn.net/mountain9527/article/details/119960229',normalizedContent:'# 什么是负载均衡\n\n负载平衡（load balancing）是一种电子计算机技术，用来在多个计算机（计算机集群）、网络连接、cpu、磁盘驱动器或其他资源中分配负载，以达到优化资源使用、最大化吞吐率、最小化响应时间、同时避免过载的目的。 使用带有负载平衡的多个服务器组件，取代单一的组件，可以通过冗余提高可靠性。负载平衡服务通常是由专用软件和硬件来完成。 主要作用是将大量作业合理地分摊到多个操作单元上进行执行，用于解决互联网架构中的高并发和高可用的问题。\n\n\n# 常见的负载均衡算法\n\n\n# 1.轮询（round robin）\n\n轮询算法按照顺序将新的请求分配给下一个服务器，最终实现平分请求。\n\n实例：已知服务器： s1 ，s2， s3\n\n请求1 -> s1\n\n请求2-> s2\n\n请求3 -> s3\n\n请求4 -> s1\n\n请求5 -> s2\n\n请求6 -> s3\n\n…\n\n优点：\n\n实现简单，无需记录各种服务的状态，是一种无状态的负载均衡策略。\n\n实现绝对公平\n\n缺点：当各个服务器性能不一致的情况，无法根据服务器性能去分配，无法合理利用服务器资源。\n\njava实现轮询算法：\n\n思路：根据上面的介绍，依次的选择下一个服务器，轮询算法具有周期性的特性，这就是典型的周期性概念，我们第一想法应该就是取余了。\n\n这里推荐大家《程序员的数学1》里面介绍了一些数学和编程思维的一些案例，其中就有介绍周期和分组的思想，个人感觉这本书还是不错的，推荐给大家。\n\npublic class roundrobin {\n\n    @data\n    public static class server {\n\n        private int serverid;\n\n        private string name;\n\n        private int weight;\n\n        public server(int serverid, string name) {\n            this.serverid = serverid;\n            this.name = name;\n        }\n\n        public server(int serverid, string name, int weight) {\n            this.serverid = serverid;\n            this.name = name;\n            this.weight = weight;\n        }\n    }\n\n    private static atomicinteger next_server_counter = new atomicinteger(0);\n\n    private static int select(int modulo) {\n        for (; ; ) {\n            int current = next_server_counter.get();\n            int next = (current + 1) % modulo;\n            boolean compareandset = next_server_counter.compareandset(current, next);\n            if (compareandset) {\n                return next;\n            }\n        }\n    }\n\n    public static server selectserver(list<server> serverlist) {\n        return serverlist.get(select(serverlist.size()));\n    }\n\n    public static void main(string[] args) {\n        list<server> serverlist = new arraylist<>();\n        serverlist.add(new server(1, "服务器1"));\n        serverlist.add(new server(2, "服务器2"));\n        serverlist.add(new server(3, "服务器3"));\n        for (int i = 0; i < 10; i++) {\n            server selectedserver = selectserver(serverlist);\n            system.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedserver.tostring());\n\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n\n\n# 2.加权轮询（weightedround-robin）\n\n由于不同的服务器配置不同，因此它们处理请求的能力也不同，给配置高的机器配置相对较高的权重，让其处理更多的请求，给配置较低的机器配置较低的权重减轻期负载压力。加权轮询可以较好的解决这个问题。\n\n思路：\n\n根据权重的大小让其获得相应被轮询到的机会。\n\n已知：\n\n服务器   权重\ns1    1\ns2    2\ns3    3\n\n可以根据权重我们在内存中创建一个这样的数组{s1,s2,s2,s3,s3,s3}，然后再按照轮询的方式选择相应的服务器。\n\n缺点：请求被分配到三台服务器上机会不够平滑。前3次请求都不会落在server3上。\n\nnginx 实现了一种平滑的加权轮询算法，可以将请求平滑（均匀）的分配到各个节点上。\n\n下面我们用java实现一下这个算法。\n\n实现思路\n\n我们以当前节点权重作为被选中的概率\n\n public void incrcurrentweight() {\n      this.currentweight += weight;\n }\n\n\n1\n2\n3\n\n\n为了避免权重大的被连续选中，所以再被选中的时候我们应该让其的当前权重变小。我们可以采用\n\n// 当前权重 = 当前权重 - 总权重 1-6 =-5\n\n3-6 =-3\n\n可得权重越大下次当前权重变成最大的可能性也越大\n\npublic void selected(int total) {\n    this.currentweight -= total;\n}\n\n\n1\n2\n3\n\n\n我们选取当前当前权重最大的一个服务器\n\npublic class weightroundrobin {\n\n    @data\n    public static class server {\n\n        private int serverid;\n\n        private string name;\n\n        private int weight;\n\n        private int currentweight;\n\n        public server(int serverid, string name) {\n            this.serverid = serverid;\n            this.name = name;\n        }\n\n        public server(int serverid, string name, int weight) {\n            this.serverid = serverid;\n            this.name = name;\n            this.weight = weight;\n        }\n\n        public void selected(int total) {\n            this.currentweight -= total;\n        }\n\n        public void incrcurrentweight() {\n            this.currentweight += weight;\n        }\n    }\n\n    public static server selectserver(list<server> serverlist) {\n        int total = 0;\n        server selectedserver = null;\n        int maxweight = 0;\n        for (server server : serverlist) {\n            total += server.getweight();\n            server.incrcurrentweight();\n          \t//选取当前权重最大的一个服务器\n            if (selectedserver == null || maxweight < server.getcurrentweight()) {\n                selectedserver = server;\n                maxweight = server.getcurrentweight();\n            }\n        }\n        if (selectedserver == null){\n            random random = new random();\n            int next = random.nextint(serverlist.size());\n            return serverlist.get(next);\n        }\n        selectedserver.selected(total);\n        return selectedserver;\n    }\n\n\n    public static void main(string[] args) {\n        list<server> serverlist = new arraylist<>();\n        serverlist.add(new server(1, "服务器1", 1));\n        serverlist.add(new server(2, "服务器2", 3));\n        serverlist.add(new server(3, "服务器3", 10));\n        for (int i = 0; i < 10; i++) {\n            server server = selectserver(serverlist);\n            system.out.format("第%d次请求，选择服务器%s\\n", i + 1, server.tostring());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n\n\n\n\n\n# 3.随机（random）\n\n思路：利用随机数从所有服务器中随机选取一台，可以用服务器数组下标获取。\n\npublic class randomloadbalance {\n\n    @data\n    public static class server {\n\n        private int serverid;\n\n        private string name;\n\n        private int weight;\n\n        public server(int serverid, string name) {\n            this.serverid = serverid;\n            this.name = name;\n        }\n    }\n\n    public static server selectserver(list<server> serverlist) {\n        random selector = new random();\n        int next = selector.nextint(serverlist.size());\n        return serverlist.get(next);\n    }\n\n    public static void main(string[] args) {\n        list<server> serverlist = new arraylist<>();\n        serverlist.add(new server(1, "服务器1"));\n        serverlist.add(new server(2, "服务器2"));\n        serverlist.add(new server(3, "服务器3"));\n        for (int i = 0; i < 10; i++) {\n            server selectedserver = selectserver(serverlist);\n            system.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedserver.tostring());\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n\n\n# 4.加权随机（weight random）\n\n思路：\n\n这里我们是利用区间的思想，通过一个小于在此区间范围内的一个随机数，选中对应的区间（服务器），区间越大被选中的概率就越大。\n\n已知：\n\n服务器   权重\ns1    1\ns2    2\ns3    3\n\ns1：[0,1] s2：(1,3] s3 （3,6]\n\npublic class weightrandom {\n\n    @data\n    public static class server {\n\n        private int serverid;\n\n        private string name;\n\n        private int weight;\n\n        public server(int serverid, string name) {\n            this.serverid = serverid;\n            this.name = name;\n        }\n\n        public server(int serverid, string name, int weight) {\n            this.serverid = serverid;\n            this.name = name;\n            this.weight = weight;\n        }\n    }\n\n    private static server selectserver(list<server> serverlist) {\n        int sumweight = 0;\n        for (server server : serverlist) {\n            sumweight += server.getweight();\n        }\n        random serverselector = new random();\n        int nextserverrange = serverselector.nextint(sumweight);\n        int sum = 0;\n        server selectedserver = null;\n        for (server server : serverlist) {\n            if (nextserverrange >= sum && nextserverrange < server.getweight() + sum) {\n                selectedserver = server;\n            }\n            sum += server.getweight();\n        }\n        return selectedserver;\n    }\n\n    public static void main(string[] args) {\n        list<server> serverlist = new arraylist<>();\n        serverlist.add(new server(1, "服务器1", 1));\n        serverlist.add(new server(2, "服务器2", 5));\n        serverlist.add(new server(3, "服务器3", 10));\n        for (int i = 0; i < 10; i++) {\n            server selectedserver = selectserver(serverlist);\n            system.out.format("第%d次请求，选择服务器%s\\n", i + 1, selectedserver.tostring());\n\n        }\n\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n\n\n\n\n\n# 5.iphash\n\n思路：根据每个每个请求ip（也可以是某个标识）ip.hash() % server.size()\n\npublic class iphash {\n\n    @data\n    public static class server {\n\n        private int serverid;\n\n        private string name;\n\n        public server(int serverid, string name) {\n            this.serverid = serverid;\n            this.name = name;\n        }\n    }\n\n    public static server selectserver(list<server> serverlist, string ip) {\n        int iphash = ip.hashcode();\n        return serverlist.get(iphash % serverlist.size());\n    }\n\n    public static void main(string[] args) {\n        list<server> serverlist = new arraylist<>();\n        serverlist.add(new server(1, "服务器1"));\n        serverlist.add(new server(2, "服务器2"));\n        serverlist.add(new server(3, "服务器3"));\n\n        list<string> ips = arrays.aslist("192.168.9.5", "192.168.9.2", "192.168.9.3");\n        for (int i = 0; i < 10; i++) {\n            for (string ip : ips) {\n                server selectedserver = selectserver(serverlist, ip);\n                system.out.format("请求ip:%s，选择服务器%s\\n", ip, selectedserver.tostring());\n            }\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n\n可以看到结果：同一ip肯定会命中同一台机器。\n\n\n# 6.最小连接数算法（ leastconnection）\n\n前面我们费尽心思来实现服务消费者请求次数分配的均衡，我们知道这样做是没错的，可以为后端的多台服务器平均分配工作量，最大程度地提高服务器的利用率，但是，实际上，请求次数的均衡并不代表负载的均衡。因此我们需要介绍最小连接数法，最小连接数法比较灵活和智能，由于后台服务器的配置不尽相同，对请求的处理有快有慢，它正是根据后端服务器当前的连接情况，动态的选取其中当前积压连接数最少的一台服务器来处理当前请求，尽可能的提高后台服务器利用率，将负载合理的分流到每一台服务器。\n\n/**\n * 最小连接数法是根据服务器当前的连接情况进行负载均衡的，当请求到来时，会选取当前连接数最少的一台服务器来处理请求。\n */\npublic class leastconnection {\n    /**\n     * 定义map\n     * key：模拟后台服务的ip\n     * value：一个map，map的key是权重，value是接受请求的次数，\n     */\n    static map<string, integer> ipmap = new hashmap<>();\n    //模拟请求的次数\n    static threadlocalrandom random = threadlocalrandom.current();\n\n    static {\n        ipmap.put("192.168.13.1", random.nextint(10));\n        ipmap.put("192.168.13.2", random.nextint(10));\n        ipmap.put("192.168.13.3", random.nextint(10));\n    }\n\n    //从list中选取接受请求数最少的服务并返回\n    public string leastconnection() {\n        iterator<string> iplistiterator = ipmap.keyset().iterator();\n        string servername = null;\n        int times = 0;//访问次数\n        while (iplistiterator.hasnext()) {\n            string tmpservername = iplistiterator.next();\n            int requesttimes = ipmap.get(tmpservername);\n            //第一次需要赋值\n            if (times == 0) {\n                servername = tmpservername;\n                times = requesttimes;\n            } else {\n                //找到最小次数\n                if (times > requesttimes) {\n                    servername = tmpservername;\n                    times = requesttimes;\n                }\n            }\n        }\n        ipmap.put(servername, ++times);//访问后+1\n        system.out.println("获取到的地址是：" + servername + ", 访问次数：" + times);\n        return servername;\n    }\n\n    public static void main(string[] args) {\n        testleastconnection testleastconnection = new testleastconnection();\n        for (int i = 0; i < 10; i++) {\n            testleastconnection.leastconnection();\n        }\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# 参考\n\n * https://blog.csdn.net/u011047968/article/details/99844116\n * https://blog.csdn.net/mountain9527/article/details/119960229',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"ECharts常用图表",frontmatter:{title:"ECharts常用图表",date:"2022-08-03T17:37:25.000Z",tags:["ECharts"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/EChartsStudy.html",relativePath:"views/frontend/EChartsStudy.md",key:"v-dcb8377e",path:"/views/frontend/EChartsStudy.html",headers:[{level:2,title:"介绍",slug:"介绍",normalizedTitle:"介绍",charIndex:3},{level:2,title:"常用网址",slug:"常用网址",normalizedTitle:"常用网址",charIndex:9},{level:2,title:"图表展示如下",slug:"图表展示如下",normalizedTitle:"图表展示如下",charIndex:17},{level:2,title:"使用服务端返回数据的异步加载和更新",slug:"使用服务端返回数据的异步加载和更新",normalizedTitle:"使用服务端返回数据的异步加载和更新",charIndex:27}],headersStr:"介绍 常用网址 图表展示如下 使用服务端返回数据的异步加载和更新",content:" * 介绍\n * 常用网址\n * 图表展示如下\n * 使用服务端返回数据的异步加载和更新\n\n\n\n\n# 介绍\n\n 1. 把常用的ECharts图表整理一下，方便日后的使用\n\n 2. 图表实例可见：http://zpj80231.gitee.io/echartsstudy/\n\n\n# 常用网址\n\n * 在ECharts官网运行编辑实例：\n   \n   * https://www.echartsjs.com/gallery/editor.html?c=doc-example/getting-started\n\n * EChartsoption中各参数详细配置项：\n   \n   * https://echarts.baidu.com/option.html#grid\n\n\n# 图表展示如下\n\n * 柱+折线图\n\n\n\n * 饼图\n\n\n\n * 迁徙图\n\n\n\n * 接入百度地图\n\n\n\n\n# 使用服务端返回数据的异步加载和更新\n\n详见官网：异步数据加载和更新\n\nfunction method(init的char,option参数,查询条件1,查询条件2,查询条件3){\n\t//ECharts 默认有提供了一个简单的加载动画。只需要调用 showLoading 方法显示。数据加载完成后再调用 hideLoading 方法隐藏加载动画。\n    chart.showLoading({\n\t\ttext: '加载中...'\n\t});\n    \n\t$.ajax({\n\t\ttype:\"POST\",\n\t\tdata:{\"查询条件1\":查询条件1,'查询条件2':查询条件2,'查询条件3':查询条件3},\n        url:\"/zhidinglianjie\",\n        success:function(data){\n           if(data){\n               \t/*注意填入数据的格式：\n               \tseries: [{\n                    // 根据名字对应到相应的系列\n                    name: '销量',\n                    data: [53, 25, 26, 20, 32, 25]\n        \t\t}]*/\n\t\t\t\toption.series[0].data =  data.data\n\t\t\t\toption.series[1].data = data.categories\n\t\t\t\tchart.setOption(option);\n           }else{\n                \n           }\n            //数据加载完成后再调用 hideLoading 方法隐藏加载动画。\n\t\t\tchart.hideLoading();\n        },\n        error:function(jqXHR){\n\t\t\tchart.hideLoading();\n        }\n\t});\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n",normalizedContent:" * 介绍\n * 常用网址\n * 图表展示如下\n * 使用服务端返回数据的异步加载和更新\n\n\n\n\n# 介绍\n\n 1. 把常用的echarts图表整理一下，方便日后的使用\n\n 2. 图表实例可见：http://zpj80231.gitee.io/echartsstudy/\n\n\n# 常用网址\n\n * 在echarts官网运行编辑实例：\n   \n   * https://www.echartsjs.com/gallery/editor.html?c=doc-example/getting-started\n\n * echartsoption中各参数详细配置项：\n   \n   * https://echarts.baidu.com/option.html#grid\n\n\n# 图表展示如下\n\n * 柱+折线图\n\n\n\n * 饼图\n\n\n\n * 迁徙图\n\n\n\n * 接入百度地图\n\n\n\n\n# 使用服务端返回数据的异步加载和更新\n\n详见官网：异步数据加载和更新\n\nfunction method(init的char,option参数,查询条件1,查询条件2,查询条件3){\n\t//echarts 默认有提供了一个简单的加载动画。只需要调用 showloading 方法显示。数据加载完成后再调用 hideloading 方法隐藏加载动画。\n    chart.showloading({\n\t\ttext: '加载中...'\n\t});\n    \n\t$.ajax({\n\t\ttype:\"post\",\n\t\tdata:{\"查询条件1\":查询条件1,'查询条件2':查询条件2,'查询条件3':查询条件3},\n        url:\"/zhidinglianjie\",\n        success:function(data){\n           if(data){\n               \t/*注意填入数据的格式：\n               \tseries: [{\n                    // 根据名字对应到相应的系列\n                    name: '销量',\n                    data: [53, 25, 26, 20, 32, 25]\n        \t\t}]*/\n\t\t\t\toption.series[0].data =  data.data\n\t\t\t\toption.series[1].data = data.categories\n\t\t\t\tchart.setoption(option);\n           }else{\n                \n           }\n            //数据加载完成后再调用 hideloading 方法隐藏加载动画。\n\t\t\tchart.hideloading();\n        },\n        error:function(jqxhr){\n\t\t\tchart.hideloading();\n        }\n\t});\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"千万不要把Request传递到异步线程里面！有坑！",frontmatter:{title:"千万不要把Request传递到异步线程里面！有坑！",date:"2023-06-05T00:00:00.000Z",tags:["随笔"],categories:["Essay"],isShowComments:!0},regularPath:"/views/essay/20230605.html",relativePath:"views/essay/20230605.md",key:"v-4f19b999",path:"/views/essay/20230605.html",headers:[{level:2,title:"搞个 Demo",slug:"搞个-demo",normalizedTitle:"搞个 demo",charIndex:531},{level:2,title:"探索",slug:"探索",normalizedTitle:"探索",charIndex:106},{level:2,title:"request 的生命周期",slug:"request-的生命周期",normalizedTitle:"request 的生命周期",charIndex:7461},{level:2,title:"正确打开方式",slug:"正确打开方式",normalizedTitle:"正确打开方式",charIndex:10537}],excerpt:"<Boxx/>\n<p>前几天在网上冲浪的时候看到一篇技术文章，讲的是他把一个 request 请求传递到了线程池里面，然后遇到了一个匪夷所思的情况。</p>\n",headersStr:"搞个 Demo 探索 request 的生命周期 正确打开方式",content:'前几天在网上冲浪的时候看到一篇技术文章，讲的是他把一个 request 请求传递到了线程池里面，然后遇到了一个匪夷所思的情况。\n\n真实案例分享，来源于知乎 - why技术。\n\n他写了这篇文章，把自己针对这个问题的探索过程分享了出来：springboot 中如何正确的在异步线程中使用request\n\n文章还是挺不错的，把发现问题和解决问题都写的很明白了。\n\n但是，我觉得把探索问题的部分写的太省略了，导致我看完之后都不知道这个问题的根本原因是什么。\n\n而为什么我会对这篇文章特别感兴趣呢？\n\n因为这个“坑”我记得我刚刚入行没两年的也遇到过，我已经不记得自己当时是怎么解决的了，但是我肯定也没有深入的去研究。\n\n因为那个时候遇到问题，就去网上费尽心思的查，粘一个方案过来看能不能用。\n\n如果不能用的话，心里暗骂一句：小可(S)爱(B)，然后接着找。\n\n直到找到一个可以用的。\n\n至于为什么能用？\n\n管它呢，研究这玩意干啥。\n\n\n\n主要是当时觉得探索这个玩意到进入到源码里面去，一涉及到源码心里就犯怵，所以就敬而远之。\n\n现在不一样了，现在我看到源码我就觉得兴奋，心里想着：多好的素材啊。\n\n既然这次又让我遇到了，所以我决定把几年前的坑填上，盘一盘它。\n\n\n\n\n# 搞个 Demo\n\n由于这个现象太过匪夷所思，所以写文章的那个老哥认为这个是一个 BUG，还在 Spring 的 github 上提了一个 issues：\n\n> https://github.com/spring-projects/spring-framework/issues/28741\n\n这里面他附上了一个可以复现的 Demo，所以我就直接拿来用了。\n\n确实是可以复现，但是其实他提供的这个 Demo 还是有点臃肿，具有一点点的迷惑性，直接给我迷晕了，让我在这上面稍微花了时间。\n\n先给你看一下他的 Demo 是怎么样的。\n\n主要是两个 Controller 接口。\n\n第一个接口是 get 请求类型的 getParams，代码很简单，先放在这里，等下用：\n\n\n\n第二个接口是 post 请求类型的 postTest，就这么几行代码：\n\n@PostMapping("/postTest")\npublic String postTest(HttpServletRequest request) {\n    String age1 = request.getParameter("age");\n    String name1 = request.getParameter("name");\n    System.out.println("age1=" + age1 + ",name1=" + name1);\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            String age2 = request.getParameter("age");\n            String name2 = request.getParameter("name");\n            System.out.println("age2=" + age2 + ",name2=" + name2);\n            //模拟业务请求\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            age2 = request.getParameter("age");\n            name2 = request.getParameter("name");\n        }\n    }).start();\n    return "post success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n主要是里面启动了一个线程，在线程里面有从 request 里面获取参数的动作。\n\n这个方法访问起来是这样的一个情况：\n\n\n\n从 age2、name2 输出上看，虽然 request 传入到异步线程里面了，但是还是能从里面获取到对应的参数，没有看出来有什么毛病。\n\n但是接下来，匪夷所思的事情就要出现了。\n\n还记得我们前面的 getParams 接口吗？\n\n我再把它拿过来给你看一眼：\n\n\n\n你说，就这个接口，我用下面这个链接去访问，在我的认知里面是完全不可能有任何问题的，对吧？\n\n> http://127.0.0.1:8080/getParams?a=1&b=2\n\n但是，这玩意还真的就打破了我的认知：\n\n\n\n在访问 postTest 方法之后，再次访问 getParams 方法，getParams 方法居然抛出异常了？\n\n抛出的异常是说我调用的时候没有传递 b 这个参数。\n\n但是我的链接里面明明就是有 b=2 的啊？\n\n这玩意上哪里说理去？\n\n\n\n上面就是那位老哥提供的可复现的 Demo 的主要部分。\n\n但是我前面说了，这个 Demo 有点臃肿，具有一点点迷惑性。\n\n首先如果我再加一个输出语句，那么在一个短暂的 sleep 之后， age2 和 name2 就没了：\n\n\n\n虽然还是感觉有点神奇吧，但是也没有刚刚那个操作让我感到震惊。\n\n因为从输出 null 这个结果，我至少可以知道程序在这个地方就出现问题了，把问题的范围限定在了一次请求中。\n\n刚刚那个操作，好家伙，表现出来到情况是这样的：\n\n * 先发起一个 post 请求，看起来是正常的。\n * 然后再发起一个 get 请求，这个 get 请求挂了。\n * 但是这个 get 请求从发起的角度来看找不到任何毛病。\n\n你要基于上面这个情况去分析问题的话，就不好找问题了，毕竟要发起两个毫不相干的请求才能触发问题。\n\n\n\n加入一行输出日志，相当于把问题简化了一点。\n\n但是你看到的是我就加了一行输出日志，实际上等我加这行日志的时候，我拿到这个 Demo 已经过去了好几个小时了。\n\n在这期间我也一直以为必须要按照这个流程来操作，才能复现问题。\n\n所以我才说具有一点点迷惑性。\n\n好，现在不管怎么说吧。\n\n我先把 Demo 简化一点，便于继续分析。我的 Demo 可以简化到这个程度：\n\n@GetMapping("/getTest")\npublic String getTest(HttpServletRequest request) {\n    String age = request.getParameter("age");\n    System.out.println("age=" + age);\n    new Thread(() -> {\n        try {\n            Thread.sleep(200);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        String age1 = request.getParameter("age");\n        System.out.println("age1=" + age1);\n    }).start();\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nget 和 post 请求都可以，只是我为了方便选择发起 get 请求。\n\n然后只需要传递一个参数就行，核心步骤是要把 request 传递到异步线程里面去，调用 getParameter 再次获取对应入参。\n\n你可以把上面的代码粘到你本地，把项目跑起来，然后调一次下面这个链接：\n\n> http://127.0.0.1:8080/getTest?age=18\n\n从控制台你可以看到这样的输出：\n\n\n\n到这里就复现了前面说的问题。\n\n但是你別着急，你再次发起调用，你会看到控制台的输出是这样的：\n\n\n\n怎么样，是不是很神奇，很懵逼？\n\n为了让你更加直观的懵逼，我给你上个动图，发起两次调用，主要关注控制台的输出：\n\n\n\n好，现在，你就去泡杯茶，点根烟，慢慢去琢磨，这玩意是不是属于超自然现象。\n\n\n\n\n# 探索\n\n其实我看到这个现象的时候并不是特别的震惊，毕竟写文章这几年，什么稀奇古怪的现象都遇到过。\n\n所以我只是轻蔑一笑，看向了我排查问题的武器库，很快就看到了一个比较趁手的东西：开启 Debug 日志。\n\n如果是以前，对于这种没有抛出异常的问题跟着，由于没有异常堆栈，我肯定是迫不及待的正向的 Debug 跟了一下源码，扎到源码里面去一顿狂翻，左看右看。\n\n但是结果常常是一头扎进去之后，很快就迷失了，搞了好几个小时才从源码里面爬出来，出来的时候基本上一无所获。\n\n但是我现在不会这么猴急了，现在就成熟了很多。遇到这类问题不会先急着去卷源码会先多从日志里面挖掘一点东西出来。\n\n所以我遇到这个问题的第一反应就是调整日志级别到 Debug：\n\n> logging.level.root=debug\n\n观察日志这个小技巧我在之前的文章里面也分享过。\n\n当日志调整到 Debug 级别之后，再次发起两次调用，问题复现，同时把日志拿出来做对比。\n\n两次请求的 Debug 日志整体情况是这样的，左边是第一次请求，右边是第二次请求：\n\n\n\n可以看到第一次请求比第二次请求的日志多。\n\n多说明什么问题？\n\n是不是说明第一次请求调用的方法更多一点？\n\n为什么多一点，到底是哪些方法只调用了一次？\n\n我也不知道，但是我能从 Debug 日志里面梳理出来。\n\n比如下面这个图就是梳理出来的第一次请求多打印的日志：\n\n\n\n很快我就从 Debug 日志里面看到了一个我觉得很可疑的地方：\n\n\n\n> Start processing with input [age=18]\n\n这一行日志，只有第一次请求的时候打印了，从日志表达的意思来看，是处理请求里面的 age=18。\n\n为什么第二次不打印呢？\n\n我也不知道，但是我知道了第一个关键断点打在什么位置了。\n\n全局搜索关键字 “Start processing with input” 可以找到配置文件里面的 “parameters.bytes”。\n\n然后全局搜索 “parameters.bytes”，就能找到是在 Parameters.java 文件里面输出的：\n\n\n\n也就是这个地方：\n\n> org.apache.tomcat.util.http.Parameters#processParameters(byte[], int, int, java.nio.charset.Charset)\n\n\n\n找到第一个断点，就找到了突破口，只要好好的拿捏住，之后的事情就基本上就顺风顺水了。\n\n\n\n首先，重启项目，发起调用，在断点处看调用堆栈：\n\n\n\n接下来的思路是什么？\n\n就是我要从堆栈里面找到一个东西。\n\n你想啊，第一次请求走这个地方，第二次请求就不走这个地方了，所以一定有个类似于这样的逻辑：\n\nif(满足某个条件){\n    走processParameters方法\n}\n\n\n1\n2\n3\n\n\n所以，只需要往回找五个调用栈，我就找到了这一个方法：\n\n> org.apache.catalina.connector.Request#getParameter\n\n\n\n这个时候你看旁边的 parametersParsed 参数是 true，按理来说 true 不应该走进 if 分支呀？\n\n因为这个地方我们是从断点处的堆栈信息往回找，在从 parseParameters 方法到 processParameters 方法之间，肯定有地方修改了 parametersParsed 参数的值为 true。\n\n\n\n这一点，从 parametersParsed 的初始值是 false 也能看出来：\n\n\n\n因此，我决定把第二个断点打在 getParameter 方法中：\n\n\n\n再次重启服务，发起调用，parametersParsed 为 false，开始执行 parseParameters() 方法解析参数：\n\n\n\n而解析参数的目的之一就是把我的 age=18 放到 paramHashValues 这个 Map 容器里面：\n\n> org.apache.tomcat.util.http.Parameters#addParameter\n\n\n\nparseParameters() 方法执行完成之后，接着从前面的 paramHashValues 容器里面把 age 对应的 18 返回回去：\n\n\n\n但是，朋友们，注意上面的图片中有个标号为 ① 的地方：\n\n\n\n这个方法，在 parseParameters 方法里面也会被调用：\n\n> org.apache.tomcat.util.http.Parameters#handleQueryParameters\n\n\n\n好，现在打起精神来听我说。\n\nhandleQueryParameters 方法才是真正解析参数的方法，为了防止重复解析它加入了这样的逻辑：\n\n\n\n\n\ndidQueryParameters 初始为 false，随后被设置为 true。\n\n这个很好理解，入参解析一次就行了，解析的产物一个 Map，后续要拿参数对应的值，从 Map 里面获取即可。\n\n比如我把入参修改为这样：\n\n> http://127.0.0.1:8080/getTest?a=1&b=2&c=3&d=4\n\n那么经过解析之后，这个 Map 就变成了这样：\n\n\n\n经过了前面的这一顿折腾之后，现在找到了解析入参的方法。\n\n那么全文的关键点就在 didQueryParameters 这个参数的变化了。\n\n只有是 false 的时候才会去解析入参。\n\n那么我接下来的排查思路就是观察 didQueryParameters 参数的变化，所以在字段上打上断点，重启项目，继续调试：\n\n\n\n第一次进入这个方法的时候 didQueryParameters 为 false，入参是 age=18：\n\n\n\n而第一次进入这个方法的原因我前面也说了，是因为触发了 parseParameters 的逻辑：\n\n\n\n第二次进入这个方法 didQueryParameters 变为 true 了，不用再次解析：\n\n\n\n那么第二次进入这个方法的原因是什么？\n\n前面也说了，getParameter 方法的第一行就是触发解析的逻辑：\n\n\n\n接下来，断点停在了这个地方：\n\n> org.apache.tomcat.util.http.Parameters#recycle\n\n\n\n方法叫做 recycle，表明是循环再利用，在这里面会把存放参数的 Map 清空，把 didQueryParameters 再次设置为了 false。\n\n而当你用同样的手段去观察 parametersParsed 参数，也就是这个参数的时候：\n\n\n\n会发现它也有一个 recycle 方法：\n\n> org.apache.catalina.connector.Request#recycle\n\n\n\n这个方法上的注释，也有一个特别扎眼的词：reuse。\n\n注释过来是这样的：释放所有的对象引用，并初始化实例变量，为重新使用这个对象做准备。\n\n种种迹象表明 request 在 tomcat 里面是循环使用的。\n\n虽然在这之前我也知道是循环使用的，但是百闻不如一见嘛。这次是我 Debug 的时候亲眼看到了。\n\n又拿捏一个小细节。\n\n\n\n由于我们在异步线程里面还触发了一次 getParameter 方法：\n\n\n\n但是 getTest 方法已经完成了响应，这个时候 Request 可能已经完成了回收。\n\n注意我说的是“可能”，因为这个时候 Request 的回收动作和异步线程谁先谁后还不一定。\n\n这也解释了这个现象：\n\n\n\n虽然 request 传入到异步线程里面了，但是还是能从里面获取到对应的参数。\n\n因为此时 request 的回收动作还没做完，还可以继续获取参数。\n\n为了避免这个“可能”，我把 sleep 的时间调整为 5s，保证 request 完成回收。\n\n然后这异步线程里面继续 Debug，接下来神奇的事情就要开始了。\n\n\n\n再次触发 handleQueryParameters 的时候，didQueryParameters 由于被 recycle 了，所以变成了 false。\n\n然后执行解析的逻辑，把 didQueryParameters 设置为 true。\n\n但是，我们可以看到，此时查询的内容却没有了，是个 null：\n\n\n\n这个也好理解，肯定是随着调用结束，被 recycle 了嘛：\n\n\n\n所以，到这里我能解答为什么异步线程里面的输出是 null 了。\n\nqueryMB 就是我调用的时候传入的 age=18。\n\n通过 Debug 发现异步线程里面调用 getParameter 的时候没有 queryMB ，所以就不会解析出 Map。\n\n没有 Map ，异步线程里面的输出肯定是 null。\n\n为什么没有 queryMB 呢？\n\n因为当前这个请求已经被返回了，执行了 recycle 相关操作，queryMB 就是在这个时候没有的。\n\n那么为什么再次发起调用，会出现这个神奇的现象呢？\n\n\n\n很简单，因为在异步线程里面调用 getParameter 的时候，把 didQueryParameters 设置为 true 了。\n\n但是异步线程里面的调用，超出了 request 的生命周期，所以并不会再次触发 request 的 recycle 相关操作，因此这个 request 拿来复用的时候 didQueryParameters 还是 true。\n\n所以，从 Debug 来看，虽然 queryMB 是有值的，但是没用啊，didQueryParameters 是 true，程序直接 return 了，不会去解析你的入参：\n\n\n\n问题得到解答。\n\n此时，我们再回到最开始的这个方法中：\n\n\n\n你想想为什么这个方法调用的时候出现异常了？\n\n还是一样的道理呀，由于 request 是复用的，虽然你传入了参数 b，但是由于前一个请求在异步线程里面调用了 getParameter 方法，将 didQueryParameters 设置为了 true，导致程序不会去解析我传入的 a=1&b=2。\n\n从调用链接的角度来说，虽然我们调用的是这个链接：\n\n> http://127.0.0.1:8080/getParams?a=1&b=2\n\n但是对于程序来说，它等效于这个链接：\n\n> http://127.0.0.1:8080/getParams\n\n由于入参 b 是 int 类型的，那可不就是会抛出这个异常吗：\n\n\n\n这个异常是说：哥们，你要么把 b 搞成 Integer 类型的，不传值我就给你赋为 null。要么给我传一个值。\n\n你现在用 int 来接受，又不给我值，我这没法处理啊？\n\n我能给你默认赋值一个 0 吗？\n\n肯定不能啊，0 和 null 可不是一个含义，万一你程序出异常了，把锅甩给我怎么办？\n\n算了，我还是抛异常吧，最稳妥了。\n\n所以你看，要是你从这个抛异常的地方去找答案，也许能找到，但是路就走远了一点。\n\n因为这个地方并不是问题的根因。\n\n到这里，你应该清楚这个 BUG 到底是怎么回事了。\n\n\n# request 的生命周期\n\n在探索这个问题的过程中，我也想到了另外一个问题：\n\n> 一个 request 请求的生命周期是怎么样的？\n\n这题我记得几年前我背过，现在我确实有点想不起来了，但是我知道去哪里找答案。\n\nJava Servlet Specification，这是一份规范，答案就藏在这个规范里面：\n\n> https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf\n\n在 3.13 小节里面，关于 request 这个 Object 的生命周期，规范是这样说的：\n\n\n\n这寥寥数语，非常关键，所以我一句句的拆解给你看。\n\n> Each request object is valid only within the scope of a servlet’s service method, or within the scope of a filter’s doFilter method，unless the asynchronous processing is enabled for the component and the startAsync method is invoked on the request object.\n\n一上来就是一个长句，但是根本不要慌。\n\n你知道的，我英语八级半，水平一向是可以的。\n\n\n\n先把长句拆短一点，我可以先只翻译 unless 之前的部分。\n\n前面这部分说：每个 request 对象只在 servlet 的服务方法的范围内有效，或者在过滤器的 doFilter 方法的范围内有效。\n\n接着它来了一个 unless，表示转折，和 but 差不多。\n\n我们主要关注 unless 后面这句：\n\n> the asynchronous processing is enabled for the component and the startAsync method is invoked on the request object.\n\n组件的异步处理功能被启用，并且在 request 上调用了 startAsync 方法。\n\n也就是说，request 的生命周期在遇到异步的时候有点特殊，但是这个异步又不是我前面演示的那种异步。\n\n关于异步，规范中提到了 request 里面有个方法：startAsync。\n\n我去看了一眼，果然是有：\n\n\n\n返回值是一个叫做 AsyncContext 的东西。\n\n但是我先按下不表，接着往下翻译。\n\n> In the case where asynchronous processing occurs, the request object remains valid until complete is invoked on the AsyncContext.\n\n在发生异步处理的情况下，request 对象的生命周期一直会延续到在 AsyncContext 上调用 complete 方法之前。\n\n这里又提到了一个 complete 方法，这个 complete 方法 invoked on the AsyncContext。\n\nAsyncContext 是什么玩意？\n\n不就是 request.startAsync() 方法的返回值吗？\n\n果然在 AsyncContext 里面有个 complete 方法：\n\n\n\n不慌，继续按下不表，一会就回收，接着往下看。\n\n> Containers commonly recycle request objects in order to avoid the performance overhead of request object creation.\n\n容器通常会 recycle 请求对象，以避免创建请求对象的性能开销。\n\n看到这个 recycle 我们就很眼熟了，原来规范里面是建议了容器里面实现 request 的时候尽量复用，而不是回收，目的是节约性能。\n\n这玩意，属于意外收获呀。\n\n最后一句话是这样的：\n\n> The developer must be aware that maintaining references to request objects for which startAsync has not been called outside the scope described above is not recommended as it may have indeterminate results.\n\n这句话是说：程序员朋友们必须要意识到，我不建议在上述范围之外维护 request 的引用，因为它可能会产生不确定的结果。\n\n看到这个“不确定的结果”时我很开心，因为我前面已经演示过了，确实会产生莫名其妙的结果。\n\n但是规范里面在“scope”之前还加了一个限定词：startAsync has not been called。\n\n反过来说，意思就是如果你有一个调用了 startAsync 方法的 request，那么在上述范围之外，你还可以操作这个 request，也不会有问题。\n\n这一整段话中，我们提炼到了两个关键的方法：\n\n * request 的 startAsync 方法\n * AsyncContext 的 complete 方法\n\n根据规范来说，这两个方法才是 request 异步编程的正确打开方式。\n\n\n# 正确打开方式\n\n在这之前，假设你完全不知道 startAsync 和 complete 方法。\n\n但是看了规范上的描述，猜也能猜出来代码应该这样写，然后发起多次调用，没有任何毛病：\n\n\n\n这就是正确的打开方式。\n\n从现象上来说，就是 getTest 请求返回之后，request 线程并没有被调用 recycle 方法进行回收。\n\n为什么这样写就能实现 request 的异步化呢？\n\n用脚指头想也能想到，一定有一个这样的判断逻辑存在：\n\nif(调用过request的startAsync方法){\n    先不回收\n}\n\n\n1\n2\n3\n\n\n所以，用之前的方法，在 recycle 方法上打断点，并往回找，很快就能找到这个方法：\n\n\n\n然后，关于 AsyncContext 的 complete 方法我还注意到它有这样的一个描述：\n\n\n\n也就是说在调用 complete 方法之后 response 流才会关闭，那么有意思的就来了：\n\n\n\n我不仅在异步线程里面可以操作 request 还可以操作 response。\n\n但是转念一想，既然都是异步编程了，操作 response 的意义肯定比操作 request 的意义更大。\n\n关于 Tomcat 对于异步请求的支持还有很多可以探索的地方，自己慢慢去玩吧。\n\n写到这里的时候我发现标题说的也不对，标题是：千万不要把 Request 传递到异步线程里面！有坑！\n\n而正确的说法应该是：\n\n> 千万不要随便把 Request 传递到异步线程里面！有坑！你拿捏不住，得用 startAsync 方法才行。\n\n好了，就这样吧，本文写到这里就差不多了。\n\n本文主要是分享了一下 request 放到异步线程之后的诡异现象和排查方法，最后也给出了正确的打开方式。\n\n希望你能掌握到这样的一个问题排查方法，不要惧怕问题，要抽丝剥茧的干它。\n\n然后，其实和 BUG 排查比起来，关于 request 的异步编程相关的知识更加重要，本文只是做了一个小小的引子，如果这块知识对你是空白的，希望你有兴趣的话自己去研究一下，很有价值。\n\n最后，我想说的是，关于之前文章的一个留言：\n\n\n\n从看到这个现象，到写完这篇文章，我不断的调试程序，至少重启了近百次服务，发起了上百次请求。在源码里面也走了一些弯路，最后才抽丝剥茧的看到本问题的根因。\n\n所以，我排查问题的经验就一个字：\n\n',normalizedContent:'前几天在网上冲浪的时候看到一篇技术文章，讲的是他把一个 request 请求传递到了线程池里面，然后遇到了一个匪夷所思的情况。\n\n真实案例分享，来源于知乎 - why技术。\n\n他写了这篇文章，把自己针对这个问题的探索过程分享了出来：springboot 中如何正确的在异步线程中使用request\n\n文章还是挺不错的，把发现问题和解决问题都写的很明白了。\n\n但是，我觉得把探索问题的部分写的太省略了，导致我看完之后都不知道这个问题的根本原因是什么。\n\n而为什么我会对这篇文章特别感兴趣呢？\n\n因为这个“坑”我记得我刚刚入行没两年的也遇到过，我已经不记得自己当时是怎么解决的了，但是我肯定也没有深入的去研究。\n\n因为那个时候遇到问题，就去网上费尽心思的查，粘一个方案过来看能不能用。\n\n如果不能用的话，心里暗骂一句：小可(s)爱(b)，然后接着找。\n\n直到找到一个可以用的。\n\n至于为什么能用？\n\n管它呢，研究这玩意干啥。\n\n\n\n主要是当时觉得探索这个玩意到进入到源码里面去，一涉及到源码心里就犯怵，所以就敬而远之。\n\n现在不一样了，现在我看到源码我就觉得兴奋，心里想着：多好的素材啊。\n\n既然这次又让我遇到了，所以我决定把几年前的坑填上，盘一盘它。\n\n\n\n\n# 搞个 demo\n\n由于这个现象太过匪夷所思，所以写文章的那个老哥认为这个是一个 bug，还在 spring 的 github 上提了一个 issues：\n\n> https://github.com/spring-projects/spring-framework/issues/28741\n\n这里面他附上了一个可以复现的 demo，所以我就直接拿来用了。\n\n确实是可以复现，但是其实他提供的这个 demo 还是有点臃肿，具有一点点的迷惑性，直接给我迷晕了，让我在这上面稍微花了时间。\n\n先给你看一下他的 demo 是怎么样的。\n\n主要是两个 controller 接口。\n\n第一个接口是 get 请求类型的 getparams，代码很简单，先放在这里，等下用：\n\n\n\n第二个接口是 post 请求类型的 posttest，就这么几行代码：\n\n@postmapping("/posttest")\npublic string posttest(httpservletrequest request) {\n    string age1 = request.getparameter("age");\n    string name1 = request.getparameter("name");\n    system.out.println("age1=" + age1 + ",name1=" + name1);\n    new thread(new runnable() {\n        @override\n        public void run() {\n            string age2 = request.getparameter("age");\n            string name2 = request.getparameter("name");\n            system.out.println("age2=" + age2 + ",name2=" + name2);\n            //模拟业务请求\n            try {\n                thread.sleep(200);\n            } catch (interruptedexception e) {\n                throw new runtimeexception(e);\n            }\n            age2 = request.getparameter("age");\n            name2 = request.getparameter("name");\n        }\n    }).start();\n    return "post success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n主要是里面启动了一个线程，在线程里面有从 request 里面获取参数的动作。\n\n这个方法访问起来是这样的一个情况：\n\n\n\n从 age2、name2 输出上看，虽然 request 传入到异步线程里面了，但是还是能从里面获取到对应的参数，没有看出来有什么毛病。\n\n但是接下来，匪夷所思的事情就要出现了。\n\n还记得我们前面的 getparams 接口吗？\n\n我再把它拿过来给你看一眼：\n\n\n\n你说，就这个接口，我用下面这个链接去访问，在我的认知里面是完全不可能有任何问题的，对吧？\n\n> http://127.0.0.1:8080/getparams?a=1&b=2\n\n但是，这玩意还真的就打破了我的认知：\n\n\n\n在访问 posttest 方法之后，再次访问 getparams 方法，getparams 方法居然抛出异常了？\n\n抛出的异常是说我调用的时候没有传递 b 这个参数。\n\n但是我的链接里面明明就是有 b=2 的啊？\n\n这玩意上哪里说理去？\n\n\n\n上面就是那位老哥提供的可复现的 demo 的主要部分。\n\n但是我前面说了，这个 demo 有点臃肿，具有一点点迷惑性。\n\n首先如果我再加一个输出语句，那么在一个短暂的 sleep 之后， age2 和 name2 就没了：\n\n\n\n虽然还是感觉有点神奇吧，但是也没有刚刚那个操作让我感到震惊。\n\n因为从输出 null 这个结果，我至少可以知道程序在这个地方就出现问题了，把问题的范围限定在了一次请求中。\n\n刚刚那个操作，好家伙，表现出来到情况是这样的：\n\n * 先发起一个 post 请求，看起来是正常的。\n * 然后再发起一个 get 请求，这个 get 请求挂了。\n * 但是这个 get 请求从发起的角度来看找不到任何毛病。\n\n你要基于上面这个情况去分析问题的话，就不好找问题了，毕竟要发起两个毫不相干的请求才能触发问题。\n\n\n\n加入一行输出日志，相当于把问题简化了一点。\n\n但是你看到的是我就加了一行输出日志，实际上等我加这行日志的时候，我拿到这个 demo 已经过去了好几个小时了。\n\n在这期间我也一直以为必须要按照这个流程来操作，才能复现问题。\n\n所以我才说具有一点点迷惑性。\n\n好，现在不管怎么说吧。\n\n我先把 demo 简化一点，便于继续分析。我的 demo 可以简化到这个程度：\n\n@getmapping("/gettest")\npublic string gettest(httpservletrequest request) {\n    string age = request.getparameter("age");\n    system.out.println("age=" + age);\n    new thread(() -> {\n        try {\n            thread.sleep(200);\n        } catch (interruptedexception e) {\n            throw new runtimeexception(e);\n        }\n        string age1 = request.getparameter("age");\n        system.out.println("age1=" + age1);\n    }).start();\n    return "success";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\nget 和 post 请求都可以，只是我为了方便选择发起 get 请求。\n\n然后只需要传递一个参数就行，核心步骤是要把 request 传递到异步线程里面去，调用 getparameter 再次获取对应入参。\n\n你可以把上面的代码粘到你本地，把项目跑起来，然后调一次下面这个链接：\n\n> http://127.0.0.1:8080/gettest?age=18\n\n从控制台你可以看到这样的输出：\n\n\n\n到这里就复现了前面说的问题。\n\n但是你別着急，你再次发起调用，你会看到控制台的输出是这样的：\n\n\n\n怎么样，是不是很神奇，很懵逼？\n\n为了让你更加直观的懵逼，我给你上个动图，发起两次调用，主要关注控制台的输出：\n\n\n\n好，现在，你就去泡杯茶，点根烟，慢慢去琢磨，这玩意是不是属于超自然现象。\n\n\n\n\n# 探索\n\n其实我看到这个现象的时候并不是特别的震惊，毕竟写文章这几年，什么稀奇古怪的现象都遇到过。\n\n所以我只是轻蔑一笑，看向了我排查问题的武器库，很快就看到了一个比较趁手的东西：开启 debug 日志。\n\n如果是以前，对于这种没有抛出异常的问题跟着，由于没有异常堆栈，我肯定是迫不及待的正向的 debug 跟了一下源码，扎到源码里面去一顿狂翻，左看右看。\n\n但是结果常常是一头扎进去之后，很快就迷失了，搞了好几个小时才从源码里面爬出来，出来的时候基本上一无所获。\n\n但是我现在不会这么猴急了，现在就成熟了很多。遇到这类问题不会先急着去卷源码会先多从日志里面挖掘一点东西出来。\n\n所以我遇到这个问题的第一反应就是调整日志级别到 debug：\n\n> logging.level.root=debug\n\n观察日志这个小技巧我在之前的文章里面也分享过。\n\n当日志调整到 debug 级别之后，再次发起两次调用，问题复现，同时把日志拿出来做对比。\n\n两次请求的 debug 日志整体情况是这样的，左边是第一次请求，右边是第二次请求：\n\n\n\n可以看到第一次请求比第二次请求的日志多。\n\n多说明什么问题？\n\n是不是说明第一次请求调用的方法更多一点？\n\n为什么多一点，到底是哪些方法只调用了一次？\n\n我也不知道，但是我能从 debug 日志里面梳理出来。\n\n比如下面这个图就是梳理出来的第一次请求多打印的日志：\n\n\n\n很快我就从 debug 日志里面看到了一个我觉得很可疑的地方：\n\n\n\n> start processing with input [age=18]\n\n这一行日志，只有第一次请求的时候打印了，从日志表达的意思来看，是处理请求里面的 age=18。\n\n为什么第二次不打印呢？\n\n我也不知道，但是我知道了第一个关键断点打在什么位置了。\n\n全局搜索关键字 “start processing with input” 可以找到配置文件里面的 “parameters.bytes”。\n\n然后全局搜索 “parameters.bytes”，就能找到是在 parameters.java 文件里面输出的：\n\n\n\n也就是这个地方：\n\n> org.apache.tomcat.util.http.parameters#processparameters(byte[], int, int, java.nio.charset.charset)\n\n\n\n找到第一个断点，就找到了突破口，只要好好的拿捏住，之后的事情就基本上就顺风顺水了。\n\n\n\n首先，重启项目，发起调用，在断点处看调用堆栈：\n\n\n\n接下来的思路是什么？\n\n就是我要从堆栈里面找到一个东西。\n\n你想啊，第一次请求走这个地方，第二次请求就不走这个地方了，所以一定有个类似于这样的逻辑：\n\nif(满足某个条件){\n    走processparameters方法\n}\n\n\n1\n2\n3\n\n\n所以，只需要往回找五个调用栈，我就找到了这一个方法：\n\n> org.apache.catalina.connector.request#getparameter\n\n\n\n这个时候你看旁边的 parametersparsed 参数是 true，按理来说 true 不应该走进 if 分支呀？\n\n因为这个地方我们是从断点处的堆栈信息往回找，在从 parseparameters 方法到 processparameters 方法之间，肯定有地方修改了 parametersparsed 参数的值为 true。\n\n\n\n这一点，从 parametersparsed 的初始值是 false 也能看出来：\n\n\n\n因此，我决定把第二个断点打在 getparameter 方法中：\n\n\n\n再次重启服务，发起调用，parametersparsed 为 false，开始执行 parseparameters() 方法解析参数：\n\n\n\n而解析参数的目的之一就是把我的 age=18 放到 paramhashvalues 这个 map 容器里面：\n\n> org.apache.tomcat.util.http.parameters#addparameter\n\n\n\nparseparameters() 方法执行完成之后，接着从前面的 paramhashvalues 容器里面把 age 对应的 18 返回回去：\n\n\n\n但是，朋友们，注意上面的图片中有个标号为 ① 的地方：\n\n\n\n这个方法，在 parseparameters 方法里面也会被调用：\n\n> org.apache.tomcat.util.http.parameters#handlequeryparameters\n\n\n\n好，现在打起精神来听我说。\n\nhandlequeryparameters 方法才是真正解析参数的方法，为了防止重复解析它加入了这样的逻辑：\n\n\n\n\n\ndidqueryparameters 初始为 false，随后被设置为 true。\n\n这个很好理解，入参解析一次就行了，解析的产物一个 map，后续要拿参数对应的值，从 map 里面获取即可。\n\n比如我把入参修改为这样：\n\n> http://127.0.0.1:8080/gettest?a=1&b=2&c=3&d=4\n\n那么经过解析之后，这个 map 就变成了这样：\n\n\n\n经过了前面的这一顿折腾之后，现在找到了解析入参的方法。\n\n那么全文的关键点就在 didqueryparameters 这个参数的变化了。\n\n只有是 false 的时候才会去解析入参。\n\n那么我接下来的排查思路就是观察 didqueryparameters 参数的变化，所以在字段上打上断点，重启项目，继续调试：\n\n\n\n第一次进入这个方法的时候 didqueryparameters 为 false，入参是 age=18：\n\n\n\n而第一次进入这个方法的原因我前面也说了，是因为触发了 parseparameters 的逻辑：\n\n\n\n第二次进入这个方法 didqueryparameters 变为 true 了，不用再次解析：\n\n\n\n那么第二次进入这个方法的原因是什么？\n\n前面也说了，getparameter 方法的第一行就是触发解析的逻辑：\n\n\n\n接下来，断点停在了这个地方：\n\n> org.apache.tomcat.util.http.parameters#recycle\n\n\n\n方法叫做 recycle，表明是循环再利用，在这里面会把存放参数的 map 清空，把 didqueryparameters 再次设置为了 false。\n\n而当你用同样的手段去观察 parametersparsed 参数，也就是这个参数的时候：\n\n\n\n会发现它也有一个 recycle 方法：\n\n> org.apache.catalina.connector.request#recycle\n\n\n\n这个方法上的注释，也有一个特别扎眼的词：reuse。\n\n注释过来是这样的：释放所有的对象引用，并初始化实例变量，为重新使用这个对象做准备。\n\n种种迹象表明 request 在 tomcat 里面是循环使用的。\n\n虽然在这之前我也知道是循环使用的，但是百闻不如一见嘛。这次是我 debug 的时候亲眼看到了。\n\n又拿捏一个小细节。\n\n\n\n由于我们在异步线程里面还触发了一次 getparameter 方法：\n\n\n\n但是 gettest 方法已经完成了响应，这个时候 request 可能已经完成了回收。\n\n注意我说的是“可能”，因为这个时候 request 的回收动作和异步线程谁先谁后还不一定。\n\n这也解释了这个现象：\n\n\n\n虽然 request 传入到异步线程里面了，但是还是能从里面获取到对应的参数。\n\n因为此时 request 的回收动作还没做完，还可以继续获取参数。\n\n为了避免这个“可能”，我把 sleep 的时间调整为 5s，保证 request 完成回收。\n\n然后这异步线程里面继续 debug，接下来神奇的事情就要开始了。\n\n\n\n再次触发 handlequeryparameters 的时候，didqueryparameters 由于被 recycle 了，所以变成了 false。\n\n然后执行解析的逻辑，把 didqueryparameters 设置为 true。\n\n但是，我们可以看到，此时查询的内容却没有了，是个 null：\n\n\n\n这个也好理解，肯定是随着调用结束，被 recycle 了嘛：\n\n\n\n所以，到这里我能解答为什么异步线程里面的输出是 null 了。\n\nquerymb 就是我调用的时候传入的 age=18。\n\n通过 debug 发现异步线程里面调用 getparameter 的时候没有 querymb ，所以就不会解析出 map。\n\n没有 map ，异步线程里面的输出肯定是 null。\n\n为什么没有 querymb 呢？\n\n因为当前这个请求已经被返回了，执行了 recycle 相关操作，querymb 就是在这个时候没有的。\n\n那么为什么再次发起调用，会出现这个神奇的现象呢？\n\n\n\n很简单，因为在异步线程里面调用 getparameter 的时候，把 didqueryparameters 设置为 true 了。\n\n但是异步线程里面的调用，超出了 request 的生命周期，所以并不会再次触发 request 的 recycle 相关操作，因此这个 request 拿来复用的时候 didqueryparameters 还是 true。\n\n所以，从 debug 来看，虽然 querymb 是有值的，但是没用啊，didqueryparameters 是 true，程序直接 return 了，不会去解析你的入参：\n\n\n\n问题得到解答。\n\n此时，我们再回到最开始的这个方法中：\n\n\n\n你想想为什么这个方法调用的时候出现异常了？\n\n还是一样的道理呀，由于 request 是复用的，虽然你传入了参数 b，但是由于前一个请求在异步线程里面调用了 getparameter 方法，将 didqueryparameters 设置为了 true，导致程序不会去解析我传入的 a=1&b=2。\n\n从调用链接的角度来说，虽然我们调用的是这个链接：\n\n> http://127.0.0.1:8080/getparams?a=1&b=2\n\n但是对于程序来说，它等效于这个链接：\n\n> http://127.0.0.1:8080/getparams\n\n由于入参 b 是 int 类型的，那可不就是会抛出这个异常吗：\n\n\n\n这个异常是说：哥们，你要么把 b 搞成 integer 类型的，不传值我就给你赋为 null。要么给我传一个值。\n\n你现在用 int 来接受，又不给我值，我这没法处理啊？\n\n我能给你默认赋值一个 0 吗？\n\n肯定不能啊，0 和 null 可不是一个含义，万一你程序出异常了，把锅甩给我怎么办？\n\n算了，我还是抛异常吧，最稳妥了。\n\n所以你看，要是你从这个抛异常的地方去找答案，也许能找到，但是路就走远了一点。\n\n因为这个地方并不是问题的根因。\n\n到这里，你应该清楚这个 bug 到底是怎么回事了。\n\n\n# request 的生命周期\n\n在探索这个问题的过程中，我也想到了另外一个问题：\n\n> 一个 request 请求的生命周期是怎么样的？\n\n这题我记得几年前我背过，现在我确实有点想不起来了，但是我知道去哪里找答案。\n\njava servlet specification，这是一份规范，答案就藏在这个规范里面：\n\n> https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_final.pdf\n\n在 3.13 小节里面，关于 request 这个 object 的生命周期，规范是这样说的：\n\n\n\n这寥寥数语，非常关键，所以我一句句的拆解给你看。\n\n> each request object is valid only within the scope of a servlet’s service method, or within the scope of a filter’s dofilter method，unless the asynchronous processing is enabled for the component and the startasync method is invoked on the request object.\n\n一上来就是一个长句，但是根本不要慌。\n\n你知道的，我英语八级半，水平一向是可以的。\n\n\n\n先把长句拆短一点，我可以先只翻译 unless 之前的部分。\n\n前面这部分说：每个 request 对象只在 servlet 的服务方法的范围内有效，或者在过滤器的 dofilter 方法的范围内有效。\n\n接着它来了一个 unless，表示转折，和 but 差不多。\n\n我们主要关注 unless 后面这句：\n\n> the asynchronous processing is enabled for the component and the startasync method is invoked on the request object.\n\n组件的异步处理功能被启用，并且在 request 上调用了 startasync 方法。\n\n也就是说，request 的生命周期在遇到异步的时候有点特殊，但是这个异步又不是我前面演示的那种异步。\n\n关于异步，规范中提到了 request 里面有个方法：startasync。\n\n我去看了一眼，果然是有：\n\n\n\n返回值是一个叫做 asynccontext 的东西。\n\n但是我先按下不表，接着往下翻译。\n\n> in the case where asynchronous processing occurs, the request object remains valid until complete is invoked on the asynccontext.\n\n在发生异步处理的情况下，request 对象的生命周期一直会延续到在 asynccontext 上调用 complete 方法之前。\n\n这里又提到了一个 complete 方法，这个 complete 方法 invoked on the asynccontext。\n\nasynccontext 是什么玩意？\n\n不就是 request.startasync() 方法的返回值吗？\n\n果然在 asynccontext 里面有个 complete 方法：\n\n\n\n不慌，继续按下不表，一会就回收，接着往下看。\n\n> containers commonly recycle request objects in order to avoid the performance overhead of request object creation.\n\n容器通常会 recycle 请求对象，以避免创建请求对象的性能开销。\n\n看到这个 recycle 我们就很眼熟了，原来规范里面是建议了容器里面实现 request 的时候尽量复用，而不是回收，目的是节约性能。\n\n这玩意，属于意外收获呀。\n\n最后一句话是这样的：\n\n> the developer must be aware that maintaining references to request objects for which startasync has not been called outside the scope described above is not recommended as it may have indeterminate results.\n\n这句话是说：程序员朋友们必须要意识到，我不建议在上述范围之外维护 request 的引用，因为它可能会产生不确定的结果。\n\n看到这个“不确定的结果”时我很开心，因为我前面已经演示过了，确实会产生莫名其妙的结果。\n\n但是规范里面在“scope”之前还加了一个限定词：startasync has not been called。\n\n反过来说，意思就是如果你有一个调用了 startasync 方法的 request，那么在上述范围之外，你还可以操作这个 request，也不会有问题。\n\n这一整段话中，我们提炼到了两个关键的方法：\n\n * request 的 startasync 方法\n * asynccontext 的 complete 方法\n\n根据规范来说，这两个方法才是 request 异步编程的正确打开方式。\n\n\n# 正确打开方式\n\n在这之前，假设你完全不知道 startasync 和 complete 方法。\n\n但是看了规范上的描述，猜也能猜出来代码应该这样写，然后发起多次调用，没有任何毛病：\n\n\n\n这就是正确的打开方式。\n\n从现象上来说，就是 gettest 请求返回之后，request 线程并没有被调用 recycle 方法进行回收。\n\n为什么这样写就能实现 request 的异步化呢？\n\n用脚指头想也能想到，一定有一个这样的判断逻辑存在：\n\nif(调用过request的startasync方法){\n    先不回收\n}\n\n\n1\n2\n3\n\n\n所以，用之前的方法，在 recycle 方法上打断点，并往回找，很快就能找到这个方法：\n\n\n\n然后，关于 asynccontext 的 complete 方法我还注意到它有这样的一个描述：\n\n\n\n也就是说在调用 complete 方法之后 response 流才会关闭，那么有意思的就来了：\n\n\n\n我不仅在异步线程里面可以操作 request 还可以操作 response。\n\n但是转念一想，既然都是异步编程了，操作 response 的意义肯定比操作 request 的意义更大。\n\n关于 tomcat 对于异步请求的支持还有很多可以探索的地方，自己慢慢去玩吧。\n\n写到这里的时候我发现标题说的也不对，标题是：千万不要把 request 传递到异步线程里面！有坑！\n\n而正确的说法应该是：\n\n> 千万不要随便把 request 传递到异步线程里面！有坑！你拿捏不住，得用 startasync 方法才行。\n\n好了，就这样吧，本文写到这里就差不多了。\n\n本文主要是分享了一下 request 放到异步线程之后的诡异现象和排查方法，最后也给出了正确的打开方式。\n\n希望你能掌握到这样的一个问题排查方法，不要惧怕问题，要抽丝剥茧的干它。\n\n然后，其实和 bug 排查比起来，关于 request 的异步编程相关的知识更加重要，本文只是做了一个小小的引子，如果这块知识对你是空白的，希望你有兴趣的话自己去研究一下，很有价值。\n\n最后，我想说的是，关于之前文章的一个留言：\n\n\n\n从看到这个现象，到写完这篇文章，我不断的调试程序，至少重启了近百次服务，发起了上百次请求。在源码里面也走了一些弯路，最后才抽丝剥茧的看到本问题的根因。\n\n所以，我排查问题的经验就一个字：\n\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"day2",frontmatter:{title:"day2",catalog:!0,date:"2023-03-13T13:59:44.000Z",tags:["Day"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/day2.html",relativePath:"views/frontend/day2.md",key:"v-a968d5be",path:"/views/frontend/day2.html",headers:[{level:2,title:"一个新闻稿",slug:"一个新闻稿",normalizedTitle:"一个新闻稿",charIndex:3},{level:2,title:"引入图片",slug:"引入图片",normalizedTitle:"引入图片",charIndex:12},{level:2,title:"图片标签",slug:"图片标签",normalizedTitle:"图片标签",charIndex:20}],headersStr:"一个新闻稿 引入图片 图片标签",content:' * 一个新闻稿\n * 引入图片\n * 图片标签\n\n\n\n\n# 一个新闻稿\n\n<body>\n    \x3c!-- 标题 --\x3e\n    <h1>支付宝特权福利！芝麻分600以上用户惊喜，网友：幸福来得突然？</h1> \n\n    \x3c!-- 作者信息 --\x3e\n    <em><font color="grey" size="2">作者：fd 2088-08-08</font></em>\n    <hr>\n\n\n    \x3c!-- 副标题 --\x3e\n    <h3>支付宝特权福利！芝麻分600以上用户惊喜，网友：幸福来得突然？</h3> \n\n    \x3c!-- 内容 --\x3e\n    <p>这些年，马云的风头正盛，但是上个月他毅然辞去了阿里巴巴的职务。而马云所做的很多事情也的确改变了这个世界，特别是在移动支付领域，更是走在了世界的前列。如今中国的移动支付已经成为老百姓的必备，支付宝对中国社会的变革都带来了深远的影响。不过马云依然没有满足，他认为移动互联网将会成为人类的基础设施，而且这里面的机会和各种挑战还非常多。</p>\n\n\n    <p>支付宝的诞生就是为了解决淘宝网的客户们的买卖问题，而随着支付宝的用户的不断增加，支付宝也推出了一系列的附加功能。比如生活缴费、转账汇款、还信用卡、车主服务、公益理财等，往简单的说，支付宝既可以满足人们的日常生活，又可以利用芝麻信用进行资金周转服务。除了芝麻分能够进行周转以外，互联网信用体系下的产品多多，我们对比以下几个产品看看区别:</p>\n\n    <ol>\n        <li>蚂蚁借呗，芝麻分600并且受到邀请开通福利，这个就是支付宝贷款，直接秒杀了银行贷款和线下金融公司，是现在支付宝用户使用最多的。</li>\n        <li>微粒贷：于2015年上线，主要面向QQ和微信征信极好的用户而推出，受到邀请才能申请开通，额度最高有30万，难度较大</li>\n        <li>蚂蚁巴士：这个在微信 蚂蚁巴士 公众平台申请,对于信用分要求530分以上才可以,额度1-30万不等，目前非常火爆</li>\n    </ol>\n    \n    <p>说起支付宝中的芝麻信用功能，相信更是受到了许多人的推崇，因为随着自己使用的不断增多，信用分会慢慢提高，而达到了一个阶段，就可以获得许多的福利。而当我们的芝麻信用分可以达到600分以上的时候，会有令我们想象不到的惊喜，接下来就让我们一起来看看，具体都有哪些惊喜吧。</p>\n\n\n    <p><strong>一、芝麻分600以上福利之信用购。</strong> 网购相信大家都不陌生，但是很多时候，网购都有一个通病，就是没办法试用，导致很多人买了很多自己不喜欢的东西。但是只要你的支付宝芝麻分在650及以上，就能立马享有0元下单，收到货使用满意了再进行付款。还能享用美食的专属优惠，是不是很耐斯</p>\n\n\n    <p><strong>二、芝麻分600以上福利之信用免押。</strong> 芝麻信用与木鸟短租联合推出信用住宿服务，芝麻分600及以上的用户可享受免押入住特权。木鸟短租拥有全国50万套房源，是国内领先的短租民宿预订平台。包括大家知道的飞猪信用住，大部分酒店可以免押金入住，离店再交钱。</p>\n\n\n    <p><strong>三、芝麻分600以上福利之国际驾照。</strong> 我们经常听说的可能只是中国驾照，但现在芝麻分已经应用到了国际领域，只要你的芝麻分够550就可以免费办理国际驾照，也有不少人非常佩服马云，一个简单的芝麻分居然有如此大的功能，也从侧面反应出来马云在国际上的地位，这个国际驾照是由新西兰、德国、澳大利亚联合认证，可以在全球200多个国家通行，相信大家一定都有一个自驾全球的梦想吧，而现在支付宝就给了你一把钥匙，剩下的就你自己搞定了！有没有想带着你的女神来一次浪漫之旅呢？</p>\n\n\n    <p>随着互联网对我们生活的改变越来越大，信用这一词也被大家推上风口浪尖，不论是生活出行，还是其他的互联网服务，与信用体系已经密不可分了，马云当初说道，找老婆需要拼芝麻分，如今似乎也要成为现实，那么你们的芝麻分有多少了呢？</p>\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 引入图片\n\n     \x3c!-- 使用相对路径写法一:推荐 --\x3e\n     <img src="img/gcd.jpg">\n\n     \x3c!-- 使用相对路径写法二:更推荐 --\x3e\n     <img src="./img/gcd.jpg" alt="">  \x3c!-- (./代表当前目录) --\x3e\n\n\n1\n2\n3\n4\n5\n\n\n\n# 图片标签\n\n     \x3c!-- \n        img的其他属性\n            alt:规定图像无法显示时的替代文本。\n            width:宽度\n            height:高度\n            title:鼠标经过图片的提示文字\n     --\x3e\n    <img src="./img/gcd.jpg" alt="gcd" width="200px" height="200px" title="abc">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',normalizedContent:' * 一个新闻稿\n * 引入图片\n * 图片标签\n\n\n\n\n# 一个新闻稿\n\n<body>\n    \x3c!-- 标题 --\x3e\n    <h1>支付宝特权福利！芝麻分600以上用户惊喜，网友：幸福来得突然？</h1> \n\n    \x3c!-- 作者信息 --\x3e\n    <em><font color="grey" size="2">作者：fd 2088-08-08</font></em>\n    <hr>\n\n\n    \x3c!-- 副标题 --\x3e\n    <h3>支付宝特权福利！芝麻分600以上用户惊喜，网友：幸福来得突然？</h3> \n\n    \x3c!-- 内容 --\x3e\n    <p>这些年，马云的风头正盛，但是上个月他毅然辞去了阿里巴巴的职务。而马云所做的很多事情也的确改变了这个世界，特别是在移动支付领域，更是走在了世界的前列。如今中国的移动支付已经成为老百姓的必备，支付宝对中国社会的变革都带来了深远的影响。不过马云依然没有满足，他认为移动互联网将会成为人类的基础设施，而且这里面的机会和各种挑战还非常多。</p>\n\n\n    <p>支付宝的诞生就是为了解决淘宝网的客户们的买卖问题，而随着支付宝的用户的不断增加，支付宝也推出了一系列的附加功能。比如生活缴费、转账汇款、还信用卡、车主服务、公益理财等，往简单的说，支付宝既可以满足人们的日常生活，又可以利用芝麻信用进行资金周转服务。除了芝麻分能够进行周转以外，互联网信用体系下的产品多多，我们对比以下几个产品看看区别:</p>\n\n    <ol>\n        <li>蚂蚁借呗，芝麻分600并且受到邀请开通福利，这个就是支付宝贷款，直接秒杀了银行贷款和线下金融公司，是现在支付宝用户使用最多的。</li>\n        <li>微粒贷：于2015年上线，主要面向qq和微信征信极好的用户而推出，受到邀请才能申请开通，额度最高有30万，难度较大</li>\n        <li>蚂蚁巴士：这个在微信 蚂蚁巴士 公众平台申请,对于信用分要求530分以上才可以,额度1-30万不等，目前非常火爆</li>\n    </ol>\n    \n    <p>说起支付宝中的芝麻信用功能，相信更是受到了许多人的推崇，因为随着自己使用的不断增多，信用分会慢慢提高，而达到了一个阶段，就可以获得许多的福利。而当我们的芝麻信用分可以达到600分以上的时候，会有令我们想象不到的惊喜，接下来就让我们一起来看看，具体都有哪些惊喜吧。</p>\n\n\n    <p><strong>一、芝麻分600以上福利之信用购。</strong> 网购相信大家都不陌生，但是很多时候，网购都有一个通病，就是没办法试用，导致很多人买了很多自己不喜欢的东西。但是只要你的支付宝芝麻分在650及以上，就能立马享有0元下单，收到货使用满意了再进行付款。还能享用美食的专属优惠，是不是很耐斯</p>\n\n\n    <p><strong>二、芝麻分600以上福利之信用免押。</strong> 芝麻信用与木鸟短租联合推出信用住宿服务，芝麻分600及以上的用户可享受免押入住特权。木鸟短租拥有全国50万套房源，是国内领先的短租民宿预订平台。包括大家知道的飞猪信用住，大部分酒店可以免押金入住，离店再交钱。</p>\n\n\n    <p><strong>三、芝麻分600以上福利之国际驾照。</strong> 我们经常听说的可能只是中国驾照，但现在芝麻分已经应用到了国际领域，只要你的芝麻分够550就可以免费办理国际驾照，也有不少人非常佩服马云，一个简单的芝麻分居然有如此大的功能，也从侧面反应出来马云在国际上的地位，这个国际驾照是由新西兰、德国、澳大利亚联合认证，可以在全球200多个国家通行，相信大家一定都有一个自驾全球的梦想吧，而现在支付宝就给了你一把钥匙，剩下的就你自己搞定了！有没有想带着你的女神来一次浪漫之旅呢？</p>\n\n\n    <p>随着互联网对我们生活的改变越来越大，信用这一词也被大家推上风口浪尖，不论是生活出行，还是其他的互联网服务，与信用体系已经密不可分了，马云当初说道，找老婆需要拼芝麻分，如今似乎也要成为现实，那么你们的芝麻分有多少了呢？</p>\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 引入图片\n\n     \x3c!-- 使用相对路径写法一:推荐 --\x3e\n     <img src="img/gcd.jpg">\n\n     \x3c!-- 使用相对路径写法二:更推荐 --\x3e\n     <img src="./img/gcd.jpg" alt="">  \x3c!-- (./代表当前目录) --\x3e\n\n\n1\n2\n3\n4\n5\n\n\n\n# 图片标签\n\n     \x3c!-- \n        img的其他属性\n            alt:规定图像无法显示时的替代文本。\n            width:宽度\n            height:高度\n            title:鼠标经过图片的提示文字\n     --\x3e\n    <img src="./img/gcd.jpg" alt="gcd" width="200px" height="200px" title="abc">\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"TCP,UDP,HTTP的认识",frontmatter:{title:"TCP,UDP,HTTP的认识",date:"2023-01-16T00:00:00.000Z",tags:["网络协议"],categories:["Front-end","cesiumjs"],isShowComments:!1},regularPath:"/views/frontend/TCP&UDP.html",relativePath:"views/frontend/TCP&UDP.md",key:"v-256ab3e6",path:"/views/frontend/TCP&UDP.html",headers:[{level:2,title:"TCP",slug:"tcp",normalizedTitle:"tcp",charIndex:0},{level:3,title:"TCP三次握手 ★",slug:"tcp三次握手-★",normalizedTitle:"tcp三次握手 ★",charIndex:70},{level:3,title:"为什么TCP客户端最后还要发送一次确认呢？",slug:"为什么tcp客户端最后还要发送一次确认呢",normalizedTitle:"为什么tcp客户端最后还要发送一次确认呢？",charIndex:85},{level:2,title:"UDP",slug:"udp",normalizedTitle:"udp",charIndex:4},{level:2,title:"TCP和UDP区别",slug:"tcp和udp区别",normalizedTitle:"tcp和udp区别",charIndex:117},{level:2,title:"TCP与UDP的适用场景",slug:"tcp与udp的适用场景",normalizedTitle:"tcp与udp的适用场景",charIndex:130},{level:2,title:"WebSocket",slug:"websocket",normalizedTitle:"websocket",charIndex:146},{level:2,title:"HTTP",slug:"http",normalizedTitle:"http",charIndex:32},{level:3,title:"HTTP 协议格式",slug:"http-协议格式",normalizedTitle:"http 协议格式",charIndex:169},{level:3,title:"HTTP Method",slug:"http-method",normalizedTitle:"http method",charIndex:184},{level:3,title:"HTTP Status code和Status text",slug:"http-status-code和status-text",normalizedTitle:"http status code和status text",charIndex:201},{level:3,title:"HTTP Head (HTTP 头)",slug:"http-head-http-头",normalizedTitle:"http head (http 头)",charIndex:235},{level:3,title:"HTTP Request Body",slug:"http-request-body",normalizedTitle:"http request body",charIndex:259},{level:2,title:"HTTPS",slug:"https",normalizedTitle:"https",charIndex:280},{level:2,title:"HTTP2",slug:"http2",normalizedTitle:"http2",charIndex:289}],excerpt:"<Boxx/>\n<p>TCP/UDP协议是<strong>传输层协议</strong>，主要解决数据如何在网络中传输，而HTTP是<strong>应用层协议</strong>，主要解决如何包装数据。</p>\n",headersStr:"TCP TCP三次握手 ★ 为什么TCP客户端最后还要发送一次确认呢？ UDP TCP和UDP区别 TCP与UDP的适用场景 WebSocket HTTP HTTP 协议格式 HTTP Method HTTP Status code和Status text HTTP Head (HTTP 头) HTTP Request Body HTTPS HTTP2",content:"TCP/UDP协议是传输层协议，主要解决数据如何在网络中传输，而HTTP是应用层协议，主要解决如何包装数据。\n\n\n\n * TCP\n   * TCP三次握手 ★\n   * 为什么TCP客户端最后还要发送一次确认呢？\n * UDP\n * TCP和UDP区别\n * TCP与UDP的适用场景\n * WebSocket\n * HTTP\n   * HTTP 协议格式\n   * HTTP Method\n   * HTTP Status code和Status text\n   * HTTP Head (HTTP 头)\n   * HTTP Request Body\n * HTTPS\n * HTTP2\n\n\n\n简单理解： “IP”代表网际协议，TCP和UDP使用该协议从一个网络传送数据包到另一个网络。把IP想像成一种高速公路，它允许其它协议在上面行驶并找到到其它电脑的出口。TCP和UDP是高速公路上的卡车，它们携带的货物就是像HTTP，文件传输协议FTP这样的协议等。\n\n当然还有像SOCKET这种抽象层：TCP/IP网络的API。Socket（相当于码头/车站）是应用层与TCP/IP协议族通信的中间软件抽象层，它是一组接口。socket是在应用层和传输层之间的一个抽象层，它把TCP/IP层复杂的操作抽象为几个简单的接口供应用层调用已实现进程在网络中通信。\n\nTCP提供有保证的数据传输，UDP不提供，而HTTP就是基于TCP实现的应用层协议。\n\n\n# TCP\n\nTCP是一种面向连接的、可靠的传输层协议；\n\nTCP协议建立在不可靠的网络层 IP 协议之上，IP协议并不能提供任何可靠性机制，TCP的可靠性完全由自己实现；\n\nTCP采用的最基本的可靠性技术是：确认与超时重传机制、流量控制机制（别发的太快已保证对方能收到）；\n\n\n# TCP三次握手 ★\n\n* 第一次握手：客户端向服务器发送请求报文段，其中同步位SYN=1，序号SEQ=x（表明传送数据时的第一个数据字节的序号是x），等待服务器确认；\n\n* 第二次握手：服务器收到客户端发来的请求，如果同意建立连接，就发回一个确认报文段，该报文段中同步位SYN=1，确认号ACK=x+1，序号SEQ=y；\n\n* 第三次握手：客户端收到服务器的确认报文段后，还需要向服务器给出确认，向其发送确认包ACK(ack=y+1)，进而完成三次握手。\n\n\n# 为什么TCP客户端最后还要发送一次确认呢？\n\n一句话，主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。\n\n如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于TCP的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。\n\n如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。\n\n\n# UDP\n\nUDP是一种无连接的、不可靠的传输层协议； 提供了有限的差错检验功能；目的是希望以最小的开销来达到网络环境中的进程通信目的。\n\nUDP（用户数据报协议）- 类似发短信：\n\n 1. 只管发送，不确认对方是否接收到\n 2. 将数据及源和目的封装成数据包中，不需要建立连接\n 3. 每个数据包的大小限制在64K之内\n 4. 因为无需连接，因此是不可靠协议\n 5. 不需要建立连接，速度快\n\n随着现代网速的提升，UDP协议以其简单、传输快的优势，在越来越多场景下取代了TCP ， 如网页浏览、流媒体、实时游戏、物联网。\n\n\n# TCP和UDP区别\n\nTCP：\n\n面向连接、传输可靠（保证数据正确性）、有序（保证数据顺序）、传输大量数据（流模式）、速度慢、对系统资源的要求多，程序结构较复杂， 每一条TCP连接只能是点到点的， TCP首部开销20字节。\n\nUDP：\n\n面向非连接 、传输不可靠（可能丢包）、无序、传输少量数据（数据报模式）、速度快，对系统资源的要求少，程序结构较简单 ， UDP支持一对一，一对多，多对一和多对多的交互通信， UDP的首部开销小，只有8个字节。\n\n\n# TCP与UDP的适用场景\n\n 1. TCP用于在传输层有必要实现可靠传输的情况。\n\n 2. UDP主要用于那些对高速传输和实时性有较高要求的通信或广播通信。\n    \n    举一个通过 IP 电话进行通话的例子。如果使用 TCP，数据在传送途中如果丢失就会被重发，这样就会导致无法流畅地传输通话人的声音。而采用UDP，它不会进行重发处理，从而也就不会有声音大幅度延迟到达的问题，即使有部分数据丢失，也只是会影响某一小部分的通话。\n\n\n# WebSocket\n\n可以把WebSocket想象成HTTP(应用层)，HTTP和Socket什么关系，WebSocket和Socket就是什么关系。\n\nHTTP 协议有一个缺陷：通信只能由客户端发起，做不到服务器主动向客户端推送信息。\n\nWebSocket 协议在2008年诞生，2011年成为国际标准。所有浏览器都已经支持了。它的最大特点就是，服务器可以主动向客户端推送信息，客户端也可以主动向服务器发送信息，是真正的双向平等对话，属于服务器推送技术的一种。\n\n\n# HTTP\n\nHTTP 标准由 IETF 组织制定。\n\nHTTP 协议是基于 TCP 协议出现的，对 TCP 协议来说，TCP 协议是一条双向的通讯通道，HTTP 在 TCP 的基础上，规定了 Request-Response 模式。这个模式决定了通讯必定由浏览器端首先发起。\n\nHTTP 是存粹的文本协议，它是规定了使用 TCP 协议来传输文本格式的一个应用层协议。\n\n\n# HTTP 协议格式\n\n\n\n\n# HTTP Method\n\n * GET：浏览器通过地址栏访问页面都是 GET 方法。\n * POST：表单提交产生 POST 方法。\n * HEAD：HEAD 跟 GET 类似，只返回请求头，多数由 JavaScript 发起。\n * PUT：添加资源，语义上的约束。\n * DELETE ：删除资源，语义上的约束。\n * CONNECT：CONNECT 多用于 HTTPS 和 WebSocket。\n * OPTIONS：一般用于调试，多数线上服务都不支持。\n * TRACE：一般用于调试，多数线上服务都不支持。\n\n\n# HTTP Status code和Status text\n\n * 1xx：临时回应，表示客户端请继续，被浏览器 HTTP 库直接处理掉了，不会让上层应用知晓\n\n * 2xx：请求成功\n   \n   * 200：请求成功\n\n * 3xx：表示请求的目标由变化，希望客户端进一步处理\n   \n   * 301&302：当前资源已经被转移，永久性与临时性的转移。 301 更接近一种报错，提示客户端下次别来了。\n   * 304：客户端本地已经由缓存的版本，并且在 Request 中告诉了服务端，当服务端通过时间或者 tag，发现没有更新的时候，就会返回一个不含 body 的 304 状态。\n\n * 4xx：客户端请求错误\n   \n   * 403：无权限\n   * 404：表示请求的页面不存在\n\n * 5xx：服务端请求错误\n   \n   * 500：服务端错误\n   * 503：服务端暂时性错误，可以一会再试\n\n\n# HTTP Head (HTTP 头)\n\n> 可以看作键值对。\n\nRequest Header\n\nREQUEST HEADER      规定\nAccept              浏览器端接受的格式\nAccept-Encoding     浏览器端接受的编码方式\nAccpet-Language     浏览器端接受的语言，用于服务器端判断多语言\nCache-Control       控制缓存的时效性\nConnection          连接方式，如果是 keep-alive，且服务器端支持，则会复用连接\nHost                HTTP访问使用的域名\nIf-Modified-Since   上次访问时的更改时间，如果服务器认为此时间后自己没有更新，则会给出 304 响应\nIf-None-Match       上次访问时使用的 E-Tag，通常是页面的信息摘要，这个比更改时间更准确一些\nUser-Agent          客户端标识\nCookie              客户端存储的 Cookie 字符串\n\nResponse Header\n\nRESPONSE HEADER    规定\nCache-Control      缓存控制，用于通知各级缓存保存的时间，例如 max-age=0 表示不要缓存\nConnection         连接类型，Keep-Alive表示复用连接\nContent-Encoding   内容编码方式，通常是gzip\nContent-Length     内容的长度，有利于浏览器判断内容是否已经结束\nContent-Type       内容类型，所有请求网页的都是 text/html\nDate               当前的服务器日期\nETag               页面的信息摘要，用于判断是否需要重新到服务器端取回页面\nExpires            过期时间，用于判断下次请求是否需要到服务器端取回页面\nKeep-Alive         保持连接不断时需要的一些信息，如 timeout=5，max=100\nLast-Modified      页面上次修改的时间\nServer             服务器软件的类型\nSet-Cookie         设置 cookie 可以存在多个\nVia                服务器端的请求链路，对一些调试场景至关重要的一个头\n\n\n# HTTP Request Body\n\n> HTTP 请求的 body 主要用于提交表单场景。比较自由，服务端认可即可。\n\n常见的 body 格式：\n\n * application/json\n * application/x-www-form-urlencoded\n * multipart/form-data\n * text/xml\n\n使用 html 的 form 标签提交产生的 html 请求，默认会产生 application/x-www-form-urlencoded 数据格式，当由文件上传时，则使用 multipart/form-data。\n\n\n# HTTPS\n\n> 在 HTTP 协议的基础上，HTTPS 和 HTTP2 规定了更复杂的内容，但是它基本保持了 HTTP 的设计思想，即：使用上的 Request-Response 模式。\n\nHTTPS 作用：\n\n * 确定请求的目标服务端身份\n * 保证传输的数据不会被网络中间节点窃听或者篡改\n\nHTTPS 是使用加密通道来传输 HTTP 的内容。 HTTPS 首先与服务端建立一条 TLS 加密通道。TLS 构建于 TCP 协议之上，它实际上是对传输的内容做一次加密，所以从传输内容上看，HTTPS 跟 HTTP 没有任何区别。\n\n\n# HTTP2\n\n> HTTP 2 是 HTTP 1.1 的升级版本。\n\nHTTP 2.0 最大的改进有两点，一是支持服务端推送，二是支持 TCP 连接推送。\n\n服务端推送能够在客户端发送第一个请求到服务端时，提前把一部分内容推送给客户端，放入缓存中，可以避免客户端请求顺序带来的并行度不高，从而导致性能问题。\n\nTCP 连接复用，则使用同一个 TCP 连接来传输多个 HTTP 请求，避免了 TCP 连接建立时的三次握手开销，和初建 TCP 连接时传输窗口小的问题。",normalizedContent:"tcp/udp协议是传输层协议，主要解决数据如何在网络中传输，而http是应用层协议，主要解决如何包装数据。\n\n\n\n * tcp\n   * tcp三次握手 ★\n   * 为什么tcp客户端最后还要发送一次确认呢？\n * udp\n * tcp和udp区别\n * tcp与udp的适用场景\n * websocket\n * http\n   * http 协议格式\n   * http method\n   * http status code和status text\n   * http head (http 头)\n   * http request body\n * https\n * http2\n\n\n\n简单理解： “ip”代表网际协议，tcp和udp使用该协议从一个网络传送数据包到另一个网络。把ip想像成一种高速公路，它允许其它协议在上面行驶并找到到其它电脑的出口。tcp和udp是高速公路上的卡车，它们携带的货物就是像http，文件传输协议ftp这样的协议等。\n\n当然还有像socket这种抽象层：tcp/ip网络的api。socket（相当于码头/车站）是应用层与tcp/ip协议族通信的中间软件抽象层，它是一组接口。socket是在应用层和传输层之间的一个抽象层，它把tcp/ip层复杂的操作抽象为几个简单的接口供应用层调用已实现进程在网络中通信。\n\ntcp提供有保证的数据传输，udp不提供，而http就是基于tcp实现的应用层协议。\n\n\n# tcp\n\ntcp是一种面向连接的、可靠的传输层协议；\n\ntcp协议建立在不可靠的网络层 ip 协议之上，ip协议并不能提供任何可靠性机制，tcp的可靠性完全由自己实现；\n\ntcp采用的最基本的可靠性技术是：确认与超时重传机制、流量控制机制（别发的太快已保证对方能收到）；\n\n\n# tcp三次握手 ★\n\n* 第一次握手：客户端向服务器发送请求报文段，其中同步位syn=1，序号seq=x（表明传送数据时的第一个数据字节的序号是x），等待服务器确认；\n\n* 第二次握手：服务器收到客户端发来的请求，如果同意建立连接，就发回一个确认报文段，该报文段中同步位syn=1，确认号ack=x+1，序号seq=y；\n\n* 第三次握手：客户端收到服务器的确认报文段后，还需要向服务器给出确认，向其发送确认包ack(ack=y+1)，进而完成三次握手。\n\n\n# 为什么tcp客户端最后还要发送一次确认呢？\n\n一句话，主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。\n\n如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于tcp的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。\n\n如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。\n\n\n# udp\n\nudp是一种无连接的、不可靠的传输层协议； 提供了有限的差错检验功能；目的是希望以最小的开销来达到网络环境中的进程通信目的。\n\nudp（用户数据报协议）- 类似发短信：\n\n 1. 只管发送，不确认对方是否接收到\n 2. 将数据及源和目的封装成数据包中，不需要建立连接\n 3. 每个数据包的大小限制在64k之内\n 4. 因为无需连接，因此是不可靠协议\n 5. 不需要建立连接，速度快\n\n随着现代网速的提升，udp协议以其简单、传输快的优势，在越来越多场景下取代了tcp ， 如网页浏览、流媒体、实时游戏、物联网。\n\n\n# tcp和udp区别\n\ntcp：\n\n面向连接、传输可靠（保证数据正确性）、有序（保证数据顺序）、传输大量数据（流模式）、速度慢、对系统资源的要求多，程序结构较复杂， 每一条tcp连接只能是点到点的， tcp首部开销20字节。\n\nudp：\n\n面向非连接 、传输不可靠（可能丢包）、无序、传输少量数据（数据报模式）、速度快，对系统资源的要求少，程序结构较简单 ， udp支持一对一，一对多，多对一和多对多的交互通信， udp的首部开销小，只有8个字节。\n\n\n# tcp与udp的适用场景\n\n 1. tcp用于在传输层有必要实现可靠传输的情况。\n\n 2. udp主要用于那些对高速传输和实时性有较高要求的通信或广播通信。\n    \n    举一个通过 ip 电话进行通话的例子。如果使用 tcp，数据在传送途中如果丢失就会被重发，这样就会导致无法流畅地传输通话人的声音。而采用udp，它不会进行重发处理，从而也就不会有声音大幅度延迟到达的问题，即使有部分数据丢失，也只是会影响某一小部分的通话。\n\n\n# websocket\n\n可以把websocket想象成http(应用层)，http和socket什么关系，websocket和socket就是什么关系。\n\nhttp 协议有一个缺陷：通信只能由客户端发起，做不到服务器主动向客户端推送信息。\n\nwebsocket 协议在2008年诞生，2011年成为国际标准。所有浏览器都已经支持了。它的最大特点就是，服务器可以主动向客户端推送信息，客户端也可以主动向服务器发送信息，是真正的双向平等对话，属于服务器推送技术的一种。\n\n\n# http\n\nhttp 标准由 ietf 组织制定。\n\nhttp 协议是基于 tcp 协议出现的，对 tcp 协议来说，tcp 协议是一条双向的通讯通道，http 在 tcp 的基础上，规定了 request-response 模式。这个模式决定了通讯必定由浏览器端首先发起。\n\nhttp 是存粹的文本协议，它是规定了使用 tcp 协议来传输文本格式的一个应用层协议。\n\n\n# http 协议格式\n\n\n\n\n# http method\n\n * get：浏览器通过地址栏访问页面都是 get 方法。\n * post：表单提交产生 post 方法。\n * head：head 跟 get 类似，只返回请求头，多数由 javascript 发起。\n * put：添加资源，语义上的约束。\n * delete ：删除资源，语义上的约束。\n * connect：connect 多用于 https 和 websocket。\n * options：一般用于调试，多数线上服务都不支持。\n * trace：一般用于调试，多数线上服务都不支持。\n\n\n# http status code和status text\n\n * 1xx：临时回应，表示客户端请继续，被浏览器 http 库直接处理掉了，不会让上层应用知晓\n\n * 2xx：请求成功\n   \n   * 200：请求成功\n\n * 3xx：表示请求的目标由变化，希望客户端进一步处理\n   \n   * 301&302：当前资源已经被转移，永久性与临时性的转移。 301 更接近一种报错，提示客户端下次别来了。\n   * 304：客户端本地已经由缓存的版本，并且在 request 中告诉了服务端，当服务端通过时间或者 tag，发现没有更新的时候，就会返回一个不含 body 的 304 状态。\n\n * 4xx：客户端请求错误\n   \n   * 403：无权限\n   * 404：表示请求的页面不存在\n\n * 5xx：服务端请求错误\n   \n   * 500：服务端错误\n   * 503：服务端暂时性错误，可以一会再试\n\n\n# http head (http 头)\n\n> 可以看作键值对。\n\nrequest header\n\nrequest header      规定\naccept              浏览器端接受的格式\naccept-encoding     浏览器端接受的编码方式\naccpet-language     浏览器端接受的语言，用于服务器端判断多语言\ncache-control       控制缓存的时效性\nconnection          连接方式，如果是 keep-alive，且服务器端支持，则会复用连接\nhost                http访问使用的域名\nif-modified-since   上次访问时的更改时间，如果服务器认为此时间后自己没有更新，则会给出 304 响应\nif-none-match       上次访问时使用的 e-tag，通常是页面的信息摘要，这个比更改时间更准确一些\nuser-agent          客户端标识\ncookie              客户端存储的 cookie 字符串\n\nresponse header\n\nresponse header    规定\ncache-control      缓存控制，用于通知各级缓存保存的时间，例如 max-age=0 表示不要缓存\nconnection         连接类型，keep-alive表示复用连接\ncontent-encoding   内容编码方式，通常是gzip\ncontent-length     内容的长度，有利于浏览器判断内容是否已经结束\ncontent-type       内容类型，所有请求网页的都是 text/html\ndate               当前的服务器日期\netag               页面的信息摘要，用于判断是否需要重新到服务器端取回页面\nexpires            过期时间，用于判断下次请求是否需要到服务器端取回页面\nkeep-alive         保持连接不断时需要的一些信息，如 timeout=5，max=100\nlast-modified      页面上次修改的时间\nserver             服务器软件的类型\nset-cookie         设置 cookie 可以存在多个\nvia                服务器端的请求链路，对一些调试场景至关重要的一个头\n\n\n# http request body\n\n> http 请求的 body 主要用于提交表单场景。比较自由，服务端认可即可。\n\n常见的 body 格式：\n\n * application/json\n * application/x-www-form-urlencoded\n * multipart/form-data\n * text/xml\n\n使用 html 的 form 标签提交产生的 html 请求，默认会产生 application/x-www-form-urlencoded 数据格式，当由文件上传时，则使用 multipart/form-data。\n\n\n# https\n\n> 在 http 协议的基础上，https 和 http2 规定了更复杂的内容，但是它基本保持了 http 的设计思想，即：使用上的 request-response 模式。\n\nhttps 作用：\n\n * 确定请求的目标服务端身份\n * 保证传输的数据不会被网络中间节点窃听或者篡改\n\nhttps 是使用加密通道来传输 http 的内容。 https 首先与服务端建立一条 tls 加密通道。tls 构建于 tcp 协议之上，它实际上是对传输的内容做一次加密，所以从传输内容上看，https 跟 http 没有任何区别。\n\n\n# http2\n\n> http 2 是 http 1.1 的升级版本。\n\nhttp 2.0 最大的改进有两点，一是支持服务端推送，二是支持 tcp 连接推送。\n\n服务端推送能够在客户端发送第一个请求到服务端时，提前把一部分内容推送给客户端，放入缓存中，可以避免客户端请求顺序带来的并行度不高，从而导致性能问题。\n\ntcp 连接复用，则使用同一个 tcp 连接来传输多个 http 请求，避免了 tcp 连接建立时的三次握手开销，和初建 tcp 连接时传输窗口小的问题。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"HTML常用标签",frontmatter:{title:"HTML常用标签",date:"2022-07-23T15:31:26.000Z",tags:["HTML"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/html.html",relativePath:"views/frontend/html.md",key:"v-c768ee7e",path:"/views/frontend/html.html",headers:[{level:2,title:"简介",slug:"简介",normalizedTitle:"简介",charIndex:3},{level:2,title:"如何使用",slug:"如何使用",normalizedTitle:"如何使用",charIndex:9},{level:2,title:"表单大全",slug:"表单大全",normalizedTitle:"表单大全",charIndex:17}],headersStr:"简介 如何使用 表单大全",content:' * 简介\n * 如何使用\n * 表单大全\n\n\n\n\n# 简介\n\ndiv p hr table form 等等\n\n\n# 如何使用\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>HTML 示例</title>\n    <style>\n        /* 内联样式示例 */\n        .highlight {\n            color: red;\n        }\n    </style>\n</head>\n<body>\n\n    \x3c!-- 基本结构 --\x3e\n    <div>\n        <header>\n            <h1>主标题</h1>\n        </header>\n        <nav>\n            <ul>\n                <li><a href="#">导航链接 1</a></li>\n                <li><a href="#">导航链接 2</a></li>\n            </ul>\n        </nav>\n        <section>\n            <article>\n                <h2>文章标题</h2>\n                <p>这是一篇文章的内容。</p>\n            </article>\n        </section>\n        <footer>\n            <p>&copy; 2024 版权所有</p>\n        </footer>\n    </div>\n\n    \x3c!-- 表单 --\x3e\n    <form action="/submit" method="post">\n        <label for="username">用户名：</label>\n        <input type="text" id="username" name="username">\n        <br>\n        <label for="password">密码：</label>\n        <input type="password" id="password" name="password">\n        <br>\n        <input type="submit" value="提交">\n    </form>\n\n    \x3c!-- 表格 --\x3e\n    <table border="1">\n        <tr>\n            <th>姓名</th>\n            <th>年龄</th>\n        </tr>\n        <tr>\n            <td>张三</td>\n            <td>25</td>\n        </tr>\n        <tr>\n            <td>李四</td>\n            <td>30</td>\n        </tr>\n    </table>\n\n    \x3c!-- 图像 --\x3e\n    <img src="image.jpg" alt="描述图像的文字">\n\n    \x3c!-- 超链接 --\x3e\n    <a href="https://www.example.com">点击这里访问示例网站</a>\n\n    \x3c!-- 列表 --\x3e\n    <ul>\n        <li>项目 1</li>\n        <li>项目 2</li>\n    </ul>\n\n    <ol>\n        <li>第一项</li>\n        <li>第二项</li>\n    </ol>\n\n    \x3c!-- 标题 --\x3e\n    <h1>主标题</h1>\n    <h2>副标题</h2>\n    <h3>子标题</h3>\n    \x3c!-- ... --\x3e\n    <h6>最小级标题</h6>\n\n    \x3c!-- 其他标签 --\x3e\n    <div>\n        <span class="highlight">这是一个内联样式的示例。</span>\n    </div>\n\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n\n# 表单大全\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>HTML 表单示例</title>\n    <style>\n        .highlight {\n            color: red;\n        }\n    </style>\n</head>\n<body>\n\n    <form action="/submit" method="post">\n\n        \x3c!-- 文本输入框 --\x3e\n        <label for="username">用户名：</label>\n        <input type="text" id="username" name="username">\n        <br>\n\n        \x3c!-- 密码输入框 --\x3e\n        <label for="password">密码：</label>\n        <input type="password" id="password" name="password">\n        <br>\n\n        \x3c!-- 单选框 --\x3e\n        <p>性别：</p>\n        <label for="male">男性</label>\n        <input type="radio" id="male" name="gender" value="male">\n        <label for="female">女性</label>\n        <input type="radio" id="female" name="gender" value="female">\n        <br>\n\n        \x3c!-- 多选框 --\x3e\n        <p>兴趣爱好：</p>\n        <label for="hobby1">阅读</label>\n        <input type="checkbox" id="hobby1" name="hobbies[]" value="reading">\n        <label for="hobby2">游泳</label>\n        <input type="checkbox" id="hobby2" name="hobbies[]" value="swimming">\n        <label for="hobby3">音乐</label>\n        <input type="checkbox" id="hobby3" name="hobbies[]" value="music">\n        <br>\n\n        \x3c!-- 下拉菜单 --\x3e\n        <label for="country">选择国家：</label>\n        <select id="country" name="country">\n            <option value="china">中国</option>\n            <option value="usa">美国</option>\n            <option value="india">印度</option>\n        </select>\n        <br>\n\n        \x3c!-- 文本域 --\x3e\n        <label for="message">留言：</label>\n        <textarea id="message" name="message" rows="4" cols="50"></textarea>\n        <br>\n\n        \x3c!-- 提交按钮 --\x3e\n        <input type="submit" value="提交">\n\n    </form>\n\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n',normalizedContent:' * 简介\n * 如何使用\n * 表单大全\n\n\n\n\n# 简介\n\ndiv p hr table form 等等\n\n\n# 如何使用\n\n<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>html 示例</title>\n    <style>\n        /* 内联样式示例 */\n        .highlight {\n            color: red;\n        }\n    </style>\n</head>\n<body>\n\n    \x3c!-- 基本结构 --\x3e\n    <div>\n        <header>\n            <h1>主标题</h1>\n        </header>\n        <nav>\n            <ul>\n                <li><a href="#">导航链接 1</a></li>\n                <li><a href="#">导航链接 2</a></li>\n            </ul>\n        </nav>\n        <section>\n            <article>\n                <h2>文章标题</h2>\n                <p>这是一篇文章的内容。</p>\n            </article>\n        </section>\n        <footer>\n            <p>&copy; 2024 版权所有</p>\n        </footer>\n    </div>\n\n    \x3c!-- 表单 --\x3e\n    <form action="/submit" method="post">\n        <label for="username">用户名：</label>\n        <input type="text" id="username" name="username">\n        <br>\n        <label for="password">密码：</label>\n        <input type="password" id="password" name="password">\n        <br>\n        <input type="submit" value="提交">\n    </form>\n\n    \x3c!-- 表格 --\x3e\n    <table border="1">\n        <tr>\n            <th>姓名</th>\n            <th>年龄</th>\n        </tr>\n        <tr>\n            <td>张三</td>\n            <td>25</td>\n        </tr>\n        <tr>\n            <td>李四</td>\n            <td>30</td>\n        </tr>\n    </table>\n\n    \x3c!-- 图像 --\x3e\n    <img src="image.jpg" alt="描述图像的文字">\n\n    \x3c!-- 超链接 --\x3e\n    <a href="https://www.example.com">点击这里访问示例网站</a>\n\n    \x3c!-- 列表 --\x3e\n    <ul>\n        <li>项目 1</li>\n        <li>项目 2</li>\n    </ul>\n\n    <ol>\n        <li>第一项</li>\n        <li>第二项</li>\n    </ol>\n\n    \x3c!-- 标题 --\x3e\n    <h1>主标题</h1>\n    <h2>副标题</h2>\n    <h3>子标题</h3>\n    \x3c!-- ... --\x3e\n    <h6>最小级标题</h6>\n\n    \x3c!-- 其他标签 --\x3e\n    <div>\n        <span class="highlight">这是一个内联样式的示例。</span>\n    </div>\n\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n\n\n\n# 表单大全\n\n<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>html 表单示例</title>\n    <style>\n        .highlight {\n            color: red;\n        }\n    </style>\n</head>\n<body>\n\n    <form action="/submit" method="post">\n\n        \x3c!-- 文本输入框 --\x3e\n        <label for="username">用户名：</label>\n        <input type="text" id="username" name="username">\n        <br>\n\n        \x3c!-- 密码输入框 --\x3e\n        <label for="password">密码：</label>\n        <input type="password" id="password" name="password">\n        <br>\n\n        \x3c!-- 单选框 --\x3e\n        <p>性别：</p>\n        <label for="male">男性</label>\n        <input type="radio" id="male" name="gender" value="male">\n        <label for="female">女性</label>\n        <input type="radio" id="female" name="gender" value="female">\n        <br>\n\n        \x3c!-- 多选框 --\x3e\n        <p>兴趣爱好：</p>\n        <label for="hobby1">阅读</label>\n        <input type="checkbox" id="hobby1" name="hobbies[]" value="reading">\n        <label for="hobby2">游泳</label>\n        <input type="checkbox" id="hobby2" name="hobbies[]" value="swimming">\n        <label for="hobby3">音乐</label>\n        <input type="checkbox" id="hobby3" name="hobbies[]" value="music">\n        <br>\n\n        \x3c!-- 下拉菜单 --\x3e\n        <label for="country">选择国家：</label>\n        <select id="country" name="country">\n            <option value="china">中国</option>\n            <option value="usa">美国</option>\n            <option value="india">印度</option>\n        </select>\n        <br>\n\n        \x3c!-- 文本域 --\x3e\n        <label for="message">留言：</label>\n        <textarea id="message" name="message" rows="4" cols="50"></textarea>\n        <br>\n\n        \x3c!-- 提交按钮 --\x3e\n        <input type="submit" value="提交">\n\n    </form>\n\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"JavaScript中JSON对象和串的互转",frontmatter:{title:"JavaScript中JSON对象和串的互转",date:"2022-03-23T00:00:00.000Z",tags:["JavaScript","json"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/js-json.html",relativePath:"views/frontend/js-json.md",key:"v-7bf0622d",path:"/views/frontend/js-json.html",headers:[{level:2,title:"JavaScript中的JSON",slug:"javascript中的json",normalizedTitle:"javascript中的json",charIndex:3},{level:2,title:"JSON互转的第二种用法",slug:"json互转的第二种用法",normalizedTitle:"json互转的第二种用法",charIndex:23},{level:2,title:"写给自己的js规范",slug:"写给自己的js规范",normalizedTitle:"写给自己的js规范",charIndex:39},{level:4,title:"在js中书写代码给自己定的规范：（或者objet转string之前）",slug:"在js中书写代码给自己定的规范-或者objet转string之前",normalizedTitle:"在js中书写代码给自己定的规范：（或者objet转string之前）",charIndex:1444},{level:4,title:"在js中书写代码给自己定的规范：（或者string转object之前）",slug:"在js中书写代码给自己定的规范-或者string转object之前",normalizedTitle:"在js中书写代码给自己定的规范：（或者string转object之前）",charIndex:1618},{level:2,title:"其它",slug:"其它",normalizedTitle:"其它",charIndex:52}],headersStr:"JavaScript中的JSON JSON互转的第二种用法 写给自己的js规范 在js中书写代码给自己定的规范：（或者objet转string之前） 在js中书写代码给自己定的规范：（或者string转object之前） 其它",content:' * JavaScript中的JSON\n * JSON互转的第二种用法\n * 写给自己的js规范\n * 其它\n\n\n\n\n# JavaScript中的JSON\n\n> 在实际工作中，我么最常用的就是简单的 JSON.parse(str) 和 JSON.stringify (obj) 做JSON对象和字符串之间的相互转换\n\n * JSON.parse(string) ：接受一个 JSON 字符串并将其转换成一个 JavaScript 对象\n * JSON.stringify(obj) ：接受一个 JavaScript 对象并将其转换为一个 JSON 字符串\n\n> 上面那种JSON.parse(string)用法只能转普通对象，当对象中有function事件的时候会自动过滤掉。如下：\n\nvar json={\n  name:\'json\',\n  getName:function(){\n     return this.name;   \n  }\n}\n\nconsole.log(JSON.stringify(json));\n//"{"name":"json"}"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * 这就坑了，因为需要，必须要得把function也转了才行，怎么办呢？其实大家都没注意到 JSON.stringify还有些参数\n\n\n# JSON互转的第二种用法\n\n * 从Object转为String\n\n  var json={\n    name:\'json\',\n    getName:function(){\n       return this.name;   \n    }\n  }\n  \n  var s=JSON.stringify(json, function(key, val) {\n    if (typeof val === \'function\') {\n      return val + \'\';\n    }\n    return val;\n  });\n  \n  console.log(s);\n  //"{"name":"json","getName":"function (){\\n     return this.name;   \\n  }"}"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n注意转换完成之后记得把 \\n 全部删掉，不然从string再转为object的时候会报错，没错，就是这么坑。\n\n不信的话可以去这么网址试一下：传送们\n\n * 从String转为Object\n\nvar s=`{"name":"json","getName":"function (){     return this.name;     }"}`;\n\nvar o = JSON.parse(s,function(k,v){\n  if(v.indexOf&&v.indexOf(\'function\')>-1){\n     return eval("(function(){return "+v+" })()")\n  }\n  return v;\n});\n\nconsole.log(o);//就是原对象啦\n//{ name: "json", getName: function (){     return this.name;     } }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 写给自己的js规范\n\n# 在js中书写代码给自己定的规范：（或者objet转string之前）\n\n 1. 在js中能用的话 一定要用单引号\n 2. 在使用 if(){}else{} 的时候，一定不要省略大括号\n 3. js中一段代码结束后一定要加 ;（虽然在js中不加不会报错，把对象转为串的时候也不会报错，但是json从串转为对象的时候就会报错了，亲身经历啊！！）\n\n# 在js中书写代码给自己定的规范：（或者string转object之前）\n\n 1. 把所有的 \\r\\n 删掉\n 2. 把所有的 \\t 删掉\n 3. 把所有的 function 中的注释都删掉\n 4. 注意有没有代码不规范的地方（如上规范）\n\n\n# 其它\n\n * JSON转换简单使用\n * JSON转换的第二个参数\n * 在线写js尝试JSON转换',normalizedContent:' * javascript中的json\n * json互转的第二种用法\n * 写给自己的js规范\n * 其它\n\n\n\n\n# javascript中的json\n\n> 在实际工作中，我么最常用的就是简单的 json.parse(str) 和 json.stringify (obj) 做json对象和字符串之间的相互转换\n\n * json.parse(string) ：接受一个 json 字符串并将其转换成一个 javascript 对象\n * json.stringify(obj) ：接受一个 javascript 对象并将其转换为一个 json 字符串\n\n> 上面那种json.parse(string)用法只能转普通对象，当对象中有function事件的时候会自动过滤掉。如下：\n\nvar json={\n  name:\'json\',\n  getname:function(){\n     return this.name;   \n  }\n}\n\nconsole.log(json.stringify(json));\n//"{"name":"json"}"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * 这就坑了，因为需要，必须要得把function也转了才行，怎么办呢？其实大家都没注意到 json.stringify还有些参数\n\n\n# json互转的第二种用法\n\n * 从object转为string\n\n  var json={\n    name:\'json\',\n    getname:function(){\n       return this.name;   \n    }\n  }\n  \n  var s=json.stringify(json, function(key, val) {\n    if (typeof val === \'function\') {\n      return val + \'\';\n    }\n    return val;\n  });\n  \n  console.log(s);\n  //"{"name":"json","getname":"function (){\\n     return this.name;   \\n  }"}"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n注意转换完成之后记得把 \\n 全部删掉，不然从string再转为object的时候会报错，没错，就是这么坑。\n\n不信的话可以去这么网址试一下：传送们\n\n * 从string转为object\n\nvar s=`{"name":"json","getname":"function (){     return this.name;     }"}`;\n\nvar o = json.parse(s,function(k,v){\n  if(v.indexof&&v.indexof(\'function\')>-1){\n     return eval("(function(){return "+v+" })()")\n  }\n  return v;\n});\n\nconsole.log(o);//就是原对象啦\n//{ name: "json", getname: function (){     return this.name;     } }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 写给自己的js规范\n\n# 在js中书写代码给自己定的规范：（或者objet转string之前）\n\n 1. 在js中能用的话 一定要用单引号\n 2. 在使用 if(){}else{} 的时候，一定不要省略大括号\n 3. js中一段代码结束后一定要加 ;（虽然在js中不加不会报错，把对象转为串的时候也不会报错，但是json从串转为对象的时候就会报错了，亲身经历啊！！）\n\n# 在js中书写代码给自己定的规范：（或者string转object之前）\n\n 1. 把所有的 \\r\\n 删掉\n 2. 把所有的 \\t 删掉\n 3. 把所有的 function 中的注释都删掉\n 4. 注意有没有代码不规范的地方（如上规范）\n\n\n# 其它\n\n * json转换简单使用\n * json转换的第二个参数\n * 在线写js尝试json转换',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"day1",frontmatter:{title:"day1",catalog:!0,date:"2023-03-12T13:59:44.000Z",tags:["Day"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/day1.html",relativePath:"views/frontend/day1.md",key:"v-ff724ffe",path:"/views/frontend/day1.html",headers:[{level:2,title:"html入门代码",slug:"html入门代码",normalizedTitle:"html入门代码",charIndex:3},{level:2,title:"特殊字符",slug:"特殊字符",normalizedTitle:"特殊字符",charIndex:15},{level:2,title:"相关标签",slug:"相关标签",normalizedTitle:"相关标签",charIndex:23},{level:2,title:"列表",slug:"列表",normalizedTitle:"列表",charIndex:31}],headersStr:"html入门代码 特殊字符 相关标签 列表",content:' * html入门代码\n * 特殊字符\n * 相关标签\n * 列表\n\n\n\n\n# html入门代码\n\nhtml基础\n\n<!DOCTYPE html> \x3c!-- 声明文档类型 --\x3e\n<html lang="en"> \x3c!-- 指定文档的语言 --\x3e\n<head>\n    <meta charset="UTF-8"> \x3c!-- 设置字符编码为UTF-8，确保页面可以正确显示各种字符 --\x3e\n    <meta http-equiv="X-UA-Compatible" content="IE=edge"> \x3c!-- 指定IE浏览器使用最新的渲染模式 --\x3e\n    <meta name="viewport" content="width=device-width, initial-scale=1.0"> \x3c!-- 设置页面在移动设备上的视口 --\x3e\n    <title>Document</title> \x3c!-- 设置页面标题 --\x3e\n</head>\n<body>\n    <font size="6" color="red">hello,liuyuhao</font> \x3c!-- 使用font标签设置文字大小为6，颜色为红色，显示文本 "hello,liuyuhao" --\x3e\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 特殊字符\n\n空格怎么写？\n\n<body>\n    你若安好便是晴天&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;你若幸福便是终点    100&yen;\n\n    <br>\n\n    Copyright &copy; 2004 - 2023&nbsp;&nbsp;京东JD.com 版权所有\n\n    <br>\n\n    Copyright&nbsp;©&nbsp;2004&nbsp;-&nbsp;2023&nbsp;&nbsp;京东JD.com&nbsp;版权所有\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 相关标签\n\n    <p>单行<p>\n    换行<br> \n    <b>粗体</b>\n    <i>斜体</i>\n    <u>下划线</u>\n    <mark>标记</mark>\n    <h1>一级标题</h1>\n    <h2>二级标题</h2>\n    <h3>三级标题</h3>\n    <h4>四级标题</h4>\n    <h5>五级标题</h5>\n    <h6>六级标题</h6>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 列表\n\n\x3c!-- list --\x3e\n     <ul type="square">\n        <li>刘宇豪</li>\n        <li>刘宇豪</li>\n        <li>刘宇豪</li>\n     </ul>\n     \x3c!-- \n        有序列表 ol(order list)\n            属性\n                type\n                    a 表示小写英文字母编号\n                    A 表示大写英文字母编号\n                    i 表示小写罗马数字编号\n                    I 表示大写罗马数字编号\n                    1 表示数字编号（默认）\n\n        列表项  li(list item)\n      --\x3e\n      <ol type="A">\n        <li>李易峰</li>\n        <li>李云迪</li>\n        <li>吴亦凡</li>\n     </ol>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n',normalizedContent:' * html入门代码\n * 特殊字符\n * 相关标签\n * 列表\n\n\n\n\n# html入门代码\n\nhtml基础\n\n<!doctype html> \x3c!-- 声明文档类型 --\x3e\n<html lang="en"> \x3c!-- 指定文档的语言 --\x3e\n<head>\n    <meta charset="utf-8"> \x3c!-- 设置字符编码为utf-8，确保页面可以正确显示各种字符 --\x3e\n    <meta http-equiv="x-ua-compatible" content="ie=edge"> \x3c!-- 指定ie浏览器使用最新的渲染模式 --\x3e\n    <meta name="viewport" content="width=device-width, initial-scale=1.0"> \x3c!-- 设置页面在移动设备上的视口 --\x3e\n    <title>document</title> \x3c!-- 设置页面标题 --\x3e\n</head>\n<body>\n    <font size="6" color="red">hello,liuyuhao</font> \x3c!-- 使用font标签设置文字大小为6，颜色为红色，显示文本 "hello,liuyuhao" --\x3e\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 特殊字符\n\n空格怎么写？\n\n<body>\n    你若安好便是晴天&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;你若幸福便是终点    100&yen;\n\n    <br>\n\n    copyright &copy; 2004 - 2023&nbsp;&nbsp;京东jd.com 版权所有\n\n    <br>\n\n    copyright&nbsp;©&nbsp;2004&nbsp;-&nbsp;2023&nbsp;&nbsp;京东jd.com&nbsp;版权所有\n\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 相关标签\n\n    <p>单行<p>\n    换行<br> \n    <b>粗体</b>\n    <i>斜体</i>\n    <u>下划线</u>\n    <mark>标记</mark>\n    <h1>一级标题</h1>\n    <h2>二级标题</h2>\n    <h3>三级标题</h3>\n    <h4>四级标题</h4>\n    <h5>五级标题</h5>\n    <h6>六级标题</h6>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 列表\n\n\x3c!-- list --\x3e\n     <ul type="square">\n        <li>刘宇豪</li>\n        <li>刘宇豪</li>\n        <li>刘宇豪</li>\n     </ul>\n     \x3c!-- \n        有序列表 ol(order list)\n            属性\n                type\n                    a 表示小写英文字母编号\n                    a 表示大写英文字母编号\n                    i 表示小写罗马数字编号\n                    i 表示大写罗马数字编号\n                    1 表示数字编号（默认）\n\n        列表项  li(list item)\n      --\x3e\n      <ol type="a">\n        <li>李易峰</li>\n        <li>李云迪</li>\n        <li>吴亦凡</li>\n     </ol>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"JS常用标签",frontmatter:{title:"JS常用标签",date:"2022-07-23T15:31:26.000Z",tags:["js"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/js.html",relativePath:"views/frontend/js.md",key:"v-009c8d7e",path:"/views/frontend/js.html",headers:[{level:2,title:"引入与导出",slug:"引入与导出",normalizedTitle:"引入与导出",charIndex:3},{level:2,title:"函数",slug:"函数",normalizedTitle:"函数",charIndex:12},{level:2,title:"闭包",slug:"闭包",normalizedTitle:"闭包",charIndex:18},{level:2,title:"Promise",slug:"promise",normalizedTitle:"promise",charIndex:24}],headersStr:"引入与导出 函数 闭包 Promise",content:" * 引入与导出\n * 函数\n * 闭包\n * Promise\n\n\n\n\n# 引入与导出\n\n // 导出单个默认值（CommonJS和ES6模块）\nmodule.exports = myFunction;\n\n// ES6模块\nexport default myFunction;\n\n// 导出多个变量或函数（CommonJS和ES6模块）:\nmodule.exports = { func1, func2 };\n\n// ES6模块\nexport { func1, func2 };\n\n// 导出所有成员（ES6模块）:\nexport * from './otherModule';\n\n//导出默认值和其他成员（ES6模块）:\nexport default myFunction;\nexport { otherFunction, someVariable };\n\n// 导出类（ES6模块）:\nexport class MyClass { /*...*/ }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 函数\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Click Event Example</title>\n</head>\n<body>\n\n<button id=\"myButton\">Click me!</button>\n\n<script>\n  document.getElementById('myButton').addEventListener('click', () => {\n    alert('Button clicked!');\n  };)\n<\/script>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 闭包\n\n闭包（Closure）是指在 JavaScript 中内部函数可以访问其外部函数作用域的特性。在 JavaScript 中，函数是可以被当作对象传递、返回或赋值的，而闭包允许函数访问它被创建时所处的词法作用域，即使在它被传递到其他地方执行时也可以保持对这个作用域的引用。\n\n闭包通常形成于一个函数内部创建另一个函数，并且内部函数引用了外部函数的变量。这个外部函数的作用域在内部函数执行时依然是可用的，即使外部函数已经执行完毕。\n\n示例：\n\nfunction outerFunction() {\n  const outerVariable = 'I am from the outer function';\n\n  function innerFunction() {\n    console.log(outerVariable); // 内部函数访问外部函数的变量\n  }\n\n  // 返回内部函数\n  return innerFunction;\n}\n\n// 调用外部函数\nconst myClosure = outerFunction();\n\n// 调用返回的内部函数\nmyClosure(); // 输出: \"I am from the outer function\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n在这个例子中，outerFunction 是外部函数，它包含了一个局部变量 outerVariable 和一个内部函数 innerFunction。outerFunction 返回了 innerFunction，并被赋值给变量 myClosure。即使 outerFunction 已经执行完毕并返回了，但 myClosure 依然保持了对 outerFunction 作用域的引用。当我们调用 myClosure() 时，它依然可以访问和输出 outerVariable 的值。\n\n这种特性使得闭包在JavaScript中被广泛应用，例如在事件处理程序、setTimeout/setInterval、模块模式等场景中。闭包可以帮助保护数据、创建私有变量、延长变量的生命周期，并提供一种在函数外部访问函数内部作用域的方式。\n\n\n# Promise\n\nPromise 是 JavaScript 中用于处理异步操作的对象，它代表了一个异步操作的最终完成或失败。Promise 可以让我们更优雅地处理异步代码，并且避免了回调地狱（callback hell）。\n\nPromise 有三种状态：\n\n进行中（Pending）: 初始状态，既不是成功（fulfilled）也不是失败（rejected）状态。 已完成（Fulfilled）: 操作成功完成。 已拒绝（Rejected）: 操作失败。 Promise 对象有两个重要的函数：.then() 和 .catch()。.then() 用于处理异步操作成功的情况，.catch() 用于处理异步操作失败的情况。\n\n下面是一个简单的 Promise 示例：\n\n// 创建一个 Promise 包装的异步操作\nconst myPromise = new Promise((resolve, reject) => {\n  // 异步操作（例如，模拟一个异步请求）\n  setTimeout(() => {\n    const success = true; // 假设操作成功\n\n    if (success) {\n      // 成功时调用 resolve 并传递结果\n      resolve('Operation succeeded!');\n    } else {\n      // 失败时调用 reject 并传递错误信息\n      reject('Operation failed!');\n    }\n  }, 2000); // 模拟异步操作延迟2秒\n});\n\n// 使用 Promise\nmyPromise\n  .then((result) => {\n    // 处理操作成功的情况\n    console.log('Success:', result);\n  })\n  .catch((error) => {\n    // 处理操作失败的情况\n    console.error('Error:', error);\n  });\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n在这个示例中，myPromise 是一个 Promise 对象，包装了一个模拟的异步操作（使用 setTimeout 模拟延迟）。\n\nresolve 被调用时，Promise 进入成功状态（Fulfilled）并将结果传递给 .then()。 reject 被调用时，Promise 进入失败状态（Rejected）并将错误信息传递给 .catch()。 使用 .then() 处理成功状态，使用 .catch() 处理失败状态。这样可以更清晰、更有序地处理异步操作的结果。\n\nPromise 还支持链式调用，可以串联多个异步操作。这种链式调用可以通过在 .then() 中返回新的 Promise 对象来实现。这种方式可以避免回调地狱，使代码更易读。\n\n// 示例：Promise 链式调用\nconst firstAsyncOperation = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('First operation completed');\n    }, 1000);\n  });\n};\n\nconst secondAsyncOperation = (message) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(`${message}, Second operation completed`);\n    }, 1500);\n  });\n};\n\nfirstAsyncOperation()\n  .then((result) => {\n    console.log(result);\n    return secondAsyncOperation(result);\n  })\n  .then((result) => {\n    console.log(result);\n  })\n  .catch((error) => {\n    console.error('Error:', error);\n  });\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n这段代码演示了如何串联两个异步操作并处理它们的结果。在第一个异步操作完成后，通过 .then() 返回新的 Promise 对象，然后继续处理第二个异步操作的结果。",normalizedContent:" * 引入与导出\n * 函数\n * 闭包\n * promise\n\n\n\n\n# 引入与导出\n\n // 导出单个默认值（commonjs和es6模块）\nmodule.exports = myfunction;\n\n// es6模块\nexport default myfunction;\n\n// 导出多个变量或函数（commonjs和es6模块）:\nmodule.exports = { func1, func2 };\n\n// es6模块\nexport { func1, func2 };\n\n// 导出所有成员（es6模块）:\nexport * from './othermodule';\n\n//导出默认值和其他成员（es6模块）:\nexport default myfunction;\nexport { otherfunction, somevariable };\n\n// 导出类（es6模块）:\nexport class myclass { /*...*/ }\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 函数\n\n<!doctype html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>click event example</title>\n</head>\n<body>\n\n<button id=\"mybutton\">click me!</button>\n\n<script>\n  document.getelementbyid('mybutton').addeventlistener('click', () => {\n    alert('button clicked!');\n  };)\n<\/script>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 闭包\n\n闭包（closure）是指在 javascript 中内部函数可以访问其外部函数作用域的特性。在 javascript 中，函数是可以被当作对象传递、返回或赋值的，而闭包允许函数访问它被创建时所处的词法作用域，即使在它被传递到其他地方执行时也可以保持对这个作用域的引用。\n\n闭包通常形成于一个函数内部创建另一个函数，并且内部函数引用了外部函数的变量。这个外部函数的作用域在内部函数执行时依然是可用的，即使外部函数已经执行完毕。\n\n示例：\n\nfunction outerfunction() {\n  const outervariable = 'i am from the outer function';\n\n  function innerfunction() {\n    console.log(outervariable); // 内部函数访问外部函数的变量\n  }\n\n  // 返回内部函数\n  return innerfunction;\n}\n\n// 调用外部函数\nconst myclosure = outerfunction();\n\n// 调用返回的内部函数\nmyclosure(); // 输出: \"i am from the outer function\"\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n在这个例子中，outerfunction 是外部函数，它包含了一个局部变量 outervariable 和一个内部函数 innerfunction。outerfunction 返回了 innerfunction，并被赋值给变量 myclosure。即使 outerfunction 已经执行完毕并返回了，但 myclosure 依然保持了对 outerfunction 作用域的引用。当我们调用 myclosure() 时，它依然可以访问和输出 outervariable 的值。\n\n这种特性使得闭包在javascript中被广泛应用，例如在事件处理程序、settimeout/setinterval、模块模式等场景中。闭包可以帮助保护数据、创建私有变量、延长变量的生命周期，并提供一种在函数外部访问函数内部作用域的方式。\n\n\n# promise\n\npromise 是 javascript 中用于处理异步操作的对象，它代表了一个异步操作的最终完成或失败。promise 可以让我们更优雅地处理异步代码，并且避免了回调地狱（callback hell）。\n\npromise 有三种状态：\n\n进行中（pending）: 初始状态，既不是成功（fulfilled）也不是失败（rejected）状态。 已完成（fulfilled）: 操作成功完成。 已拒绝（rejected）: 操作失败。 promise 对象有两个重要的函数：.then() 和 .catch()。.then() 用于处理异步操作成功的情况，.catch() 用于处理异步操作失败的情况。\n\n下面是一个简单的 promise 示例：\n\n// 创建一个 promise 包装的异步操作\nconst mypromise = new promise((resolve, reject) => {\n  // 异步操作（例如，模拟一个异步请求）\n  settimeout(() => {\n    const success = true; // 假设操作成功\n\n    if (success) {\n      // 成功时调用 resolve 并传递结果\n      resolve('operation succeeded!');\n    } else {\n      // 失败时调用 reject 并传递错误信息\n      reject('operation failed!');\n    }\n  }, 2000); // 模拟异步操作延迟2秒\n});\n\n// 使用 promise\nmypromise\n  .then((result) => {\n    // 处理操作成功的情况\n    console.log('success:', result);\n  })\n  .catch((error) => {\n    // 处理操作失败的情况\n    console.error('error:', error);\n  });\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n在这个示例中，mypromise 是一个 promise 对象，包装了一个模拟的异步操作（使用 settimeout 模拟延迟）。\n\nresolve 被调用时，promise 进入成功状态（fulfilled）并将结果传递给 .then()。 reject 被调用时，promise 进入失败状态（rejected）并将错误信息传递给 .catch()。 使用 .then() 处理成功状态，使用 .catch() 处理失败状态。这样可以更清晰、更有序地处理异步操作的结果。\n\npromise 还支持链式调用，可以串联多个异步操作。这种链式调用可以通过在 .then() 中返回新的 promise 对象来实现。这种方式可以避免回调地狱，使代码更易读。\n\n// 示例：promise 链式调用\nconst firstasyncoperation = () => {\n  return new promise((resolve, reject) => {\n    settimeout(() => {\n      resolve('first operation completed');\n    }, 1000);\n  });\n};\n\nconst secondasyncoperation = (message) => {\n  return new promise((resolve, reject) => {\n    settimeout(() => {\n      resolve(`${message}, second operation completed`);\n    }, 1500);\n  });\n};\n\nfirstasyncoperation()\n  .then((result) => {\n    console.log(result);\n    return secondasyncoperation(result);\n  })\n  .then((result) => {\n    console.log(result);\n  })\n  .catch((error) => {\n    console.error('error:', error);\n  });\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n这段代码演示了如何串联两个异步操作并处理它们的结果。在第一个异步操作完成后，通过 .then() 返回新的 promise 对象，然后继续处理第二个异步操作的结果。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"vuepress-theme-reco主题开发",frontmatter:{title:"vuepress-theme-reco主题开发",date:"2022-11-14T16:41:12.000Z",sidebar:!0,sidebarDepth:5,tags:["vuepress"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/reco-info.html",relativePath:"views/frontend/reco-info.md",key:"v-67280466",path:"/views/frontend/reco-info.html",headers:[{level:2,title:"序言",slug:"序言",normalizedTitle:"序言",charIndex:3},{level:2,title:"本地环境搭建",slug:"本地环境搭建",normalizedTitle:"本地环境搭建",charIndex:9},{level:3,title:"1. 去 theme-example ，找个合心意的博客 clone",slug:"_1-去-theme-example-找个合心意的博客-clone",normalizedTitle:"1. 去 theme-example ，找个合心意的博客 clone",charIndex:21},{level:3,title:"2. 把项目下载之后，修改 package.json",slug:"_2-把项目下载之后-修改-package-json",normalizedTitle:"2. 把项目下载之后，修改 package.json",charIndex:61},{level:3,title:"3. 更换主题为本地",slug:"_3-更换主题为本地",normalizedTitle:"3. 更换主题为本地",charIndex:93},{level:2,title:"可能遇到的问题",slug:"可能遇到的问题",normalizedTitle:"可能遇到的问题",charIndex:107},{level:3,title:"1. 插件解析失败问题",slug:"_1-插件解析失败问题",normalizedTitle:"1. 插件解析失败问题",charIndex:120}],headersStr:"序言 本地环境搭建 1. 去 theme-example ，找个合心意的博客 clone 2. 把项目下载之后，修改 package.json 3. 更换主题为本地 可能遇到的问题 1. 插件解析失败问题",content:' * 序言\n * 本地环境搭建\n   * 1. 去 theme-example ，找个合心意的博客 clone\n   * 2. 把项目下载之后，修改 package.json\n   * 3. 更换主题为本地\n * 可能遇到的问题\n   * 1. 插件解析失败问题\n\n\n\n\n# 序言\n\n如果你开始或已经使用 vuepress-theme-reco 搭建了属于自己的个人博客的时候，那么恭喜你，你已经成为我们的一员了。 那么我想以下一定是需要了解的：\n\n * vuepress官网：https://vuepress.vuejs.org/zh/\n * vuepress自定义开发主题：https://vuepress.vuejs.org/zh/theme/writing-a-theme.html\n * vuepress-theme-reco官网：https://vuepress-theme-reco.recoluan.com/\n\n\n# 本地环境搭建\n\n\n# 1. 去 theme-example ，找个合心意的博客 clone\n\n * 我就以我的下载我的为例：git clone https://github.com/zpj80231/znote.git\n\n\n# 2. 把项目下载之后，修改 package.json\n\n{\n    "scripts": {\n        "docs:dev": "vuepress dev docs",\n        "docs:build": "vuepress build docs",\n        "deploy": "bash deploy.sh"\n    },\n    "devDependencies": {\n        "vuepress": "^1.2.0",\n        "vuepress-theme-reco": "^1.1.2-alpha.2"        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * 然后在此目录下打开命令窗口执行：npm install（提前安装好node.js环境）\n\n\n# 3. 更换主题为本地\n\n * 打开git，克隆：git clone https://github.com/vuepress-reco/vuepress-theme-reco.git\n   \n   把下载下来的文件夹更名为 theme，粘贴至 .vuepress下即可。\n\n * 将主题文件放到本地开发环境\n\n##复制node_modules/vuepress-theme-reco 文件夹\n##粘贴至.vuepress/ 下并更名为theme\nDev\n├─── docs\n│   └── .vuepress   // 配置目录\n│   │    ├── public // 静态资源\n│   │    ├── theme // 主题\n│   │    │   ├── components // 组件\n│   │    │   ├── global-components // 全局组件\n│   │    │   ├── layouts // 布局(包括首页在内)\n│   │    │   ├── styles // 样式\n│   │    │   ├── util // 工具\n│   │    │   ├── index.js // 入口配置\n│   │    │   ├── noopModule.js // 依赖注入\n│   │    │   ├── package.json // 主题依赖\n│   │    │   ├── README.md // 主题说明\n│   │    └── config.js\n│   ├── FAQ     // 求索模块\n│   ├── Store   // 仓库模块\n│   ├── Thought // 随笔模块\n│   └── README.md   // 博客首页\n└── package.json\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n * 运行预览\n   \n   执行命令：vuepress dev docs\n   \n   当看到控制台输出：tip Apply theme located at ... 并正常启动，则表示本地环境搭建成功。\n   \n   在浏览器地址输入：http://localhost:8080即可看到界面：\n   \n   \n\n * 如果想直接使用 .html文件的话将 .html文件放在 .vuepress/public 目录下即可（需自己配置引用路径）。\n\n\n# 可能遇到的问题\n\n\n# 1. 插件解析失败问题\n\n> 有这几个解决办法，就是无法解析node_modules依赖关系\n\n * 根目录下安装一下vuepress-theme-reco这个依赖\n * 最直接的就是在主题目录执行一下npm install\n * 或许你删除node_modules，重新安装一下依赖也有可能解决\n * 如以上三步都不行的话，以这个命令npm run docs:dev启动项目，或者联系我',normalizedContent:' * 序言\n * 本地环境搭建\n   * 1. 去 theme-example ，找个合心意的博客 clone\n   * 2. 把项目下载之后，修改 package.json\n   * 3. 更换主题为本地\n * 可能遇到的问题\n   * 1. 插件解析失败问题\n\n\n\n\n# 序言\n\n如果你开始或已经使用 vuepress-theme-reco 搭建了属于自己的个人博客的时候，那么恭喜你，你已经成为我们的一员了。 那么我想以下一定是需要了解的：\n\n * vuepress官网：https://vuepress.vuejs.org/zh/\n * vuepress自定义开发主题：https://vuepress.vuejs.org/zh/theme/writing-a-theme.html\n * vuepress-theme-reco官网：https://vuepress-theme-reco.recoluan.com/\n\n\n# 本地环境搭建\n\n\n# 1. 去 theme-example ，找个合心意的博客 clone\n\n * 我就以我的下载我的为例：git clone https://github.com/zpj80231/znote.git\n\n\n# 2. 把项目下载之后，修改 package.json\n\n{\n    "scripts": {\n        "docs:dev": "vuepress dev docs",\n        "docs:build": "vuepress build docs",\n        "deploy": "bash deploy.sh"\n    },\n    "devdependencies": {\n        "vuepress": "^1.2.0",\n        "vuepress-theme-reco": "^1.1.2-alpha.2"        \n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n * 然后在此目录下打开命令窗口执行：npm install（提前安装好node.js环境）\n\n\n# 3. 更换主题为本地\n\n * 打开git，克隆：git clone https://github.com/vuepress-reco/vuepress-theme-reco.git\n   \n   把下载下来的文件夹更名为 theme，粘贴至 .vuepress下即可。\n\n * 将主题文件放到本地开发环境\n\n##复制node_modules/vuepress-theme-reco 文件夹\n##粘贴至.vuepress/ 下并更名为theme\ndev\n├─── docs\n│   └── .vuepress   // 配置目录\n│   │    ├── public // 静态资源\n│   │    ├── theme // 主题\n│   │    │   ├── components // 组件\n│   │    │   ├── global-components // 全局组件\n│   │    │   ├── layouts // 布局(包括首页在内)\n│   │    │   ├── styles // 样式\n│   │    │   ├── util // 工具\n│   │    │   ├── index.js // 入口配置\n│   │    │   ├── noopmodule.js // 依赖注入\n│   │    │   ├── package.json // 主题依赖\n│   │    │   ├── readme.md // 主题说明\n│   │    └── config.js\n│   ├── faq     // 求索模块\n│   ├── store   // 仓库模块\n│   ├── thought // 随笔模块\n│   └── readme.md   // 博客首页\n└── package.json\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n * 运行预览\n   \n   执行命令：vuepress dev docs\n   \n   当看到控制台输出：tip apply theme located at ... 并正常启动，则表示本地环境搭建成功。\n   \n   在浏览器地址输入：http://localhost:8080即可看到界面：\n   \n   \n\n * 如果想直接使用 .html文件的话将 .html文件放在 .vuepress/public 目录下即可（需自己配置引用路径）。\n\n\n# 可能遇到的问题\n\n\n# 1. 插件解析失败问题\n\n> 有这几个解决办法，就是无法解析node_modules依赖关系\n\n * 根目录下安装一下vuepress-theme-reco这个依赖\n * 最直接的就是在主题目录执行一下npm install\n * 或许你删除node_modules，重新安装一下依赖也有可能解决\n * 如以上三步都不行的话，以这个命令npm run docs:dev启动项目，或者联系我',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"关于Vue2的学习",frontmatter:{title:"关于Vue2的学习",catalog:!0,date:"2022-05-12T13:59:44.000Z",tags:["Vue"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/vue2.html",relativePath:"views/frontend/vue2.md",key:"v-3bccfde1",path:"/views/frontend/vue2.html",headers:[{level:2,title:"Vue2基本框架",slug:"vue2基本框架",normalizedTitle:"vue2基本框架",charIndex:3},{level:2,title:"组件导入",slug:"组件导入",normalizedTitle:"组件导入",charIndex:15},{level:2,title:"axios",slug:"axios",normalizedTitle:"axios",charIndex:23}],headersStr:"Vue2基本框架 组件导入 axios",content:" * Vue2基本框架\n * 组件导入\n * axios\n\n\n\n\n# Vue2基本框架\n\n当你创建一个Vue 2的基本模板时，你需要包含Vue的核心库，并且可以选择是否使用Vue Router和VueX，这取决于你的项目需求。以下是一个简单的Vue 2模板，包括Vue核心、Vue Router和VueX：\n\n1.首先，确保你已经安装了Node.js和npm。然后使用以下命令安装Vue CLI：npm install -g @vue/cli 2.创建一个新的Vue项目：vue create my-vue-app 3.进入项目目录：cd my-vue-app 4.打开 src/main.js 文件，这是Vue应用的入口文件，替换其内容为以下基本模板：\n\n// main.js\n\nimport Vue from 'vue';\nimport App from './App.vue';\nimport router from './router'; // 如果你使用了Vue Router\nimport store from './store';   // 如果你使用了VueX\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router, // 如果你使用了Vue Router\n  store,  // 如果你使用了VueX\n  render: h => h(App),\n}).$mount('#app');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n5.如果你使用了Vue Router，确保你已经配置了路由。在 src/router/index.js 中，你可以像这样配置一个简单的路由：\n\n// router/index.js\n\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '../views/Home.vue';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n6.如果你使用了VueX，确保你已经配置了状态管理。在 src/store/index.js 中，你可以像这样配置一个简单的store：\n\n// store/index.js\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    // your state properties here\n  },\n  mutations: {\n    // your mutations here\n  },\n  actions: {\n    // your actions here\n  },\n  modules: {\n    // your modules here\n  },\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n7.最后，创建一个简单的Vue组件。在 src/components/HelloWorld.vue 中，你可以像这样创建一个组件：\n\n\x3c!-- HelloWorld.vue --\x3e\n\n<template>\n  <div>\n    <h1>{{ msg }}</h1>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      msg: 'Hello, Vue!',\n    };\n  },\n};\n<\/script>\n\n<style scoped>\n/* your component styles here */\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n然后在 src/App.vue 中使用这个组件：\n\n\x3c!-- App.vue --\x3e\n\n<template>\n  <div id=\"app\">\n    <HelloWorld />\n  </div>\n</template>\n\n<script>\nimport HelloWorld from './components/HelloWorld.vue';\n\nexport default {\n  components: {\n    HelloWorld,\n  },\n};\n<\/script>\n\n<style>\n/* your global styles here */\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 组件导入\n\n\x3c!-- App.vue --\x3e\n\n<template>\n  <div id=\"app\">\n    <HelloWorld />\n  </div>\n</template>\n\n<script>\nimport HelloWorld from '@/components/HelloWorld.vue'; // 请根据你的项目结构调整路径\n\nexport default {\n  components: {\n    HelloWorld,\n  },\n};\n<\/script>\n\n<style>\n/* your global styles here */\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# axios\n\n1.npm install axios 2.yarn add axios 3.打开你的Vue项目入口文件（通常是main.js），并在文件的顶部引入axios：\n\n// main.js\n\nimport Vue from 'vue';\nimport axios from 'axios';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n4.在组件中使用\n\n\x3c!-- MyComponent.vue --\x3e\n\n<template>\n  <div>\n    <button @click=\"fetchData\">Fetch Data</button>\n    <div v-if=\"data\">\n      \x3c!-- Display the fetched data --\x3e\n      {{ data }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      data: null,\n    };\n  },\n  methods: {\n    fetchData() {\n      // 使用axios进行GET请求\n      axios.get('https://jsonplaceholder.typicode.com/todos/1')\n        .then(response => {\n          // 请求成功后更新data\n          this.data = response.data;\n        })\n        .catch(error => {\n          // 处理请求错误\n          console.error('Error fetching data:', error);\n        });\n    },\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n",normalizedContent:" * vue2基本框架\n * 组件导入\n * axios\n\n\n\n\n# vue2基本框架\n\n当你创建一个vue 2的基本模板时，你需要包含vue的核心库，并且可以选择是否使用vue router和vuex，这取决于你的项目需求。以下是一个简单的vue 2模板，包括vue核心、vue router和vuex：\n\n1.首先，确保你已经安装了node.js和npm。然后使用以下命令安装vue cli：npm install -g @vue/cli 2.创建一个新的vue项目：vue create my-vue-app 3.进入项目目录：cd my-vue-app 4.打开 src/main.js 文件，这是vue应用的入口文件，替换其内容为以下基本模板：\n\n// main.js\n\nimport vue from 'vue';\nimport app from './app.vue';\nimport router from './router'; // 如果你使用了vue router\nimport store from './store';   // 如果你使用了vuex\n\nvue.config.productiontip = false;\n\nnew vue({\n  router, // 如果你使用了vue router\n  store,  // 如果你使用了vuex\n  render: h => h(app),\n}).$mount('#app');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n5.如果你使用了vue router，确保你已经配置了路由。在 src/router/index.js 中，你可以像这样配置一个简单的路由：\n\n// router/index.js\n\nimport vue from 'vue';\nimport vuerouter from 'vue-router';\nimport home from '../views/home.vue';\n\nvue.use(vuerouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: home,\n  },\n];\n\nconst router = new vuerouter({\n  mode: 'history',\n  base: process.env.base_url,\n  routes,\n});\n\nexport default router;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n6.如果你使用了vuex，确保你已经配置了状态管理。在 src/store/index.js 中，你可以像这样配置一个简单的store：\n\n// store/index.js\n\nimport vue from 'vue';\nimport vuex from 'vuex';\n\nvue.use(vuex);\n\nexport default new vuex.store({\n  state: {\n    // your state properties here\n  },\n  mutations: {\n    // your mutations here\n  },\n  actions: {\n    // your actions here\n  },\n  modules: {\n    // your modules here\n  },\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n7.最后，创建一个简单的vue组件。在 src/components/helloworld.vue 中，你可以像这样创建一个组件：\n\n\x3c!-- helloworld.vue --\x3e\n\n<template>\n  <div>\n    <h1>{{ msg }}</h1>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      msg: 'hello, vue!',\n    };\n  },\n};\n<\/script>\n\n<style scoped>\n/* your component styles here */\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n然后在 src/app.vue 中使用这个组件：\n\n\x3c!-- app.vue --\x3e\n\n<template>\n  <div id=\"app\">\n    <helloworld />\n  </div>\n</template>\n\n<script>\nimport helloworld from './components/helloworld.vue';\n\nexport default {\n  components: {\n    helloworld,\n  },\n};\n<\/script>\n\n<style>\n/* your global styles here */\n</style>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 组件导入\n\n\x3c!-- app.vue --\x3e\n\n<template>\n  <div id=\"app\">\n    <helloworld />\n  </div>\n</template>\n\n<script>\nimport helloworld from '@/components/helloworld.vue'; // 请根据你的项目结构调整路径\n\nexport default {\n  components: {\n    helloworld,\n  },\n};\n<\/script>\n\n<style>\n/* your global styles here */\n</style>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# axios\n\n1.npm install axios 2.yarn add axios 3.打开你的vue项目入口文件（通常是main.js），并在文件的顶部引入axios：\n\n// main.js\n\nimport vue from 'vue';\nimport axios from 'axios';\nimport app from './app.vue';\n\nvue.config.productiontip = false;\n\nnew vue({\n  render: h => h(app),\n}).$mount('#app');\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n4.在组件中使用\n\n\x3c!-- mycomponent.vue --\x3e\n\n<template>\n  <div>\n    <button @click=\"fetchdata\">fetch data</button>\n    <div v-if=\"data\">\n      \x3c!-- display the fetched data --\x3e\n      {{ data }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      data: null,\n    };\n  },\n  methods: {\n    fetchdata() {\n      // 使用axios进行get请求\n      axios.get('https://jsonplaceholder.typicode.com/todos/1')\n        .then(response => {\n          // 请求成功后更新data\n          this.data = response.data;\n        })\n        .catch(error => {\n          // 处理请求错误\n          console.error('error fetching data:', error);\n        });\n    },\n  },\n};\n<\/script>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"CSS常用",frontmatter:{title:"CSS常用",date:"2022-07-23T15:31:26.000Z",tags:["CSS"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/css.html",relativePath:"views/frontend/css.md",key:"v-4f258e02",path:"/views/frontend/css.html",headers:[{level:2,title:"如何使用",slug:"如何使用",normalizedTitle:"如何使用",charIndex:3},{level:2,title:"居中对齐方式",slug:"居中对齐方式",normalizedTitle:"居中对齐方式",charIndex:11},{level:2,title:"css的继承性、层叠性、优先级",slug:"css的继承性、层叠性、优先级",normalizedTitle:"css的继承性、层叠性、优先级",charIndex:21},{level:2,title:"flex弹力盒子",slug:"flex弹力盒子",normalizedTitle:"flex弹力盒子",charIndex:40},{level:2,title:"子绝父相",slug:"子绝父相",normalizedTitle:"子绝父相",charIndex:52},{level:2,title:"SASS  LESS",slug:"sass-less",normalizedTitle:"sass  less",charIndex:null}],headersStr:"如何使用 居中对齐方式 css的继承性、层叠性、优先级 flex弹力盒子 子绝父相 SASS  LESS",content:' * 如何使用\n * 居中对齐方式\n * css的继承性、层叠性、优先级\n * flex弹力盒子\n * 子绝父相\n * SASS LESS\n\n\n\n\n# 如何使用\n\n-内联样式（Inline Styles）\n\n<p style="color: blue; font-size: 16px;">这是一个内联样式的段落。</p>\n\n\n1\n\n\n-嵌入式样式（Embedded Styles）\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>嵌入式样式示例</title>\n    <style>\n        p {\n            color: green;\n            font-size: 18px;\n        }\n    </style>\n</head>\n<body>\n    <p>这是一个嵌入式样式的段落。</p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n-外部样式（External Styles）\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>外部样式示例</title>\n    <link rel="stylesheet" href="styles.css">\n</head>\n<body>\n    <p>这是一个外部样式的段落。</p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 居中对齐方式\n\n1.定位+margin 2.定位+transform 3.flex布局 4.grid布局 5.table布局\n\n\n# css的继承性、层叠性、优先级\n\n-继承性\n\n<style>\n    body {\n        font-family: Arial, sans-serif;\n        color: #333;\n    }\n    p {\n        font-size: 16px; /* 继承了父元素的字体和颜色 */\n    }\n</style>\n<body>\n    <p>这是一个段落。</p>\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n-层叠性 #student.table #student table #student>table -优先级 !important > 行内样式 > id > 类/伪类/属性 > 标签 > 全局选择器\n\n\n# flex弹力盒子\n\nFlexbox（弹性盒子模型）是一种用于布局设计的 CSS3 新特性，它提供了一种更加有效和可预测的方式来对容器内的子元素进行排列、对齐和分布。\n\n以下是 Flexbox 的一些基本概念：\n\n-主轴（Main Axis）： Flex容器的主要方向，可以是水平方向（row）或垂直方向（column）。\n\n-交叉轴（Cross Axis）： 与主轴垂直的轴，如果主轴是水平的，则交叉轴是垂直的，反之亦然。\n\n-主轴起点和终点（Main Start / Main End）： 主轴的开始和结束位置，取决于主轴的方向。\n\n-交叉轴起点和终点（Cross Start / Cross End）： 交叉轴的开始和结束位置，取决于交叉轴的方向。\n\nFlexbox 的使用示例：\n\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Flexbox Example</title>\n    <style>\n        .container {\n            display: flex; /* 定义容器为弹性容器 */\n            justify-content: space-between; /* 在主轴上均匀分布子元素 */\n            align-items: center; /* 在交叉轴上居中对齐子元素 */\n            height: 200px;\n            border: 1px solid #ccc;\n        }\n\n        .item {\n            flex: 1; /* 子元素自动平均分配剩余空间 */\n            text-align: center;\n            padding: 10px;\n            border: 1px solid #ddd;\n        }\n    </style>\n</head>\n<body>\n\n<div class="container">\n    <div class="item">Item 1</div>\n    <div class="item">Item 2</div>\n    <div class="item">Item 3</div>\n</div>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 子绝父相\n\n“子绝父相”是 CSS 布局中的一个概念，它指的是子元素使用绝对定位（absolute positioning），而父元素使用相对定位（relative positioning）来实现相对位置关系。\n\n在使用绝对定位的子元素时，如果其父元素设置了相对定位，子元素的位置将相对于父元素进行定位，而不是相对于整个文档流。\n\n下面是一个简单的示例：\n\nHTML 结构：\n\n<div class="parent">\n    <div class="child"></div>\n</div>\n\n\n\n1\n2\n3\n4\n\n\nCSS 样式：\n\n.parent {\n    position: relative; /* 设置父元素相对定位 */\n    width: 300px;\n    height: 200px;\n    background-color: lightblue;\n}\n\n.child {\n    position: absolute; /* 设置子元素绝对定位 */\n    top: 20px; /* 相对于父元素顶部偏移 20px */\n    left: 50px; /* 相对于父元素左侧偏移 50px */\n    width: 100px;\n    height: 100px;\n    background-color: coral;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# SASS LESS\n\n-SASS\n\n// 定义变量\n$primary-color: #3498db;\n$secondary-color: #2ecc71;\n\n// 定义一个 mixin\n@mixin box-shadow($x, $y, $blur, $color) {\n  box-shadow: $x $y $blur $color;\n}\n\n// 定义嵌套规则和使用变量、mixin\nbody {\n  font-family: Arial, sans-serif;\n}\n\n.container {\n  background-color: $primary-color;\n  padding: 20px;\n\n  // 嵌套规则\n  h1 {\n    color: $secondary-color;\n  }\n\n  // 使用 mixin\n  .box {\n    @include box-shadow(2px, 2px, 5px, #ccc);\n  }\n}\n\n// 继承样式\n.success {\n  @extend .box;\n  background-color: $secondary-color;\n  color: white;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n在这个例子中：\n\n使用 $primary-color 和 $secondary-color 定义了两个颜色变量。 使用 @mixin 定义了一个名为 box-shadow 的 mixin，可以在其他地方重复使用。 使用嵌套规则，清晰地表示了选择器之间的层级关系。 使用 @include 引用了上面定义的 box-shadow mixin。 使用 @extend 实现了样式的继承，.success 类继承了 .box 类的样式。 上述 Sass 代码需要通过 Sass 编译器编译成普通的 CSS，然后在 HTML 中引入生成的 CSS 文件。这样，可以利用 Sass 提供的功能来提高样式表的可维护性和可读性。\n\n-less\n\n// 定义变量\n@primary-color: #3498db;\n@secondary-color: #2ecc71;\n\n// 定义混合（Mixin）\n.box-shadow(@x, @y, @blur, @color) {\n  box-shadow: @x @y @blur @color;\n}\n\n// 定义嵌套规则和使用变量、混合\nbody {\n  font-family: Arial, sans-serif;\n}\n\n.container {\n  background-color: @primary-color;\n  padding: 20px;\n\n  // 嵌套规则\n  h1 {\n    color: @secondary-color;\n  }\n\n  // 使用混合\n  .box {\n    .box-shadow(2px, 2px, 5px, #ccc);\n  }\n}\n\n// 继承样式\n.success {\n  .box-shadow(2px, 2px, 5px, @secondary-color);\n  background-color: @secondary-color;\n  color: white;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n在这个例子中：\n\n使用 @primary-color 和 @secondary-color 定义了两个颜色变量。 使用 .box-shadow 定义了一个混合，可以在其他地方重复使用。 使用嵌套规则，清晰地表示了选择器之间的层级关系。 使用 .box-shadow 混合引用了上面定义的混合。 使用 .success 类继承了 .box 类的样式，并使用了混合设置阴影。 与 Sass 相似，Less 也是一种 CSS 预处理器，提供了变量、混合、嵌套规则等功能，使样式表更加模块化和易于维护。同样，Less 文件需要通过 Less 编译器编译成普通的 CSS 文件，然后在 HTML 中引入生成的 CSS 文件。',normalizedContent:' * 如何使用\n * 居中对齐方式\n * css的继承性、层叠性、优先级\n * flex弹力盒子\n * 子绝父相\n * sass less\n\n\n\n\n# 如何使用\n\n-内联样式（inline styles）\n\n<p style="color: blue; font-size: 16px;">这是一个内联样式的段落。</p>\n\n\n1\n\n\n-嵌入式样式（embedded styles）\n\n<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>嵌入式样式示例</title>\n    <style>\n        p {\n            color: green;\n            font-size: 18px;\n        }\n    </style>\n</head>\n<body>\n    <p>这是一个嵌入式样式的段落。</p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n-外部样式（external styles）\n\n<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>外部样式示例</title>\n    <link rel="stylesheet" href="styles.css">\n</head>\n<body>\n    <p>这是一个外部样式的段落。</p>\n</body>\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 居中对齐方式\n\n1.定位+margin 2.定位+transform 3.flex布局 4.grid布局 5.table布局\n\n\n# css的继承性、层叠性、优先级\n\n-继承性\n\n<style>\n    body {\n        font-family: arial, sans-serif;\n        color: #333;\n    }\n    p {\n        font-size: 16px; /* 继承了父元素的字体和颜色 */\n    }\n</style>\n<body>\n    <p>这是一个段落。</p>\n</body>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n-层叠性 #student.table #student table #student>table -优先级 !important > 行内样式 > id > 类/伪类/属性 > 标签 > 全局选择器\n\n\n# flex弹力盒子\n\nflexbox（弹性盒子模型）是一种用于布局设计的 css3 新特性，它提供了一种更加有效和可预测的方式来对容器内的子元素进行排列、对齐和分布。\n\n以下是 flexbox 的一些基本概念：\n\n-主轴（main axis）： flex容器的主要方向，可以是水平方向（row）或垂直方向（column）。\n\n-交叉轴（cross axis）： 与主轴垂直的轴，如果主轴是水平的，则交叉轴是垂直的，反之亦然。\n\n-主轴起点和终点（main start / main end）： 主轴的开始和结束位置，取决于主轴的方向。\n\n-交叉轴起点和终点（cross start / cross end）： 交叉轴的开始和结束位置，取决于交叉轴的方向。\n\nflexbox 的使用示例：\n\n<!doctype html>\n<html lang="en">\n<head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>flexbox example</title>\n    <style>\n        .container {\n            display: flex; /* 定义容器为弹性容器 */\n            justify-content: space-between; /* 在主轴上均匀分布子元素 */\n            align-items: center; /* 在交叉轴上居中对齐子元素 */\n            height: 200px;\n            border: 1px solid #ccc;\n        }\n\n        .item {\n            flex: 1; /* 子元素自动平均分配剩余空间 */\n            text-align: center;\n            padding: 10px;\n            border: 1px solid #ddd;\n        }\n    </style>\n</head>\n<body>\n\n<div class="container">\n    <div class="item">item 1</div>\n    <div class="item">item 2</div>\n    <div class="item">item 3</div>\n</div>\n\n</body>\n</html>\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 子绝父相\n\n“子绝父相”是 css 布局中的一个概念，它指的是子元素使用绝对定位（absolute positioning），而父元素使用相对定位（relative positioning）来实现相对位置关系。\n\n在使用绝对定位的子元素时，如果其父元素设置了相对定位，子元素的位置将相对于父元素进行定位，而不是相对于整个文档流。\n\n下面是一个简单的示例：\n\nhtml 结构：\n\n<div class="parent">\n    <div class="child"></div>\n</div>\n\n\n\n1\n2\n3\n4\n\n\ncss 样式：\n\n.parent {\n    position: relative; /* 设置父元素相对定位 */\n    width: 300px;\n    height: 200px;\n    background-color: lightblue;\n}\n\n.child {\n    position: absolute; /* 设置子元素绝对定位 */\n    top: 20px; /* 相对于父元素顶部偏移 20px */\n    left: 50px; /* 相对于父元素左侧偏移 50px */\n    width: 100px;\n    height: 100px;\n    background-color: coral;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# sass less\n\n-sass\n\n// 定义变量\n$primary-color: #3498db;\n$secondary-color: #2ecc71;\n\n// 定义一个 mixin\n@mixin box-shadow($x, $y, $blur, $color) {\n  box-shadow: $x $y $blur $color;\n}\n\n// 定义嵌套规则和使用变量、mixin\nbody {\n  font-family: arial, sans-serif;\n}\n\n.container {\n  background-color: $primary-color;\n  padding: 20px;\n\n  // 嵌套规则\n  h1 {\n    color: $secondary-color;\n  }\n\n  // 使用 mixin\n  .box {\n    @include box-shadow(2px, 2px, 5px, #ccc);\n  }\n}\n\n// 继承样式\n.success {\n  @extend .box;\n  background-color: $secondary-color;\n  color: white;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n在这个例子中：\n\n使用 $primary-color 和 $secondary-color 定义了两个颜色变量。 使用 @mixin 定义了一个名为 box-shadow 的 mixin，可以在其他地方重复使用。 使用嵌套规则，清晰地表示了选择器之间的层级关系。 使用 @include 引用了上面定义的 box-shadow mixin。 使用 @extend 实现了样式的继承，.success 类继承了 .box 类的样式。 上述 sass 代码需要通过 sass 编译器编译成普通的 css，然后在 html 中引入生成的 css 文件。这样，可以利用 sass 提供的功能来提高样式表的可维护性和可读性。\n\n-less\n\n// 定义变量\n@primary-color: #3498db;\n@secondary-color: #2ecc71;\n\n// 定义混合（mixin）\n.box-shadow(@x, @y, @blur, @color) {\n  box-shadow: @x @y @blur @color;\n}\n\n// 定义嵌套规则和使用变量、混合\nbody {\n  font-family: arial, sans-serif;\n}\n\n.container {\n  background-color: @primary-color;\n  padding: 20px;\n\n  // 嵌套规则\n  h1 {\n    color: @secondary-color;\n  }\n\n  // 使用混合\n  .box {\n    .box-shadow(2px, 2px, 5px, #ccc);\n  }\n}\n\n// 继承样式\n.success {\n  .box-shadow(2px, 2px, 5px, @secondary-color);\n  background-color: @secondary-color;\n  color: white;\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n在这个例子中：\n\n使用 @primary-color 和 @secondary-color 定义了两个颜色变量。 使用 .box-shadow 定义了一个混合，可以在其他地方重复使用。 使用嵌套规则，清晰地表示了选择器之间的层级关系。 使用 .box-shadow 混合引用了上面定义的混合。 使用 .success 类继承了 .box 类的样式，并使用了混合设置阴影。 与 sass 相似，less 也是一种 css 预处理器，提供了变量、混合、嵌套规则等功能，使样式表更加模块化和易于维护。同样，less 文件需要通过 less 编译器编译成普通的 css 文件，然后在 html 中引入生成的 css 文件。',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"vuepress插件：<Boxx/>",frontmatter:{title:"vuepress插件：`<Boxx/>`",date:"2022-11-17T15:53:26.000Z",tags:["vuepress"],categories:["Front-end"],isShowComments:!1},regularPath:"/views/frontend/vuepress-plugin-boxx.html",relativePath:"views/frontend/vuepress-plugin-boxx.md",key:"v-e7493f7e",path:"/views/frontend/vuepress-plugin-boxx.html",headers:[{level:2,title:"序言",slug:"序言",normalizedTitle:"序言",charIndex:2},{level:2,title:"安装",slug:"安装",normalizedTitle:"安装",charIndex:131},{level:2,title:"使用",slug:"使用",normalizedTitle:"使用",charIndex:63},{level:2,title:"默认样式",slug:"默认样式",normalizedTitle:"默认样式",charIndex:569},{level:2,title:"自定义标题和内容",slug:"自定义标题和内容",normalizedTitle:"自定义标题和内容",charIndex:578},{level:2,title:"自定义样式",slug:"自定义样式",normalizedTitle:"自定义样式",charIndex:786}],headersStr:"序言 安装 使用 默认样式 自定义标题和内容 自定义样式",content:'# 序言\n\n * 由于在引入默认的VuePress Custom Containers太过笨重了，故闲来无事对其做一层封装简化使用\n * Github地址：https://github.com/zpj80231/vuepress-plugin-boxx\n\n\n# 安装\n\n * 在文件package.json中的devDependencies下加入"vuepress-plugin-boxx": "0.0.7"：\n\n"devDependencies": {\n    "vuepress-plugin-boxx": "0.0.7"\n}\n\n\n1\n2\n3\n\n * 在 vuepress 的config.js中配置plugins：\n\nplugins: [\n    ["vuepress-plugin-boxx"]\n],\n\n\n1\n2\n3\n\n * 在package.json目录下执行命令：npm install\n * 正常启动项目，接着如下使用即可\n\n\n# 使用\n\n * 引入：只需在你想要插入的地方加入 <Boxx/> 即可（如顶部所示）\n * 内容：默认随机展示名人名句，支持自定义\n * 样式：有三种样式，默认为 tip 样式，支持自定义\n * 注意：除<Boxx/>这个标签是必须外，标签属性均为可选，所有标签属性会在下文中详细介绍\n\n\n# 默认样式\n\n\n# 自定义标题和内容\n\n * 如果默认的名人名句不满足需求的话，自定义只需指定两个属性title和content的值\n\nNAME      TYPE     DESCRIPTION\ntitle     String   要展示的title的内容，支持html标签\ncontent   String   要展示的content的内容，支持html标签\n\n * 当然你也可以只输入title或content，如下：\n\n\n# 自定义样式\n\n * 可以通过以下几个属性实现\n\nNAME           TYPE     DESCRIPTION\nblockStyle     Object   整体块元素的样式\ntitleStyle     Object   只针对title的样式\ncontentStyle   Object   只针对content的样式\nchangeTime     Number   以毫秒值为单位的动态变化时间，顶部为例\n\n需要注意的是：属性值传输的对象只能通过v-bind:绑定来实现\n\n * 以下是对如上样式的示例，在Markdown中这样书写即可：\n\n<marquee>\n<Boxx :blockStyle="blockStyle"  />\n<Boxx type="warning" :blockStyle="titleStyle" :titleStyle="titleStyle" changeTime="1000" title="我是一个大大的且变化的 title"/>\n<Boxx type="danger" :blockStyle="contentStyle" :contentStyle="contentStyle" content="我是一个小小的<br><marquee>content</marquee>"/>\n</marquee>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tblockStyle: {\'background\':\'#eee\',\'color\':\'red\'},\n                titleStyle: {\'margin-right\': \'10%\',\'font-size\':\'16px\'},\n                contentStyle: {\'margin-right\': \'20%\',\'font-size\':\'10px\',\n                               "margin-top": "1rem","margin-bottom": "0.4rem"},\n\t\t\t}\n\t\t}\n\t}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n',normalizedContent:'# 序言\n\n * 由于在引入默认的vuepress custom containers太过笨重了，故闲来无事对其做一层封装简化使用\n * github地址：https://github.com/zpj80231/vuepress-plugin-boxx\n\n\n# 安装\n\n * 在文件package.json中的devdependencies下加入"vuepress-plugin-boxx": "0.0.7"：\n\n"devdependencies": {\n    "vuepress-plugin-boxx": "0.0.7"\n}\n\n\n1\n2\n3\n\n * 在 vuepress 的config.js中配置plugins：\n\nplugins: [\n    ["vuepress-plugin-boxx"]\n],\n\n\n1\n2\n3\n\n * 在package.json目录下执行命令：npm install\n * 正常启动项目，接着如下使用即可\n\n\n# 使用\n\n * 引入：只需在你想要插入的地方加入 <boxx/> 即可（如顶部所示）\n * 内容：默认随机展示名人名句，支持自定义\n * 样式：有三种样式，默认为 tip 样式，支持自定义\n * 注意：除<boxx/>这个标签是必须外，标签属性均为可选，所有标签属性会在下文中详细介绍\n\n\n# 默认样式\n\n\n# 自定义标题和内容\n\n * 如果默认的名人名句不满足需求的话，自定义只需指定两个属性title和content的值\n\nname      type     description\ntitle     string   要展示的title的内容，支持html标签\ncontent   string   要展示的content的内容，支持html标签\n\n * 当然你也可以只输入title或content，如下：\n\n\n# 自定义样式\n\n * 可以通过以下几个属性实现\n\nname           type     description\nblockstyle     object   整体块元素的样式\ntitlestyle     object   只针对title的样式\ncontentstyle   object   只针对content的样式\nchangetime     number   以毫秒值为单位的动态变化时间，顶部为例\n\n需要注意的是：属性值传输的对象只能通过v-bind:绑定来实现\n\n * 以下是对如上样式的示例，在markdown中这样书写即可：\n\n<marquee>\n<boxx :blockstyle="blockstyle"  />\n<boxx type="warning" :blockstyle="titlestyle" :titlestyle="titlestyle" changetime="1000" title="我是一个大大的且变化的 title"/>\n<boxx type="danger" :blockstyle="contentstyle" :contentstyle="contentstyle" content="我是一个小小的<br><marquee>content</marquee>"/>\n</marquee>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tblockstyle: {\'background\':\'#eee\',\'color\':\'red\'},\n                titlestyle: {\'margin-right\': \'10%\',\'font-size\':\'16px\'},\n                contentstyle: {\'margin-right\': \'20%\',\'font-size\':\'10px\',\n                               "margin-top": "1rem","margin-bottom": "0.4rem"},\n\t\t\t}\n\t\t}\n\t}\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-前端基础篇",frontmatter:{title:"Q&A宝典-前端基础篇",date:"2023-03-26T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_fe_001.html",relativePath:"views/qaq/sum_fe_001.md",key:"v-040aca2b",path:"/views/qaq/sum_fe_001.html",headers:[{level:2,title:"Ajax",slug:"ajax",normalizedTitle:"ajax",charIndex:2},{level:2,title:"Json",slug:"json",normalizedTitle:"json",charIndex:88},{level:2,title:"jQuery",slug:"jquery",normalizedTitle:"jquery",charIndex:888},{level:2,title:"Jsp el表达式",slug:"jsp-el表达式",normalizedTitle:"jsp el表达式",charIndex:1499}],headersStr:"Ajax Json jQuery Jsp el表达式",content:'# Ajax\n\n1. Ajax支持几种数据传递的方式?\n 1. 字符串 text/plain\n 2. xml text/xml\n 3. json text/plain\n\n\n# Json\n\n1. json的格式?\n\n 1. 键值对 {key1:value1,key2:value2..}\n\n 2. 数组 [value1,value2..]\n\n> 其中key必须是String类型,value支持null,Object,json等\n\n2. json有哪几种封装方式?\n\n 1. 可以封装任意类型的数据\n    \n    JSONObject jo1 = new JSONObject(); jo1.put("key",value);\n\n 2. 用来封装自定义数据类型和Map\n    \n    Map<Integer,String> map = new HashMap<>();\n    map.put(1,"王者"); map.put(2,"荣耀");\n    JSONObject jo2 = JSONObject.fromObject(map);\n\n 3. 专门用来封装集合和数组\n    \n    List<String> list = new ArrayList<>();\n    list.add("飞龙");list.add("在天");\n    JSONArray jo3 = JSONArray.fromObject(list);\n\n3. json如何对自定义数据类型进行有选择性的封装?(hibernate中`防止`多表级联发生的`死循环`)\n\n * 引入JsonConfig\n   \n   JsonConfig jc = new JsonConfig(new String[]{"不想要的属性1","不想要的属性2"..});\n   JSONObject jo = JSONObject.fromObject(对象,jc);\n\n4. json的包名是?\n\nnet.sf.json.JSONArray;\nnet.sf.json.JSONObject;\n\n\n# jQuery\n\n1. jQuery基本选择器\n * #id、.class\n * 查找所有未选中的input元素：$("input:not(:checked)");\n * 选中所有name属性是newsletter的input元素：$("input[name=\'newsletter\']").attr("checked",true);\n\n2. attr和prop的区别\n\nattr：可以获取元素自定义属性和本身自带的属性\nprop：用来获取元素本身属性\n\n3. disabled和readonly的区别\n\ndisabled：样式 灰色，后台请求接收不到参数 始终为null\nreadonly：样式 白色，后台请求参数可以接收\n\n3. 简述Css层叠特性与继承特性\n\n * 层叠特性: 当多种基本选择器出现冲突时优先级问题，id选择器>类别选择器>标记选择器\n\n * 继承特性: 当子元素与父元素没有任何冲突时，子元素会完全继承父元素的所有css渲染样式\n\n4. 写出至少三种Js选择器的使用方式\n\ndocument.getElementById("idName");\ndocument.getElementsByTagName("tagName");\ndocument.getElementsByClassName("className");\ndocument.getElementsByName("name");\n\n\n# Jsp el表达式\n\n1. 请使用Js脚本在页面显示九九乘法表\n\nlet str = "";\nfor(let a = 1;a<=9;a++){\n    for(let b = 1;b<=a;b++){\n        str += b+"*"+a+"="+b*a+"\\t";\n    }\n    str += "<br />";\n}\t\t\t\t\t\ndocument.write(str);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n2. el表达式取值\n\n 1. 通过属性取值：${param.键}\n    拿取全局参数：${initParam.键}\n\n 2. 四范围取值：\n    ${pageScope.elena} 当前页有效\n    ${requestScope.elena} 跳转页面有效\n    ${sessionScope.elena} session范围有效\n    ${application.elena} 时间到期前一直有效\n\n> 我们一般只写键,但是当有多个范围的键冲突时,默认拿取范围最小的键值\n\n3. el表达式的缺陷\n 1. EL表达式无法直接取值，必须通过key和提供的四范围取值，如果取值失败,什么都不显示\n 2. 解决：空验证，如果取不到值返回true，如果可以取值返回false\n    如：${empty sessionScope.key}',normalizedContent:'# ajax\n\n1. ajax支持几种数据传递的方式?\n 1. 字符串 text/plain\n 2. xml text/xml\n 3. json text/plain\n\n\n# json\n\n1. json的格式?\n\n 1. 键值对 {key1:value1,key2:value2..}\n\n 2. 数组 [value1,value2..]\n\n> 其中key必须是string类型,value支持null,object,json等\n\n2. json有哪几种封装方式?\n\n 1. 可以封装任意类型的数据\n    \n    jsonobject jo1 = new jsonobject(); jo1.put("key",value);\n\n 2. 用来封装自定义数据类型和map\n    \n    map<integer,string> map = new hashmap<>();\n    map.put(1,"王者"); map.put(2,"荣耀");\n    jsonobject jo2 = jsonobject.fromobject(map);\n\n 3. 专门用来封装集合和数组\n    \n    list<string> list = new arraylist<>();\n    list.add("飞龙");list.add("在天");\n    jsonarray jo3 = jsonarray.fromobject(list);\n\n3. json如何对自定义数据类型进行有选择性的封装?(hibernate中`防止`多表级联发生的`死循环`)\n\n * 引入jsonconfig\n   \n   jsonconfig jc = new jsonconfig(new string[]{"不想要的属性1","不想要的属性2"..});\n   jsonobject jo = jsonobject.fromobject(对象,jc);\n\n4. json的包名是?\n\nnet.sf.json.jsonarray;\nnet.sf.json.jsonobject;\n\n\n# jquery\n\n1. jquery基本选择器\n * #id、.class\n * 查找所有未选中的input元素：$("input:not(:checked)");\n * 选中所有name属性是newsletter的input元素：$("input[name=\'newsletter\']").attr("checked",true);\n\n2. attr和prop的区别\n\nattr：可以获取元素自定义属性和本身自带的属性\nprop：用来获取元素本身属性\n\n3. disabled和readonly的区别\n\ndisabled：样式 灰色，后台请求接收不到参数 始终为null\nreadonly：样式 白色，后台请求参数可以接收\n\n3. 简述css层叠特性与继承特性\n\n * 层叠特性: 当多种基本选择器出现冲突时优先级问题，id选择器>类别选择器>标记选择器\n\n * 继承特性: 当子元素与父元素没有任何冲突时，子元素会完全继承父元素的所有css渲染样式\n\n4. 写出至少三种js选择器的使用方式\n\ndocument.getelementbyid("idname");\ndocument.getelementsbytagname("tagname");\ndocument.getelementsbyclassname("classname");\ndocument.getelementsbyname("name");\n\n\n# jsp el表达式\n\n1. 请使用js脚本在页面显示九九乘法表\n\nlet str = "";\nfor(let a = 1;a<=9;a++){\n    for(let b = 1;b<=a;b++){\n        str += b+"*"+a+"="+b*a+"\\t";\n    }\n    str += "<br />";\n}\t\t\t\t\t\ndocument.write(str);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n2. el表达式取值\n\n 1. 通过属性取值：${param.键}\n    拿取全局参数：${initparam.键}\n\n 2. 四范围取值：\n    ${pagescope.elena} 当前页有效\n    ${requestscope.elena} 跳转页面有效\n    ${sessionscope.elena} session范围有效\n    ${application.elena} 时间到期前一直有效\n\n> 我们一般只写键,但是当有多个范围的键冲突时,默认拿取范围最小的键值\n\n3. el表达式的缺陷\n 1. el表达式无法直接取值，必须通过key和提供的四范围取值，如果取值失败,什么都不显示\n 2. 解决：空验证，如果取不到值返回true，如果可以取值返回false\n    如：${empty sessionscope.key}',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-数据库基础篇",frontmatter:{title:"Q&A宝典-数据库基础篇",date:"2022-10-20T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_db_001.html",relativePath:"views/qaq/sum_db_001.md",key:"v-7854456d",path:"/views/qaq/sum_db_001.html",headers:[{level:2,title:"第一天",slug:"第一天",normalizedTitle:"第一天",charIndex:2},{level:2,title:"第二天",slug:"第二天",normalizedTitle:"第二天",charIndex:1181},{level:2,title:"第三天",slug:"第三天",normalizedTitle:"第三天",charIndex:3163},{level:2,title:"第四天",slug:"第四天",normalizedTitle:"第四天",charIndex:4473},{level:2,title:"第五天",slug:"第五天",normalizedTitle:"第五天",charIndex:6295}],headersStr:"第一天 第二天 第三天 第四天 第五天",content:"# 第一天\n\n1. 分页怎么实现的\n * Mysql分页使用limit：select 列名 from 表名 limit 10,10;\n * Oracle分页使用rownum：select a.* from (select rownum rw, 列名 from 表名 where 条件) a where a.rw>数字 and a.rw<=y;\n\n2. sql语句优化\n 1. 合理使用索引\n 2. 用exists代替in，exists是直接判断存不存在，而in会挨个比较\n 3. 复杂的业务功能可以使用存储过程\n 4. 应尽量避免在 where 子句中使用!=、<>、or、in、not in操作符，否则将引擎放弃使用索引而进行全表扫描\n 5. 能多表关联的尽量不写子查询\n 6. 避免%xxx式查询，前置%查询会导致查全表\n\n3. Oracle中drop 和truncate的区别？\n * drop是删除表，不会释放表原先占有的内存空间；\n * truncate是截断表，能够释放表中数据所占有的内存空间，保留表结构；\n\n如果使用drop table 表名 purge;语句则能够直接释放表占有的内存空间。\n\n4. delete，drop，truncate 区别？\n\ndelete，drop，truncate 都有删除表的作用，区别在于：\n\n * delete 和 truncate 仅仅删除表数据，drop 连表数据和表结构一起删除，打个比方，delete 是单杀，truncate 是团灭，drop 是把电脑摔了。\n * delete 是 DML 语句，操作完以后如果没有不想提交事务还可以回滚，truncate 和 drop 是 DDL 语句，操作完马上生效，不能回滚，打个比方，delete 是发微信说分手，后悔还可以撤回，truncate 和 drop 是直接扇耳光说滚，不能反悔。\n * 执行的速度上，drop>truncate>delete，打个比方，drop 是神舟火箭，truncate 是和谐号动车，delete 是自行车。\n\n5. 左外连接，右外连接，说一下?\n\n * 左外连接：from 原表 left join 新表 on 关联关系\n   原表和新表能够关联的数据+无法通过关联关系关联到原表的数据\n\n * 右外连接：from 原表 right join 新表 on 关联关系\n   原表和新表能够关联的数据+无法通过关联关系关联到新表的数据\n\n6. sql语句中怎么判断一个字段是不是空\n\n与空判断使用is null或者is not null\n\n7. 数据源、数据库连接池、DBCP三者的关系？\n 1. 数据源：是连接数据库的一个标准\n 2. 数据库：连接池是实现数据源的一种解决方案\n 3. DBCP：是连接池的具体实现\n\n\n# 第二天\n\n1. Mysql和Oracle的区别\n 1. Oracle使用rownum来实现分页，MySQL使用limit实现分页\n\n-- - mysql查询行号\nselect \n\tw.id,\n\t@rowno := @rowno + 1 AS rowno,\n\t-- 查到当前这一行的行号\n\tCASE WHEN w.ID ='123456' THEN\n@rowno END currentrowno \n\tfrom table w order by w.rowno;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. Oracle没有主键自增特性,可以使用调用序列的方式来实现主键自增；MySQL可以在主键列之后添加auto_increment设置自增特性\n 3. Oracle有表空间的概念，MySQL没有表空间\n 4. Oracle的分组函数中select之后不能直接写非分组的其他列；MySQL如果没有聚组函数则可以写 其他列\n 5. Oracle的表存放在用户（其实是schema对象）所属的表空间的数据文件中，   mySQL的表存放在某个database中（mysql一个root用户下可以有很多database）\n 6. Oracle中的一些函数和MySQL也不一样 如：ORACLE：substr('abcd',2,2) ，MYSQL：substring('abcd',2,2),ORACLE：to_char(sysdate,'yyyy-mm-dd') ，MYSQL：date_format(now(),'%Y-%m-%d')\n 7. Oracle中的字符类型可以使用varchar2，MySQL不能使用该类型\n\n2. jdbc怎样执行sql语句？\n 1. 加载驱动\n 2. 通过驱动管理对象获得连接\n 3. 获得执行器对象编写SQL语句,JAVA中用String类型表示SQL\n 4. 通过执行器执行SQL语句\n    常用的执行SQL语句的方法有:  execute()  boolean (执行select语句时返回true,因为select能够返回一个查询结果 其他命令开头的语句返回false)； executeUpdate()  int； executeQuery()   ResultSet\n 5. 释放资源\n\n3. 索引用过吗？在什么情况下会导致索引失效？用索引还需要注意哪些问题呢？索引分为几种？\n\n * 用过；如果有索引的列空值比较多、重复数据比较多的话索引不起作用。   通常索引用在查询较多而增删改较少的列，因为索引也会花时间自己维护会降低增删改的效率。\n\n * 常用的索引有普通索引、唯一性索引、位图索引，如果某个列上经常使用函数，还可以建一个函数索引。\n\n4. like 用过吗？怎么用的？\n\nlike常用来实现模糊查询，与%和_匹配使用，如果需要匹配特殊字符，则需要使用escape逃离符。\n例:搜索以“QA_”开头的数据：select code from 表 where code like 'QA/_%' escape '/'\n\n5. union 和union all的区别\n * 都是取并集，可以用来代替 or\n\n例如：有{1，2，3}和{2，3，4}\n  union 能够去除重复数据 (做排序操作)（1，2，3，4）\n  union all 不会做去重操作 效率高 （1，2，2，3，3，4）\n\n * 多个查询语句必须有相同的列数\n   多个查询语句中的列对应的数据类型必须一致\n   如：select ename,job from emp01   union   select ename,job from emp02;\n\n6. 事务的特性\n * 事务四大特性(简称ACID)\n\n 1. 原子性(Atomicity)： 事务中的全部操作在数据库中是不可分割的，要么全部完成，要么均不执行。\n 2. 一致性(Consistency)： 事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。\n 3. 隔离性(Isolation)： 事务的执行不受其他事务的干扰。\n 4. 持久性(Durability)： 能够将提交的数据持久化到数据库中。\n\n7. 什么是事务？特征？JDBC如何控制事务？\n\n * 多条sql语句作为 一个执行单元，要么全部执行，要么全不执行\n\n * 四大特性：原子性，一致性，隔离性，持久性\n\n * JDBC控制事务：\n   \n   * 开始事务：connection.setAutoCommit(false);\n   * 执行sql语句\n   * 提交:connection.commit();\n   * 回滚：Connection.rollback();\n\n\n# 第三天\n\n1. 存储过程、视图、触发器\n\n * 存储过程 procedure： 在服务器端，能够被多个程序调用的一段SQL语句块。\n   简单来说就是事先用数据库语言写好的一段功能，能够像函数一样被程序调用，但是存储过程本身没有返回值，是通过返回参数的形式返回数据。\n\n * 视图 View ： 视图其实就是伪表，将编译后的SQL语句保存在数据库中，拿出只想让用户看见的字段，这就是视图。\n   一般来讲视图不能创建索引（因为视图本身只是一个编译后的查询语句，索引只能创建在表的列上），但是Oracle提供了一种物化视图可以创建索引（物化视图：虽然叫视图但是实际类似于表，将数据暂时存储并在基表刷新或者提交数据时刷新本视图以便与基表数据保持一致）。\n\n * 触发器 trigger： 一种特殊的存储过程，不需要调用，在满足条件时触发。\n   触发条件：在对某个表做insert 、 update 或delete操作之前或之后（取决于如何实现）自动执行\n\n2. 如何调用存储过程？\n 1. JDBC中使用CallableStatement执行器对象，通过execute(\"{call  过程名(?,?)}\") 的方式来调用；\n 2. PL/SQL Developer工具中可以通过declare begin 过程名(参数);  end;的方式调用；\n\n3. 备份数据\n 1. 第一种方式： 通过导入导出命令备份数据库中全部数据\n    Oracle用exp命令导出数据，MySQL使用mysqldump命令备份数据\n 2. 第二种方式： 使用工具导出数据\n\n4. in与exists的区别? 那个效率更高?\n\nexists效率更高\n\n * in :需要通过条件比较结果中的所有数据\n * exists: 只关心子查询能够查询出数据\n\n5. 悲观锁与乐观锁?\n\n * 悲观锁: 在操作表时认为另外一个对表的操作会修改数据\n   1.所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻塞直到它拿到锁（共享资源每次只给一个线程使用，其它线程阻塞，用完后再把资源转让给其它线程）。\n   2.java中synchronized和ReentrantLock等独占锁就是悲观锁思想的实现。\n   3.传统的关系型数据库里边就用到了很多这种锁机制，比如行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁。\n\n * 乐观锁: 在操作表时认为别的操作不会对表有修改数据的操作\n   1.所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，可以使用版本号机制(原子类)和CAS算法实现。\n   2.乐观锁适用于多读的应用类型，这样可以提高吞吐量。\n\n6. Hibernate中常见的主键增长策略？\n * Assigned:在调用save方法之前设置，自定义主键增长方式\n * Identity:建表语句必须支持auto_increment\n * Sequence:指定序列生成主键\n * Native:底层自动选择合适的策略\n * Increment：最大值+1的方式\n * Uuid:生成32为字符串\n\n\n# 第四天\n\n1. 结构化查询语言都是什么？\n 1. DDL alter drop truncate create\n 2. DML insert delete update\n 3. DQL select\n 4. DCL grant revoke\n 5. TCL commit rollback savepoint\n\n2. drop和truncate的区别?\n * drop：删除表结构和表数据(如果删除表空间的话需要+purge)\n * truncate：删除表数据和表空间，会保留表结构\n\n3. 组函数?多行函数?\n * sum() avg() count() max() min()\n\n4. 怎么去重？\n 1. distinct 专业去重(支持多列) select distinct salary,name from student;\n 2. group by 聚合统计\n\n5. 什么时候使用多表连接？什么时候使用子查询？\n 1. 如果需要查询的数据在多个表中,一定要使用多表连接\n 2. 不需要表A中的列,但是下需要表A中的条件,可以用子查询\n 3. 子查询中如果使用了in some any all这几个关键字,效率比较低,可以转换成多表关联\n\n6. 为什么要使用视图?\n 1. 节省编译时间,提高查询效率\n 2. 屏蔽原表中的字段，避免没有权限的用户查询到其他字段\n 3. 视图的数据能够动态的来源于原表\n 4. 简单的视图可以更新视图中的数据，复杂的视图无法更新\n    create view 视图名 as select name from student;\n\n7. 为什么要给普通用户创建属于自己的表空间?\n 1. 项目中很有可能与其他项目使用同一个数据库, 多个用户在使用用一个数据库时有可能访问同一个数据库文件, 就会产生资源争用的问题。给不同的用户指定不同的表空间， 就可以让他们使用不同的数据库文件，解决资源争用的问题。\n 2. 给予用户部分权限\n\n8. 约束有哪几种?\n 1. 外键约束 foreign key references\n 2. 唯一约束 unique\n 3. 非空约束 not null\n 4. 主键约束 primary key\n 5. 检查约束 check\n\n9. 索引有哪几种?\n 1. 函数索引\n 2. 普通索引 normal\n 3. 唯一索引 unique\n 4. 位图索引 bitmap（适合在数据量比较大，基数比较小的列 如：男/女）\n\n10. 索引的优缺点?\n * 能够更快的帮助我们提高查询效率\n * 索引会降低数据库的增删改的效率，因为数据库需要花时间去维护索引,所以索引适合数据量比较大而且数据不经常改动的列\n\n11. sql语句怎么优化?\n 1. 尽量用exists代替in\n 2. 合理使用索引\n 3. 查询多个表中的数据时,尽量用多表连接\n 4. 多表连接时尽量把多的数据放在where之后\n 5. 多表连接时尽量使用表的别名,减少数据库的解析时间\n 6. 在确保语句完整的情况下,多使用commit提交语句\n 7. 优化group by，将不需要的记录在group by之前过滤掉\n\n12. 查询语句常见的关键字的优先级?\n 1. select 列名 优先级高于order by\n 2. from 表明 优先级最高\n 3. where 条件 优先级次高\n 4. group by条件 优先级次于where\n 5. having 条件 优先级一定在group by之后\n 6. order by分组 优先级最低\n\n13. Oracle分页\n\nrownum，这是Oracle对动态查询结果的编号，用来实现分页查询有序的整数列，每多一条自动加1\n\n 1. 不能和 group by 在同一个查询语句中\n 2. 不能用 表名.rownum\n 3. 它肯定是从1开始\n\n * 编号21-30，实现排序效果的分页\n\nselect rownum,a.*\n   \tfrom\n   \t\t(select rownum rn,b.* \n         from (select * from student order by salary) b\n         where rownum <=30) a\n   \twhere\n   \t\ta.rn >=21;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 第五天\n\n1. mysql 引擎 b+树索引（文件系统常用索引）\n\n> https://www.cnblogs.com/tiancai/p/9024351.html\n\n * 平衡二叉树：每个节点只保存一份数据\n\n * b树：每个节点可以保存多份数据，减少磁盘I/O所花的时间。\n\nB树在提高了IO性能的同时并没有解决元素遍历的效率低下的问题，正是为了解决这个问题，B+树应用而生。B+树只需要去遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作或者说效率太低。\n\n * b+树：只有最底层的叶子节点（文件）保存数据，非叶子节点只保存索引。\n\n由于B+树的数据都存储在叶子结点中，分支结点均为索引，方便扫库，只需要扫一遍叶子结点即可，但是B树因为其分支结点同样存储着数据，我们要找到具体的数据，需要进行一次中序遍历按序来扫，所以B+树更加适合在区间查询的情况，所以通常B+树用于数据库索引。\n\n非叶子节点的子树指针与关键字个数相同。B+树的查询效率更加稳定：由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。",normalizedContent:"# 第一天\n\n1. 分页怎么实现的\n * mysql分页使用limit：select 列名 from 表名 limit 10,10;\n * oracle分页使用rownum：select a.* from (select rownum rw, 列名 from 表名 where 条件) a where a.rw>数字 and a.rw<=y;\n\n2. sql语句优化\n 1. 合理使用索引\n 2. 用exists代替in，exists是直接判断存不存在，而in会挨个比较\n 3. 复杂的业务功能可以使用存储过程\n 4. 应尽量避免在 where 子句中使用!=、<>、or、in、not in操作符，否则将引擎放弃使用索引而进行全表扫描\n 5. 能多表关联的尽量不写子查询\n 6. 避免%xxx式查询，前置%查询会导致查全表\n\n3. oracle中drop 和truncate的区别？\n * drop是删除表，不会释放表原先占有的内存空间；\n * truncate是截断表，能够释放表中数据所占有的内存空间，保留表结构；\n\n如果使用drop table 表名 purge;语句则能够直接释放表占有的内存空间。\n\n4. delete，drop，truncate 区别？\n\ndelete，drop，truncate 都有删除表的作用，区别在于：\n\n * delete 和 truncate 仅仅删除表数据，drop 连表数据和表结构一起删除，打个比方，delete 是单杀，truncate 是团灭，drop 是把电脑摔了。\n * delete 是 dml 语句，操作完以后如果没有不想提交事务还可以回滚，truncate 和 drop 是 ddl 语句，操作完马上生效，不能回滚，打个比方，delete 是发微信说分手，后悔还可以撤回，truncate 和 drop 是直接扇耳光说滚，不能反悔。\n * 执行的速度上，drop>truncate>delete，打个比方，drop 是神舟火箭，truncate 是和谐号动车，delete 是自行车。\n\n5. 左外连接，右外连接，说一下?\n\n * 左外连接：from 原表 left join 新表 on 关联关系\n   原表和新表能够关联的数据+无法通过关联关系关联到原表的数据\n\n * 右外连接：from 原表 right join 新表 on 关联关系\n   原表和新表能够关联的数据+无法通过关联关系关联到新表的数据\n\n6. sql语句中怎么判断一个字段是不是空\n\n与空判断使用is null或者is not null\n\n7. 数据源、数据库连接池、dbcp三者的关系？\n 1. 数据源：是连接数据库的一个标准\n 2. 数据库：连接池是实现数据源的一种解决方案\n 3. dbcp：是连接池的具体实现\n\n\n# 第二天\n\n1. mysql和oracle的区别\n 1. oracle使用rownum来实现分页，mysql使用limit实现分页\n\n-- - mysql查询行号\nselect \n\tw.id,\n\t@rowno := @rowno + 1 as rowno,\n\t-- 查到当前这一行的行号\n\tcase when w.id ='123456' then\n@rowno end currentrowno \n\tfrom table w order by w.rowno;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n 2. oracle没有主键自增特性,可以使用调用序列的方式来实现主键自增；mysql可以在主键列之后添加auto_increment设置自增特性\n 3. oracle有表空间的概念，mysql没有表空间\n 4. oracle的分组函数中select之后不能直接写非分组的其他列；mysql如果没有聚组函数则可以写 其他列\n 5. oracle的表存放在用户（其实是schema对象）所属的表空间的数据文件中，   mysql的表存放在某个database中（mysql一个root用户下可以有很多database）\n 6. oracle中的一些函数和mysql也不一样 如：oracle：substr('abcd',2,2) ，mysql：substring('abcd',2,2),oracle：to_char(sysdate,'yyyy-mm-dd') ，mysql：date_format(now(),'%y-%m-%d')\n 7. oracle中的字符类型可以使用varchar2，mysql不能使用该类型\n\n2. jdbc怎样执行sql语句？\n 1. 加载驱动\n 2. 通过驱动管理对象获得连接\n 3. 获得执行器对象编写sql语句,java中用string类型表示sql\n 4. 通过执行器执行sql语句\n    常用的执行sql语句的方法有:  execute()  boolean (执行select语句时返回true,因为select能够返回一个查询结果 其他命令开头的语句返回false)； executeupdate()  int； executequery()   resultset\n 5. 释放资源\n\n3. 索引用过吗？在什么情况下会导致索引失效？用索引还需要注意哪些问题呢？索引分为几种？\n\n * 用过；如果有索引的列空值比较多、重复数据比较多的话索引不起作用。   通常索引用在查询较多而增删改较少的列，因为索引也会花时间自己维护会降低增删改的效率。\n\n * 常用的索引有普通索引、唯一性索引、位图索引，如果某个列上经常使用函数，还可以建一个函数索引。\n\n4. like 用过吗？怎么用的？\n\nlike常用来实现模糊查询，与%和_匹配使用，如果需要匹配特殊字符，则需要使用escape逃离符。\n例:搜索以“qa_”开头的数据：select code from 表 where code like 'qa/_%' escape '/'\n\n5. union 和union all的区别\n * 都是取并集，可以用来代替 or\n\n例如：有{1，2，3}和{2，3，4}\n  union 能够去除重复数据 (做排序操作)（1，2，3，4）\n  union all 不会做去重操作 效率高 （1，2，2，3，3，4）\n\n * 多个查询语句必须有相同的列数\n   多个查询语句中的列对应的数据类型必须一致\n   如：select ename,job from emp01   union   select ename,job from emp02;\n\n6. 事务的特性\n * 事务四大特性(简称acid)\n\n 1. 原子性(atomicity)： 事务中的全部操作在数据库中是不可分割的，要么全部完成，要么均不执行。\n 2. 一致性(consistency)： 事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。\n 3. 隔离性(isolation)： 事务的执行不受其他事务的干扰。\n 4. 持久性(durability)： 能够将提交的数据持久化到数据库中。\n\n7. 什么是事务？特征？jdbc如何控制事务？\n\n * 多条sql语句作为 一个执行单元，要么全部执行，要么全不执行\n\n * 四大特性：原子性，一致性，隔离性，持久性\n\n * jdbc控制事务：\n   \n   * 开始事务：connection.setautocommit(false);\n   * 执行sql语句\n   * 提交:connection.commit();\n   * 回滚：connection.rollback();\n\n\n# 第三天\n\n1. 存储过程、视图、触发器\n\n * 存储过程 procedure： 在服务器端，能够被多个程序调用的一段sql语句块。\n   简单来说就是事先用数据库语言写好的一段功能，能够像函数一样被程序调用，但是存储过程本身没有返回值，是通过返回参数的形式返回数据。\n\n * 视图 view ： 视图其实就是伪表，将编译后的sql语句保存在数据库中，拿出只想让用户看见的字段，这就是视图。\n   一般来讲视图不能创建索引（因为视图本身只是一个编译后的查询语句，索引只能创建在表的列上），但是oracle提供了一种物化视图可以创建索引（物化视图：虽然叫视图但是实际类似于表，将数据暂时存储并在基表刷新或者提交数据时刷新本视图以便与基表数据保持一致）。\n\n * 触发器 trigger： 一种特殊的存储过程，不需要调用，在满足条件时触发。\n   触发条件：在对某个表做insert 、 update 或delete操作之前或之后（取决于如何实现）自动执行\n\n2. 如何调用存储过程？\n 1. jdbc中使用callablestatement执行器对象，通过execute(\"{call  过程名(?,?)}\") 的方式来调用；\n 2. pl/sql developer工具中可以通过declare begin 过程名(参数);  end;的方式调用；\n\n3. 备份数据\n 1. 第一种方式： 通过导入导出命令备份数据库中全部数据\n    oracle用exp命令导出数据，mysql使用mysqldump命令备份数据\n 2. 第二种方式： 使用工具导出数据\n\n4. in与exists的区别? 那个效率更高?\n\nexists效率更高\n\n * in :需要通过条件比较结果中的所有数据\n * exists: 只关心子查询能够查询出数据\n\n5. 悲观锁与乐观锁?\n\n * 悲观锁: 在操作表时认为另外一个对表的操作会修改数据\n   1.所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻塞直到它拿到锁（共享资源每次只给一个线程使用，其它线程阻塞，用完后再把资源转让给其它线程）。\n   2.java中synchronized和reentrantlock等独占锁就是悲观锁思想的实现。\n   3.传统的关系型数据库里边就用到了很多这种锁机制，比如行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁。\n\n * 乐观锁: 在操作表时认为别的操作不会对表有修改数据的操作\n   1.所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，可以使用版本号机制(原子类)和cas算法实现。\n   2.乐观锁适用于多读的应用类型，这样可以提高吞吐量。\n\n6. hibernate中常见的主键增长策略？\n * assigned:在调用save方法之前设置，自定义主键增长方式\n * identity:建表语句必须支持auto_increment\n * sequence:指定序列生成主键\n * native:底层自动选择合适的策略\n * increment：最大值+1的方式\n * uuid:生成32为字符串\n\n\n# 第四天\n\n1. 结构化查询语言都是什么？\n 1. ddl alter drop truncate create\n 2. dml insert delete update\n 3. dql select\n 4. dcl grant revoke\n 5. tcl commit rollback savepoint\n\n2. drop和truncate的区别?\n * drop：删除表结构和表数据(如果删除表空间的话需要+purge)\n * truncate：删除表数据和表空间，会保留表结构\n\n3. 组函数?多行函数?\n * sum() avg() count() max() min()\n\n4. 怎么去重？\n 1. distinct 专业去重(支持多列) select distinct salary,name from student;\n 2. group by 聚合统计\n\n5. 什么时候使用多表连接？什么时候使用子查询？\n 1. 如果需要查询的数据在多个表中,一定要使用多表连接\n 2. 不需要表a中的列,但是下需要表a中的条件,可以用子查询\n 3. 子查询中如果使用了in some any all这几个关键字,效率比较低,可以转换成多表关联\n\n6. 为什么要使用视图?\n 1. 节省编译时间,提高查询效率\n 2. 屏蔽原表中的字段，避免没有权限的用户查询到其他字段\n 3. 视图的数据能够动态的来源于原表\n 4. 简单的视图可以更新视图中的数据，复杂的视图无法更新\n    create view 视图名 as select name from student;\n\n7. 为什么要给普通用户创建属于自己的表空间?\n 1. 项目中很有可能与其他项目使用同一个数据库, 多个用户在使用用一个数据库时有可能访问同一个数据库文件, 就会产生资源争用的问题。给不同的用户指定不同的表空间， 就可以让他们使用不同的数据库文件，解决资源争用的问题。\n 2. 给予用户部分权限\n\n8. 约束有哪几种?\n 1. 外键约束 foreign key references\n 2. 唯一约束 unique\n 3. 非空约束 not null\n 4. 主键约束 primary key\n 5. 检查约束 check\n\n9. 索引有哪几种?\n 1. 函数索引\n 2. 普通索引 normal\n 3. 唯一索引 unique\n 4. 位图索引 bitmap（适合在数据量比较大，基数比较小的列 如：男/女）\n\n10. 索引的优缺点?\n * 能够更快的帮助我们提高查询效率\n * 索引会降低数据库的增删改的效率，因为数据库需要花时间去维护索引,所以索引适合数据量比较大而且数据不经常改动的列\n\n11. sql语句怎么优化?\n 1. 尽量用exists代替in\n 2. 合理使用索引\n 3. 查询多个表中的数据时,尽量用多表连接\n 4. 多表连接时尽量把多的数据放在where之后\n 5. 多表连接时尽量使用表的别名,减少数据库的解析时间\n 6. 在确保语句完整的情况下,多使用commit提交语句\n 7. 优化group by，将不需要的记录在group by之前过滤掉\n\n12. 查询语句常见的关键字的优先级?\n 1. select 列名 优先级高于order by\n 2. from 表明 优先级最高\n 3. where 条件 优先级次高\n 4. group by条件 优先级次于where\n 5. having 条件 优先级一定在group by之后\n 6. order by分组 优先级最低\n\n13. oracle分页\n\nrownum，这是oracle对动态查询结果的编号，用来实现分页查询有序的整数列，每多一条自动加1\n\n 1. 不能和 group by 在同一个查询语句中\n 2. 不能用 表名.rownum\n 3. 它肯定是从1开始\n\n * 编号21-30，实现排序效果的分页\n\nselect rownum,a.*\n   \tfrom\n   \t\t(select rownum rn,b.* \n         from (select * from student order by salary) b\n         where rownum <=30) a\n   \twhere\n   \t\ta.rn >=21;\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 第五天\n\n1. mysql 引擎 b+树索引（文件系统常用索引）\n\n> https://www.cnblogs.com/tiancai/p/9024351.html\n\n * 平衡二叉树：每个节点只保存一份数据\n\n * b树：每个节点可以保存多份数据，减少磁盘i/o所花的时间。\n\nb树在提高了io性能的同时并没有解决元素遍历的效率低下的问题，正是为了解决这个问题，b+树应用而生。b+树只需要去遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而b树不支持这样的操作或者说效率太低。\n\n * b+树：只有最底层的叶子节点（文件）保存数据，非叶子节点只保存索引。\n\n由于b+树的数据都存储在叶子结点中，分支结点均为索引，方便扫库，只需要扫一遍叶子结点即可，但是b树因为其分支结点同样存储着数据，我们要找到具体的数据，需要进行一次中序遍历按序来扫，所以b+树更加适合在区间查询的情况，所以通常b+树用于数据库索引。\n\n非叶子节点的子树指针与关键字个数相同。b+树的查询效率更加稳定：由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-前端进阶篇",frontmatter:{title:"Q&A宝典-前端进阶篇",date:"2023-05-24T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_fe_002.html",relativePath:"views/qaq/sum_fe_002.md",key:"v-066c4e69",path:"/views/qaq/sum_fe_002.html",headers:[{level:2,title:"Servlet(单实例多线程)",slug:"servlet-单实例多线程",normalizedTitle:"servlet(单实例多线程)",charIndex:2},{level:2,title:"偏后端",slug:"偏后端",normalizedTitle:"偏后端",charIndex:1185}],headersStr:"Servlet(单实例多线程) 偏后端",content:'# Servlet(单实例多线程)\n\n1.Servlet的生命周期\n 1. 构造方法\n 2. 初始化方法init()\n 3. service方法(由容器帮我们调用,不建议重写)\n 4. doGet/doPost方法(需要我们来进行逻辑处理)\n 5. 销毁方法destory()\n\n2. Servlet的四个范围及其局限性\n\n> 因为可以通过这四个对象setAttribute()传值。\n\n 1. pageContext：第一范围,页面跳转立即失效\n 2. HttpServletRequest：第二范围,重定向失效\n 3. HttpSession：第三范围,默认有效期到或者浏览器关闭失效\n 4. ServletContext：第四范围,只要tomcat开着一直有效\n\n3. 两种跳转方式\n\n 1. 请求转发\n    跳转之后浏览器地址栏不发生改变；\n    跳转之前执行的是doGet/doPost，跳转之后还是执行的这个方法\n\n 2. 重定向\n    跳转之后浏览器地址栏发生改变；\n    跳转之后肯定执行doGet方法；\n    request第二范围失效(因为浏览器发送的不是同一个请求了)\n\n4. session保存信息及删除\n * 保存信息：\n   session.setAttribute("n",name);\n   String name = (String)sessin.getAttribute("n");\n * 删除信息：\n   session.removeAttribute("n");\n   session.invalidate()是把session内的所有属性都清除;\n\n5. Cookie HttpSession两种会话机制比较\n * Cookie:\n   浏览器提供的会话信息,安全性较低；\n   Cookie cookie = new Cookie(String,String)；\n   cookie仅支持字符串，默认不支持中文，是将信息保存到客户端本地\n * session:\n   服务器提供的会话信息，安全性较高；\n   session的信息当默认时间到期(期间没有任何操作!!)或者关闭浏览器或者调用invalidate() 之后失效\n\n> 不过现在一般都用基于客户端的JWT，轻便安全高效\n\n6. Cookie和Session之间有什么联系,如果有,请说出他们的联系\n 1. session默认依靠cookie维持，如果cookie被禁用，那么session会话机制失效\n 2. session是由servlet容器创建的\n    当用户getSession()时，web容器会先去cookie查找有没有这个session的id，如果没有，那么cookie就会分配一个就jsessionid并且保存在cookie中\n\n\n# 偏后端\n\n1. Servlet核心的API？\n\nJavax.servlet.Servlet\n\nJavax.servlet.ServletConfig\n\nJavax.servlet.http.HttpServlet\n\nHttpServletRequest，HttpServletResponse\n\n2. Servlet/jsp中的对象的创建、实现和调用？\n\n                创建者   实现者   调用者\nServlet         容器    我们    容器\nServletConfig   容器    容器    我们\nCookie          我们    容器    我们\nSession         容器    容器    我们',normalizedContent:'# servlet(单实例多线程)\n\n1.servlet的生命周期\n 1. 构造方法\n 2. 初始化方法init()\n 3. service方法(由容器帮我们调用,不建议重写)\n 4. doget/dopost方法(需要我们来进行逻辑处理)\n 5. 销毁方法destory()\n\n2. servlet的四个范围及其局限性\n\n> 因为可以通过这四个对象setattribute()传值。\n\n 1. pagecontext：第一范围,页面跳转立即失效\n 2. httpservletrequest：第二范围,重定向失效\n 3. httpsession：第三范围,默认有效期到或者浏览器关闭失效\n 4. servletcontext：第四范围,只要tomcat开着一直有效\n\n3. 两种跳转方式\n\n 1. 请求转发\n    跳转之后浏览器地址栏不发生改变；\n    跳转之前执行的是doget/dopost，跳转之后还是执行的这个方法\n\n 2. 重定向\n    跳转之后浏览器地址栏发生改变；\n    跳转之后肯定执行doget方法；\n    request第二范围失效(因为浏览器发送的不是同一个请求了)\n\n4. session保存信息及删除\n * 保存信息：\n   session.setattribute("n",name);\n   string name = (string)sessin.getattribute("n");\n * 删除信息：\n   session.removeattribute("n");\n   session.invalidate()是把session内的所有属性都清除;\n\n5. cookie httpsession两种会话机制比较\n * cookie:\n   浏览器提供的会话信息,安全性较低；\n   cookie cookie = new cookie(string,string)；\n   cookie仅支持字符串，默认不支持中文，是将信息保存到客户端本地\n * session:\n   服务器提供的会话信息，安全性较高；\n   session的信息当默认时间到期(期间没有任何操作!!)或者关闭浏览器或者调用invalidate() 之后失效\n\n> 不过现在一般都用基于客户端的jwt，轻便安全高效\n\n6. cookie和session之间有什么联系,如果有,请说出他们的联系\n 1. session默认依靠cookie维持，如果cookie被禁用，那么session会话机制失效\n 2. session是由servlet容器创建的\n    当用户getsession()时，web容器会先去cookie查找有没有这个session的id，如果没有，那么cookie就会分配一个就jsessionid并且保存在cookie中\n\n\n# 偏后端\n\n1. servlet核心的api？\n\njavax.servlet.servlet\n\njavax.servlet.servletconfig\n\njavax.servlet.http.httpservlet\n\nhttpservletrequest，httpservletresponse\n\n2. servlet/jsp中的对象的创建、实现和调用？\n\n                创建者   实现者   调用者\nservlet         容器    我们    容器\nservletconfig   容器    容器    我们\ncookie          我们    容器    我们\nsession         容器    容器    我们',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-Java基础篇",frontmatter:{title:"Q&A宝典-Java基础篇",date:"2023-02-17T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_java_001.html",relativePath:"views/qaq/sum_java_001.md",key:"v-1aedc2e5",path:"/views/qaq/sum_java_001.html",headers:[{level:2,title:"第一天",slug:"第一天",normalizedTitle:"第一天",charIndex:2},{level:2,title:"第二天",slug:"第二天",normalizedTitle:"第二天",charIndex:1194},{level:2,title:"第三天",slug:"第三天",normalizedTitle:"第三天",charIndex:3230},{level:2,title:"第四天",slug:"第四天",normalizedTitle:"第四天",charIndex:4597},{level:2,title:"第五天",slug:"第五天",normalizedTitle:"第五天",charIndex:5918}],headersStr:"第一天 第二天 第三天 第四天 第五天",content:'# 第一天\n\n1. 常用的集合有哪些？\n\nMap接口和Collection接口是所有集合框架的父接口：\n\n * Collection接口的子接口包括：Set接口和List接口；\n * Map接口的实现类主要有：HashMap、ConcurrentHashMap、TreeMap、Hashtable以及Properties等；\n * Set接口的实现类主要有：HashSet、LinkedHashSet、TreeSet等；\n * List接口的实现类主要有：ArrayList、LinkedList、Stack、Vector等。\n\n2. 静态变量和成员变量的区别？\n * 所属不同： 静态变量属于类，所以也成为类变量；成员变量属于对象，所有也成为实例变量（对象变量）；\n * 在内存中出现的时间不同： 静态变量只在类创建时加载一次，随着类的加载而加载随着类的消失而消失；成员变量随着对象（也叫实例）的创建而存在，随着对象的消失而消失；\n * 在内存中的位置不同： 静态变量存储于方法区里的静态区，成员变量属于对内存；\n * 调用方式不同： 静态变量可以通过类名调用，也可以通过对象调用；成员变量只能通过对象调用；\n\n3. filter过滤器用过吗？一般用在什么地方？\n * 用过\n * 例如实现Servlet，Jsp或静态html等文件的拦截，从而实现一些特殊功能。\n * 例如实现URL级别的权限访问控制、过滤敏感词汇、压缩响应信息等一些高级功能。\n\n4. 多线程一般用在什么地方？\n * 多线程的作用：充分利用CPU资源，提高CPU使用率，才用多线程的方式去同时完成几件事情而不相互干扰\n * 用在什么地方：大多情况下，用到多线程主要是需要处理大量的IO操作或处理需要耗费大量时间的操作等等。比如：读写文件等。\n\n5. int和Integer的区别？\n * Integer是int的包装类，而int是Java的一种基本数据类型\n * Integer是类，必须实例化之后才能使用，而int变量不需要\n * Integer的默认值是null，而int的默认值是0\n * Integer实际是对象的引用，当new一个Integer时，实际上是生成一个指针只想此对象；而int是直接存储数据值\n\n6. 3.2E3F 里面的E/F分别表示什么？\n * E：科学计数法 3.2*10（3）\n * F:表示float类型\n\n7. switch（参数） case的参数可以传哪些数据类型？\n * jdk1.0 char byte short int\n   jdk5.0 enum(枚举)\n   jdk7.0 String\n\n8. do while 和while之间的区别？\n * do while 先执行 然后在判断 保证程序至少执行一次【先斩后奏】\n * while 先判断 符合条件在执行\n\n\n# 第二天\n\n1. list用过哪些？ArrayList如何排序？list和Set的区别？\n * 用过ArrayList、LinkedList、Vector\n   \n * 排序：sort()\n\n> List和Set的区别：\n> \n>  1. List，Set都是继承自Collection接口\n>  2. List特点：元素放入有顺序，元素可以重复。\n>     Set特点：元素放入无顺序，元素不可重复，重复元素会覆盖。\n>  3. Set和List对比：\n>     Set：检索元素效率低下，删除和插入效率高，删除和插入不会引起元素位置的改变。\n>     List：和数组类似，List可以动态增长，查找元素效率高，增删元素效率低，因为增删元素会引起其他元素位置的改变。\n\n2. 异常包括什么？说一下什么是运行时异常、非运行时异常，举例说明。\n\n * 异常是指程序运行过程当中出现的例外情况\n   \n   异常的体系结构：\n   \n   graph TB\n   \tThrowable --\x3e Error\n   \tThrowable --\x3e Exception\n   \tException --\x3e RuntimeException\n   \n   \n   1\n   2\n   3\n   4\n   \n\n异常包括：运行时异常和非运行时异常\n\n * 运行时异常(RuntimeException)：指编译能通过，直到运行的时候才体现出来\n * 非运行时异常(Exception)：指在编译的时候必须明确该如何处理，否则根本无法通过编译\n * Error：描述了Java运行时系统的内部错误或资源耗尽错误。大多数错误与代码编写无关，而表示代码运行时JVM出现的问题。应用程序不应该抛出这种类型的对象。\n\n常见的运行时异常(RuntimeException)有：\n\n 1. IndexOutOfBoundsException（下标越界异常）\n 2. NullPointerException（空指针异常）\n 3. NumberFormatException（String转换为指定的数字异常）\n 4. ArithmeticException（算术异常，如除数为0）\n 5. FileNotFoundException（文件未找到异常）\n 6. IOException（操作输入流和输出流时可能出现的异常，如磁盘损坏等）\n\n3. 线程的实现方式\n\n 1. 继承Thread类，重写run方法 (其实Thread类本身也实现了Runnable接口)\n\n 2. 实现Runnable接口， 重写run方法。（传入Thread类的构造方法中，由Thread的start启用线程）\n\n 3. 实现Callable接口，重写call方法(有抛出异常和有返回值)\n    \n    通过Callable和FutureTask创建线程，将Callable实现类传入FutureTask构造方法中，由FutureTask的start方法启用线程\n\n 4. 通过线程池创建线程\n\n4. 怎么处理异常\n * 抛还上级：throws\n * 自行处理：try catch finally\n\n5. 多态的实现机制\n\nJava中实现多态的机制靠的是： 父类或接口定义的引用变量可以指向子类或具体的实现类的实例对象，而程序调的方法在运行期才动态绑定，就是引用变量所指向的具体实例对象的方法，也就是内存里正在运行的那个对象的方法，而不是引用变量的类型中定义的方法。\n\n> 一句话：父类或接口引用指向具体的实例对象\n\n多态的不同表现形式：方法的重写和重载就是Java多态的不同表现\n\n * 重写Overriding是父类与子类之间多态的一种表现\n * 重载OverLoding是一个类中多态的一种表现\n\n6. Java简单运算面试题\n\nshort x = 1;\nx = x + 1;//左边short = 右边int？\nSystem.out.println(x);//报错\n\nshort y = 1;\ny += 1;//y = (short)(y + 1); +=会自动转换\nSystem.out.println(y);//2\n\n\n1\n2\n3\n4\n5\n6\n7\n\n7. StringBuffer和StringBuilder之间的区别？\n * StringBuffer和StringBuilder在创建对象的时候 都会多预留16块缓冲区\n\n 1. StringBuffer 同一时间允许一个线程进行访问，效率较低，但是不会出现并发错误\n 2. StringBuilder 同一时间允许多个线程进行访问，效率较高，但是可能会出现并发错误\n\n8. 为什么不把一个类所有的方法全部定义成静态的呢？\n * 静态方法里面只能直接的访问静态成员\n * 如果想要在静态方法里面访问非静态成员的话，需要先创建对象，拿着对象去调用\n\n\n# 第三天\n\n1. &和&&的区别\n\n&和&&都可以作为逻辑运算符使用\n\n&&有短路特性，当通过前面条件能够得知最终表达式结论的话，后面的条件会短路掉不做判断，所以效率更高。&没有短路特性，两边的条件都会进行判断。\n\n另外&还是按位运算符的按位与运算。当&左右两边连接的是整数类型的时候作为二进制按位与运算，也就是将两个数的二进制位都是1的结果写1。\n\n2. final，finally，finalize的区别\n\n * final是一个修饰符，可以用于修饰类、方法、变量\n   \n   修饰类代表最终类，表示不能被继承\n   修饰方法代表最终方法，表示此方法不能被覆盖（但是可以被继承）\n   修饰表示引用地址或值不能被修改\n\n * finally是异常处理的语法结构，表示无论是否出现异常最终都要执行的操作。\n   \n   通常是释放和关闭资源的操作（如数据库连接和文件io流的关闭）\n\n * finalize是Object类中的一个方法，表示在gc回收对象之前会调用这个方法\n\n3. String和StringBuffer的区别\n\nString和StringBuffer都是Java当中提供的字符串类型，其中String没有预留缓冲空间，而StringBuffer会在原先内容的基础上预留一部分的缓冲空间。\n\n> String： "a" + "b" 相当于创建了一个新对象，返回值是”ab"。\n> StringBuffer： sbuff.append("b")相当于还是在原先的对象上进行修改值。\n\n4. 请说出你所知道的线程同步的方法\n\n * synchronize修饰符\n   \n   修饰代码块\n   修饰方法\n\n * java.util.concurrent.locks.ReentrantLock（并发包中的可重入锁）\n   \n   Lock lock = new ReentrantLock();\n   其中lock.lock()用于上锁，lock.unLock()用于释放锁\n\n5. 在Java中，如何跳出当前的多重循环\n\n 1. break加循环标签，如：\n    \n    example_this:for(int x=0; x<10; x++) {\n        if(...) {\n            break example_this;//结束循环\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. 使用return\n\n 3. 使用System.exit(0);结束虚拟机\n\n6. 接口是否可以继承？抽象类时候可以实现接口？抽象类是否可以继承实体类？\n\n接口可以继承接口，而且可以多继承，多个接口之间用,隔开；\n\n抽象类可以实现接口，而且可以暂时不实现接口当中要求的抽象方法，因为抽象类中本身就可以有抽象方法留待子类具体实现；\n\n抽象类可以继承实体类，如果继承的实体类没有默认的无参构造方法，需要写出抽象类的构造方法并在其构造方法的首行使用super()传参来明确指定调用父类的哪个构造方法。\n\n7. 抽象类是类 有构造方法 但是不能创建对象那么要构造方法的作用？\n * 给子类构造方法首行的super去调用的\n\n\n# 第四天\n\n1. ==和equals的区别？\n\n * ==：是一个运算符，用于比较两端的内容是否相等\n   \n   基本数据类型：两端的值是否相等\n   引用类型：内存地址是否相等\n\n * equals：是Object类的一个方法。子类继承这个方法之后可以按照自己的逻辑需求覆盖这个方法，从而描述自己的比较规则。 例如：String类就将equals()方法覆盖为比较字符串的内容\n\n2. 怎么解决死锁？\n * wait()，notify()，notifyAll()\n\n使用 wait() 让当前线程(a)放弃锁标记进入等待池当中阻塞，从而成全另外的线程(b)能够成功获得它(b)需要的锁标记之后再调用 notify() 或者 notifyAll() 唤醒线程(a)，让线程(a)从等待池进入锁池等待获得锁标记\n\n> [注意这三个方法都必须已经持有锁标记才能调用所以他们只能出现在synchronized代码块当中]\n\n3. 线程的生命周期\n\n新生 就绪 运行 消亡 阻塞（等待池 锁池）\n\n4. 线程池\n\n * 可重用的线程池，方法的参数表示同一时间允许多少个线程并发执行，当线程执行完时，线程将被归还给线程池 Executors.newFixedThreadPool(2);\n\n * 带缓存机制的线城池，当线程执行完时，线程将被归还给线程池，如果一分钟之内没有其他线程被提交， 线程将会消亡 Executors.newCachedThreadPool();\n\n * 单一执行器：同一时间仅允许一条线程执行 Executors.newSingleThreadExcutor()\n\n5. 简述JDBC中Statement和PrepareStatement的区别\n 1. 两者同为接口 , PreparedStatement是Statement的子类\n 2. Statement 只能执行静态语句 PreparedStatement存在一个强大缓存区，相同的sql语句执行相同语句结构仅仅编译一次，PreparedStatement仅对改动数据进行修改而不再进行编译，而Statement只要语句发生了改变，则必须重新进行编译\n 3. PreparedStatement支持对sql语句使用 ?占位符，杜绝了 sql注入安全隐患\n 4. 如果sql语句不需要多次执行，或者?过多，则效率可能较Statement低\n\n6. 简述 execute() executeUpdate() executeQuery() executeBatch()的使用场合，返回值?\n\n                  返回类型        使用场合\nexecute()         boolean     执行dql语句返回true，dml语句返回false\nexecuteUpdate()   int         执行dml返回更改记录数，dql立刻报错\nexecuteQuery()    ResultSet   执行dql语句返回结果集\nexecuteBatch()    int[]       只能执行dml语句，返回更改的记录数的数组\n\n\n# 第五天\n\n1. Java当中如何实现数据共享~\n 1. 使用静态变量完成数据共享\n 2. 使用参数传递完成数据共享\n 3. 使用内部类完成数据共享\n\n2. 为什么要使用内部类？\n\n内部类是Java当中 共享数据最最简单的方式之一\n\n3. 内部类都有哪几种？\n\n成员内部类、静态内部类、局部内部类、匿名内部类\n\n4. 如何自定义异常和如何主动制造异常出现的场景？\n\n * 自定义异常\n   \n   自己写一个类型继承Exception => 非运行时异常\n   自己写一个类型继承RuntimeException => 运行时异常\n\n * 如何主动制造异常出现的场景\n   \n   throw new 异常的类型();\n\n5. throw 和 throws 的区别?\n\n * throw 用在方法体当中\n   \n   在没有异常出现的情况下主动制造异常出现的场景 [没事找事型]\n\n * throws 用在方法签名的最后\n   \n   表明本方法当中出现指定种类的异常 本方法不做处理\n   抛还给调用的上级进行处理 [有事甩锅型]\n\n6. 如何控制线程?\n 1. setPriority(int) : 设置线程优先级别 可选范围 1-10 默认5\n    优先级越高 代表抢到时间片的概率越高\n 2. static sleep(long) : 让当前线程休眠指定的毫秒数\n 3. static yield() : 让当前线程直接放弃时间片返回就绪\n 4. join() : 当前线程邀请另一个线程优先执行\n\n7. 如何解决并发错误?\n * synchronized(临界资源){执行操作}\n * 可重入锁java.util.concurrent.locks.ReentrantLock\n\n8. 如何解决死锁?\n\n * 一块空间 : 等待池\n\n * 三个方法 :\n   \n   1. wait() : 让当前线程放弃已经持有的锁标记 并且进入调用方法那个对象等待池当中\n   2. notify() : 从调用方法的那个对象的等待池当中 随机的唤醒一个线程\n   3. notifyAll() : 从调用方法的那个对象的等待池当中 唤醒所有线程\n\n> 这三个方法不是线程类的 是Object类的\n> 这三个方法必须在已经持有锁标记的前提下才能使用，否则不但失败 还会触发异常\n\n9. 锁池和等待池的区别？\n 1. 进入的时候是否需要释放锁标记\n    * 锁池：不需要 所以可能会造成死锁\n    * 等待池：需要 先释放锁标记才能进入等待池\n 2. 离开的时候是否需要调用方法\n    * 锁池：不需要 只要锁标记再度可用\n    * 等待池：需要 必须要notify() 或 notifyAll()\n 3. 离开之后去往何方：\n    * 锁池：就绪\n    * 等待池：锁池\n\n10. 流的分类?\n\n * 按照方向分：输入流 输出流\n   \n   按照单位分：字节流 字符流\n   \n   按照功能分：节点流 处理流（过滤流、包装流）',normalizedContent:'# 第一天\n\n1. 常用的集合有哪些？\n\nmap接口和collection接口是所有集合框架的父接口：\n\n * collection接口的子接口包括：set接口和list接口；\n * map接口的实现类主要有：hashmap、concurrenthashmap、treemap、hashtable以及properties等；\n * set接口的实现类主要有：hashset、linkedhashset、treeset等；\n * list接口的实现类主要有：arraylist、linkedlist、stack、vector等。\n\n2. 静态变量和成员变量的区别？\n * 所属不同： 静态变量属于类，所以也成为类变量；成员变量属于对象，所有也成为实例变量（对象变量）；\n * 在内存中出现的时间不同： 静态变量只在类创建时加载一次，随着类的加载而加载随着类的消失而消失；成员变量随着对象（也叫实例）的创建而存在，随着对象的消失而消失；\n * 在内存中的位置不同： 静态变量存储于方法区里的静态区，成员变量属于对内存；\n * 调用方式不同： 静态变量可以通过类名调用，也可以通过对象调用；成员变量只能通过对象调用；\n\n3. filter过滤器用过吗？一般用在什么地方？\n * 用过\n * 例如实现servlet，jsp或静态html等文件的拦截，从而实现一些特殊功能。\n * 例如实现url级别的权限访问控制、过滤敏感词汇、压缩响应信息等一些高级功能。\n\n4. 多线程一般用在什么地方？\n * 多线程的作用：充分利用cpu资源，提高cpu使用率，才用多线程的方式去同时完成几件事情而不相互干扰\n * 用在什么地方：大多情况下，用到多线程主要是需要处理大量的io操作或处理需要耗费大量时间的操作等等。比如：读写文件等。\n\n5. int和integer的区别？\n * integer是int的包装类，而int是java的一种基本数据类型\n * integer是类，必须实例化之后才能使用，而int变量不需要\n * integer的默认值是null，而int的默认值是0\n * integer实际是对象的引用，当new一个integer时，实际上是生成一个指针只想此对象；而int是直接存储数据值\n\n6. 3.2e3f 里面的e/f分别表示什么？\n * e：科学计数法 3.2*10（3）\n * f:表示float类型\n\n7. switch（参数） case的参数可以传哪些数据类型？\n * jdk1.0 char byte short int\n   jdk5.0 enum(枚举)\n   jdk7.0 string\n\n8. do while 和while之间的区别？\n * do while 先执行 然后在判断 保证程序至少执行一次【先斩后奏】\n * while 先判断 符合条件在执行\n\n\n# 第二天\n\n1. list用过哪些？arraylist如何排序？list和set的区别？\n * 用过arraylist、linkedlist、vector\n   \n * 排序：sort()\n\n> list和set的区别：\n> \n>  1. list，set都是继承自collection接口\n>  2. list特点：元素放入有顺序，元素可以重复。\n>     set特点：元素放入无顺序，元素不可重复，重复元素会覆盖。\n>  3. set和list对比：\n>     set：检索元素效率低下，删除和插入效率高，删除和插入不会引起元素位置的改变。\n>     list：和数组类似，list可以动态增长，查找元素效率高，增删元素效率低，因为增删元素会引起其他元素位置的改变。\n\n2. 异常包括什么？说一下什么是运行时异常、非运行时异常，举例说明。\n\n * 异常是指程序运行过程当中出现的例外情况\n   \n   异常的体系结构：\n   \n   graph tb\n   \tthrowable --\x3e error\n   \tthrowable --\x3e exception\n   \texception --\x3e runtimeexception\n   \n   \n   1\n   2\n   3\n   4\n   \n\n异常包括：运行时异常和非运行时异常\n\n * 运行时异常(runtimeexception)：指编译能通过，直到运行的时候才体现出来\n * 非运行时异常(exception)：指在编译的时候必须明确该如何处理，否则根本无法通过编译\n * error：描述了java运行时系统的内部错误或资源耗尽错误。大多数错误与代码编写无关，而表示代码运行时jvm出现的问题。应用程序不应该抛出这种类型的对象。\n\n常见的运行时异常(runtimeexception)有：\n\n 1. indexoutofboundsexception（下标越界异常）\n 2. nullpointerexception（空指针异常）\n 3. numberformatexception（string转换为指定的数字异常）\n 4. arithmeticexception（算术异常，如除数为0）\n 5. filenotfoundexception（文件未找到异常）\n 6. ioexception（操作输入流和输出流时可能出现的异常，如磁盘损坏等）\n\n3. 线程的实现方式\n\n 1. 继承thread类，重写run方法 (其实thread类本身也实现了runnable接口)\n\n 2. 实现runnable接口， 重写run方法。（传入thread类的构造方法中，由thread的start启用线程）\n\n 3. 实现callable接口，重写call方法(有抛出异常和有返回值)\n    \n    通过callable和futuretask创建线程，将callable实现类传入futuretask构造方法中，由futuretask的start方法启用线程\n\n 4. 通过线程池创建线程\n\n4. 怎么处理异常\n * 抛还上级：throws\n * 自行处理：try catch finally\n\n5. 多态的实现机制\n\njava中实现多态的机制靠的是： 父类或接口定义的引用变量可以指向子类或具体的实现类的实例对象，而程序调的方法在运行期才动态绑定，就是引用变量所指向的具体实例对象的方法，也就是内存里正在运行的那个对象的方法，而不是引用变量的类型中定义的方法。\n\n> 一句话：父类或接口引用指向具体的实例对象\n\n多态的不同表现形式：方法的重写和重载就是java多态的不同表现\n\n * 重写overriding是父类与子类之间多态的一种表现\n * 重载overloding是一个类中多态的一种表现\n\n6. java简单运算面试题\n\nshort x = 1;\nx = x + 1;//左边short = 右边int？\nsystem.out.println(x);//报错\n\nshort y = 1;\ny += 1;//y = (short)(y + 1); +=会自动转换\nsystem.out.println(y);//2\n\n\n1\n2\n3\n4\n5\n6\n7\n\n7. stringbuffer和stringbuilder之间的区别？\n * stringbuffer和stringbuilder在创建对象的时候 都会多预留16块缓冲区\n\n 1. stringbuffer 同一时间允许一个线程进行访问，效率较低，但是不会出现并发错误\n 2. stringbuilder 同一时间允许多个线程进行访问，效率较高，但是可能会出现并发错误\n\n8. 为什么不把一个类所有的方法全部定义成静态的呢？\n * 静态方法里面只能直接的访问静态成员\n * 如果想要在静态方法里面访问非静态成员的话，需要先创建对象，拿着对象去调用\n\n\n# 第三天\n\n1. &和&&的区别\n\n&和&&都可以作为逻辑运算符使用\n\n&&有短路特性，当通过前面条件能够得知最终表达式结论的话，后面的条件会短路掉不做判断，所以效率更高。&没有短路特性，两边的条件都会进行判断。\n\n另外&还是按位运算符的按位与运算。当&左右两边连接的是整数类型的时候作为二进制按位与运算，也就是将两个数的二进制位都是1的结果写1。\n\n2. final，finally，finalize的区别\n\n * final是一个修饰符，可以用于修饰类、方法、变量\n   \n   修饰类代表最终类，表示不能被继承\n   修饰方法代表最终方法，表示此方法不能被覆盖（但是可以被继承）\n   修饰表示引用地址或值不能被修改\n\n * finally是异常处理的语法结构，表示无论是否出现异常最终都要执行的操作。\n   \n   通常是释放和关闭资源的操作（如数据库连接和文件io流的关闭）\n\n * finalize是object类中的一个方法，表示在gc回收对象之前会调用这个方法\n\n3. string和stringbuffer的区别\n\nstring和stringbuffer都是java当中提供的字符串类型，其中string没有预留缓冲空间，而stringbuffer会在原先内容的基础上预留一部分的缓冲空间。\n\n> string： "a" + "b" 相当于创建了一个新对象，返回值是”ab"。\n> stringbuffer： sbuff.append("b")相当于还是在原先的对象上进行修改值。\n\n4. 请说出你所知道的线程同步的方法\n\n * synchronize修饰符\n   \n   修饰代码块\n   修饰方法\n\n * java.util.concurrent.locks.reentrantlock（并发包中的可重入锁）\n   \n   lock lock = new reentrantlock();\n   其中lock.lock()用于上锁，lock.unlock()用于释放锁\n\n5. 在java中，如何跳出当前的多重循环\n\n 1. break加循环标签，如：\n    \n    example_this:for(int x=0; x<10; x++) {\n        if(...) {\n            break example_this;//结束循环\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    \n\n 2. 使用return\n\n 3. 使用system.exit(0);结束虚拟机\n\n6. 接口是否可以继承？抽象类时候可以实现接口？抽象类是否可以继承实体类？\n\n接口可以继承接口，而且可以多继承，多个接口之间用,隔开；\n\n抽象类可以实现接口，而且可以暂时不实现接口当中要求的抽象方法，因为抽象类中本身就可以有抽象方法留待子类具体实现；\n\n抽象类可以继承实体类，如果继承的实体类没有默认的无参构造方法，需要写出抽象类的构造方法并在其构造方法的首行使用super()传参来明确指定调用父类的哪个构造方法。\n\n7. 抽象类是类 有构造方法 但是不能创建对象那么要构造方法的作用？\n * 给子类构造方法首行的super去调用的\n\n\n# 第四天\n\n1. ==和equals的区别？\n\n * ==：是一个运算符，用于比较两端的内容是否相等\n   \n   基本数据类型：两端的值是否相等\n   引用类型：内存地址是否相等\n\n * equals：是object类的一个方法。子类继承这个方法之后可以按照自己的逻辑需求覆盖这个方法，从而描述自己的比较规则。 例如：string类就将equals()方法覆盖为比较字符串的内容\n\n2. 怎么解决死锁？\n * wait()，notify()，notifyall()\n\n使用 wait() 让当前线程(a)放弃锁标记进入等待池当中阻塞，从而成全另外的线程(b)能够成功获得它(b)需要的锁标记之后再调用 notify() 或者 notifyall() 唤醒线程(a)，让线程(a)从等待池进入锁池等待获得锁标记\n\n> [注意这三个方法都必须已经持有锁标记才能调用所以他们只能出现在synchronized代码块当中]\n\n3. 线程的生命周期\n\n新生 就绪 运行 消亡 阻塞（等待池 锁池）\n\n4. 线程池\n\n * 可重用的线程池，方法的参数表示同一时间允许多少个线程并发执行，当线程执行完时，线程将被归还给线程池 executors.newfixedthreadpool(2);\n\n * 带缓存机制的线城池，当线程执行完时，线程将被归还给线程池，如果一分钟之内没有其他线程被提交， 线程将会消亡 executors.newcachedthreadpool();\n\n * 单一执行器：同一时间仅允许一条线程执行 executors.newsinglethreadexcutor()\n\n5. 简述jdbc中statement和preparestatement的区别\n 1. 两者同为接口 , preparedstatement是statement的子类\n 2. statement 只能执行静态语句 preparedstatement存在一个强大缓存区，相同的sql语句执行相同语句结构仅仅编译一次，preparedstatement仅对改动数据进行修改而不再进行编译，而statement只要语句发生了改变，则必须重新进行编译\n 3. preparedstatement支持对sql语句使用 ?占位符，杜绝了 sql注入安全隐患\n 4. 如果sql语句不需要多次执行，或者?过多，则效率可能较statement低\n\n6. 简述 execute() executeupdate() executequery() executebatch()的使用场合，返回值?\n\n                  返回类型        使用场合\nexecute()         boolean     执行dql语句返回true，dml语句返回false\nexecuteupdate()   int         执行dml返回更改记录数，dql立刻报错\nexecutequery()    resultset   执行dql语句返回结果集\nexecutebatch()    int[]       只能执行dml语句，返回更改的记录数的数组\n\n\n# 第五天\n\n1. java当中如何实现数据共享~\n 1. 使用静态变量完成数据共享\n 2. 使用参数传递完成数据共享\n 3. 使用内部类完成数据共享\n\n2. 为什么要使用内部类？\n\n内部类是java当中 共享数据最最简单的方式之一\n\n3. 内部类都有哪几种？\n\n成员内部类、静态内部类、局部内部类、匿名内部类\n\n4. 如何自定义异常和如何主动制造异常出现的场景？\n\n * 自定义异常\n   \n   自己写一个类型继承exception => 非运行时异常\n   自己写一个类型继承runtimeexception => 运行时异常\n\n * 如何主动制造异常出现的场景\n   \n   throw new 异常的类型();\n\n5. throw 和 throws 的区别?\n\n * throw 用在方法体当中\n   \n   在没有异常出现的情况下主动制造异常出现的场景 [没事找事型]\n\n * throws 用在方法签名的最后\n   \n   表明本方法当中出现指定种类的异常 本方法不做处理\n   抛还给调用的上级进行处理 [有事甩锅型]\n\n6. 如何控制线程?\n 1. setpriority(int) : 设置线程优先级别 可选范围 1-10 默认5\n    优先级越高 代表抢到时间片的概率越高\n 2. static sleep(long) : 让当前线程休眠指定的毫秒数\n 3. static yield() : 让当前线程直接放弃时间片返回就绪\n 4. join() : 当前线程邀请另一个线程优先执行\n\n7. 如何解决并发错误?\n * synchronized(临界资源){执行操作}\n * 可重入锁java.util.concurrent.locks.reentrantlock\n\n8. 如何解决死锁?\n\n * 一块空间 : 等待池\n\n * 三个方法 :\n   \n   1. wait() : 让当前线程放弃已经持有的锁标记 并且进入调用方法那个对象等待池当中\n   2. notify() : 从调用方法的那个对象的等待池当中 随机的唤醒一个线程\n   3. notifyall() : 从调用方法的那个对象的等待池当中 唤醒所有线程\n\n> 这三个方法不是线程类的 是object类的\n> 这三个方法必须在已经持有锁标记的前提下才能使用，否则不但失败 还会触发异常\n\n9. 锁池和等待池的区别？\n 1. 进入的时候是否需要释放锁标记\n    * 锁池：不需要 所以可能会造成死锁\n    * 等待池：需要 先释放锁标记才能进入等待池\n 2. 离开的时候是否需要调用方法\n    * 锁池：不需要 只要锁标记再度可用\n    * 等待池：需要 必须要notify() 或 notifyall()\n 3. 离开之后去往何方：\n    * 锁池：就绪\n    * 等待池：锁池\n\n10. 流的分类?\n\n * 按照方向分：输入流 输出流\n   \n   按照单位分：字节流 字符流\n   \n   按照功能分：节点流 处理流（过滤流、包装流）',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-Java进阶篇",frontmatter:{title:"Q&A宝典-Java进阶篇",date:"2023-04-15T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_java_002.html",relativePath:"views/qaq/sum_java_002.md",key:"v-b65a493a",path:"/views/qaq/sum_java_002.html",headers:[{level:2,title:"List和Map",slug:"list和map",normalizedTitle:"list和map",charIndex:2},{level:2,title:"泛型",slug:"泛型",normalizedTitle:"泛型",charIndex:1029}],headersStr:"List和Map 泛型",content:"# List和Map\n\n1. 接口和抽象类之间的区别？\n\n 1. 分别表示的类型不同\n    \n    接口：interface\n    抽象类：class\n\n 2. 里面定义的属性修饰符不同\n    \n    接口：里面定义的属性默认都是静态的最终变量（public static final）\n    抽象类：里面定义的属性默认是（default）\n\n 3. 里面定义的方法不同\n    \n    接口：里面定义的方法默认都是抽象方法（public abstarct）\n    从 jdk8.0开始 接口里面可以定义普通方法\n    抽象类：里面既可以定义抽象方法 又可以定义普通方法\n\n2. ArrayList和Vector之间的区别？\n\n * Vector：同一时间允许单个线程进行访问 效率较低，但是不会出现并发错误\n   ArrayList：同一时间允许多个线程进行访问 效率较高，但是可能会出现并发错误\n\n * 从jdk5.0开始 集合的工具类里面提供一个方法(synchronizedList) 可以将线程不安全的ArrayList对象变成线程安全的集合对象，于是Vector渐渐被淘汰\n\n3. ArrayList和LinkedList之间的区别？\n\n * ArrayList：底层基于数组实现的\n   \n   优点：随机访问 遍历查找效率高\n   缺点：添加/删除元素\n\n * LinkedList：底层基于链表实现的\n   \n   优点：添加/删除元素效率高\n   缺点：随机访问/遍历查找效率低\n\n * *：当正常开发的时候 尽量避免使用LinkedList里面的get(下标)方法\n\n4. HashMap和Hashtable之间的区别？\n\n 1. 同步特性不同：\n    \n    * HashMap 同一时间允许多个线程进行访问 效率较高，但是可能会出现并发错误\n    * Hashtable 同一时间允许一个线程进行访问 效率较低，但是不会出现并发错误\n    * 从jdk5.0开始，集合的工具类里面提供一个方法（synchronizedList） 可以将线程不安全的HashMap对象变成线程安全的集合对象\n\n 2. 对null的要求不同\n    \n    * HashMap无论主键还是值都可以存放null，但是由于主键唯一 所以主键只能添加一个null\n    * Hashtable无论主键还是值都不能装null，一旦泛型里面装null 都会触发NullPointerException\n\n 3. 底层分组不同：\n    \n    * HashMap底层数组大小默认为16，程序员可以随意的定义，但是最终一定是2的n次方数\n    * Hashtable底层数组大小默认为11，程序员可以随意定义\n\n 4. 出现的版本不同\n    \n    * Hashtable：since jdk1.0\n    * HashMap：since jdk1.2\n\n5. hashmap 红黑树\n\n * 负载因子，代表了table的填充度有多少，默认是0.75\n   \n   加载因子存在的原因，还是因为减缓哈希冲突，提高查询效率。如果初始桶为16，等到满16个元素才扩容，某些桶里可能就有不止一个元素了。 所以加载因子默认为0.75，也就是说大小为16的HashMap，到了第13个元素，就会扩容成32。\n\n * 为何HashMap的数组长度一定是2的次幂（减少hash碰撞）\n   \n   扩容时需要重新计算数组索引index = h&(length-1)，需要进行大量的与运算，保证2的次幂，可以保证在进行与运算时，(length-1)的值的二进制所有的位均为1，这种情况下，Index的结果等于hashCode的最后几位。只要输入的hashCode本身符合均匀分布，Hash算法的结果就是均匀的。\n\n\n# 泛型\n\n1. 泛型中的通配符 T，E，K，V，？\n\n本质上这些个都是通配符，没啥区别，换成 A-Z 之间的任何一个 字母都可以。\n通常情况下，T，E，K，V，？ 是这样约定的：\n\n * ？ 表示不确定的 java 类型\n * T (type) 表示具体的一个java类型\n * K V (key value) 分别代表java键值中的Key Value\n * E (element) 代表Element\n\n> 可参考：掘金",normalizedContent:"# list和map\n\n1. 接口和抽象类之间的区别？\n\n 1. 分别表示的类型不同\n    \n    接口：interface\n    抽象类：class\n\n 2. 里面定义的属性修饰符不同\n    \n    接口：里面定义的属性默认都是静态的最终变量（public static final）\n    抽象类：里面定义的属性默认是（default）\n\n 3. 里面定义的方法不同\n    \n    接口：里面定义的方法默认都是抽象方法（public abstarct）\n    从 jdk8.0开始 接口里面可以定义普通方法\n    抽象类：里面既可以定义抽象方法 又可以定义普通方法\n\n2. arraylist和vector之间的区别？\n\n * vector：同一时间允许单个线程进行访问 效率较低，但是不会出现并发错误\n   arraylist：同一时间允许多个线程进行访问 效率较高，但是可能会出现并发错误\n\n * 从jdk5.0开始 集合的工具类里面提供一个方法(synchronizedlist) 可以将线程不安全的arraylist对象变成线程安全的集合对象，于是vector渐渐被淘汰\n\n3. arraylist和linkedlist之间的区别？\n\n * arraylist：底层基于数组实现的\n   \n   优点：随机访问 遍历查找效率高\n   缺点：添加/删除元素\n\n * linkedlist：底层基于链表实现的\n   \n   优点：添加/删除元素效率高\n   缺点：随机访问/遍历查找效率低\n\n * *：当正常开发的时候 尽量避免使用linkedlist里面的get(下标)方法\n\n4. hashmap和hashtable之间的区别？\n\n 1. 同步特性不同：\n    \n    * hashmap 同一时间允许多个线程进行访问 效率较高，但是可能会出现并发错误\n    * hashtable 同一时间允许一个线程进行访问 效率较低，但是不会出现并发错误\n    * 从jdk5.0开始，集合的工具类里面提供一个方法（synchronizedlist） 可以将线程不安全的hashmap对象变成线程安全的集合对象\n\n 2. 对null的要求不同\n    \n    * hashmap无论主键还是值都可以存放null，但是由于主键唯一 所以主键只能添加一个null\n    * hashtable无论主键还是值都不能装null，一旦泛型里面装null 都会触发nullpointerexception\n\n 3. 底层分组不同：\n    \n    * hashmap底层数组大小默认为16，程序员可以随意的定义，但是最终一定是2的n次方数\n    * hashtable底层数组大小默认为11，程序员可以随意定义\n\n 4. 出现的版本不同\n    \n    * hashtable：since jdk1.0\n    * hashmap：since jdk1.2\n\n5. hashmap 红黑树\n\n * 负载因子，代表了table的填充度有多少，默认是0.75\n   \n   加载因子存在的原因，还是因为减缓哈希冲突，提高查询效率。如果初始桶为16，等到满16个元素才扩容，某些桶里可能就有不止一个元素了。 所以加载因子默认为0.75，也就是说大小为16的hashmap，到了第13个元素，就会扩容成32。\n\n * 为何hashmap的数组长度一定是2的次幂（减少hash碰撞）\n   \n   扩容时需要重新计算数组索引index = h&(length-1)，需要进行大量的与运算，保证2的次幂，可以保证在进行与运算时，(length-1)的值的二进制所有的位均为1，这种情况下，index的结果等于hashcode的最后几位。只要输入的hashcode本身符合均匀分布，hash算法的结果就是均匀的。\n\n\n# 泛型\n\n1. 泛型中的通配符 t，e，k，v，？\n\n本质上这些个都是通配符，没啥区别，换成 a-z 之间的任何一个 字母都可以。\n通常情况下，t，e，k，v，？ 是这样约定的：\n\n * ？ 表示不确定的 java 类型\n * t (type) 表示具体的一个java类型\n * k v (key value) 分别代表java键值中的key value\n * e (element) 代表element\n\n> 可参考：掘金",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-试炼篇",frontmatter:{title:"Q&A宝典-试炼篇",date:"2023-01-31T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_ms_001.html",relativePath:"views/qaq/sum_ms_001.md",key:"v-cc0c55c6",path:"/views/qaq/sum_ms_001.html",headers:[{level:2,title:"java基础知识",slug:"java基础知识",normalizedTitle:"java基础知识",charIndex:26},{level:2,title:"集合框架",slug:"集合框架",normalizedTitle:"集合框架",charIndex:167},{level:2,title:"多线程",slug:"多线程",normalizedTitle:"多线程",charIndex:351},{level:2,title:"jvm",slug:"jvm",normalizedTitle:"jvm",charIndex:858},{level:2,title:"框架相关问题",slug:"框架相关问题",normalizedTitle:"框架相关问题",charIndex:1086},{level:2,title:"消息中间件",slug:"消息中间件",normalizedTitle:"消息中间件",charIndex:1356},{level:2,title:"缓存",slug:"缓存",normalizedTitle:"缓存",charIndex:1188},{level:2,title:"数据库",slug:"数据库",normalizedTitle:"数据库",charIndex:1620},{level:2,title:"其他",slug:"其他",normalizedTitle:"其他",charIndex:1814}],excerpt:"<Boxx/>\n<p>此为试炼篇，欲知后事如何，且看下篇分解！！</p>\n",headersStr:"java基础知识 集合框架 多线程 jvm 框架相关问题 消息中间件 缓存 数据库 其他",content:"此为试炼篇，欲知后事如何，且看下篇分解！！\n\n\n# java基础知识\n\n 1. 栈和队列的区别\n 2. 接口和抽象类的区别\n 3. int和Integer的区别\n 4. 常量池的问题\n 5. ==和equals的区别\n 6. 重载和重写的区别\n 7. String和StringBuilder、StringBuffer的区别\n\n\n# 集合框架\n\n 1. ArrayList,LinkedList,HashMap,LinkedHashMap,ConcurrentHashMap的底层实现原理\n 2. 1.7版本和1.8版本的HashMap的区别\n 3. 1.7版本和1.8版本的ConcurrentHashMap的区别\n 4. HashMap能不能排序？HashMap的长度为什么要是2的幂次方\n\n\n# 多线程\n\n 1.  创建线程的几种方式？wait,sleep分别是谁的方法，区别？线程间的通信方式？\n 2.  介绍下什么是死锁，遇见过死锁吗？你是怎么排查的（可以通过jps排查）\n 3.  创建线程池的几种方式，线程池有什么好处\n 4.  线程继承和接口的区别，接口有什么好处\n 5.  synchronized、Lock、ReentrantLock的区别，用法及原理\n 6.  CountDownLatch与CyclicBarrier用法\n 7.  ThreadLocal的用法和原理\n 8.  volatile关键字的作用和原理\n 9.  乐观锁和悲观锁\n 10. 对公平锁，非公平锁，可重入锁，自旋锁，读写锁的理解\n 11. CAS是什么及基层原理\n 12. ArrayBlockQueue，LinkedBlockingQueue，SynchronousQueue等等阻塞队列的理解\n 13. ThreadPoolExecutor的传入参数及内部工作原理\n 14. 给你一个具体的业务场景，让你使用ThreadPoolExecutor创建一个合适的线程池\n 15. 分布式环境下，怎么保证线程安全\n\n\n# jvm\n\n 1. JVM内存机制\n 2. 介绍下垃圾收集机制，垃圾收集有哪些算法，各自的特点\n 3. 聊聊GC，谈谈Major GC，Full GC区别，垃圾收集器有哪些，他们的区别\n 4. OutOfMemoryError这个错误你遇到过吗，你是怎么解决处理的\n 5. JVM调优有哪些参数，介绍下，线上环境上，你是怎么查看JVM的参数并进行调优的\n 6. 能不能自己写一个类叫java. lang. String(类加载的过程，双亲委派模型)\n\n\n# 框架相关问题\n\n 1. Spring用了哪些设计模式？Spring注入bean的方式？对SpringIOC和SpringAOP的理解\n 2. Spring事务的隔离机制和传播机制\n 3. Mybatis的缓存机制（一级缓存和二级缓存），Mybatis的mapper文件中#和$的区别\n 4. SpringMVC的流程\n 5. Spring和SpringBoot的区别\n 6. 对SpringBoot的理解\n 7. RPC框架有哪些，他们的区别\n 8. Dubbo的使用和理解\n 9. SprigCloud的使用和组件，谈谈你得理解\n\n\n# 消息中间件\n\n 1. 你们公司是如何进行消息中间件的技术选型\n 2. 如何保证消息中间件的高可用\n 3. 如何保证消息中间件重复发送消息\n 4. 消息队列积压了大量的消息，你该怎么处理\n 5. 如何保证消费者消费消极是有顺序的\n 6. 让你来开发一个消息中间件，你会怎么架构\n\n\n# 缓存\n\n 1. 你们公司为什么要使用Redis，Redis有几种数据类型\n 2. Redis持久化机制，Redis的过期策略\n 3. 怎么保证Redis的高可用\n 4. 什么是缓存穿透，如何避免，什么是缓存雪崩，如何避免\n 5. 如何保证缓存与数据库的读写一致性\n 6. Redis单线程模型原理，为什么能支撑高并发\n 7. Redis哨兵架构的理解和底层原理\n\n\n# 数据库\n\n 1. 工作中你是怎么优化sql的\n 2. 什么情况下，索引会失效\n 3. 数据库的存储引擎，比如：MySQL的MyISAM和InnoDB区别\n 4. 索引的最左原则\n 5. 索引的底层原理\n 6. 你们公司是怎么进行分库分表，分库分表的方案\n\n\n# 其他\n\n 1. 分布式事务是怎么解决的\n 2. 分布式session方案\n 3. 设计一个秒杀场景\n 4. 怎么防止表单多次提交\n 5. Linux的基本操作命令\n 6. ElasticSearch的使用和原理\n 7. zookeeper的使用和原理",normalizedContent:"此为试炼篇，欲知后事如何，且看下篇分解！！\n\n\n# java基础知识\n\n 1. 栈和队列的区别\n 2. 接口和抽象类的区别\n 3. int和integer的区别\n 4. 常量池的问题\n 5. ==和equals的区别\n 6. 重载和重写的区别\n 7. string和stringbuilder、stringbuffer的区别\n\n\n# 集合框架\n\n 1. arraylist,linkedlist,hashmap,linkedhashmap,concurrenthashmap的底层实现原理\n 2. 1.7版本和1.8版本的hashmap的区别\n 3. 1.7版本和1.8版本的concurrenthashmap的区别\n 4. hashmap能不能排序？hashmap的长度为什么要是2的幂次方\n\n\n# 多线程\n\n 1.  创建线程的几种方式？wait,sleep分别是谁的方法，区别？线程间的通信方式？\n 2.  介绍下什么是死锁，遇见过死锁吗？你是怎么排查的（可以通过jps排查）\n 3.  创建线程池的几种方式，线程池有什么好处\n 4.  线程继承和接口的区别，接口有什么好处\n 5.  synchronized、lock、reentrantlock的区别，用法及原理\n 6.  countdownlatch与cyclicbarrier用法\n 7.  threadlocal的用法和原理\n 8.  volatile关键字的作用和原理\n 9.  乐观锁和悲观锁\n 10. 对公平锁，非公平锁，可重入锁，自旋锁，读写锁的理解\n 11. cas是什么及基层原理\n 12. arrayblockqueue，linkedblockingqueue，synchronousqueue等等阻塞队列的理解\n 13. threadpoolexecutor的传入参数及内部工作原理\n 14. 给你一个具体的业务场景，让你使用threadpoolexecutor创建一个合适的线程池\n 15. 分布式环境下，怎么保证线程安全\n\n\n# jvm\n\n 1. jvm内存机制\n 2. 介绍下垃圾收集机制，垃圾收集有哪些算法，各自的特点\n 3. 聊聊gc，谈谈major gc，full gc区别，垃圾收集器有哪些，他们的区别\n 4. outofmemoryerror这个错误你遇到过吗，你是怎么解决处理的\n 5. jvm调优有哪些参数，介绍下，线上环境上，你是怎么查看jvm的参数并进行调优的\n 6. 能不能自己写一个类叫java. lang. string(类加载的过程，双亲委派模型)\n\n\n# 框架相关问题\n\n 1. spring用了哪些设计模式？spring注入bean的方式？对springioc和springaop的理解\n 2. spring事务的隔离机制和传播机制\n 3. mybatis的缓存机制（一级缓存和二级缓存），mybatis的mapper文件中#和$的区别\n 4. springmvc的流程\n 5. spring和springboot的区别\n 6. 对springboot的理解\n 7. rpc框架有哪些，他们的区别\n 8. dubbo的使用和理解\n 9. sprigcloud的使用和组件，谈谈你得理解\n\n\n# 消息中间件\n\n 1. 你们公司是如何进行消息中间件的技术选型\n 2. 如何保证消息中间件的高可用\n 3. 如何保证消息中间件重复发送消息\n 4. 消息队列积压了大量的消息，你该怎么处理\n 5. 如何保证消费者消费消极是有顺序的\n 6. 让你来开发一个消息中间件，你会怎么架构\n\n\n# 缓存\n\n 1. 你们公司为什么要使用redis，redis有几种数据类型\n 2. redis持久化机制，redis的过期策略\n 3. 怎么保证redis的高可用\n 4. 什么是缓存穿透，如何避免，什么是缓存雪崩，如何避免\n 5. 如何保证缓存与数据库的读写一致性\n 6. redis单线程模型原理，为什么能支撑高并发\n 7. redis哨兵架构的理解和底层原理\n\n\n# 数据库\n\n 1. 工作中你是怎么优化sql的\n 2. 什么情况下，索引会失效\n 3. 数据库的存储引擎，比如：mysql的myisam和innodb区别\n 4. 索引的最左原则\n 5. 索引的底层原理\n 6. 你们公司是怎么进行分库分表，分库分表的方案\n\n\n# 其他\n\n 1. 分布式事务是怎么解决的\n 2. 分布式session方案\n 3. 设计一个秒杀场景\n 4. 怎么防止表单多次提交\n 5. linux的基本操作命令\n 6. elasticsearch的使用和原理\n 7. zookeeper的使用和原理",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-spring入门篇",frontmatter:{title:"Q&A宝典-spring入门篇",date:"2023-12-06T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_spring_001.html",relativePath:"views/qaq/sum_spring_001.md",key:"v-bfab03e2",path:"/views/qaq/sum_spring_001.html",headers:[{level:2,title:"综合入门",slug:"综合入门",normalizedTitle:"综合入门",charIndex:2}],headersStr:"综合入门",content:'# 综合入门\n\n1.hibernate 和 mybatis 区别？\n 1. hibernate自动，mybatis半自动\n 2. 日志 hibernate自带\n 3. 移植性 hibernate：hql qbc面向对象,更换数据库,只更换方言即可\n 4. 优化 mybatis自己写sql灵活方便\n 5. 一级缓存\n    hibernate底层是Hashtable 线程安全\n    mybatis底层是HashMap 线程不安全\n\n2.spring容器启动流程、配置\n * 配置spring.xml\n\n 1. 初始化springIOC容器,加载spring.xml\n    ApplicatonContext ac = new ClassPathXmlApplicationContext("spring.xml");\n\n 2. 扫描注解\n    <context:component-scan base-package="com.etoak">\n\n 3. 配置spring加载数据源\n    \n    * DriverManagerDataSource\n\n 4. 配置spring整合mybatis\n    \n    * 注入数据源\n    * 设置别名(包下所有类类名全部小写)\n    * 加载 sql.xml映射文件\n    * 加载 PageHelper等插件\n\n 5. 配置扫描接口(sql.xml文件所在包)\n    \n    * 获得sqlSessionFactory(上一步的3以获得) sqlSessionFactoryBeanName\n    * 实例化接口 basePackage\n\n 6. 配置事务管理器(只需注入数据源)\n    \n    <bean id="tx" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource"></property>\n    </bean>\n    \n    \n    1\n    2\n    3\n    \n\n 7. 注解(在需要事务的方法上@Transactional)使用声明事务(底层我们用cglib动态代理)\n    \n    注意属性readOnly="true"为只读，在select时可以设置\n    \n    \n    \x3c!-- 配置事务管理器 --\x3e\n    <bean id="tx" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        \x3c!-- 注入数据源  加入事务   但是没有开启事务 --\x3e\n        <property name="dataSource" ref="dataSource"></property>\n    </bean>\n    \n    \x3c!-- 声明式事务  aop环绕通知--\x3e\n    <tx:annotation-driven proxy-target-class="true" transaction-manager="tx" />\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n3.什么是事务?\n\n多条sql语句作为一个执行单元,要么全部执行,要么全不执行\n\n * 原子性、一致性、隔离性、持久性\n\n4.spring创建事物的方式?(两种)\n 1. 声明式事务 在xml中配置信息\n 2. 编程式事务 在代码中编写\n\n5.软编码硬编码\n * 硬编码：就是在程序中将代码写死,维护不方便\n * 软编码：可以在运行时确定,软编码只支持post请求\n\n6.web.xml文件加载先后顺寻\n 1. listener\n    多个监听器 谁在前 谁先被加载\n 2. filter\n    多个过滤器 谁在前 谁先被加载\n 3. servlet\n    启动不会被加载 当第一个请求发送过来时<url-pattern>*.do</url-pattern> 才会被实例化\n\n7.HttPServlet声明周期\n 1. 实例化\n 2. 初始化方法\n 3. 运行(doGet/doPost)\n 4. 消亡\n\n8.springmvc提供的两种视图类型\n 1. ModelAndView\n 2. String\n\n9.重定向和请求转发\n 1. 请求转发：发送一次请求,跳转后地址栏不发生改变\n 2. 重定向：跳转后地址栏发生改变\n    主要用在防止表单重复提交、 不能使用request范围、 跳转之后肯定执行doGet方法\n\n10.springmvc流程\n\n 1. 新建一个页面,发送第一次请求地址\n\n 2. 到达web.xml，web.xml依次加载\n    \n    * listener：初始化spring容器\n    * filter：设置请求、响应编码\n    * servlet： 默认加载WEB-INF/某某某(注意名字保持一致,可自定义)-servlet.xml配置文件 拦截请求\n\n 3. 加载XXX-servlet.xml配置文件并解析\n    \n    \n    [1] context注解扫描\n    springmvc必须的有@Controller注解(得在这层接收客户端请求)\n    \n    \n    [2] 配置映射器、适配器 、类型转换(底层自动实现)\n    <mvc:acnotation-driven />\n    \n    [3] 实例化视图解析器\n    \n    \n    \x3c!-- 视图解析器 --\x3e\n    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">\n        \x3c!-- 前缀 --\x3e\n        <property name="prefix"\n                  value="/pages/"></property>\n        \x3c!-- 后缀 --\x3e\n        <property name="suffix"\n                  value=".jsp"></property>\n    </bean>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n    \n    [4] 文件上传解析器,id必须是这个\n    \n    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">\n        <property name="defaultEncoding" value="utf-8" />\n        <property name="maxUploadSize" value="3000000000" />\n    </bean>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. 通过拦截的请求来匹配@Controller层\n    \n    [1] 映射器匹配拿到的请求 在某个方法上@RequestMappeing(value="/login")\n    \n    [2] 适配器指定执行这个方法\n    \n    [3] 接受请求参数,并经行类型转换 @RequestParam(valeu="前台name")\n    注意日期不能自动转,所以有个注解@DateTimeFormat(pattern="yyyy-MM-dd")\n\n 5. 执行方法里的业务逻辑\n\n 6. ModelAndView跳转视图\n    ModelAndView mv = new ModelAndView("除前后缀页面"); return mv;\n\n 7. 视图解析器渲染视图名称,完成之后跳转视图\n\n11.springmvc组成部分\n 1. 自中央处理器 DispatcherServlet\n    \n 2. 映射器 mvc:annotation-driven @RequestMappeing\n    \n 3. 适配器 mvc:annotation-driven 执行方法\n 4. 处理器 @Controller\n    \n 5. 视图解析器 InternalResourceViewResolver\n    \n 6. 视图 我们看不见，底层动的\n    \n 7. 异常处理器\n    \n 8. 上传解析器\n\n12.spring Bean 声明周期\n\nspring Bean 声明周期\n\n13.如何在src目录加载properties\n\n<context:property-placeholder file-encoding="UTF-8" location="classpath:jdbc.properties"/>\n\n14.将文件存放到数据库中\n\nMYSQL      ORACLE   JAVA     \nlongblob   blob     byte[]   二进制类型\ntext       clob     String   大文本类型\n\n15.springmvc文件上传\n\n有个类MultipartFile、方法transferTo\n\npublic String upload(@RequestParam(value="f") MultipartFile f,HttpSession session){\n\n    //MultipartFile有transferTo()这么一个方法写出文件\n    f.transferTo(new File(path,filenewname));\n\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n * springmvc文件下载\n   \n   记得设置响应头信息 response.setHeader("Content-Disposition","attachment;filename="+filename);\n\n16，springmvc 提供2种 请求格式\n\n 1. *.do、*.action\n\n 2. / 默认不加载静态资源 js css\n    默认不加载静态资源，要加载的话需要在spring配置文件中配置解析\n    \n    \x3c!-- 静态servlet对象 针对/请求不加载静态资源 js css img  --\x3e\n    <mvc:default-servlet-handler />\n    \n    \n    1\n    2\n    \n\n17.在前端 json 和 js对象的互转\n * JSON.parse(str);\n * JSON.stringify(object);\n\n18.springmvc集成spring,可以使用spring拥有的信息,但只能使用spring的ioc信息,aop不能使用\n\n即：容器启动时,spring先加载,springmvc后加载\nspring 配置事务,事务底层时aop实现的,springmvc没有aop的配置\nspringmvc 没有配置事务,所以会覆盖掉spring配置\n\n\n所以事务会失效，解决办法：\n让springmvc不扫描有事务的层(service层)只扫描Controller层\n让spring扫描除了Controller的其他层\n\n19.数据库建表3范式\n 1. 关系型数据库\n    表、字段、值 有相互关系\n 2. 创建字段\n    所有字段中必须有一个字段是唯一的\n 3. 字段不能冗余\n\n20.disabled和readonly的区别\n * 都是使文本框失效(不能输入)\n   disabled：前端显示为灰色,后台接受值为null\n   readonly：前端显示为白色,后台可以接受到值\n\n21.bootstrap和easyui区别\n * easyui 是js框架,没有响应式布局\n * bootstrap 侧重css的前端框架,有响应式布局\n\n22.js中 == 和 === 的区别\n\n== 只比较内容\n=== 先比较类型，再比较内容\n\n23.过滤器和拦截器的区别\n * 过滤器：\n   在web.xml中配置,由servlet实例化对象,spring不能注入,什么请求都拦截\n * 拦截器：\n   只拦截后台请求, 都是由spring进行管理的,springmvc除了jsp之外都拦截\n\n24.struts2和springmvc的区别\n 1. 入口\n    struts2：web.xml filter元素,容器启动初始化\n    mvc: web.xml servlet元素,第一次触发请求实例化对象\n 2. 创建对象\n    struts2： 基于类开发,发送请求时,每次都会创建对象,多例的\n    mvc: 基于方法开发,一般设计为单例(默认)\n 3. 接受请求参数\n    struts2: 成员变量 依赖类存在\n    mvc: 局部变量 依赖方法存在\n\n25.数据库中的符号\n\nand 相当于 &&\nor 相当于 ||\n&gt; 相当于 >\n&lt; 相当于 <\n\n\n26.事务的 隔离机制和七种传播途径\n\n * 脏读:读到了其他事物未提交的数据\n\n * 不可重复读:一次读取到记录之后其他事物对这条数据进行了修改,再次读取数据不一致\n\n * 幻读:相同的查询条件首次查询后,其他事物添加或删除了新的数据,再次查询不一致\n\n * 隔离机制：(解决脏读,不可重复读,幻读)\n\n                     脏读   不可重复读   幻读\nRead uncommitted :   会    会       会\nRead committed :     不会   会       会\nRepeatable read :    不会   不会      会\nSerializable :       不会   不会      不会\n\n * 传播行为:\n   国内最常用的就是propagation_required 事务的操作有异常是都得向上抛,不能向上抛就自己new一个异常,不要try(非要try的话,就自己在造一个异常)。\n\n27.随便写一个自增编号\n\nCalendar c = Calendar.getInstance();\nString no = "ABC" + c.get(1) + String.format("%04d",(++count));\n\n\n1\n2\n\n28.maven的作用\n * 依赖管理jar包\n * 基于多模块\n\n29.xml和对象的互转\n\njava jaxb\n\n30.网络传输,跨项目访问\n * webService: 既可以当客户端又可以当服务端\n   1. 跨平台 跨语言\n   2. 多用在企业\n   3. soap协议\n   4. http://localhost:8080/SSM/ws/user?wsdl\n * httpclient: 相当于客户端\n   1. 多用在互联网 调接口/新老系统模块的调用\n   2. http协议\n   3. http://localhost:8080/SSM/ws/user\n\n31.webService如何使用\n\n * 服务端：\n   \n   0. 先在web.xml文件中配置\n   1. 配置服务端cxf.xml文件\n   2. 定义一个bean类\n   3. 争对这个bean写一个接口,在接口前加注解@javax.jws.WebService\n   4. 在这个接口里写响应的增删该查(定义方法的参数和返回值时 注意不要使用Map对象)\n   5. 针对接口写实现类\n   6. 在实现类上加@javax.jws.WebService ，@org.springframework.stereotype.Service //这是一个服务层 在类里写响应的实现\n\n * 客户端：\n   \n   0. 新建一个测试项目\n   1. 配置客户端cxf.xml文件 （具体使用见下一题）\n      将生成的文件复制到工程中,新建一个test类测试\n\n32.cxf测试接口的工具如何使用:\n\n 1. 配置cxf环境变量\n    path=E:\\web server\\apache-cxf-3.1.11\\bin\n\n 2. cmd下输入命令\n    wsdl2java -d d:/ws -p com.etoak.client http://localhost:8080/SSM/ws/user?wsdl\n    -d表示生成客户端代码的位置\n    -p表示生成客户端代码的包结构\n\n * 其它方式：soapui工具',normalizedContent:'# 综合入门\n\n1.hibernate 和 mybatis 区别？\n 1. hibernate自动，mybatis半自动\n 2. 日志 hibernate自带\n 3. 移植性 hibernate：hql qbc面向对象,更换数据库,只更换方言即可\n 4. 优化 mybatis自己写sql灵活方便\n 5. 一级缓存\n    hibernate底层是hashtable 线程安全\n    mybatis底层是hashmap 线程不安全\n\n2.spring容器启动流程、配置\n * 配置spring.xml\n\n 1. 初始化springioc容器,加载spring.xml\n    applicatoncontext ac = new classpathxmlapplicationcontext("spring.xml");\n\n 2. 扫描注解\n    <context:component-scan base-package="com.etoak">\n\n 3. 配置spring加载数据源\n    \n    * drivermanagerdatasource\n\n 4. 配置spring整合mybatis\n    \n    * 注入数据源\n    * 设置别名(包下所有类类名全部小写)\n    * 加载 sql.xml映射文件\n    * 加载 pagehelper等插件\n\n 5. 配置扫描接口(sql.xml文件所在包)\n    \n    * 获得sqlsessionfactory(上一步的3以获得) sqlsessionfactorybeanname\n    * 实例化接口 basepackage\n\n 6. 配置事务管理器(只需注入数据源)\n    \n    <bean id="tx" class="org.springframework.jdbc.datasource.datasourcetransactionmanager">\n        <property name="datasource" ref="datasource"></property>\n    </bean>\n    \n    \n    1\n    2\n    3\n    \n\n 7. 注解(在需要事务的方法上@transactional)使用声明事务(底层我们用cglib动态代理)\n    \n    注意属性readonly="true"为只读，在select时可以设置\n    \n    \n    \x3c!-- 配置事务管理器 --\x3e\n    <bean id="tx" class="org.springframework.jdbc.datasource.datasourcetransactionmanager">\n        \x3c!-- 注入数据源  加入事务   但是没有开启事务 --\x3e\n        <property name="datasource" ref="datasource"></property>\n    </bean>\n    \n    \x3c!-- 声明式事务  aop环绕通知--\x3e\n    <tx:annotation-driven proxy-target-class="true" transaction-manager="tx" />\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    \n\n3.什么是事务?\n\n多条sql语句作为一个执行单元,要么全部执行,要么全不执行\n\n * 原子性、一致性、隔离性、持久性\n\n4.spring创建事物的方式?(两种)\n 1. 声明式事务 在xml中配置信息\n 2. 编程式事务 在代码中编写\n\n5.软编码硬编码\n * 硬编码：就是在程序中将代码写死,维护不方便\n * 软编码：可以在运行时确定,软编码只支持post请求\n\n6.web.xml文件加载先后顺寻\n 1. listener\n    多个监听器 谁在前 谁先被加载\n 2. filter\n    多个过滤器 谁在前 谁先被加载\n 3. servlet\n    启动不会被加载 当第一个请求发送过来时<url-pattern>*.do</url-pattern> 才会被实例化\n\n7.httpservlet声明周期\n 1. 实例化\n 2. 初始化方法\n 3. 运行(doget/dopost)\n 4. 消亡\n\n8.springmvc提供的两种视图类型\n 1. modelandview\n 2. string\n\n9.重定向和请求转发\n 1. 请求转发：发送一次请求,跳转后地址栏不发生改变\n 2. 重定向：跳转后地址栏发生改变\n    主要用在防止表单重复提交、 不能使用request范围、 跳转之后肯定执行doget方法\n\n10.springmvc流程\n\n 1. 新建一个页面,发送第一次请求地址\n\n 2. 到达web.xml，web.xml依次加载\n    \n    * listener：初始化spring容器\n    * filter：设置请求、响应编码\n    * servlet： 默认加载web-inf/某某某(注意名字保持一致,可自定义)-servlet.xml配置文件 拦截请求\n\n 3. 加载xxx-servlet.xml配置文件并解析\n    \n    \n    [1] context注解扫描\n    springmvc必须的有@controller注解(得在这层接收客户端请求)\n    \n    \n    [2] 配置映射器、适配器 、类型转换(底层自动实现)\n    <mvc:acnotation-driven />\n    \n    [3] 实例化视图解析器\n    \n    \n    \x3c!-- 视图解析器 --\x3e\n    <bean class="org.springframework.web.servlet.view.internalresourceviewresolver">\n        \x3c!-- 前缀 --\x3e\n        <property name="prefix"\n                  value="/pages/"></property>\n        \x3c!-- 后缀 --\x3e\n        <property name="suffix"\n                  value=".jsp"></property>\n    </bean>\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    \n    \n    [4] 文件上传解析器,id必须是这个\n    \n    <bean id="multipartresolver" class="org.springframework.web.multipart.commons.commonsmultipartresolver">\n        <property name="defaultencoding" value="utf-8" />\n        <property name="maxuploadsize" value="3000000000" />\n    </bean>\n    \n    \n    1\n    2\n    3\n    4\n    \n\n 4. 通过拦截的请求来匹配@controller层\n    \n    [1] 映射器匹配拿到的请求 在某个方法上@requestmappeing(value="/login")\n    \n    [2] 适配器指定执行这个方法\n    \n    [3] 接受请求参数,并经行类型转换 @requestparam(valeu="前台name")\n    注意日期不能自动转,所以有个注解@datetimeformat(pattern="yyyy-mm-dd")\n\n 5. 执行方法里的业务逻辑\n\n 6. modelandview跳转视图\n    modelandview mv = new modelandview("除前后缀页面"); return mv;\n\n 7. 视图解析器渲染视图名称,完成之后跳转视图\n\n11.springmvc组成部分\n 1. 自中央处理器 dispatcherservlet\n    \n 2. 映射器 mvc:annotation-driven @requestmappeing\n    \n 3. 适配器 mvc:annotation-driven 执行方法\n 4. 处理器 @controller\n    \n 5. 视图解析器 internalresourceviewresolver\n    \n 6. 视图 我们看不见，底层动的\n    \n 7. 异常处理器\n    \n 8. 上传解析器\n\n12.spring bean 声明周期\n\nspring bean 声明周期\n\n13.如何在src目录加载properties\n\n<context:property-placeholder file-encoding="utf-8" location="classpath:jdbc.properties"/>\n\n14.将文件存放到数据库中\n\nmysql      oracle   java     \nlongblob   blob     byte[]   二进制类型\ntext       clob     string   大文本类型\n\n15.springmvc文件上传\n\n有个类multipartfile、方法transferto\n\npublic string upload(@requestparam(value="f") multipartfile f,httpsession session){\n\n    //multipartfile有transferto()这么一个方法写出文件\n    f.transferto(new file(path,filenewname));\n\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n * springmvc文件下载\n   \n   记得设置响应头信息 response.setheader("content-disposition","attachment;filename="+filename);\n\n16，springmvc 提供2种 请求格式\n\n 1. *.do、*.action\n\n 2. / 默认不加载静态资源 js css\n    默认不加载静态资源，要加载的话需要在spring配置文件中配置解析\n    \n    \x3c!-- 静态servlet对象 针对/请求不加载静态资源 js css img  --\x3e\n    <mvc:default-servlet-handler />\n    \n    \n    1\n    2\n    \n\n17.在前端 json 和 js对象的互转\n * json.parse(str);\n * json.stringify(object);\n\n18.springmvc集成spring,可以使用spring拥有的信息,但只能使用spring的ioc信息,aop不能使用\n\n即：容器启动时,spring先加载,springmvc后加载\nspring 配置事务,事务底层时aop实现的,springmvc没有aop的配置\nspringmvc 没有配置事务,所以会覆盖掉spring配置\n\n\n所以事务会失效，解决办法：\n让springmvc不扫描有事务的层(service层)只扫描controller层\n让spring扫描除了controller的其他层\n\n19.数据库建表3范式\n 1. 关系型数据库\n    表、字段、值 有相互关系\n 2. 创建字段\n    所有字段中必须有一个字段是唯一的\n 3. 字段不能冗余\n\n20.disabled和readonly的区别\n * 都是使文本框失效(不能输入)\n   disabled：前端显示为灰色,后台接受值为null\n   readonly：前端显示为白色,后台可以接受到值\n\n21.bootstrap和easyui区别\n * easyui 是js框架,没有响应式布局\n * bootstrap 侧重css的前端框架,有响应式布局\n\n22.js中 == 和 === 的区别\n\n== 只比较内容\n=== 先比较类型，再比较内容\n\n23.过滤器和拦截器的区别\n * 过滤器：\n   在web.xml中配置,由servlet实例化对象,spring不能注入,什么请求都拦截\n * 拦截器：\n   只拦截后台请求, 都是由spring进行管理的,springmvc除了jsp之外都拦截\n\n24.struts2和springmvc的区别\n 1. 入口\n    struts2：web.xml filter元素,容器启动初始化\n    mvc: web.xml servlet元素,第一次触发请求实例化对象\n 2. 创建对象\n    struts2： 基于类开发,发送请求时,每次都会创建对象,多例的\n    mvc: 基于方法开发,一般设计为单例(默认)\n 3. 接受请求参数\n    struts2: 成员变量 依赖类存在\n    mvc: 局部变量 依赖方法存在\n\n25.数据库中的符号\n\nand 相当于 &&\nor 相当于 ||\n&gt; 相当于 >\n&lt; 相当于 <\n\n\n26.事务的 隔离机制和七种传播途径\n\n * 脏读:读到了其他事物未提交的数据\n\n * 不可重复读:一次读取到记录之后其他事物对这条数据进行了修改,再次读取数据不一致\n\n * 幻读:相同的查询条件首次查询后,其他事物添加或删除了新的数据,再次查询不一致\n\n * 隔离机制：(解决脏读,不可重复读,幻读)\n\n                     脏读   不可重复读   幻读\nread uncommitted :   会    会       会\nread committed :     不会   会       会\nrepeatable read :    不会   不会      会\nserializable :       不会   不会      不会\n\n * 传播行为:\n   国内最常用的就是propagation_required 事务的操作有异常是都得向上抛,不能向上抛就自己new一个异常,不要try(非要try的话,就自己在造一个异常)。\n\n27.随便写一个自增编号\n\ncalendar c = calendar.getinstance();\nstring no = "abc" + c.get(1) + string.format("%04d",(++count));\n\n\n1\n2\n\n28.maven的作用\n * 依赖管理jar包\n * 基于多模块\n\n29.xml和对象的互转\n\njava jaxb\n\n30.网络传输,跨项目访问\n * webservice: 既可以当客户端又可以当服务端\n   1. 跨平台 跨语言\n   2. 多用在企业\n   3. soap协议\n   4. http://localhost:8080/ssm/ws/user?wsdl\n * httpclient: 相当于客户端\n   1. 多用在互联网 调接口/新老系统模块的调用\n   2. http协议\n   3. http://localhost:8080/ssm/ws/user\n\n31.webservice如何使用\n\n * 服务端：\n   \n   0. 先在web.xml文件中配置\n   1. 配置服务端cxf.xml文件\n   2. 定义一个bean类\n   3. 争对这个bean写一个接口,在接口前加注解@javax.jws.webservice\n   4. 在这个接口里写响应的增删该查(定义方法的参数和返回值时 注意不要使用map对象)\n   5. 针对接口写实现类\n   6. 在实现类上加@javax.jws.webservice ，@org.springframework.stereotype.service //这是一个服务层 在类里写响应的实现\n\n * 客户端：\n   \n   0. 新建一个测试项目\n   1. 配置客户端cxf.xml文件 （具体使用见下一题）\n      将生成的文件复制到工程中,新建一个test类测试\n\n32.cxf测试接口的工具如何使用:\n\n 1. 配置cxf环境变量\n    path=e:\\web server\\apache-cxf-3.1.11\\bin\n\n 2. cmd下输入命令\n    wsdl2java -d d:/ws -p com.etoak.client http://localhost:8080/ssm/ws/user?wsdl\n    -d表示生成客户端代码的位置\n    -p表示生成客户端代码的包结构\n\n * 其它方式：soapui工具',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-spring基础篇",frontmatter:{title:"Q&A宝典-spring基础篇",date:"2022-12-29T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_spring_002.html",relativePath:"views/qaq/sum_spring_002.md",key:"v-4201ca66",path:"/views/qaq/sum_spring_002.html",headers:[{level:2,title:"Spring基础",slug:"spring基础",normalizedTitle:"spring基础",charIndex:2},{level:2,title:"SpringMVC",slug:"springmvc",normalizedTitle:"springmvc",charIndex:2945}],headersStr:"Spring基础 SpringMVC",content:'# Spring基础\n\n1. Spring两大核心？\n\nIOC控制反转， AOP面向切面编程\n\n2. IOC控制反转到底反转了什么？\n\n创建对象的过程，形成对象与对象之间依赖关系的操作\n(Martin: 依赖对象的获得被反转了，本来应该是我们自己new， 现在是通过SpringIOC容器注入)\n\n3. 什么是AOP？\n\nAOP即面向切面编程，关注的是非核心业务的处理\n用到的地方：比如日志、网站的访问次数等\n主要目的:：核心业务和非核心业务之间的解耦\n底层使用了动态代理模式\n要素：advice(非核心业务的载体)， pointcut(非核心业务的放置位置)， advisor(建立advice和pointcut之间的联系)\n\n4. 反转之后的好处？\n\n有助于类与类之间的解耦\n\n5. IOC的好处？\n\n将对象的创建和属性的赋值完全转交给Spring， 从而降低类与类之间的依赖关系，达到松散耦合的目的\n\n6. ICO的核心？\n\nIOC容器之所以叫IOC容器， 是因为其中的IOC指的是将主动new变成了被动注入\n从此角度出发， IOC的核心是DI依赖注入\n\n7. DI是什么？\n\n依赖注入，指的是建立每个对象之间关系的方式，也就是对属性赋值的操作\n\n8. Bean的属性都有？\n\nid：(每个IOC容器对象的唯一标识)，\nclass：(当前类对应的类型)，\nscope：(作用范围)，\nlazy-init：(是否 延迟加载)，\nfactory-method：(指定返回返回该对象的方法名称)，\nfactory-bean：(指定工厂实例)，\ninit-method：(对象初始化调用的方法)，\ndestroy-method\n\n9. scope分别有几种情况？如何配置？\n\n * singleton，prototype，request，session，globalSession\n\n * 一般无状态的类的对象都配置成singleton，无状态的类一般指像Service和Dao层这样逻辑处理类\n   有状态的类需要设置成prototype或request，一般指像Action一样存在多实例， 并且其中数据都不同\n\n10. Spring创建对象的方式？\n 1. 构造方法创建(id+class)；\n 2. 静态工厂创建(class+factory-method)；\n 3. 实例工厂创建(factory-bean+factory-method)\n\n11. 完成注入的方式？\n 1. setter注入 <property ...>\n 2. 构造方法注入 <constructor-arg ...>\n\n12. Schema是什么？优势？\n\n * 用来校验xml文件规范的xsd的文件\n   \n   1. 基于xml语法\n   2. 扩充了数据类型\n   3. 支持命名空间\n   * schema最重要的能力之一就是对数据类型的支持\n\n13. 复杂属性如何注入？\n * 数组/List/Set\n   <property><array/list/set><value>value</value>\n * Map\n   <map><entry key="" value=""/>\n * Properties\n   <props><prop key="">vlaue</prop>\n\n14. 常用Spring注解？\n\n@Component， @Repository， @Service， @Controller @Autowired， @Qualifier， @Scope，@Value @Aspect， @Pointcut， @Before， @After， @AfterReturning， @Around， @AfterThrowing\n\n15. 接受文件:\n\n@RequestParam(value="file") MultipartFile file\n\n16. 关于日期、时间\n * 映射类声明变量前，加入此注解:\n   1. @DatetimeFormat是将String转换成Date，一般前台给后台传值时用(springmvc用)\n   2. 将Date转换成String 一般后台传值给前台时设置响应方式为 @JsonFormat(pattern="yyyy-MM-dd")\n   3. @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss"，timezone = "GMT+8")\n      只争对json响应式的处理(中国为东8区)\n   4. @JsonIgnore json响应式忽略这个属性 private Date hiredate;\n\n17. 使用注解完成IOC的流程？\n 1. 添加context命名空间以及schemaLocation\n 2. 配置文件中添加上下文组件扫描<context:component-scan base-package="com"/>\n 3. 给所有需要放入IOC容器中的组件添加注解@Component/@S../@C../@R../@Scope\n 4. 给所有需要注入的属性添加注解@Autowired或@Resource\n\n18. @Resource和@Autowired的区别？\n 1. 来源不同\n    @Autowired来自Spring类库中，@Resource是J2EE官方类库中的\n 2. 底层匹配机制不同\n    @Autowired优先按照类型进行匹配，如果存在一个接口多个实现类， 再去按照属性名匹配， 如果匹配不到，抛出异常NoUniqueBeanDefinitionException， 此时，可通过 Qualifier("对象名") 指定注入对象\n    @Resource优先按照属性名进行匹配，如果匹配不到，再去按照类型进行匹配， 如果匹配到多个类型，抛出异常NoUniqueBeanDefinitionException 此时，可通过 @Resource(name="对象名") 指定注入对象\n\n19. 反射涉及到哪些类？分别对应哪些方法？\n * Class：太多， 比如getDeclaredConstructors()， c.newInstance()\n * Field： get(obj)，set(obj,value)\n * Method： invoke(obj, a.class, b.class, ...)\n * Constructor： newInstance(a.class, b.class ...)，setAccessible(true)\n\n20. 常用设计模式？\n\n单例模式， 工厂模式， 观察者模式(监听器)， 装饰者模式(包装流)， 代理模式(AOP)\n\n21. spring有几种通知(增强)？\n 1. 前置通知 before\n 2. 后置通知 after afterReturnning\n 3. 环绕通知 aroud\n 4. 异常通知 throws\n\n22. 都有哪几种动态代理？\n * jdk 依赖接口\n * cglib 继承关系\n\n\n# SpringMVC\n\n1、什么是Spring MVC ？简单介绍下你对springMVC的理解?\n\nSpring MVC是一个基于MVC架构的用来简化web应用程序开发的应用开发框架，它是Spring的一个模块,无需中间整合层来整合。\n\n它和Struts2一样都属于表现层框架。在web模型中，MVC是一种很流行的框架，通过把Model，View，Controller分离，把较为复杂的web应用分成逻辑清晰的几部分，简化开发，减少出错，方便组内开发人员之间的配合。\n\n2、SpringMVC的流程？\n\n（1）用户发送请求至前端控制器 DispatcherServlet；\n\n（2） DispatcherServlet收到请求后，调用 HandlerMapping 处理器映射器，请求获取Handle；\n\n（3）处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet；\n\n（4）DispatcherServlet通过 HandlerAdapter 处理器适配器调用处理器；\n\n（5）执行处理器(Handler，也叫后端控制器)；\n\n（6）Handler执行完成返回ModelAndView；\n\n（7）HandlerAdapter将Handler执行结果ModelAndView返回给DispatcherServlet；\n\n（8）DispatcherServlet将ModelAndView传给 ViewReslover 视图解析器进行解析；\n\n（9）ViewReslover解析后返回具体View；\n\n（10）DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）\n\n（11）DispatcherServlet响应用户。\n\n3、Springmvc的优点:\n\n（1）它是基于组件技术的。全部的应用对象,无论控制器和视图,还是业务对象之类的都是 java组件，并且和Spring提供的其他基础结构紧密集成\n\n（2）不依赖于Servlet API(目标虽是如此,但是在实现的时候确实是依赖于Servlet的)\n\n（3）可以任意使用各种视图技术，而不仅仅局限于JSP\n\n（4）支持各种请求资源的映射策略\n\n（5）它应是易于扩展的\n\n4、Spring MVC的主要组键？\n\n（1）前端控制器DispatcherServlet（不需要程序员开发）\n\n作用：接收请求、响应结果 相当于转发器，有了DispatcherServlet 就减少了其它组件之间的耦合度。\n\n（2）处理器映射器HandlerMapping（不需要程序员开发）\n\n作用：根据请求的URL来查找Handler\n\n（3）处理器适配器HandlerAdapter\n\n注意：在编写Handler的时候要按照HandlerAdapter要求的规则去编写，这样适配器HandlerAdapter才可以正确的去执行Handler。\n\n（4）处理器Handler（需要程序员开发）\n\n（5）视图解析器 ViewResolver（不需要程序员开发）\n\n作用：进行视图的解析 根据视图逻辑名解析成真正的视图（view）\n\n（6）视图View（需要程序员开发jsp）\n\nView是一个接口， 它的实现类支持不同的视图类型（jsp，freemarker，pdf等等）\n\n5、springMVC和struts2的区别有哪些?\n\n（1）入口不同：springmvc的入口是一个servlet即前端控制器（DispatchServlet）\nstruts2入口是一个filter过虑器（StrutsPrepareAndExecuteFilter）。\n\n（2）实现方式不同：springmvc是基于方法开发(一个url对应一个方法)，请求参数传递到方法的形参，可以设计为单例或多例(建议单例)\nstruts2是基于类开发，传递参数是通过类的属性，只能设计为多例。\n\n（3）参数解析不同：Struts采用值栈存储请求和响应的数据，通过OGNL存取数据\nspringmvc通过参数解析器是将request请求内容解析，并给方法形参赋值，将数据和视图封装成ModelAndView对象，最后又将ModelAndView中的模型数据通过reques域传输到页面。Jsp视图解析器默认使用jstl。\n\n6、SpringMVC怎么样设定重定向和转发的？\n\n（1）在返回值前面加"forward:"就可以让结果转发,譬如"forward:user.do?name=method4"\n\n（2）在返回值前面加"redirect:"就可以让返回值重定向,譬如"redirect:http://www.baidu.com"\n\n7、SpringMvc怎么和AJAX相互调用的？\n\n通过Jackson框架就可以把Java里面的对象直接转化成Js可以识别的Json对象。具体步骤如下 ：\n\n（1）加入Jackson.jar\n\n（2）在配置文件中配置json的映射\n\n（3）在接受Ajax的方法里面可以直接返回Object,List等,但方法前面要加上@ResponseBody注解。\n\n8、SpringMvc里面拦截器是怎么写的：\n\n有两种写法,一种是实现HandlerInterceptor接口,另外一种是继承适配器类,接着在接口方法当中，实现处理逻辑；然后在SpringMvc的配置文件中配置拦截器即可:\n\n\x3c!-- 配置SpringMvc的拦截器 --\x3e\n<mvc:interceptors>\n\t\n    \x3c!-- 配置一个拦截器的Bean就可以了 默认是对所有请求都拦截 --\x3e\n\t<bean id="myInterceptor" class="com.abc.action.MyHandlerInterceptor"></bean>\n\t\n    \x3c!-- 只针对部分请求拦截 --\x3e\n\t<mvc:interceptor>\n    \t<mvc:mapping path="/modelMap.do" />\n\t\t<bean class="com.abc.action.MyHandlerInterceptorAdapter" />\n\t</mvc:interceptor>\n\n</mvc:interceptors>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n9、如何解决POST请求中文乱码问题，GET的又如何处理呢？\n\n（1）解决post请求乱码问题：\n\n在web.xml中加入：\n\n<filter>\n\n  <filter-name>CharacterEncodingFilter</filter-name>\n\n  <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n\n  <init-param>\n\n    <param-name>encoding</param-name>\n\n    <param-value>utf-8</param-value>\n\n  </init-param>\n\n</filter>\n\n<filter-mapping>\n\n  <filter-name>CharacterEncodingFilter</filter-name>\n\n  <url-pattern>/*</url-pattern>\n\n</filter-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n（2）解决get请求中文参数出现乱码解决方法有两个：\n\n①修改tomcat配置文件添加编码与工程编码一致，如下：\n\n<ConnectorURIEncoding="utf-8" connectionTimeout="20000" port="8080" protocol="HTTP/1.1" redirectPort="8443"/>\n\n②另外一种方法对参数进行重新编码：\n\nString userName = new String(request.getParamter("userName").getBytes("ISO8859-1"),"utf-8")\n\nISO8859-1是tomcat默认编码，需要将tomcat编码后的内容按utf-8编码。\n\n10、Spring MVC的异常处理 ？\n\n可以将异常抛给Spring框架，由Spring框架来处理；我们只需要配置简单的异常处理器，在异常处理器中添视图页面即可。\n\n11、SpringMvc的核心入口类是什么,Struts1,Struts2的分别是什么：\n\nSpringMvc的是DispatchServlet\n\nStruts1的是ActionServlet\n\nStruts2的是StrutsPrepareAndExecuteFilter\n\n12、SpringMvc的控制器是不是单例模式,如果是,有什么问题,怎么解决？\n\n是单例模式，所以在多线程访问的时候有线程安全问题，不要用同步，会影响性能的，解决方案是在控制器里面不能写字段。\n\n13、SpingMvc中的控制器的注解一般用那个,有没有别的注解可以替代？\n\n一般用@Conntroller注解,表示是表现层,不能用用别的注解代替。\n\n14、 @RequestMapping注解用在类上面有什么作用？\n\n是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。\n\n15、怎么样把某个请求映射到特定的方法上面？\n\n直接在方法上面加上注解@RequestMapping,并且在这个注解里面写上要拦截的路径。\n\n16、如果在拦截请求中,我想拦截get方式提交的方法,怎么配置？\n\n可以在@RequestMapping注解里面加上method=RequestMethod.GET。\n\n17、怎么样在方法里面得到Request,或者Session？\n\n直接在方法的形参中声明request,SpringMvc就自动把request对象传入。\n\n18、如果想在拦截的方法里面得到从前台传入的参数,怎么得到？\n\n直接在形参里面声明这个参数就可以,但必须名字和传过来的参数一样。\n\n19、如果前台有很多个参数传入,并且这些参数都是一个对象的,那么怎么样快速得到这个对象？\n\n直接在方法中声明这个对象,SpringMvc就自动会把属性赋值到这个对象里面。\n\n20、SpringMvc中函数的返回值是什么？\n\n返回值可以有很多类型,有String, ModelAndView，但一般用String比较好。\n\n21、SpringMvc用什么对象从后台向前台传递数据的？\n 1. 使用Map、Model和ModelMap的方式\n\n@RequestMapping("/test")\npublic String test(Map<String,Object> map,Model model,ModelMap modelMap,HttpServletRequest request){\n    //1.放在map里  \n    map.put("names", Arrays.asList("caoyc","zhh","cjx"));\n    //2.放在model里 建议使用\n    model.addAttribute("time", new Date());\n    //3.放在request里  \n    request.setAttribute("request", "requestValue");\n    //4.放在modelMap中 \n    modelMap.addAttribute("city", "ChengDu");\n    modelMap.put("gender", "male");\n    return "hello";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\nJSP写法:\n\ntime:${requestScope.time}\nnames:${requestScope.names }\ncity:${requestScope.city }\ngender:${requestScope.gender }\nrequest:${requestScope.request}\n\n\n1\n2\n3\n4\n5\n\n 2. 使用ModelAndView的方式:\n\n@RequestMapping(value="/test2.do",method = RequestMethod.POST)  \npublic ModelAndView checknameIsExist2(@RequestParam("sid") String sid,Model model,HttpServletRequest request) {  \n    ModelAndView mav = new ModelAndView();  \n    mav.addObject("ModelAndView", "ModelAndViewValue");  \n    //设置要跳转的页面，与返回值时String时返回success类似，以下跳转到/student/studentList.jsp  \n    mav.setViewName("/student/studentList");  \n    return mav;  \n\n\n1\n2\n3\n4\n5\n6\n7\n\n22、SpringMvc中有个类把视图和数据都合并的一起的,叫什么？\n\n叫ModelAndView。\n\n23、怎么样把ModelMap里面的数据放入Session里面？\n\n可以在类上面加上 @SessionAttributes 注解,里面包含的字符串就是要放入session里面的key。\n\n24、当一个方法向AJAX返回特殊对象,譬如Object,List等,需要做什么处理？\n\n要加上 @ResponseBody 注解。',normalizedContent:'# spring基础\n\n1. spring两大核心？\n\nioc控制反转， aop面向切面编程\n\n2. ioc控制反转到底反转了什么？\n\n创建对象的过程，形成对象与对象之间依赖关系的操作\n(martin: 依赖对象的获得被反转了，本来应该是我们自己new， 现在是通过springioc容器注入)\n\n3. 什么是aop？\n\naop即面向切面编程，关注的是非核心业务的处理\n用到的地方：比如日志、网站的访问次数等\n主要目的:：核心业务和非核心业务之间的解耦\n底层使用了动态代理模式\n要素：advice(非核心业务的载体)， pointcut(非核心业务的放置位置)， advisor(建立advice和pointcut之间的联系)\n\n4. 反转之后的好处？\n\n有助于类与类之间的解耦\n\n5. ioc的好处？\n\n将对象的创建和属性的赋值完全转交给spring， 从而降低类与类之间的依赖关系，达到松散耦合的目的\n\n6. ico的核心？\n\nioc容器之所以叫ioc容器， 是因为其中的ioc指的是将主动new变成了被动注入\n从此角度出发， ioc的核心是di依赖注入\n\n7. di是什么？\n\n依赖注入，指的是建立每个对象之间关系的方式，也就是对属性赋值的操作\n\n8. bean的属性都有？\n\nid：(每个ioc容器对象的唯一标识)，\nclass：(当前类对应的类型)，\nscope：(作用范围)，\nlazy-init：(是否 延迟加载)，\nfactory-method：(指定返回返回该对象的方法名称)，\nfactory-bean：(指定工厂实例)，\ninit-method：(对象初始化调用的方法)，\ndestroy-method\n\n9. scope分别有几种情况？如何配置？\n\n * singleton，prototype，request，session，globalsession\n\n * 一般无状态的类的对象都配置成singleton，无状态的类一般指像service和dao层这样逻辑处理类\n   有状态的类需要设置成prototype或request，一般指像action一样存在多实例， 并且其中数据都不同\n\n10. spring创建对象的方式？\n 1. 构造方法创建(id+class)；\n 2. 静态工厂创建(class+factory-method)；\n 3. 实例工厂创建(factory-bean+factory-method)\n\n11. 完成注入的方式？\n 1. setter注入 <property ...>\n 2. 构造方法注入 <constructor-arg ...>\n\n12. schema是什么？优势？\n\n * 用来校验xml文件规范的xsd的文件\n   \n   1. 基于xml语法\n   2. 扩充了数据类型\n   3. 支持命名空间\n   * schema最重要的能力之一就是对数据类型的支持\n\n13. 复杂属性如何注入？\n * 数组/list/set\n   <property><array/list/set><value>value</value>\n * map\n   <map><entry key="" value=""/>\n * properties\n   <props><prop key="">vlaue</prop>\n\n14. 常用spring注解？\n\n@component， @repository， @service， @controller @autowired， @qualifier， @scope，@value @aspect， @pointcut， @before， @after， @afterreturning， @around， @afterthrowing\n\n15. 接受文件:\n\n@requestparam(value="file") multipartfile file\n\n16. 关于日期、时间\n * 映射类声明变量前，加入此注解:\n   1. @datetimeformat是将string转换成date，一般前台给后台传值时用(springmvc用)\n   2. 将date转换成string 一般后台传值给前台时设置响应方式为 @jsonformat(pattern="yyyy-mm-dd")\n   3. @jsonformat(pattern = "yyyy-mm-dd hh:mm:ss"，timezone = "gmt+8")\n      只争对json响应式的处理(中国为东8区)\n   4. @jsonignore json响应式忽略这个属性 private date hiredate;\n\n17. 使用注解完成ioc的流程？\n 1. 添加context命名空间以及schemalocation\n 2. 配置文件中添加上下文组件扫描<context:component-scan base-package="com"/>\n 3. 给所有需要放入ioc容器中的组件添加注解@component/@s../@c../@r../@scope\n 4. 给所有需要注入的属性添加注解@autowired或@resource\n\n18. @resource和@autowired的区别？\n 1. 来源不同\n    @autowired来自spring类库中，@resource是j2ee官方类库中的\n 2. 底层匹配机制不同\n    @autowired优先按照类型进行匹配，如果存在一个接口多个实现类， 再去按照属性名匹配， 如果匹配不到，抛出异常nouniquebeandefinitionexception， 此时，可通过 qualifier("对象名") 指定注入对象\n    @resource优先按照属性名进行匹配，如果匹配不到，再去按照类型进行匹配， 如果匹配到多个类型，抛出异常nouniquebeandefinitionexception 此时，可通过 @resource(name="对象名") 指定注入对象\n\n19. 反射涉及到哪些类？分别对应哪些方法？\n * class：太多， 比如getdeclaredconstructors()， c.newinstance()\n * field： get(obj)，set(obj,value)\n * method： invoke(obj, a.class, b.class, ...)\n * constructor： newinstance(a.class, b.class ...)，setaccessible(true)\n\n20. 常用设计模式？\n\n单例模式， 工厂模式， 观察者模式(监听器)， 装饰者模式(包装流)， 代理模式(aop)\n\n21. spring有几种通知(增强)？\n 1. 前置通知 before\n 2. 后置通知 after afterreturnning\n 3. 环绕通知 aroud\n 4. 异常通知 throws\n\n22. 都有哪几种动态代理？\n * jdk 依赖接口\n * cglib 继承关系\n\n\n# springmvc\n\n1、什么是spring mvc ？简单介绍下你对springmvc的理解?\n\nspring mvc是一个基于mvc架构的用来简化web应用程序开发的应用开发框架，它是spring的一个模块,无需中间整合层来整合。\n\n它和struts2一样都属于表现层框架。在web模型中，mvc是一种很流行的框架，通过把model，view，controller分离，把较为复杂的web应用分成逻辑清晰的几部分，简化开发，减少出错，方便组内开发人员之间的配合。\n\n2、springmvc的流程？\n\n（1）用户发送请求至前端控制器 dispatcherservlet；\n\n（2） dispatcherservlet收到请求后，调用 handlermapping 处理器映射器，请求获取handle；\n\n（3）处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给dispatcherservlet；\n\n（4）dispatcherservlet通过 handleradapter 处理器适配器调用处理器；\n\n（5）执行处理器(handler，也叫后端控制器)；\n\n（6）handler执行完成返回modelandview；\n\n（7）handleradapter将handler执行结果modelandview返回给dispatcherservlet；\n\n（8）dispatcherservlet将modelandview传给 viewreslover 视图解析器进行解析；\n\n（9）viewreslover解析后返回具体view；\n\n（10）dispatcherservlet对view进行渲染视图（即将模型数据填充至视图中）\n\n（11）dispatcherservlet响应用户。\n\n3、springmvc的优点:\n\n（1）它是基于组件技术的。全部的应用对象,无论控制器和视图,还是业务对象之类的都是 java组件，并且和spring提供的其他基础结构紧密集成\n\n（2）不依赖于servlet api(目标虽是如此,但是在实现的时候确实是依赖于servlet的)\n\n（3）可以任意使用各种视图技术，而不仅仅局限于jsp\n\n（4）支持各种请求资源的映射策略\n\n（5）它应是易于扩展的\n\n4、spring mvc的主要组键？\n\n（1）前端控制器dispatcherservlet（不需要程序员开发）\n\n作用：接收请求、响应结果 相当于转发器，有了dispatcherservlet 就减少了其它组件之间的耦合度。\n\n（2）处理器映射器handlermapping（不需要程序员开发）\n\n作用：根据请求的url来查找handler\n\n（3）处理器适配器handleradapter\n\n注意：在编写handler的时候要按照handleradapter要求的规则去编写，这样适配器handleradapter才可以正确的去执行handler。\n\n（4）处理器handler（需要程序员开发）\n\n（5）视图解析器 viewresolver（不需要程序员开发）\n\n作用：进行视图的解析 根据视图逻辑名解析成真正的视图（view）\n\n（6）视图view（需要程序员开发jsp）\n\nview是一个接口， 它的实现类支持不同的视图类型（jsp，freemarker，pdf等等）\n\n5、springmvc和struts2的区别有哪些?\n\n（1）入口不同：springmvc的入口是一个servlet即前端控制器（dispatchservlet）\nstruts2入口是一个filter过虑器（strutsprepareandexecutefilter）。\n\n（2）实现方式不同：springmvc是基于方法开发(一个url对应一个方法)，请求参数传递到方法的形参，可以设计为单例或多例(建议单例)\nstruts2是基于类开发，传递参数是通过类的属性，只能设计为多例。\n\n（3）参数解析不同：struts采用值栈存储请求和响应的数据，通过ognl存取数据\nspringmvc通过参数解析器是将request请求内容解析，并给方法形参赋值，将数据和视图封装成modelandview对象，最后又将modelandview中的模型数据通过reques域传输到页面。jsp视图解析器默认使用jstl。\n\n6、springmvc怎么样设定重定向和转发的？\n\n（1）在返回值前面加"forward:"就可以让结果转发,譬如"forward:user.do?name=method4"\n\n（2）在返回值前面加"redirect:"就可以让返回值重定向,譬如"redirect:http://www.baidu.com"\n\n7、springmvc怎么和ajax相互调用的？\n\n通过jackson框架就可以把java里面的对象直接转化成js可以识别的json对象。具体步骤如下 ：\n\n（1）加入jackson.jar\n\n（2）在配置文件中配置json的映射\n\n（3）在接受ajax的方法里面可以直接返回object,list等,但方法前面要加上@responsebody注解。\n\n8、springmvc里面拦截器是怎么写的：\n\n有两种写法,一种是实现handlerinterceptor接口,另外一种是继承适配器类,接着在接口方法当中，实现处理逻辑；然后在springmvc的配置文件中配置拦截器即可:\n\n\x3c!-- 配置springmvc的拦截器 --\x3e\n<mvc:interceptors>\n\t\n    \x3c!-- 配置一个拦截器的bean就可以了 默认是对所有请求都拦截 --\x3e\n\t<bean id="myinterceptor" class="com.abc.action.myhandlerinterceptor"></bean>\n\t\n    \x3c!-- 只针对部分请求拦截 --\x3e\n\t<mvc:interceptor>\n    \t<mvc:mapping path="/modelmap.do" />\n\t\t<bean class="com.abc.action.myhandlerinterceptoradapter" />\n\t</mvc:interceptor>\n\n</mvc:interceptors>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n9、如何解决post请求中文乱码问题，get的又如何处理呢？\n\n（1）解决post请求乱码问题：\n\n在web.xml中加入：\n\n<filter>\n\n  <filter-name>characterencodingfilter</filter-name>\n\n  <filter-class>org.springframework.web.filter.characterencodingfilter</filter-class>\n\n  <init-param>\n\n    <param-name>encoding</param-name>\n\n    <param-value>utf-8</param-value>\n\n  </init-param>\n\n</filter>\n\n<filter-mapping>\n\n  <filter-name>characterencodingfilter</filter-name>\n\n  <url-pattern>/*</url-pattern>\n\n</filter-mapping>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n（2）解决get请求中文参数出现乱码解决方法有两个：\n\n①修改tomcat配置文件添加编码与工程编码一致，如下：\n\n<connectoruriencoding="utf-8" connectiontimeout="20000" port="8080" protocol="http/1.1" redirectport="8443"/>\n\n②另外一种方法对参数进行重新编码：\n\nstring username = new string(request.getparamter("username").getbytes("iso8859-1"),"utf-8")\n\niso8859-1是tomcat默认编码，需要将tomcat编码后的内容按utf-8编码。\n\n10、spring mvc的异常处理 ？\n\n可以将异常抛给spring框架，由spring框架来处理；我们只需要配置简单的异常处理器，在异常处理器中添视图页面即可。\n\n11、springmvc的核心入口类是什么,struts1,struts2的分别是什么：\n\nspringmvc的是dispatchservlet\n\nstruts1的是actionservlet\n\nstruts2的是strutsprepareandexecutefilter\n\n12、springmvc的控制器是不是单例模式,如果是,有什么问题,怎么解决？\n\n是单例模式，所以在多线程访问的时候有线程安全问题，不要用同步，会影响性能的，解决方案是在控制器里面不能写字段。\n\n13、spingmvc中的控制器的注解一般用那个,有没有别的注解可以替代？\n\n一般用@conntroller注解,表示是表现层,不能用用别的注解代替。\n\n14、 @requestmapping注解用在类上面有什么作用？\n\n是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。\n\n15、怎么样把某个请求映射到特定的方法上面？\n\n直接在方法上面加上注解@requestmapping,并且在这个注解里面写上要拦截的路径。\n\n16、如果在拦截请求中,我想拦截get方式提交的方法,怎么配置？\n\n可以在@requestmapping注解里面加上method=requestmethod.get。\n\n17、怎么样在方法里面得到request,或者session？\n\n直接在方法的形参中声明request,springmvc就自动把request对象传入。\n\n18、如果想在拦截的方法里面得到从前台传入的参数,怎么得到？\n\n直接在形参里面声明这个参数就可以,但必须名字和传过来的参数一样。\n\n19、如果前台有很多个参数传入,并且这些参数都是一个对象的,那么怎么样快速得到这个对象？\n\n直接在方法中声明这个对象,springmvc就自动会把属性赋值到这个对象里面。\n\n20、springmvc中函数的返回值是什么？\n\n返回值可以有很多类型,有string, modelandview，但一般用string比较好。\n\n21、springmvc用什么对象从后台向前台传递数据的？\n 1. 使用map、model和modelmap的方式\n\n@requestmapping("/test")\npublic string test(map<string,object> map,model model,modelmap modelmap,httpservletrequest request){\n    //1.放在map里  \n    map.put("names", arrays.aslist("caoyc","zhh","cjx"));\n    //2.放在model里 建议使用\n    model.addattribute("time", new date());\n    //3.放在request里  \n    request.setattribute("request", "requestvalue");\n    //4.放在modelmap中 \n    modelmap.addattribute("city", "chengdu");\n    modelmap.put("gender", "male");\n    return "hello";\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\njsp写法:\n\ntime:${requestscope.time}\nnames:${requestscope.names }\ncity:${requestscope.city }\ngender:${requestscope.gender }\nrequest:${requestscope.request}\n\n\n1\n2\n3\n4\n5\n\n 2. 使用modelandview的方式:\n\n@requestmapping(value="/test2.do",method = requestmethod.post)  \npublic modelandview checknameisexist2(@requestparam("sid") string sid,model model,httpservletrequest request) {  \n    modelandview mav = new modelandview();  \n    mav.addobject("modelandview", "modelandviewvalue");  \n    //设置要跳转的页面，与返回值时string时返回success类似，以下跳转到/student/studentlist.jsp  \n    mav.setviewname("/student/studentlist");  \n    return mav;  \n\n\n1\n2\n3\n4\n5\n6\n7\n\n22、springmvc中有个类把视图和数据都合并的一起的,叫什么？\n\n叫modelandview。\n\n23、怎么样把modelmap里面的数据放入session里面？\n\n可以在类上面加上 @sessionattributes 注解,里面包含的字符串就是要放入session里面的key。\n\n24、当一个方法向ajax返回特殊对象,譬如object,list等,需要做什么处理？\n\n要加上 @responsebody 注解。',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Q&A宝典-spring进阶篇",frontmatter:{title:"Q&A宝典-spring进阶篇",date:"2023-02-28T00:00:00.000Z",tags:["复习"],categories:["Abstract"],isShowComments:!1},regularPath:"/views/qaq/sum_spring_003.html",relativePath:"views/qaq/sum_spring_003.md",key:"v-1dd3b78b",path:"/views/qaq/sum_spring_003.html",headers:[{level:2,title:"Spring进阶",slug:"spring进阶",normalizedTitle:"spring进阶",charIndex:2},{level:2,title:"其它",slug:"其它",normalizedTitle:"其它",charIndex:8735}],headersStr:"Spring进阶 其它",content:'# Spring进阶\n\n1、SpringMVC的流程？\n\n（1）用户发送请求至前端控制器 DispatcherServlet；\n\n（2） DispatcherServlet收到请求后，调用 HandlerMapping 处理器映射器，请求获取Handle；\n\n（3）处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet；\n\n（4）DispatcherServlet通过 HandlerAdapter 处理器适配器调用处理器；\n\n（5）执行处理器(Handler，也叫后端控制器)；\n\n（6）Handler执行完成返回ModelAndView；\n\n（7）HandlerAdapter将Handler执行结果ModelAndView返回给DispatcherServlet；\n\n（8）DispatcherServlet将ModelAndView传给 ViewReslover 视图解析器进行解析；\n\n（9）ViewReslover解析后返回具体View；\n\n（10）DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）\n\n（11）DispatcherServlet响应用户。\n\n2. IOC控制反转底层原理\n\n 1. 自定义两个注解\n    \n    @Component：判断是否注入bean容器\n    \n    @Autowired：判断是否依赖注入\n\n 2. 创建ApplicationContext容器类\n    \n    1. private ConcurrentHashMap<String, Object> beans = null; 存放bean的容器\n    \n    2. initBeans(); 根据注解@Component加载所有bean\n       \n       * 利用反射机制，遍历一个包下的所有类，判断类上有注解@Component就放入beans容器中，beans.put(beanId, newInstance);\n    \n    3. initEntryField(); 根据注解@Autowired加载所有依赖注入的对象\n       \n       * 所有bean初始化之后，判断bean的依赖注入关系\n       \n       * 遍历beans容器，利用反射机制，获取bean的所有属性并遍历判断有@Autowired注解的进行依赖注入(利用java反射set注入，private不用写set方法了)\n         \n         //判断当前类属性是否存在注解\n         //declaredFields：利用反射得到的所有属性\n         for (Field field : declaredFields) {\n             SelfAutowired extResource = field.getAnnotation(SelfAutowired.class);\n             if (extResource != null) {\n                 //属性名称：即容器中bean\n                 String beanId = field.getName();\n                 Object bean = getBean(beanId);\n                 if (bean != null) {\n                     //默认使用属性名称，查找bean容器对象 1参数 当前对象 2参数给属性赋值\n                     field.setAccessible(true); //允许访问私有属性,private不用写set()了\n                     field.set(object, bean); //依赖注入\n                 }\n             }\n         }\n         \n         \n         1\n         2\n         3\n         4\n         5\n         6\n         7\n         8\n         9\n         10\n         11\n         12\n         13\n         14\n         15\n         \n\n3. 动态代理底层原理\n * 简书gstansen分析的很好，涉及动态代理比较复杂，我在这里简单概括下吧：\n\n 1. 业务接口（Interface） 业务的抽象表示\n\n 2. 业务具体实现类（concreteManager） 实现业务接口，执行具体的业务操作\n\n 3. 业务代理类（$proxy，在运行的时候动态生成的类） 进行业务代理，调用业务代理操作类\n\n 4. 业务代理操作类（DynamicProxyHandler，实现了InvocationHandler接口的类） 代理方法的直接调用者，通过InvocationHandler中的invoke方法直接发起代理\n    \n    public class DynamicProxyHandler implements InvocationHandler{\n        Object realCookManager;\n        DynamicProxyHandler(ICook realCookManager){\n            this.realCookManager = realCookManager;\n        }\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            System.out.println("invoke start");\n            System.out.println(method.getName());\n            method.invoke(realCookManager,args);\n            System.out.println("invoke end");\n            return null;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 5. 客户端调用对象（client） 发起业务\n\n * 总体思路：\n   \n   /* 5.客户端调用对象（client）\n    */\n   public class Main {\n       public static void main(String[] args){\n   \t\t//1. 业务实现类\n           CookManager cookManager = new CookManager();\n           //2. 业务代理操作类\n           DynamicProxyHandler dynamicProxyHandler = \n               new DynamicProxyHandler(cookManager);\n           //3. Proxy类中的newProxyInstance()方法利用java反射返回代理类的实例\n           ICook iCook =(ICook)Proxy.newProxyInstance(\n               dynamicProxyHandler.getClass().getClassLoader(),\n               cookManager.getClass().getInterfaces(),\n               dynamicProxyHandler);\n           \n           //打印一下代理类的类名\n           System.out.println(iCook.getClass().getName());\n           iCook.dealWithFoot();\n           iCook.cook();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n   \n   > ICook iCook = (ICook)Proxy.newProxyInstance(\n   > \n   > 业务代理操作类.getClass().getClassLoader(),\n   > \n   > 业务具体实现类.getClass().getInterfaces(),\n   > \n   > 业务代理操作类 );\n   \n   1. ClassLoader是一个抽象类，作用是将字节码文件加载进虚拟机并生成相应的class（注意是小写的）\n   2. interfaces就是被实现的那些业务接口\n   3. 业务代理操作类：实现InvocationHandler接口的实例，即DynamicProxyHandler\n   \n   Proxy类中的newProxyInstance()方法利用java反射返回代理类的实例：\n   \n   public static Object newProxyInstance(ClassLoader loader,Class<?>[]\n                                         interfaces,InvocationHandler h){\n        //所有被实现的业务接口\n         final Class<?>[] intfs = interfaces.clone();\n        //寻找或生成指定的代理类\n         Class<?> cl = getProxyClass0(loader, intfs);\n         //通过反射类中的Constructor获取其所有构造方法\n         final Constructor<?> cons = cl.getConstructor(constructorParams);\n         //通过Constructor返回代理类的实例\n         return cons.newInstance(new Object[]{h});\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   \n\n4、读过springmvc源码？\n\nSpringmvc入口 请求 映射器 适配器\n\n//前端控制器分派方法 \n\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { \n\n​    HttpServletRequest processedRequest = request; \n\n​    HandlerExecutionChain mappedHandler = null; \n\n​    int interceptorIndex = -1;\n\n​    try { \n\n​      ModelAndView mv; \n\n​      boolean errorView = false;  \n\n​      try { \n\n​    //检查是否是请求是否是multipart（如文件上传），如果是将通过MultipartResolver解析 \n\n​        processedRequest = checkMultipart(request); \n\n​     //步骤2、请求到处理器（页面控制器）的映射，通过HandlerMapping进行映射 \n\n​        mappedHandler = getHandler(processedRequest, false); \n\n​        if (mappedHandler == null || mappedHandler.getHandler() == null) { \n\n​          noHandlerFound(processedRequest, response); \n\n​          return; \n\n​        } \n\n //步骤3、处理器适配，即将我们的处理器包装成相应的适配器（从而支持多种类型的处理器） \n\n​        HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler());  \n\n​        // 304 Not Modified缓存支持 \n\n​        //此处省略具体代码  \n\n​        // 执行处理器相关的拦截器的预处理（HandlerInterceptor.preHandle） \n\n​        //此处省略具体代码  \n\n​        // 步骤4、由适配器执行处理器（调用处理器相应功能处理方法） \n\n​        mv = ha.handle(processedRequest, response, mappedHandler.getHandler());  \n\n​        // Do we need view name translation? \n\n​        if (mv != null && !mv.hasView()) { \n\n​          mv.setViewName(getDefaultViewName(request)); \n\n​        }  \n\n​        // 执行处理器相关的拦截器的后处理（HandlerInterceptor.postHandle） \n\n​        //此处省略具体代码 \n\n​      } \n\n​      catch (ModelAndViewDefiningException ex) { \n\n​        logger.debug("ModelAndViewDefiningException encountered", ex); \n\n​        mv = ex.getModelAndView(); \n\n​      } \n\n​      catch (Exception ex) { \n\n​        Object handler = (mappedHandler != null ? mappedHandler.getHandler() : null); \n\n​        mv = processHandlerException(processedRequest, response, handler, ex); \n\n​        errorView = (mv != null); \n\n​      }  \n\n//步骤5 步骤6、解析视图并进行视图的渲染 \n\n//步骤5 由ViewResolver解析View（viewResolver.resolveViewName(viewName, locale)） \n\n步骤6 视图在渲染时会把Model传入（view.render(mv.getModelInternal(), request, response);） \n\n​      if (mv != null && !mv.wasCleared()) { \n\n​        render(mv, processedRequest, response); \n\n​        if (errorView) { \n\n​          WebUtils.clearErrorRequestAttributes(request); \n\n​        } \n\n​      } \n\n​      else { \n\n​        if (logger.isDebugEnabled()) { \n\n​          logger.debug("Null ModelAndView returned to DispatcherServlet with name \'" + getServletName() + \n\n​              "\': assuming HandlerAdapter completed request handling"); \n\n​        } \n\n​      }  \n\n​      // 执行处理器相关的拦截器的完成后处理（HandlerInterceptor.afterCompletion） \n\n​      //此处省略具体代码  \n\n​    catch (Exception ex) { \n\n​      // Trigger after-completion for thrown exception. \n\n​      triggerAfterCompletion(mappedHandler, interceptorIndex, processedRequest, response, ex)      throw ex; \n\n​    } \n\n​    catch (Error err) { \n\n​      ServletException ex = new NestedServletException("Handler processing failed", err); \n\n​      // Trigger after-completion for thrown exception. \n\n​      triggerAfterCompletion(mappedHandler, interceptorIndex, processedRequest, response, ex); \n\n​      throw ex; \n\n​    }  \n\n​    finally { \n\n​      // Clean up any resources used by a multipart request. \n\n​      if (processedRequest != request) {\n\n​        cleanupMultipart(processedRequest); \n\n​      } \n\n​    } \n\n  } \n\n \n\n \n\nSpringmvc九大组件：\n\nprotected void initStrategies(ApplicationContext context) {\n\n  //用于处理上传请求。处理方法是将普通的request包装成MultipartHttpServletRequest，后者可以直接调用getFile方法获取File.\n\n  initMultipartResolver(context);\n\n  //SpringMVC主要有两个地方用到了Locale：一是ViewResolver视图解析的时候；二是用到国际化资源或者主题的时候。\n\n  initLocaleResolver(context); \n\n  //用于解析主题。SpringMVC中一个主题对应一个properties文件，里面存放着跟当前主题相关的所有资源、\n\n  //如图片、css样式等。SpringMVC的主题也支持国际化， \n\n  initThemeResolver(context);\n\n  //用来查找Handler的。\n\n  initHandlerMappings(context);\n\n  //从名字上看，它就是一个适配器。Servlet需要的处理方法的结构却是固定的，都是以request和response为参数的方法。\n\n  //如何让固定的Servlet处理方法调用灵活的Handler来进行处理呢？这就是HandlerAdapter要做的事情\n\n  initHandlerAdapters(context);\n\n  //其它组件都是用来干活的。在干活的过程中难免会出现问题，出问题后怎么办呢？\n\n  //这就需要有一个专门的角色对异常情况进行处理，在SpringMVC中就是HandlerExceptionResolver。\n\n  initHandlerExceptionResolvers(context);\n\n  //有的Handler处理完后并没有设置View也没有设置ViewName，这时就需要从request获取ViewName了，\n\n  //如何从request中获取ViewName就是RequestToViewNameTranslator要做的事情了。\n\n  initRequestToViewNameTranslator(context);\n\n  //ViewResolver用来将String类型的视图名和Locale解析为View类型的视图。\n\n  //View是用来渲染页面的，也就是将程序返回的参数填入模板里，生成html（也可能是其它类型）文件。\n\n  initViewResolvers(context);\n\n  //用来管理FlashMap的，FlashMap主要用在redirect重定向中传递参数。\n\n  initFlashMapManager(context); \n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n\n\n\n# 其它\n\n1. 定时任务\n\n就是在xml中配置，具体可以看我的这篇文章\n\n 1. 先配置(实例化)一个业务，就是我们自己写的类\n 2. 再配置一个任务，jobDetailFactoryBean\n    * 在这个任务里name=targetObject 注入我们自己写的那个类\n    * 要用哪个方法的话，就name=tagetMethod 注入那个方法\n    * name=concurrent 设置为false防止并发执行\n 3. 再配置触发器(cron表达式)，CronTriggerBean\n    * name=jobDetail 注入那个任务\n    * name=cronExpression 设置定时触发时间\n 4. 配置一个调度器(只能有一个) SchedulerFactoryBean\n    * name=triggers 注入要调度的哪个触发器\n\n2. dubbo\n\n> 参考 dubbo官网配置\n\n * 提供者：提供方应用信息\n   \n   配置<dubbo:registry>zookeeper注册中心暴露服务地址\n   配置dubbo协议和端口号<dubbo:protocol> dubbo协议\n   <dubbo:service>声明要暴露的服务接口(或者用注解)\n\n * zookeeper：注册中心\n\n * 消费者：消费方应用信息\n   \n   配置zookeeper注册中心暴露服务地址<dubbo:registry>\n   获取注册中心的接口信息<dubbo:reference>\n\n3. httpclient短信验证码\n\n> 参考互亿无线文档\n\n 1. 前端点击获取验证码的时候，ajax访问后台请求，同时倒计时60秒\n 2. 我们在后台拿到短信平台提供的接口地址，然后看他需要什么参数（用户名，密码，手机号，短信验证码），它有文档demo嘛，就根据它的改成我们需要的，然后拼装参数给他返回去\n 3. 然后他呢也会给我们返回一堆参数(是成功还是失败)，我们把这些参数返回给前端\n\n4. webService\n\n> 参考博客简单的webService接口生成\n> 方法上加@WebMentod(exclude=true)后，此方法不被发布\n> 静态方法不会被发布\n\n 1. 配置web.xml文件 设置cxf要拦截的路径\n    cxf服务端必须定义CXFServlet对象\n 2. 配置服务端cxf.xml文件 （暴露访问地址,发布接口）\n    <cxf:endpoint address="/user" implementor="#实现类"/>\n 3. 定义一个bean类\n 4. 争对这个bean类写一个接口，在接口前加注解\n    @javax.jws.WebService(表示一个服务端发布接口)\n 5. 在这个接口的实现类加@javax.jws.WebService、 @Service (服务层)\n 6. 地址栏登陆时：记得\n    http://localhost:8080/工程名/ws(web.xml配置)/自己配置的地址?wsdl\n\n * 如果用cxf测试接口的话\n   1. 配置cxf服务端(以上)\n   2. 配置客户端xml 请求地址，和服务端暴露的接口\n   3. cmd下 一堆命令\n\n5. spring中配置事务\n\n> 声明式事务配置详解\n\n * web.xml加载顺序：\n\n 1. listener 加载spring\n\n \x3c!-- spring start --\x3e\n <listener>\n \t\x3c!-- spring web容器  默认加载spring配置文件路径为 WEB-INF/applicationContext.xml--\x3e\n \t<listener-class>\n \t\torg.springframework.web.context.ContextLoaderListener\n \t</listener-class>\n </listener>\n \n <context-param>\n \t<param-name>contextConfigLocation</param-name>\n \t<param-value>classpath:applicationContext*.xml</param-value>\n </context-param>\n \x3c!-- spring end --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. filter\n 3. servlet\n\n\x3c!-- springmvc start --\x3e\n <servlet>\n \t<servlet-name>mvc</servlet-name>\n \t<servlet-class>\n \t\torg.springframework.web.servlet.DispatcherServlet\n \t</servlet-class>\n \t<init-param>\n \t\t<param-name>contextConfigLocation</param-name>\n \t\t<param-value>classpath:springmvc.xml</param-value>\n \t</init-param>\n </servlet>\n \n <servlet-mapping>\n \t<servlet-name>mvc</servlet-name>\n \t<url-pattern>/</url-pattern>\n </servlet-mapping>\n \x3c!-- springmvc end --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n * web.xml加载的时候先加载spring，后加载springmvc\n\n 1. spring自带aop，spring是父容器\n 2. springmvc没有引入aop，springmvc是子容器\n 3. 子容器的创建依赖于父容器的创建，父容器先于子容器创建；子容器 (springmvc 容器) 可以访问父容器 (spring 容器) 的 bean，父容器 (spring 容器) 不能访问子容器 (springmvc 容器) 的 bean\n 4. 所以一般在子容器springmvc中开启aop配置 <aop:aspectj-autoproxy/>\n 5. 而事务、切面都依赖于aop\n 6. 如果不想aop在Controller生效，则配置的时候可以让springmvc只扫描@Controller注解，spring扫描除了@Controller的其它所有注解，并且在spring中开启aop配置即可\n\n * 以下是具体配置：\n\n\x3c!-- springmvc配置 --\x3e\n\n\x3c!-- use-default-filters="false" 所有注解不被加载 --\x3e\n<context:component-scan base-package="com.xxx" use-default-filters="false">\n    \x3c!-- 只加载@Controller注解 --\x3e\n    <context:include-filter type="annotation" \n                            expression="org.springframework.stereotype.Controller" />\n</context:component-scan>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\x3c!-- spring配置 --\x3e\n\n\x3c!-- spring配置aop --\x3e\n<aop:aspectj-autoproxy/>\n\x3c!-- use-default-filters="true" 默认、加载所有注解 --\x3e\n<context:component-scan base-package="com.xxx">\n    \x3c!-- 加载除了@Controller的其它所有注解 --\x3e\n    <context:exclude-filter type="annotation" \n                            expression="org.springframework.stereotype.Controller"/>\n</context:component-scan>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n',normalizedContent:'# spring进阶\n\n1、springmvc的流程？\n\n（1）用户发送请求至前端控制器 dispatcherservlet；\n\n（2） dispatcherservlet收到请求后，调用 handlermapping 处理器映射器，请求获取handle；\n\n（3）处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给dispatcherservlet；\n\n（4）dispatcherservlet通过 handleradapter 处理器适配器调用处理器；\n\n（5）执行处理器(handler，也叫后端控制器)；\n\n（6）handler执行完成返回modelandview；\n\n（7）handleradapter将handler执行结果modelandview返回给dispatcherservlet；\n\n（8）dispatcherservlet将modelandview传给 viewreslover 视图解析器进行解析；\n\n（9）viewreslover解析后返回具体view；\n\n（10）dispatcherservlet对view进行渲染视图（即将模型数据填充至视图中）\n\n（11）dispatcherservlet响应用户。\n\n2. ioc控制反转底层原理\n\n 1. 自定义两个注解\n    \n    @component：判断是否注入bean容器\n    \n    @autowired：判断是否依赖注入\n\n 2. 创建applicationcontext容器类\n    \n    1. private concurrenthashmap<string, object> beans = null; 存放bean的容器\n    \n    2. initbeans(); 根据注解@component加载所有bean\n       \n       * 利用反射机制，遍历一个包下的所有类，判断类上有注解@component就放入beans容器中，beans.put(beanid, newinstance);\n    \n    3. initentryfield(); 根据注解@autowired加载所有依赖注入的对象\n       \n       * 所有bean初始化之后，判断bean的依赖注入关系\n       \n       * 遍历beans容器，利用反射机制，获取bean的所有属性并遍历判断有@autowired注解的进行依赖注入(利用java反射set注入，private不用写set方法了)\n         \n         //判断当前类属性是否存在注解\n         //declaredfields：利用反射得到的所有属性\n         for (field field : declaredfields) {\n             selfautowired extresource = field.getannotation(selfautowired.class);\n             if (extresource != null) {\n                 //属性名称：即容器中bean\n                 string beanid = field.getname();\n                 object bean = getbean(beanid);\n                 if (bean != null) {\n                     //默认使用属性名称，查找bean容器对象 1参数 当前对象 2参数给属性赋值\n                     field.setaccessible(true); //允许访问私有属性,private不用写set()了\n                     field.set(object, bean); //依赖注入\n                 }\n             }\n         }\n         \n         \n         1\n         2\n         3\n         4\n         5\n         6\n         7\n         8\n         9\n         10\n         11\n         12\n         13\n         14\n         15\n         \n\n3. 动态代理底层原理\n * 简书gstansen分析的很好，涉及动态代理比较复杂，我在这里简单概括下吧：\n\n 1. 业务接口（interface） 业务的抽象表示\n\n 2. 业务具体实现类（concretemanager） 实现业务接口，执行具体的业务操作\n\n 3. 业务代理类（$proxy，在运行的时候动态生成的类） 进行业务代理，调用业务代理操作类\n\n 4. 业务代理操作类（dynamicproxyhandler，实现了invocationhandler接口的类） 代理方法的直接调用者，通过invocationhandler中的invoke方法直接发起代理\n    \n    public class dynamicproxyhandler implements invocationhandler{\n        object realcookmanager;\n        dynamicproxyhandler(icook realcookmanager){\n            this.realcookmanager = realcookmanager;\n        }\n        @override\n        public object invoke(object proxy, method method, object[] args) throws throwable {\n            system.out.println("invoke start");\n            system.out.println(method.getname());\n            method.invoke(realcookmanager,args);\n            system.out.println("invoke end");\n            return null;\n        }\n    }\n    \n    \n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n    11\n    12\n    13\n    14\n    \n\n 5. 客户端调用对象（client） 发起业务\n\n * 总体思路：\n   \n   /* 5.客户端调用对象（client）\n    */\n   public class main {\n       public static void main(string[] args){\n   \t\t//1. 业务实现类\n           cookmanager cookmanager = new cookmanager();\n           //2. 业务代理操作类\n           dynamicproxyhandler dynamicproxyhandler = \n               new dynamicproxyhandler(cookmanager);\n           //3. proxy类中的newproxyinstance()方法利用java反射返回代理类的实例\n           icook icook =(icook)proxy.newproxyinstance(\n               dynamicproxyhandler.getclass().getclassloader(),\n               cookmanager.getclass().getinterfaces(),\n               dynamicproxyhandler);\n           \n           //打印一下代理类的类名\n           system.out.println(icook.getclass().getname());\n           icook.dealwithfoot();\n           icook.cook();\n       }\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   12\n   13\n   14\n   15\n   16\n   17\n   18\n   19\n   20\n   21\n   \n   \n   > icook icook = (icook)proxy.newproxyinstance(\n   > \n   > 业务代理操作类.getclass().getclassloader(),\n   > \n   > 业务具体实现类.getclass().getinterfaces(),\n   > \n   > 业务代理操作类 );\n   \n   1. classloader是一个抽象类，作用是将字节码文件加载进虚拟机并生成相应的class（注意是小写的）\n   2. interfaces就是被实现的那些业务接口\n   3. 业务代理操作类：实现invocationhandler接口的实例，即dynamicproxyhandler\n   \n   proxy类中的newproxyinstance()方法利用java反射返回代理类的实例：\n   \n   public static object newproxyinstance(classloader loader,class<?>[]\n                                         interfaces,invocationhandler h){\n        //所有被实现的业务接口\n         final class<?>[] intfs = interfaces.clone();\n        //寻找或生成指定的代理类\n         class<?> cl = getproxyclass0(loader, intfs);\n         //通过反射类中的constructor获取其所有构造方法\n         final constructor<?> cons = cl.getconstructor(constructorparams);\n         //通过constructor返回代理类的实例\n         return cons.newinstance(new object[]{h});\n   }\n   \n   \n   1\n   2\n   3\n   4\n   5\n   6\n   7\n   8\n   9\n   10\n   11\n   \n\n4、读过springmvc源码？\n\nspringmvc入口 请求 映射器 适配器\n\n//前端控制器分派方法 \n\nprotected void dodispatch(httpservletrequest request, httpservletresponse response) throws exception { \n\n​    httpservletrequest processedrequest = request; \n\n​    handlerexecutionchain mappedhandler = null; \n\n​    int interceptorindex = -1;\n\n​    try { \n\n​      modelandview mv; \n\n​      boolean errorview = false;  \n\n​      try { \n\n​    //检查是否是请求是否是multipart（如文件上传），如果是将通过multipartresolver解析 \n\n​        processedrequest = checkmultipart(request); \n\n​     //步骤2、请求到处理器（页面控制器）的映射，通过handlermapping进行映射 \n\n​        mappedhandler = gethandler(processedrequest, false); \n\n​        if (mappedhandler == null || mappedhandler.gethandler() == null) { \n\n​          nohandlerfound(processedrequest, response); \n\n​          return; \n\n​        } \n\n //步骤3、处理器适配，即将我们的处理器包装成相应的适配器（从而支持多种类型的处理器） \n\n​        handleradapter ha = gethandleradapter(mappedhandler.gethandler());  \n\n​        // 304 not modified缓存支持 \n\n​        //此处省略具体代码  \n\n​        // 执行处理器相关的拦截器的预处理（handlerinterceptor.prehandle） \n\n​        //此处省略具体代码  \n\n​        // 步骤4、由适配器执行处理器（调用处理器相应功能处理方法） \n\n​        mv = ha.handle(processedrequest, response, mappedhandler.gethandler());  \n\n​        // do we need view name translation? \n\n​        if (mv != null && !mv.hasview()) { \n\n​          mv.setviewname(getdefaultviewname(request)); \n\n​        }  \n\n​        // 执行处理器相关的拦截器的后处理（handlerinterceptor.posthandle） \n\n​        //此处省略具体代码 \n\n​      } \n\n​      catch (modelandviewdefiningexception ex) { \n\n​        logger.debug("modelandviewdefiningexception encountered", ex); \n\n​        mv = ex.getmodelandview(); \n\n​      } \n\n​      catch (exception ex) { \n\n​        object handler = (mappedhandler != null ? mappedhandler.gethandler() : null); \n\n​        mv = processhandlerexception(processedrequest, response, handler, ex); \n\n​        errorview = (mv != null); \n\n​      }  \n\n//步骤5 步骤6、解析视图并进行视图的渲染 \n\n//步骤5 由viewresolver解析view（viewresolver.resolveviewname(viewname, locale)） \n\n步骤6 视图在渲染时会把model传入（view.render(mv.getmodelinternal(), request, response);） \n\n​      if (mv != null && !mv.wascleared()) { \n\n​        render(mv, processedrequest, response); \n\n​        if (errorview) { \n\n​          webutils.clearerrorrequestattributes(request); \n\n​        } \n\n​      } \n\n​      else { \n\n​        if (logger.isdebugenabled()) { \n\n​          logger.debug("null modelandview returned to dispatcherservlet with name \'" + getservletname() + \n\n​              "\': assuming handleradapter completed request handling"); \n\n​        } \n\n​      }  \n\n​      // 执行处理器相关的拦截器的完成后处理（handlerinterceptor.aftercompletion） \n\n​      //此处省略具体代码  \n\n​    catch (exception ex) { \n\n​      // trigger after-completion for thrown exception. \n\n​      triggeraftercompletion(mappedhandler, interceptorindex, processedrequest, response, ex)      throw ex; \n\n​    } \n\n​    catch (error err) { \n\n​      servletexception ex = new nestedservletexception("handler processing failed", err); \n\n​      // trigger after-completion for thrown exception. \n\n​      triggeraftercompletion(mappedhandler, interceptorindex, processedrequest, response, ex); \n\n​      throw ex; \n\n​    }  \n\n​    finally { \n\n​      // clean up any resources used by a multipart request. \n\n​      if (processedrequest != request) {\n\n​        cleanupmultipart(processedrequest); \n\n​      } \n\n​    } \n\n  } \n\n \n\n \n\nspringmvc九大组件：\n\nprotected void initstrategies(applicationcontext context) {\n\n  //用于处理上传请求。处理方法是将普通的request包装成multiparthttpservletrequest，后者可以直接调用getfile方法获取file.\n\n  initmultipartresolver(context);\n\n  //springmvc主要有两个地方用到了locale：一是viewresolver视图解析的时候；二是用到国际化资源或者主题的时候。\n\n  initlocaleresolver(context); \n\n  //用于解析主题。springmvc中一个主题对应一个properties文件，里面存放着跟当前主题相关的所有资源、\n\n  //如图片、css样式等。springmvc的主题也支持国际化， \n\n  initthemeresolver(context);\n\n  //用来查找handler的。\n\n  inithandlermappings(context);\n\n  //从名字上看，它就是一个适配器。servlet需要的处理方法的结构却是固定的，都是以request和response为参数的方法。\n\n  //如何让固定的servlet处理方法调用灵活的handler来进行处理呢？这就是handleradapter要做的事情\n\n  inithandleradapters(context);\n\n  //其它组件都是用来干活的。在干活的过程中难免会出现问题，出问题后怎么办呢？\n\n  //这就需要有一个专门的角色对异常情况进行处理，在springmvc中就是handlerexceptionresolver。\n\n  inithandlerexceptionresolvers(context);\n\n  //有的handler处理完后并没有设置view也没有设置viewname，这时就需要从request获取viewname了，\n\n  //如何从request中获取viewname就是requesttoviewnametranslator要做的事情了。\n\n  initrequesttoviewnametranslator(context);\n\n  //viewresolver用来将string类型的视图名和locale解析为view类型的视图。\n\n  //view是用来渲染页面的，也就是将程序返回的参数填入模板里，生成html（也可能是其它类型）文件。\n\n  initviewresolvers(context);\n\n  //用来管理flashmap的，flashmap主要用在redirect重定向中传递参数。\n\n  initflashmapmanager(context); \n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n186\n187\n188\n189\n190\n191\n192\n193\n194\n195\n196\n197\n198\n199\n200\n201\n202\n203\n204\n205\n\n\n\n# 其它\n\n1. 定时任务\n\n就是在xml中配置，具体可以看我的这篇文章\n\n 1. 先配置(实例化)一个业务，就是我们自己写的类\n 2. 再配置一个任务，jobdetailfactorybean\n    * 在这个任务里name=targetobject 注入我们自己写的那个类\n    * 要用哪个方法的话，就name=tagetmethod 注入那个方法\n    * name=concurrent 设置为false防止并发执行\n 3. 再配置触发器(cron表达式)，crontriggerbean\n    * name=jobdetail 注入那个任务\n    * name=cronexpression 设置定时触发时间\n 4. 配置一个调度器(只能有一个) schedulerfactorybean\n    * name=triggers 注入要调度的哪个触发器\n\n2. dubbo\n\n> 参考 dubbo官网配置\n\n * 提供者：提供方应用信息\n   \n   配置<dubbo:registry>zookeeper注册中心暴露服务地址\n   配置dubbo协议和端口号<dubbo:protocol> dubbo协议\n   <dubbo:service>声明要暴露的服务接口(或者用注解)\n\n * zookeeper：注册中心\n\n * 消费者：消费方应用信息\n   \n   配置zookeeper注册中心暴露服务地址<dubbo:registry>\n   获取注册中心的接口信息<dubbo:reference>\n\n3. httpclient短信验证码\n\n> 参考互亿无线文档\n\n 1. 前端点击获取验证码的时候，ajax访问后台请求，同时倒计时60秒\n 2. 我们在后台拿到短信平台提供的接口地址，然后看他需要什么参数（用户名，密码，手机号，短信验证码），它有文档demo嘛，就根据它的改成我们需要的，然后拼装参数给他返回去\n 3. 然后他呢也会给我们返回一堆参数(是成功还是失败)，我们把这些参数返回给前端\n\n4. webservice\n\n> 参考博客简单的webservice接口生成\n> 方法上加@webmentod(exclude=true)后，此方法不被发布\n> 静态方法不会被发布\n\n 1. 配置web.xml文件 设置cxf要拦截的路径\n    cxf服务端必须定义cxfservlet对象\n 2. 配置服务端cxf.xml文件 （暴露访问地址,发布接口）\n    <cxf:endpoint address="/user" implementor="#实现类"/>\n 3. 定义一个bean类\n 4. 争对这个bean类写一个接口，在接口前加注解\n    @javax.jws.webservice(表示一个服务端发布接口)\n 5. 在这个接口的实现类加@javax.jws.webservice、 @service (服务层)\n 6. 地址栏登陆时：记得\n    http://localhost:8080/工程名/ws(web.xml配置)/自己配置的地址?wsdl\n\n * 如果用cxf测试接口的话\n   1. 配置cxf服务端(以上)\n   2. 配置客户端xml 请求地址，和服务端暴露的接口\n   3. cmd下 一堆命令\n\n5. spring中配置事务\n\n> 声明式事务配置详解\n\n * web.xml加载顺序：\n\n 1. listener 加载spring\n\n \x3c!-- spring start --\x3e\n <listener>\n \t\x3c!-- spring web容器  默认加载spring配置文件路径为 web-inf/applicationcontext.xml--\x3e\n \t<listener-class>\n \t\torg.springframework.web.context.contextloaderlistener\n \t</listener-class>\n </listener>\n \n <context-param>\n \t<param-name>contextconfiglocation</param-name>\n \t<param-value>classpath:applicationcontext*.xml</param-value>\n </context-param>\n \x3c!-- spring end --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n 2. filter\n 3. servlet\n\n\x3c!-- springmvc start --\x3e\n <servlet>\n \t<servlet-name>mvc</servlet-name>\n \t<servlet-class>\n \t\torg.springframework.web.servlet.dispatcherservlet\n \t</servlet-class>\n \t<init-param>\n \t\t<param-name>contextconfiglocation</param-name>\n \t\t<param-value>classpath:springmvc.xml</param-value>\n \t</init-param>\n </servlet>\n \n <servlet-mapping>\n \t<servlet-name>mvc</servlet-name>\n \t<url-pattern>/</url-pattern>\n </servlet-mapping>\n \x3c!-- springmvc end --\x3e\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n * web.xml加载的时候先加载spring，后加载springmvc\n\n 1. spring自带aop，spring是父容器\n 2. springmvc没有引入aop，springmvc是子容器\n 3. 子容器的创建依赖于父容器的创建，父容器先于子容器创建；子容器 (springmvc 容器) 可以访问父容器 (spring 容器) 的 bean，父容器 (spring 容器) 不能访问子容器 (springmvc 容器) 的 bean\n 4. 所以一般在子容器springmvc中开启aop配置 <aop:aspectj-autoproxy/>\n 5. 而事务、切面都依赖于aop\n 6. 如果不想aop在controller生效，则配置的时候可以让springmvc只扫描@controller注解，spring扫描除了@controller的其它所有注解，并且在spring中开启aop配置即可\n\n * 以下是具体配置：\n\n\x3c!-- springmvc配置 --\x3e\n\n\x3c!-- use-default-filters="false" 所有注解不被加载 --\x3e\n<context:component-scan base-package="com.xxx" use-default-filters="false">\n    \x3c!-- 只加载@controller注解 --\x3e\n    <context:include-filter type="annotation" \n                            expression="org.springframework.stereotype.controller" />\n</context:component-scan>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\x3c!-- spring配置 --\x3e\n\n\x3c!-- spring配置aop --\x3e\n<aop:aspectj-autoproxy/>\n\x3c!-- use-default-filters="true" 默认、加载所有注解 --\x3e\n<context:component-scan base-package="com.xxx">\n    \x3c!-- 加载除了@controller的其它所有注解 --\x3e\n    <context:exclude-filter type="annotation" \n                            expression="org.springframework.stereotype.controller"/>\n</context:component-scan>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Git常用命令清单",frontmatter:{title:"Git常用命令清单",date:"2023-03-12T00:00:00.000Z",sidebar:!0,sidebarDepth:5,tags:["开发规范","git"],categories:["cesiumjs"],isShowComments:!0},regularPath:"/views/specification/git.html",relativePath:"views/specification/git.md",key:"v-4f9ff287",path:"/views/specification/git.html",headers:[{level:2,title:"架构",slug:"架构",normalizedTitle:"架构",charIndex:2},{level:2,title:"一、新建代码库",slug:"一、新建代码库",normalizedTitle:"一、新建代码库",charIndex:128},{level:2,title:"二、配置",slug:"二、配置",normalizedTitle:"二、配置",charIndex:275},{level:2,title:"三、增加/删除文件",slug:"三、增加-删除文件",normalizedTitle:"三、增加/删除文件",charIndex:546},{level:2,title:"四、代码提交",slug:"四、代码提交",normalizedTitle:"四、代码提交",charIndex:946},{level:2,title:"五、分支",slug:"五、分支",normalizedTitle:"五、分支",charIndex:1347},{level:2,title:"六、标签",slug:"六、标签",normalizedTitle:"六、标签",charIndex:2140},{level:2,title:"七、查看信息",slug:"七、查看信息",normalizedTitle:"七、查看信息",charIndex:2557},{level:2,title:"八、远程同步",slug:"八、远程同步",normalizedTitle:"八、远程同步",charIndex:3666},{level:2,title:"九、撤销",slug:"九、撤销",normalizedTitle:"九、撤销",charIndex:4088},{level:2,title:"切换分支暂存未提交的commit",slug:"切换分支暂存未提交的commit",normalizedTitle:"切换分支暂存未提交的commit",charIndex:4683},{level:2,title:"十、其他",slug:"十、其他",normalizedTitle:"十、其他",charIndex:5095}],excerpt:'<p><img src="/img/other/git_001.png" alt="" /></p>\n',headersStr:"架构 一、新建代码库 二、配置 三、增加/删除文件 四、代码提交 五、分支 六、标签 七、查看信息 八、远程同步 九、撤销 切换分支暂存未提交的commit 十、其他",content:'# 架构\n\n * git有四个个工作区：\n   1. 工作区（workspace）\n   2. 暂存区（index/stage）\n   3. 本地仓库（local repository）\n   4. 远程仓库（remote repository）\n\n\n# 一、新建代码库\n\n# 在当前目录新建一个Git代码库\n$ git init\n\n# 新建一个目录，将其初始化为Git代码库\n$ git init [project-name]\n\n# 下载一个项目和它的整个代码历史\n$ git clone [url]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 二、配置\n\nGit的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。\n\n# 显示当前的Git配置\n$ git config --list\n\n# 编辑Git配置文件\n$ git config -e [--global]\n\n# 设置提交代码时的用户信息\n$ git config [--global] user.name "[name]"\n$ git config [--global] user.email "[email address]"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 三、增加/删除文件\n\n# 添加指定文件到暂存区\n$ git add [file1] [file2] ...\n\n# 添加指定目录到暂存区，包括子目录\n$ git add [dir]\n\n# 添加当前目录的所有文件到暂存区\n$ git add .\n\n# 添加每个变化前，都会要求确认\n# 对于同一个文件的多处变化，可以实现分次提交\n$ git add -p\n\n# 删除工作区文件，并且将这次删除放入暂存区\n$ git rm [file1] [file2] ...\n\n# 停止追踪指定文件，但该文件会保留在工作区\n$ git rm --cached [file]\n\n# 改名文件，并且将这个改名放入暂存区\n$ git mv [file-original] [file-renamed]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 四、代码提交\n\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 五、分支\n\n# 列出所有本地分支\n$ git branch\n\n# 列出所有远程分支\n$ git branch -r\n\n# 列出所有本地分支和远程分支\n$ git branch -a\n\n# 新建一个分支，但依然停留在当前分支\n$ git branch [branch-name]\n\n# 新建一个分支，并切换到该分支\n$ git checkout -b [branch]\n\n# 新建一个分支，指向指定commit\n$ git branch [branch] [commit]\n\n# 新建一个分支，与指定的远程分支建立追踪关系\n$ git branch --track [branch] [remote-branch]\n\n# 切换到指定分支，并更新工作区\n$ git checkout [branch-name]\n\n# 切换到上一个分支\n$ git checkout -\n\n# 建立追踪关系，在现有分支与指定的远程分支之间\n$ git branch --set-upstream [branch] [remote-branch]\n\n# 合并指定分支到当前分支\n$ git merge [branch]\n\n# 选择一个commit，合并进当前分支\n$ git cherry-pick [commit]\n\n# 删除分支\n$ git branch -d [branch-name]\n\n# 删除远程分支\n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 六、标签\n\n# 列出所有tag\n$ git tag\n\n# 新建一个tag在当前commit\n$ git tag [tag]\n\n# 新建一个tag在指定commit\n$ git tag [tag] [commit]\n\n# 删除本地tag\n$ git tag -d [tag]\n\n# 删除远程tag\n$ git push origin :refs/tags/[tagName]\n\n# 查看tag信息\n$ git show [tag]\n\n# 提交指定tag\n$ git push [remote] [tag]\n\n# 提交所有tag\n$ git push [remote] --tags\n\n# 新建一个分支，指向某个tag\n$ git checkout -b [branch] [tag]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 七、查看信息\n\n# 显示有变更的文件\n$ git status\n\n# 显示当前分支的版本历史\n$ git log\n\n# 显示commit历史，以及每次commit发生变更的文件\n$ git log --stat\n\n# 搜索提交历史，根据关键词\n$ git log -S [keyword]\n\n# 显示某个commit之后的所有变动，每个commit占据一行\n$ git log [tag] HEAD --pretty=format:%s\n\n# 显示某个commit之后的所有变动，其"提交说明"必须符合搜索条件\n$ git log [tag] HEAD --grep feature\n\n# 显示某个文件的版本历史，包括文件改名\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# 显示指定文件相关的每一次diff\n$ git log -p [file]\n\n# 显示过去5次提交\n$ git log -5 --pretty --oneline\n\n# 显示所有提交过的用户，按提交次数排序\n$ git shortlog -sn\n\n# 显示指定文件是什么人在什么时间修改过\n$ git blame [file]\n\n# 显示暂存区和工作区的差异\n$ git diff\n\n# 显示暂存区和上一个commit的差异\n$ git diff --cached [file]\n\n# 显示工作区与当前分支最新commit之间的差异\n$ git diff HEAD\n\n# 显示两次提交之间的差异\n$ git diff [first-branch]...[second-branch]\n\n# 显示今天你写了多少行代码\n$ git diff --shortstat "@{0 day ago}"\n\n# 显示某次提交的元数据和内容变化\n$ git show [commit]\n\n# 显示某次提交发生变化的文件\n$ git show --name-only [commit]\n\n# 显示某次提交时，某个文件的内容\n$ git show [commit]:[filename]\n\n# 显示当前分支的最近几次提交\n$ git reflog\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n\n# 八、远程同步\n\n# 下载远程仓库的所有变动\n$ git fetch [remote]\n\n# 显示所有远程仓库\n$ git remote -v\n\n# 显示某个远程仓库的信息\n$ git remote show [remote]\n\n# 增加一个新的远程仓库，并命名\n$ git remote add [shortname] [url]\n\n# 取回远程仓库的变化，并与本地分支合并\n$ git pull [remote] [branch]\n\n# 上传本地指定分支到远程仓库\n$ git push [remote] [branch]\n\n# 强行推送当前分支到远程仓库，即使有冲突\n$ git push [remote] --force\n\n# 推送所有分支到远程仓库\n$ git push [remote] --all\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 九、撤销\n\n# 恢复暂存区的指定文件到工作区\n$ git checkout [file]\n\n# 恢复某个commit的指定文件到暂存区和工作区\n$ git checkout [commit] [file]\n\n# 恢复暂存区的所有文件到工作区\n$ git checkout .\n\n# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变\n$ git reset [file]\n\n# 重置暂存区与工作区，与上一次commit保持一致\n$ git reset --hard\n\n# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变\n$ git reset [commit]\n\n# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致\n$ git reset --hard [commit]\n\n# 重置当前HEAD为指定commit，但保持暂存区和工作区不变\n$ git reset --keep [commit]\n\n# 新建一个commit，用来撤销指定commit\n# 后者的所有变化都将被前者抵消，并且应用到当前分支\n$ git revert [commit]\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 切换分支暂存未提交的commit\n\nstash 命令能够将还未 commit 的代码存起来，让你的工作目录变得干净。\n\n切换分支时先用git stash, 从另一个分支切换到本分支用git stash apply, 即可恢复代码。\n\n# 保存当前未commit的代码\ngit stash\n\n# 保存当前未commit的代码并添加备注\ngit stash save "备注的内容"\n\n# 列出stash的所有记录\ngit stash list\n\n# 删除stash的所有记录\ngit stash clear\n\n# 应用最近一次的stash\ngit stash apply\n\n# 应用最近一次的stash，随后删除该记录\ngit stash pop\n\n# 删除最近的一次stash\ngit stash drop\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 十、其他\n\n# 生成一个可供发布的压缩包\n$ git archive\n\n\n1\n2\n\n\n参考自阮一峰老师： 常用 Git 命令清单',normalizedContent:'# 架构\n\n * git有四个个工作区：\n   1. 工作区（workspace）\n   2. 暂存区（index/stage）\n   3. 本地仓库（local repository）\n   4. 远程仓库（remote repository）\n\n\n# 一、新建代码库\n\n# 在当前目录新建一个git代码库\n$ git init\n\n# 新建一个目录，将其初始化为git代码库\n$ git init [project-name]\n\n# 下载一个项目和它的整个代码历史\n$ git clone [url]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 二、配置\n\ngit的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。\n\n# 显示当前的git配置\n$ git config --list\n\n# 编辑git配置文件\n$ git config -e [--global]\n\n# 设置提交代码时的用户信息\n$ git config [--global] user.name "[name]"\n$ git config [--global] user.email "[email address]"\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 三、增加/删除文件\n\n# 添加指定文件到暂存区\n$ git add [file1] [file2] ...\n\n# 添加指定目录到暂存区，包括子目录\n$ git add [dir]\n\n# 添加当前目录的所有文件到暂存区\n$ git add .\n\n# 添加每个变化前，都会要求确认\n# 对于同一个文件的多处变化，可以实现分次提交\n$ git add -p\n\n# 删除工作区文件，并且将这次删除放入暂存区\n$ git rm [file1] [file2] ...\n\n# 停止追踪指定文件，但该文件会保留在工作区\n$ git rm --cached [file]\n\n# 改名文件，并且将这个改名放入暂存区\n$ git mv [file-original] [file-renamed]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 四、代码提交\n\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 五、分支\n\n# 列出所有本地分支\n$ git branch\n\n# 列出所有远程分支\n$ git branch -r\n\n# 列出所有本地分支和远程分支\n$ git branch -a\n\n# 新建一个分支，但依然停留在当前分支\n$ git branch [branch-name]\n\n# 新建一个分支，并切换到该分支\n$ git checkout -b [branch]\n\n# 新建一个分支，指向指定commit\n$ git branch [branch] [commit]\n\n# 新建一个分支，与指定的远程分支建立追踪关系\n$ git branch --track [branch] [remote-branch]\n\n# 切换到指定分支，并更新工作区\n$ git checkout [branch-name]\n\n# 切换到上一个分支\n$ git checkout -\n\n# 建立追踪关系，在现有分支与指定的远程分支之间\n$ git branch --set-upstream [branch] [remote-branch]\n\n# 合并指定分支到当前分支\n$ git merge [branch]\n\n# 选择一个commit，合并进当前分支\n$ git cherry-pick [commit]\n\n# 删除分支\n$ git branch -d [branch-name]\n\n# 删除远程分支\n$ git push origin --delete [branch-name]\n$ git branch -dr [remote/branch]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 六、标签\n\n# 列出所有tag\n$ git tag\n\n# 新建一个tag在当前commit\n$ git tag [tag]\n\n# 新建一个tag在指定commit\n$ git tag [tag] [commit]\n\n# 删除本地tag\n$ git tag -d [tag]\n\n# 删除远程tag\n$ git push origin :refs/tags/[tagname]\n\n# 查看tag信息\n$ git show [tag]\n\n# 提交指定tag\n$ git push [remote] [tag]\n\n# 提交所有tag\n$ git push [remote] --tags\n\n# 新建一个分支，指向某个tag\n$ git checkout -b [branch] [tag]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 七、查看信息\n\n# 显示有变更的文件\n$ git status\n\n# 显示当前分支的版本历史\n$ git log\n\n# 显示commit历史，以及每次commit发生变更的文件\n$ git log --stat\n\n# 搜索提交历史，根据关键词\n$ git log -s [keyword]\n\n# 显示某个commit之后的所有变动，每个commit占据一行\n$ git log [tag] head --pretty=format:%s\n\n# 显示某个commit之后的所有变动，其"提交说明"必须符合搜索条件\n$ git log [tag] head --grep feature\n\n# 显示某个文件的版本历史，包括文件改名\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# 显示指定文件相关的每一次diff\n$ git log -p [file]\n\n# 显示过去5次提交\n$ git log -5 --pretty --oneline\n\n# 显示所有提交过的用户，按提交次数排序\n$ git shortlog -sn\n\n# 显示指定文件是什么人在什么时间修改过\n$ git blame [file]\n\n# 显示暂存区和工作区的差异\n$ git diff\n\n# 显示暂存区和上一个commit的差异\n$ git diff --cached [file]\n\n# 显示工作区与当前分支最新commit之间的差异\n$ git diff head\n\n# 显示两次提交之间的差异\n$ git diff [first-branch]...[second-branch]\n\n# 显示今天你写了多少行代码\n$ git diff --shortstat "@{0 day ago}"\n\n# 显示某次提交的元数据和内容变化\n$ git show [commit]\n\n# 显示某次提交发生变化的文件\n$ git show --name-only [commit]\n\n# 显示某次提交时，某个文件的内容\n$ git show [commit]:[filename]\n\n# 显示当前分支的最近几次提交\n$ git reflog\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n\n\n\n# 八、远程同步\n\n# 下载远程仓库的所有变动\n$ git fetch [remote]\n\n# 显示所有远程仓库\n$ git remote -v\n\n# 显示某个远程仓库的信息\n$ git remote show [remote]\n\n# 增加一个新的远程仓库，并命名\n$ git remote add [shortname] [url]\n\n# 取回远程仓库的变化，并与本地分支合并\n$ git pull [remote] [branch]\n\n# 上传本地指定分支到远程仓库\n$ git push [remote] [branch]\n\n# 强行推送当前分支到远程仓库，即使有冲突\n$ git push [remote] --force\n\n# 推送所有分支到远程仓库\n$ git push [remote] --all\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 九、撤销\n\n# 恢复暂存区的指定文件到工作区\n$ git checkout [file]\n\n# 恢复某个commit的指定文件到暂存区和工作区\n$ git checkout [commit] [file]\n\n# 恢复暂存区的所有文件到工作区\n$ git checkout .\n\n# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变\n$ git reset [file]\n\n# 重置暂存区与工作区，与上一次commit保持一致\n$ git reset --hard\n\n# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变\n$ git reset [commit]\n\n# 重置当前分支的head为指定commit，同时重置暂存区和工作区，与指定commit一致\n$ git reset --hard [commit]\n\n# 重置当前head为指定commit，但保持暂存区和工作区不变\n$ git reset --keep [commit]\n\n# 新建一个commit，用来撤销指定commit\n# 后者的所有变化都将被前者抵消，并且应用到当前分支\n$ git revert [commit]\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 切换分支暂存未提交的commit\n\nstash 命令能够将还未 commit 的代码存起来，让你的工作目录变得干净。\n\n切换分支时先用git stash, 从另一个分支切换到本分支用git stash apply, 即可恢复代码。\n\n# 保存当前未commit的代码\ngit stash\n\n# 保存当前未commit的代码并添加备注\ngit stash save "备注的内容"\n\n# 列出stash的所有记录\ngit stash list\n\n# 删除stash的所有记录\ngit stash clear\n\n# 应用最近一次的stash\ngit stash apply\n\n# 应用最近一次的stash，随后删除该记录\ngit stash pop\n\n# 删除最近的一次stash\ngit stash drop\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 十、其他\n\n# 生成一个可供发布的压缩包\n$ git archive\n\n\n1\n2\n\n\n参考自阮一峰老师： 常用 git 命令清单',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"ZNOTE GUIDE",frontmatter:{title:"ZNOTE GUIDE",date:"2023-03-26T00:00:00.000Z",tags:["vuepress"],categories:["cesiumjs"],isShowComments:!0,sidebar:!1,publish:!0,sticky:1},regularPath:"/views/specification/guide.html",relativePath:"views/specification/guide.md",key:"v-42a8aef2",path:"/views/specification/guide.html",headers:[{level:2,title:"项目介绍",slug:"项目介绍",normalizedTitle:"项目介绍",charIndex:25},{level:2,title:"项目运行",slug:"项目运行",normalizedTitle:"项目运行",charIndex:33},{level:2,title:"项目架构",slug:"项目架构",normalizedTitle:"项目架构",charIndex:41},{level:2,title:"如何使用",slug:"如何使用",normalizedTitle:"如何使用",charIndex:49},{level:2,title:"写在最后",slug:"写在最后",normalizedTitle:"写在最后",charIndex:57},{level:2,title:"关于友链",slug:"关于友链",normalizedTitle:"关于友链",charIndex:65}],excerpt:'<Boxx/>\n<p>开始使用此博客的一些注意事项和说明。</p>\n<p><div class="table-of-contents"><ul></ul></div></p>\n',headersStr:"项目介绍 项目运行 项目架构 如何使用 写在最后 关于友链",content:"开始使用此博客的一些注意事项和说明。\n\n\n\n * 项目介绍\n * 项目运行\n * 项目架构\n * 如何使用\n * 写在最后\n * 关于友链\n\n\n\n\n# znote\n\n * 积丝成寸，积寸成尺；寸尺水已，遂成丈匹。\n\n\n\n\n\n\n * 本仓库代码使用 MIT 协议进行开源，但是全部文档内容使用 CC 4.0 BY-SA 协议进行发布\n\n * 已全局适配手机模式和暗黑模式（iOS自适应）请自行体验\n\n * 国内访问：https://zpj80231.gitee.io/ 速度加载会快一点（自Gitee实名认证后已不再同步更新，现在访问还是之前的旧版本）\n   \n   推荐访问：https://zpj80231.github.io/\n\n\n\n\n# 项目介绍\n\n * 记录生产级别问题排查处理（工作经验）\n\n * 技术栈知识点笔记总结（知识小结）\n\n * 个人牢骚发布（生活随笔）\n\n * 其它（欢迎入队）...\n\n\n# 项目运行\n\n * 克隆项目，在项目文件夹下执行命令，加载依赖：npm install\n\n * 在项目文件夹下（node 16及以下）执行命令，运行项目：npm run dev\n   \n   Windows（node 17+）版本以上运行：npm run dev:win\n   \n   Mac（node 17+）版本以上运行：npm run dev:mac\n\n * 待启动成功后打开地址即可：http://localhost:8080/\n\n\n# 项目架构\n\n * 采用 vuepress 和 主题reco 二次构建\n\n## 需要自己写主题样式的话，在.vuepress/ 下新建theme文件夹并按如下目录布局\nDev\n├─── docs\n│   └── .vuepress   // 配置目录\n│   │    ├── public // 静态资源\n│   │    ├── theme  // 主题\n│   │    │   ├── components // 组件\n│   │    │   ├── global-components // 全局组件\n│   │    │   ├── layouts // 布局(包括首页在内)\n│   │    │   ├── styles  // 样式\n│   │    │   ├── util \t // 工具\n│   │    │   ├── index.js // 入口配置\n│   │    │   ├── noopModule.js // 依赖注入\n│   │    │   ├── package.json  // 主题依赖\n│   │    │   ├── README.md     // 主题说明\n│   │    └── config.js\n│   ├── about   // 项目模块\n│   ├── other   // 项目模块\n│   ├── views   // 项目模块\n│   └── README.md   // 首页\n└── package.json //项目依赖\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 如何使用\n\n对准备发布的文章（Markdown 格式），放置在项目docs/views/目录下，并在 Markdown 文件头部添加以下元素，项目发布后会自动识别文章标题、标签、分类、是否开启评论、是否加密、是否置顶、是否发布等一系列状态。\n\n下面是关键字说明及参考示例：\n\n 1. 关键字说明\n\n序号   关键字              注释\n1    title            文章标题\n2    date             日期，如：2020-02-02\n3    tags             标签\n4    categories       分类\n5    keys             文章加密密码\n6    sticky           文章置顶 1, 2, 3, ...\n7    isShowComments   是否开启评论\n8    publish          文章是否发布\n9    <Boxx/>          只需引入这个标签即可，随机展示名人名言\n10   [[toc]]          生成目录及链接\n11   \x3c!-- more --\x3e    在\x3c!-- more --\x3e之前的内容会展示为文章摘要\n\n 2. 参考示例：\n\n---\ntitle: 文章标题\ndate: 2020-02-02\ntags:\n  - 标签\ncategories:\n  - 分类\nkeys:\n  - '123456'\nsticky: 1\nisShowComments: false\npublish: true\n---\n\n  <Boxx/>\n\n  [ [ toc ] ]\n\n  - 这里可以写`摘要`等其它\n\n    \x3c!-- more --\x3e\n\n  ## 正式开始你的markdown\n\n  - To be or not to be, ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 写在最后\n\n在 Blog 搭建中遇到问题，推荐先去以下几个网址找答案：\n\n * vuepress官网：https://vuepress.vuejs.org/zh/\n * vuepress自定义开发主题：https://vuepress.vuejs.org/zh/theme/writing-a-theme.html\n * vuepress-theme-reco官网：https://vuepress-theme-reco.recoluan.com/\n\n如果在博客中遇到什么问题，不要一上来就问我，最好先查下相关资料，实在解决不了的可以找我咨询哈（减少无效沟通嘛），毕竟只有自己淌过的坑才能深入理解、印象深刻！\n\n当然，遇到一些有价值的问题，还是欢迎来找我共同探讨的😉~~\n\n关于如何提问，在 Github 中这个项目可以说是相当 nice 了，可以的话一定要过一遍，于人于己都有莫大的好处：提问的智慧\n\n\n# 关于友链\n\n近期也发现有好些人要加 友链 的，在这里我也说一下吧：\n\n你可以复用我的 Blog，但是需要在你的 Blog 创新一些东西，比如添加你具有独立见解的文章，或者在其他方面体现自己独特的创意或价值（改改样式、优化一下功能等等），然后我给你加友链。毕竟千篇一律的友链没有必要是吧！\n\nThanks for you!",normalizedContent:"开始使用此博客的一些注意事项和说明。\n\n\n\n * 项目介绍\n * 项目运行\n * 项目架构\n * 如何使用\n * 写在最后\n * 关于友链\n\n\n\n\n# znote\n\n * 积丝成寸，积寸成尺；寸尺水已，遂成丈匹。\n\n\n\n\n\n\n * 本仓库代码使用 mit 协议进行开源，但是全部文档内容使用 cc 4.0 by-sa 协议进行发布\n\n * 已全局适配手机模式和暗黑模式（ios自适应）请自行体验\n\n * 国内访问：https://zpj80231.gitee.io/ 速度加载会快一点（自gitee实名认证后已不再同步更新，现在访问还是之前的旧版本）\n   \n   推荐访问：https://zpj80231.github.io/\n\n\n\n\n# 项目介绍\n\n * 记录生产级别问题排查处理（工作经验）\n\n * 技术栈知识点笔记总结（知识小结）\n\n * 个人牢骚发布（生活随笔）\n\n * 其它（欢迎入队）...\n\n\n# 项目运行\n\n * 克隆项目，在项目文件夹下执行命令，加载依赖：npm install\n\n * 在项目文件夹下（node 16及以下）执行命令，运行项目：npm run dev\n   \n   windows（node 17+）版本以上运行：npm run dev:win\n   \n   mac（node 17+）版本以上运行：npm run dev:mac\n\n * 待启动成功后打开地址即可：http://localhost:8080/\n\n\n# 项目架构\n\n * 采用 vuepress 和 主题reco 二次构建\n\n## 需要自己写主题样式的话，在.vuepress/ 下新建theme文件夹并按如下目录布局\ndev\n├─── docs\n│   └── .vuepress   // 配置目录\n│   │    ├── public // 静态资源\n│   │    ├── theme  // 主题\n│   │    │   ├── components // 组件\n│   │    │   ├── global-components // 全局组件\n│   │    │   ├── layouts // 布局(包括首页在内)\n│   │    │   ├── styles  // 样式\n│   │    │   ├── util \t // 工具\n│   │    │   ├── index.js // 入口配置\n│   │    │   ├── noopmodule.js // 依赖注入\n│   │    │   ├── package.json  // 主题依赖\n│   │    │   ├── readme.md     // 主题说明\n│   │    └── config.js\n│   ├── about   // 项目模块\n│   ├── other   // 项目模块\n│   ├── views   // 项目模块\n│   └── readme.md   // 首页\n└── package.json //项目依赖\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 如何使用\n\n对准备发布的文章（markdown 格式），放置在项目docs/views/目录下，并在 markdown 文件头部添加以下元素，项目发布后会自动识别文章标题、标签、分类、是否开启评论、是否加密、是否置顶、是否发布等一系列状态。\n\n下面是关键字说明及参考示例：\n\n 1. 关键字说明\n\n序号   关键字              注释\n1    title            文章标题\n2    date             日期，如：2020-02-02\n3    tags             标签\n4    categories       分类\n5    keys             文章加密密码\n6    sticky           文章置顶 1, 2, 3, ...\n7    isshowcomments   是否开启评论\n8    publish          文章是否发布\n9    <boxx/>          只需引入这个标签即可，随机展示名人名言\n10   [[toc]]          生成目录及链接\n11   \x3c!-- more --\x3e    在\x3c!-- more --\x3e之前的内容会展示为文章摘要\n\n 2. 参考示例：\n\n---\ntitle: 文章标题\ndate: 2020-02-02\ntags:\n  - 标签\ncategories:\n  - 分类\nkeys:\n  - '123456'\nsticky: 1\nisshowcomments: false\npublish: true\n---\n\n  <boxx/>\n\n  [ [ toc ] ]\n\n  - 这里可以写`摘要`等其它\n\n    \x3c!-- more --\x3e\n\n  ## 正式开始你的markdown\n\n  - to be or not to be, ...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 写在最后\n\n在 blog 搭建中遇到问题，推荐先去以下几个网址找答案：\n\n * vuepress官网：https://vuepress.vuejs.org/zh/\n * vuepress自定义开发主题：https://vuepress.vuejs.org/zh/theme/writing-a-theme.html\n * vuepress-theme-reco官网：https://vuepress-theme-reco.recoluan.com/\n\n如果在博客中遇到什么问题，不要一上来就问我，最好先查下相关资料，实在解决不了的可以找我咨询哈（减少无效沟通嘛），毕竟只有自己淌过的坑才能深入理解、印象深刻！\n\n当然，遇到一些有价值的问题，还是欢迎来找我共同探讨的😉~~\n\n关于如何提问，在 github 中这个项目可以说是相当 nice 了，可以的话一定要过一遍，于人于己都有莫大的好处：提问的智慧\n\n\n# 关于友链\n\n近期也发现有好些人要加 友链 的，在这里我也说一下吧：\n\n你可以复用我的 blog，但是需要在你的 blog 创新一些东西，比如添加你具有独立见解的文章，或者在其他方面体现自己独特的创意或价值（改改样式、优化一下功能等等），然后我给你加友链。毕竟千篇一律的友链没有必要是吧！\n\nthanks for you!",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"k8s基本命令与pod管理",frontmatter:{title:"k8s基本命令与pod管理",date:"2023-01-17T00:00:00.000Z",tags:["分布式","k8s"],categories:["UE5"],isShowComments:!1},regularPath:"/views/specification/k8s%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%B8%8Epod%E7%AE%A1%E7%90%86.html",relativePath:"views/specification/k8s基本命令与pod管理.md",key:"v-35e02c50",path:"/views/specification/k8s%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E4%B8%8Epod%E7%AE%A1%E7%90%86.html",headers:[{level:2,title:"查看指定命名空间下的所有节点",slug:"查看指定命名空间下的所有节点",normalizedTitle:"查看指定命名空间下的所有节点",charIndex:29},{level:2,title:"进入某一节点",slug:"进入某一节点",normalizedTitle:"进入某一节点",charIndex:47},{level:2,title:"删除某一节点",slug:"删除某一节点",normalizedTitle:"删除某一节点",charIndex:57},{level:2,title:"查看pod暴露的端口号",slug:"查看pod暴露的端口号",normalizedTitle:"查看pod暴露的端口号",charIndex:67},{level:2,title:"移动文件至pod内部",slug:"移动文件至pod内部",normalizedTitle:"移动文件至pod内部",charIndex:82},{level:2,title:"修改ConfigMap",slug:"修改configmap",normalizedTitle:"修改configmap",charIndex:96},{level:2,title:"其他参考",slug:"其他参考",normalizedTitle:"其他参考",charIndex:111}],excerpt:"<Boxx/>\n<p>工作中常用到的 k8s 命令备份，方便查看。</p>\n",headersStr:"查看指定命名空间下的所有节点 进入某一节点 删除某一节点 查看pod暴露的端口号 移动文件至pod内部 修改ConfigMap 其他参考",content:"工作中常用到的 k8s 命令备份，方便查看。\n\n\n\n * 查看指定命名空间下的所有节点\n * 进入某一节点\n * 删除某一节点\n * 查看pod暴露的端口号\n * 移动文件至pod内部\n * 修改ConfigMap\n * 其他参考\n\n\n\n\n# 查看指定命名空间下的所有节点\n\nkubectl get pod -n znote\n\n\n1\n\n\n\n# 进入某一节点\n\nkubectl exec -it test-pod-statefulset-1 /bin/bash -n znote\n\n\n1\n\n\n\n# 删除某一节点\n\nkubectl delete test-pod-statefulset-1 -n znote\n\n\n1\n\n\n\n# 查看pod暴露的端口号\n\nkubectl get svc -n znote\n\n\n1\n\n\n\n# 移动文件至pod内部\n\n移到文件到容器中pod的pvc目录下后重启pod，pvc目录中的文件不会丢失\n\nkubectl -n znote cp ./aaa test-pod-statefulset-1:/bbb/sdf\n\n\n1\n\n\n\n# 修改ConfigMap\n\n同理修改：pod、svc、statefulset、cm（cm代表ConfigMap）\n\n# 查看ConfigMap\nkubectl get cm -n obp\n# 编辑\nkubectl edit cm test-pod-config -n znote\n# 删除\nkubectl delete cm test-pod-config -n znote\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 其他参考\n\nk8s中部署发布应用",normalizedContent:"工作中常用到的 k8s 命令备份，方便查看。\n\n\n\n * 查看指定命名空间下的所有节点\n * 进入某一节点\n * 删除某一节点\n * 查看pod暴露的端口号\n * 移动文件至pod内部\n * 修改configmap\n * 其他参考\n\n\n\n\n# 查看指定命名空间下的所有节点\n\nkubectl get pod -n znote\n\n\n1\n\n\n\n# 进入某一节点\n\nkubectl exec -it test-pod-statefulset-1 /bin/bash -n znote\n\n\n1\n\n\n\n# 删除某一节点\n\nkubectl delete test-pod-statefulset-1 -n znote\n\n\n1\n\n\n\n# 查看pod暴露的端口号\n\nkubectl get svc -n znote\n\n\n1\n\n\n\n# 移动文件至pod内部\n\n移到文件到容器中pod的pvc目录下后重启pod，pvc目录中的文件不会丢失\n\nkubectl -n znote cp ./aaa test-pod-statefulset-1:/bbb/sdf\n\n\n1\n\n\n\n# 修改configmap\n\n同理修改：pod、svc、statefulset、cm（cm代表configmap）\n\n# 查看configmap\nkubectl get cm -n obp\n# 编辑\nkubectl edit cm test-pod-config -n znote\n# 删除\nkubectl delete cm test-pod-config -n znote\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 其他参考\n\nk8s中部署发布应用",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Java 命名规范",frontmatter:{title:"Java 命名规范",date:"2023-03-02T00:00:00.000Z",tags:["开发规范","Java"],categories:["cesiumjs"],isShowComments:!0},regularPath:"/views/specification/javaNamingConvention.html",relativePath:"views/specification/javaNamingConvention.md",key:"v-c7139f7a",path:"/views/specification/javaNamingConvention.html",headers:[{level:2,title:"1. 包命名规范",slug:"_1-包命名规范",normalizedTitle:"1. 包命名规范",charIndex:153},{level:2,title:"2. 类命名规范",slug:"_2-类命名规范",normalizedTitle:"2. 类命名规范",charIndex:165},{level:3,title:"2.1 接口命名规范",slug:"_2-1-接口命名规范",normalizedTitle:"2.1 接口命名规范",charIndex:179},{level:3,title:"2.2 抽象类命名规范",slug:"_2-2-抽象类命名规范",normalizedTitle:"2.2 抽象类命名规范",charIndex:195},{level:3,title:"2.3 异常类命名规范",slug:"_2-3-异常类命名规范",normalizedTitle:"2.3 异常类命名规范",charIndex:212},{level:2,title:"3.方法命名规范",slug:"_3-方法命名规范",normalizedTitle:"3.方法命名规范",charIndex:227},{level:3,title:"3.1 表述获取",slug:"_3-1-表述获取",normalizedTitle:"3.1 表述获取",charIndex:241},{level:3,title:"3.2 表述查询",slug:"_3-2-表述查询",normalizedTitle:"3.2 表述查询",charIndex:255},{level:3,title:"3.3 表述条件",slug:"_3-3-表述条件",normalizedTitle:"3.3 表述条件",charIndex:269},{level:3,title:"3.4 表述设置",slug:"_3-4-表述设置",normalizedTitle:"3.4 表述设置",charIndex:283},{level:3,title:"3.5 其他规范",slug:"_3-5-其他规范",normalizedTitle:"3.5 其他规范",charIndex:297},{level:2,title:"4. 变量命名规范",slug:"_4-变量命名规范",normalizedTitle:"4. 变量命名规范",charIndex:309},{level:2,title:"5. 常量命名规范",slug:"_5-常量命名规范",normalizedTitle:"5. 常量命名规范",charIndex:322},{level:2,title:"6. 枚举命名规范",slug:"_6-枚举命名规范",normalizedTitle:"6. 枚举命名规范",charIndex:335},{level:2,title:"7. 其他命名规范",slug:"_7-其他命名规范",normalizedTitle:"7. 其他命名规范",charIndex:348},{level:3,title:"7.1 数组",slug:"_7-1-数组",normalizedTitle:"7.1 数组",charIndex:363},{level:3,title:"7.2 表述复数或者集合",slug:"_7-2-表述复数或者集合",normalizedTitle:"7.2 表述复数或者集合",charIndex:375},{level:3,title:"7.3 泛型类",slug:"_7-3-泛型类",normalizedTitle:"7.3 泛型类",charIndex:393},{level:3,title:"7.4 接口实现类",slug:"_7-4-接口实现类",normalizedTitle:"7.4 接口实现类",charIndex:406},{level:3,title:"7.5 测试类和测试方法",slug:"_7-5-测试类和测试方法",normalizedTitle:"7.5 测试类和测试方法",charIndex:421},{level:2,title:"8 扩展：速记Java开发中的各种O",slug:"_8-扩展-速记java开发中的各种o",normalizedTitle:"8 扩展：速记java开发中的各种o",charIndex:437}],excerpt:"<Boxx/>\n<p>在本文中，将从大到小，从外到内，总结Java编程中的命名规范。文中将会涉及到日常工作中常见的命名示例，如包命名，类命名，接口命名，方法命名，变量命名，常类命名，抽象类命名，异常类命名以及扩展类命名等。我将按照项目工程目录结构，从包，类(接口，抽象类，异常类)，方法，变量和常量的顺序展开介绍。</p>\n",headersStr:"1. 包命名规范 2. 类命名规范 2.1 接口命名规范 2.2 抽象类命名规范 2.3 异常类命名规范 3.方法命名规范 3.1 表述获取 3.2 表述查询 3.3 表述条件 3.4 表述设置 3.5 其他规范 4. 变量命名规范 5. 常量命名规范 6. 枚举命名规范 7. 其他命名规范 7.1 数组 7.2 表述复数或者集合 7.3 泛型类 7.4 接口实现类 7.5 测试类和测试方法 8 扩展：速记Java开发中的各种O",content:'在本文中，将从大到小，从外到内，总结Java编程中的命名规范。文中将会涉及到日常工作中常见的命名示例，如包命名，类命名，接口命名，方法命名，变量命名，常类命名，抽象类命名，异常类命名以及扩展类命名等。我将按照项目工程目录结构，从包，类(接口，抽象类，异常类)，方法，变量和常量的顺序展开介绍。\n\n\n\n * 1. 包命名规范\n * 2. 类命名规范\n   * 2.1 接口命名规范\n   * 2.2 抽象类命名规范\n   * 2.3 异常类命名规范\n * 3.方法命名规范\n   * 3.1 表述获取\n   * 3.2 表述查询\n   * 3.3 表述条件\n   * 3.4 表述设置\n   * 3.5 其他规范\n * 4. 变量命名规范\n * 5. 常量命名规范\n * 6. 枚举命名规范\n * 7. 其他命名规范\n   * 7.1 数组\n   * 7.2 表述复数或者集合\n   * 7.3 泛型类\n   * 7.4 接口实现类\n   * 7.5 测试类和测试方法\n * 8 扩展：速记Java开发中的各种O\n\n\n\n\n# 1. 包命名规范\n\n包(Package)的作用是将功能相似或相关的类或者接口进行分组管理，便于类的定位和查找，同时也可以使用包来避免类名的冲突和访问控制，使代码更容易维护。通常，包命使用小写英文字母进行命名，并使用“.”进行分割，每个被分割的单元只能包含一个名词。一般地，包命名常采用顶级域名作为前缀，例如com，net，org，edu，gov，cn，io等，随后紧跟公司/组织/个人名称以及功能模块名称。下面是一些包命名示例：\n\npackage org.springframework.boot.autoconfigure.cloud\npackage org.springframework.boot.util\npackage org.hibernate.action\npackage org.hibernate.cfg\npackage com.alibaba.druid\npackage com.alibaba.druid.filter\npackage com.alibaba.nacos.client.config\npackage com.ramostear.blog.web\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n下面是Oracle Java的一些常见包命名例子：\n\npackage java.beans\npackage java.io\npackage java.lang\npackage java.net\npackage java.util\npackage javax.annotation\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 2. 类命名规范\n\n类(Class)通常采用名词进行命名，且首字母大写，如果一个类名包含两个以上名词，建议使用驼峰命名(Camel-Case)法书写类名,每个名词首字母也应该大写。一般地，类名的书写尽量使其保持简单和描述的完整性，因此在书写类名时不建议使用缩写(一些约定俗成的命名除外，例如Internationalization and Localization缩写成i18n，Uniform Resource Identifier缩写成URI，Data Access Object缩写成DAO，JSON Web Token缩写成JWT，HyperText Markup Language缩写成HTML等等)。下列是一些常见的类命名示例：\n\npublic class UserDTO{\n    //TODO...\n}\nclass EmployeeService{\n    //TODO...\n}\nclass StudentDAO{\n    //TODO...\n}\nclass OrderItemEntity{\n    //TODO...\n}\npublic class UserServiceImpl{\n    //TODO...\n}\npublic class OrderItemController{\n    //TODO...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n下面是Oracle Java中的一些标准命名示例：\n\npublic class HTMLEditorKit{\n    //...\n}\npublic abstract class HttpContext{\n    //...\n}\npublic interface ImageObserver{\n    //...\n}\npublic class ArrayIndexOutOfBoundsException{\n    //...\n}\npublic class enum Thread.State{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.1 接口命名规范\n\n首先，接口(Interface)是一种表述某一类型对象动作的特殊类；简单来说，接口也是类(不太严谨)，所以，接口的名称的书写也应该符合类名书写规范，首字母应该大写，与普通类名不同的是，接口命名时通常采用形容词或动词来描述接口的动作行为。下列是Oracle Java中一些标准库的接口使用形容词命名示例：\n\npublic interface Closeable{\n    //...\n}\npublic interface Cloneable{\n    //...\n}\npublic interface Runnable{\n    //...\n}\npublic interface Comparable<T>{\n    //...\n}\npublic interface CompletionService<V>{\n    //...\n}\npublic interface Iterable<T>{\n    //...\n}\npublic interface EventListener{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n在Spring Framework标准库中，通常采用名词+动词/形容词的组合方式来命名接口，下列是Spring Framework中一些接口命名示例：\n\npublic interface AfterAdvice{\n    //...\n}\npublic interface TargetClassAware{\n    //...\n}\npublic interface ApplicationContextAware{\n    //...\n}\npublic interface MessageSourceResolvable{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 2.2 抽象类命名规范\n\n抽象类(Abstract Class)是一种特殊的类，其命名与普通类的命名规范相当。一般地，为了将抽象类与普通类和接口做出区别，提高抽象类的可读性，在命名抽象类时，会以“Abstract”/“Base”作为类命的前缀。下面是编程中一些常规的命名示例：\n\npublic abstract class AbstractRepository<T>{\n    //...\n}\npublic abstract class AbstractController{\n    //...\n}\npublic abstract class BaseDao<T,ID>{\n    //...\n}\npublic abstract class AbstractCommonService<T>{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n以下是Spring Framework中常见的抽象类示例：\n\npublic abstract class AbstractAspectJAdvice{\n    //...\n}\npublic abstract class AbstractSingletonProxyFactoryBean{\n    //...\n}\npublic abstract class AbstractBeanFactoryPointcutAdvisor{\n    //...\n}\npublic abstract class AbstractCachingConfiguration{\n    //...\n}\npublic abstract class AbstractContextLoaderInitializer{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.3 异常类命名规范\n\n异常类(Exception Class)也是类的一种，但与普通类命名不同的是，异常类在命名时需要使用“Exception”作为其后缀。下面是常见的异常类命名示例：\n\npublic class FileNotFoundException{\n    //...\n}\npublic class UserAlreadyExistException{\n    //...\n}\npublic class TransactionException{\n    //...\n}\npublic class ClassNotFoundException{\n    //...\n}\npublic class IllegalArgumentException{\n    //...\n}\npublic class IndexOutOfBoundsException{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n另外，在Java中还有另外一类异常类，它们属于系统异常，这一类异常类的命名使用“Error”作为其后缀，以区分Exception(编码，环境，操作等异常)。下面是系统异常(非检查异常)的命名示例：\n\npublic abstract class VirtualMachineError{\n    //...\n}\npublic class StackOverflowError{\n    //...\n}\npublic class OutOfMemoryError{\n    //...\n}\npublic class IllegalAccessError{\n    //...\n}\npublic class NoClassDefFoundError{\n    //...\n}\npublic class NoSuchFieldError{\n    //...\n}\npublic class NoSuchMethodError{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 3.方法命名规范\n\n方法(Method)命名时,其首字母应该小写，如果方法签名由多个单词组成，则从第二个单词起，使用驼峰命名法进行书写。一般地，在对方法进行命名时，通常采用动词/动词+名词的组合，下面是方法命名的一些常见示例。\n\n\n# 3.1 表述获取\n\n如果一个方法用于获取某个值，通常使用“get”作为其前缀，例如：\n\npublic String getUserName(){\n    //...\n}\npublic List<Integer> getUserIds(){\n    //...\n}\npublic User getOne(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.2 表述查询\n\n如果方法需要通过查询或筛选的方式获取某个数据，通常使用“find”/“query”作为其前缀，例如：\n\npublic List<User> findOne(Integer id){\n    //...\n}\npublic List<Integer> findAll(){\n    //...\n} \npublic List<String> queryOrders(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.3 表述条件\n\n如果一个方法需要一些条件参数，则可以使用“by”/“with”等字符作为方法名中条件的连接符，例如：\n\npublic User findByUsername(String username){\n    //...\n}\npublic List<Integer> getUserIdsWithState(boolean state){\n    //...\n}\npublic List<User> findAllByUsernameOrderByIdDesc(String username){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.4 表述设置\n\n如果一个方法是要设置，插入，修改，删除等操作，应该将对应的动词(set,insert,update,delete)作为其名词的前缀，例如：\n\npublic void setName(String name){\n    //...\n}\npublic User insert(User user){\n    //...\n}\npublic void update(User user){\n    //...\n}\npublic void clearAll(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3.5 其他规范\n\n如果一个方法用于获取某组数据的长度或数量，则该方法应该使用length或size命名；如果方法的返回值为布尔类型(Boolean)，则该方法应该使用“is”或”has”作为前缀；如果方法用于将一种类型的数据转换为另一种数据数类型，则可以使用“to”作为前缀。下面是综合示例：\n\npublic long length(){\n    //...\n}\npublic int size(){\n    //...\n}\npublic boolean isOpen(){\n    //...\n}\npublic boolean isNotEmpty(){\n    //...\n}\npublic boolean hasLength(){\n    //...\n}\npublic Set<Integer> mapToSet(Map map){\n    //...\n}\npublic UserDto convertTo(User user){\n    //...\n}\npublic String toString(Object obj){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 4. 变量命名规范\n\n变量(Variable)命名包括参数名称，成员变量和局部变量。变量命名通常以小写字母开头，如果变量名由多个单词构成，则从第二个单词起首字母需要大写，在变量命名过程中，不建议使用“_”作为前缀或者单词之间的分割符号。下面是一些常见的变量命名示例：\n\nprivate String nickName;\nprivate String mobileNumber;\nprivate Long id;\nprivate String username;\nprivate Long orderId;\nprivate Long orderItemId;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5. 常量命名规范\n\n一般地，常量名称采用全部大写的英文单词书写，如果常量名称由多个单词组成，则单词之间统一使用“_”进行分割，下面是常量命名示例：\n\npublic static final String LOGIN_USER_SESSION_KEY = "current_login_user";\npublic static final int MAX_AGE_VALUE = 120;\npublic static final int DEFAULT_PAGE_NO = 1;\npublic static final long MAX_PAGE_SIZE = 1000;\npublic static final boolean HAS_LICENSE = false;\npublic static final boolean IS_CHECKED = false;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 6. 枚举命名规范\n\n枚举(Enum)类是一种特殊的类，其命名规范遵循普通类的命名约束条件，首字母大写，采用驼峰命名法；枚举类中定义的值的名称遵循常量的命名规范，且枚举值的名称需要与类名有一定的关联性，下面是枚举的一些示例：\n\npublic enum Color{\n    RED,YELLOW,BLUE,GREEN,WHITE;\n}\npublic enum PhysicalSize{\n    TINY,SMALL,MEDIUM,LARGE,HUGE,GIGANTIC;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n下面是Oracle Java标准库中的一个示例：\n\npublic enum ElementType{\n    TYPE,\n    FIELD,\n    METHOD,\n    PARAMETER,\n    CONSTRUCTOR,\n    LOCAL_VARIABLE,\n    ANNOTATION_TYPE,\n    PACKAGE,\n    TYPE_PARAMETER,\n    TYPE_USE;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 7. 其他命名规范\n\n\n# 7.1 数组\n\n在定义数组时，为了便于阅读，尽量保持以下的书写规范：\n\nint[] array = new int[10];\nint[] idArray ={1,2,3,4,5};\nString[] nameArray = {"First","Yellow","Big"}\n\npublic List<String> getNameById(Integer[] ids){\n    //...\n}\n//或者\npublic List<String> getNameById(Integer...ids){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 7.2 表述复数或者集合\n\n如果一个变量用于描述多个数据时，尽量使用单词的复数形式进行书写，例如：\n\nCollection<Order> orders;\nint[] values;\nList<Item> items;\n\n\n1\n2\n3\n\n\n另外，如果表述的是一个Map数据，则应使用“map”作为其后缀，例如：\n\nMap<String,User> userMap;\nMap<String,List<Object>> listMap;\n\n\n1\n2\n\n\n\n# 7.3 泛型类\n\n在书写泛型类时，通常做以下的约定：\n\n * E表示Element，通常用在集合中；\n * ID用于表示对象的唯一标识符类型\n * T表示Type(类型)，通常指代类；\n * K表示Key(键),通常用于Map中；\n * V表示Value(值),通常用于Map中，与K结对出现；\n * N表示Number,通常用于表示数值类型；\n * ？表示不确定的Java类型；\n * X用于表示异常；\n * U,S表示任意的类型。\n\n下面时泛型类的书写示例：\n\npublic class HashSet<E> extends AbstractSet<E>{\n    //...\n}\npublic class HashMap<K,V> extends AbstractMap<K,V>{\n    //...\n}\npublic class ThreadLocal<T>{\n    //...\n}\npublic interface Functor<T,X extends Throwable>{\n    T val() throws X;\n}\npublic class Container<K,V>{\n    private K key;\n    private V value;\n    Container(K key,V value){\n        this.key = key;\n        this.value = value;\n    }\n    //getter and setter ...\n}\n\npublic interface BaseRepository<T,ID>{\n    T findById(ID id);\n\n    void update(T t);\n\n    List<T> findByIds(ID...ids);\n}\n\npublic static <T> List<T> methodName(Class<T> clz){\n    List<T> dataList = getByClz(clz);\n    return dataList;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 7.4 接口实现类\n\n为了便于阅读，在通常情况下，建议接口实现类使用“Impl作为后缀”，不建议使用大写的“I”作为接口前缀，下面是接口和接口实现类的书写示例。\n\n推荐写法：\n\npublic interface OrderService{\n    //...\n}\npublic class OrderServiceImpl implements OrderService{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n不建议的写法：\n\npublic interface IOrderService{\n    //...\n}\npublic class OrderService implements IOrderService{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 7.5 测试类和测试方法\n\n在项目中，测试类采用被测试业务模块名/被测试接口/被测试类+“Test”的方法进行书写，测试类中的测试函数采用“test”+用例操作_状态的组合方式进行书写，例如：\n\npublic class UserServiceTest{\n\n    public void testFindByUsernameAndPassword(){\n        //...\n    }\n\n    public void testUsernameExist_notExist(){\n        //...\n    }\n\n    public void testDeleteById_isOk(){\n        //...\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 8 扩展：速记Java开发中的各种O\n\n最后，通过一张表和图快速对Java中的BO,DTO,DAO,PO,POJO,VO之间的含义，区别以及联系进行梳理。\n\n名称     使用范围                                  解释说明\nBO     用于Service,Manager,Business等业务相关类的命名   Business Object业务处理对象，主要作用是把业务逻辑封装成一个对象。\nDTO    经过加工后的PO对象，其内部属性可能增加或减少               Data Transfer\n                                             Object数据传输对象，主要用于远程调用等需要大量传输数据的地方，例如，可以将一个或多个PO类的部分或全部属性封装为DTO进行传输\nDAO    用于对数据库进行读写操作的类进行命名                    Data Access\n                                             Object数据访问对象，主要用来封装对数据库的访问，通过DAO可以将POJO持久化为PO，也可以利用PO封装出VO和DTO\nPO     Bean,Entity等类的命名                      Persistant\n                                             Object持久化对象，数据库表中的数据在Java对象中的映射状态，可以简单的理解为一个PO对象即为数据库表中的一条记录\nPOJO   POJO是DO/DTO/BO/VO的统称                  Plain Ordinary Java Object\n                                             简单Java对象，它是一个简单的普通Java对象，禁止将类命名为XxxxPOJO\nVO     通常是视图控制层和模板引擎之间传递的数据对象                Value Object\n                                             值对象，主要用于视图层，视图控制器将视图层所需的属性封装成一个对象，然后用一个VO对象在视图控制器和视图之间进行数据传输。\nAO     应用层对象                                 Application Object，在Web层与Service层之间抽象的复用对象模型，很少用。\n\n下面将通过一张图来理解上述几种O之间相互转换的关系：\n\n\n\n来源：https://www.ramostear.com/blog/2020/03/20/2vxdaqjq.html',normalizedContent:'在本文中，将从大到小，从外到内，总结java编程中的命名规范。文中将会涉及到日常工作中常见的命名示例，如包命名，类命名，接口命名，方法命名，变量命名，常类命名，抽象类命名，异常类命名以及扩展类命名等。我将按照项目工程目录结构，从包，类(接口，抽象类，异常类)，方法，变量和常量的顺序展开介绍。\n\n\n\n * 1. 包命名规范\n * 2. 类命名规范\n   * 2.1 接口命名规范\n   * 2.2 抽象类命名规范\n   * 2.3 异常类命名规范\n * 3.方法命名规范\n   * 3.1 表述获取\n   * 3.2 表述查询\n   * 3.3 表述条件\n   * 3.4 表述设置\n   * 3.5 其他规范\n * 4. 变量命名规范\n * 5. 常量命名规范\n * 6. 枚举命名规范\n * 7. 其他命名规范\n   * 7.1 数组\n   * 7.2 表述复数或者集合\n   * 7.3 泛型类\n   * 7.4 接口实现类\n   * 7.5 测试类和测试方法\n * 8 扩展：速记java开发中的各种o\n\n\n\n\n# 1. 包命名规范\n\n包(package)的作用是将功能相似或相关的类或者接口进行分组管理，便于类的定位和查找，同时也可以使用包来避免类名的冲突和访问控制，使代码更容易维护。通常，包命使用小写英文字母进行命名，并使用“.”进行分割，每个被分割的单元只能包含一个名词。一般地，包命名常采用顶级域名作为前缀，例如com，net，org，edu，gov，cn，io等，随后紧跟公司/组织/个人名称以及功能模块名称。下面是一些包命名示例：\n\npackage org.springframework.boot.autoconfigure.cloud\npackage org.springframework.boot.util\npackage org.hibernate.action\npackage org.hibernate.cfg\npackage com.alibaba.druid\npackage com.alibaba.druid.filter\npackage com.alibaba.nacos.client.config\npackage com.ramostear.blog.web\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n下面是oracle java的一些常见包命名例子：\n\npackage java.beans\npackage java.io\npackage java.lang\npackage java.net\npackage java.util\npackage javax.annotation\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 2. 类命名规范\n\n类(class)通常采用名词进行命名，且首字母大写，如果一个类名包含两个以上名词，建议使用驼峰命名(camel-case)法书写类名,每个名词首字母也应该大写。一般地，类名的书写尽量使其保持简单和描述的完整性，因此在书写类名时不建议使用缩写(一些约定俗成的命名除外，例如internationalization and localization缩写成i18n，uniform resource identifier缩写成uri，data access object缩写成dao，json web token缩写成jwt，hypertext markup language缩写成html等等)。下列是一些常见的类命名示例：\n\npublic class userdto{\n    //todo...\n}\nclass employeeservice{\n    //todo...\n}\nclass studentdao{\n    //todo...\n}\nclass orderitementity{\n    //todo...\n}\npublic class userserviceimpl{\n    //todo...\n}\npublic class orderitemcontroller{\n    //todo...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n下面是oracle java中的一些标准命名示例：\n\npublic class htmleditorkit{\n    //...\n}\npublic abstract class httpcontext{\n    //...\n}\npublic interface imageobserver{\n    //...\n}\npublic class arrayindexoutofboundsexception{\n    //...\n}\npublic class enum thread.state{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.1 接口命名规范\n\n首先，接口(interface)是一种表述某一类型对象动作的特殊类；简单来说，接口也是类(不太严谨)，所以，接口的名称的书写也应该符合类名书写规范，首字母应该大写，与普通类名不同的是，接口命名时通常采用形容词或动词来描述接口的动作行为。下列是oracle java中一些标准库的接口使用形容词命名示例：\n\npublic interface closeable{\n    //...\n}\npublic interface cloneable{\n    //...\n}\npublic interface runnable{\n    //...\n}\npublic interface comparable<t>{\n    //...\n}\npublic interface completionservice<v>{\n    //...\n}\npublic interface iterable<t>{\n    //...\n}\npublic interface eventlistener{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n在spring framework标准库中，通常采用名词+动词/形容词的组合方式来命名接口，下列是spring framework中一些接口命名示例：\n\npublic interface afteradvice{\n    //...\n}\npublic interface targetclassaware{\n    //...\n}\npublic interface applicationcontextaware{\n    //...\n}\npublic interface messagesourceresolvable{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 2.2 抽象类命名规范\n\n抽象类(abstract class)是一种特殊的类，其命名与普通类的命名规范相当。一般地，为了将抽象类与普通类和接口做出区别，提高抽象类的可读性，在命名抽象类时，会以“abstract”/“base”作为类命的前缀。下面是编程中一些常规的命名示例：\n\npublic abstract class abstractrepository<t>{\n    //...\n}\npublic abstract class abstractcontroller{\n    //...\n}\npublic abstract class basedao<t,id>{\n    //...\n}\npublic abstract class abstractcommonservice<t>{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n以下是spring framework中常见的抽象类示例：\n\npublic abstract class abstractaspectjadvice{\n    //...\n}\npublic abstract class abstractsingletonproxyfactorybean{\n    //...\n}\npublic abstract class abstractbeanfactorypointcutadvisor{\n    //...\n}\npublic abstract class abstractcachingconfiguration{\n    //...\n}\npublic abstract class abstractcontextloaderinitializer{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 2.3 异常类命名规范\n\n异常类(exception class)也是类的一种，但与普通类命名不同的是，异常类在命名时需要使用“exception”作为其后缀。下面是常见的异常类命名示例：\n\npublic class filenotfoundexception{\n    //...\n}\npublic class useralreadyexistexception{\n    //...\n}\npublic class transactionexception{\n    //...\n}\npublic class classnotfoundexception{\n    //...\n}\npublic class illegalargumentexception{\n    //...\n}\npublic class indexoutofboundsexception{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n另外，在java中还有另外一类异常类，它们属于系统异常，这一类异常类的命名使用“error”作为其后缀，以区分exception(编码，环境，操作等异常)。下面是系统异常(非检查异常)的命名示例：\n\npublic abstract class virtualmachineerror{\n    //...\n}\npublic class stackoverflowerror{\n    //...\n}\npublic class outofmemoryerror{\n    //...\n}\npublic class illegalaccesserror{\n    //...\n}\npublic class noclassdeffounderror{\n    //...\n}\npublic class nosuchfielderror{\n    //...\n}\npublic class nosuchmethoderror{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 3.方法命名规范\n\n方法(method)命名时,其首字母应该小写，如果方法签名由多个单词组成，则从第二个单词起，使用驼峰命名法进行书写。一般地，在对方法进行命名时，通常采用动词/动词+名词的组合，下面是方法命名的一些常见示例。\n\n\n# 3.1 表述获取\n\n如果一个方法用于获取某个值，通常使用“get”作为其前缀，例如：\n\npublic string getusername(){\n    //...\n}\npublic list<integer> getuserids(){\n    //...\n}\npublic user getone(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.2 表述查询\n\n如果方法需要通过查询或筛选的方式获取某个数据，通常使用“find”/“query”作为其前缀，例如：\n\npublic list<user> findone(integer id){\n    //...\n}\npublic list<integer> findall(){\n    //...\n} \npublic list<string> queryorders(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.3 表述条件\n\n如果一个方法需要一些条件参数，则可以使用“by”/“with”等字符作为方法名中条件的连接符，例如：\n\npublic user findbyusername(string username){\n    //...\n}\npublic list<integer> getuseridswithstate(boolean state){\n    //...\n}\npublic list<user> findallbyusernameorderbyiddesc(string username){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 3.4 表述设置\n\n如果一个方法是要设置，插入，修改，删除等操作，应该将对应的动词(set,insert,update,delete)作为其名词的前缀，例如：\n\npublic void setname(string name){\n    //...\n}\npublic user insert(user user){\n    //...\n}\npublic void update(user user){\n    //...\n}\npublic void clearall(){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 3.5 其他规范\n\n如果一个方法用于获取某组数据的长度或数量，则该方法应该使用length或size命名；如果方法的返回值为布尔类型(boolean)，则该方法应该使用“is”或”has”作为前缀；如果方法用于将一种类型的数据转换为另一种数据数类型，则可以使用“to”作为前缀。下面是综合示例：\n\npublic long length(){\n    //...\n}\npublic int size(){\n    //...\n}\npublic boolean isopen(){\n    //...\n}\npublic boolean isnotempty(){\n    //...\n}\npublic boolean haslength(){\n    //...\n}\npublic set<integer> maptoset(map map){\n    //...\n}\npublic userdto convertto(user user){\n    //...\n}\npublic string tostring(object obj){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 4. 变量命名规范\n\n变量(variable)命名包括参数名称，成员变量和局部变量。变量命名通常以小写字母开头，如果变量名由多个单词构成，则从第二个单词起首字母需要大写，在变量命名过程中，不建议使用“_”作为前缀或者单词之间的分割符号。下面是一些常见的变量命名示例：\n\nprivate string nickname;\nprivate string mobilenumber;\nprivate long id;\nprivate string username;\nprivate long orderid;\nprivate long orderitemid;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 5. 常量命名规范\n\n一般地，常量名称采用全部大写的英文单词书写，如果常量名称由多个单词组成，则单词之间统一使用“_”进行分割，下面是常量命名示例：\n\npublic static final string login_user_session_key = "current_login_user";\npublic static final int max_age_value = 120;\npublic static final int default_page_no = 1;\npublic static final long max_page_size = 1000;\npublic static final boolean has_license = false;\npublic static final boolean is_checked = false;\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 6. 枚举命名规范\n\n枚举(enum)类是一种特殊的类，其命名规范遵循普通类的命名约束条件，首字母大写，采用驼峰命名法；枚举类中定义的值的名称遵循常量的命名规范，且枚举值的名称需要与类名有一定的关联性，下面是枚举的一些示例：\n\npublic enum color{\n    red,yellow,blue,green,white;\n}\npublic enum physicalsize{\n    tiny,small,medium,large,huge,gigantic;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n下面是oracle java标准库中的一个示例：\n\npublic enum elementtype{\n    type,\n    field,\n    method,\n    parameter,\n    constructor,\n    local_variable,\n    annotation_type,\n    package,\n    type_parameter,\n    type_use;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 7. 其他命名规范\n\n\n# 7.1 数组\n\n在定义数组时，为了便于阅读，尽量保持以下的书写规范：\n\nint[] array = new int[10];\nint[] idarray ={1,2,3,4,5};\nstring[] namearray = {"first","yellow","big"}\n\npublic list<string> getnamebyid(integer[] ids){\n    //...\n}\n//或者\npublic list<string> getnamebyid(integer...ids){\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 7.2 表述复数或者集合\n\n如果一个变量用于描述多个数据时，尽量使用单词的复数形式进行书写，例如：\n\ncollection<order> orders;\nint[] values;\nlist<item> items;\n\n\n1\n2\n3\n\n\n另外，如果表述的是一个map数据，则应使用“map”作为其后缀，例如：\n\nmap<string,user> usermap;\nmap<string,list<object>> listmap;\n\n\n1\n2\n\n\n\n# 7.3 泛型类\n\n在书写泛型类时，通常做以下的约定：\n\n * e表示element，通常用在集合中；\n * id用于表示对象的唯一标识符类型\n * t表示type(类型)，通常指代类；\n * k表示key(键),通常用于map中；\n * v表示value(值),通常用于map中，与k结对出现；\n * n表示number,通常用于表示数值类型；\n * ？表示不确定的java类型；\n * x用于表示异常；\n * u,s表示任意的类型。\n\n下面时泛型类的书写示例：\n\npublic class hashset<e> extends abstractset<e>{\n    //...\n}\npublic class hashmap<k,v> extends abstractmap<k,v>{\n    //...\n}\npublic class threadlocal<t>{\n    //...\n}\npublic interface functor<t,x extends throwable>{\n    t val() throws x;\n}\npublic class container<k,v>{\n    private k key;\n    private v value;\n    container(k key,v value){\n        this.key = key;\n        this.value = value;\n    }\n    //getter and setter ...\n}\n\npublic interface baserepository<t,id>{\n    t findbyid(id id);\n\n    void update(t t);\n\n    list<t> findbyids(id...ids);\n}\n\npublic static <t> list<t> methodname(class<t> clz){\n    list<t> datalist = getbyclz(clz);\n    return datalist;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 7.4 接口实现类\n\n为了便于阅读，在通常情况下，建议接口实现类使用“impl作为后缀”，不建议使用大写的“i”作为接口前缀，下面是接口和接口实现类的书写示例。\n\n推荐写法：\n\npublic interface orderservice{\n    //...\n}\npublic class orderserviceimpl implements orderservice{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n不建议的写法：\n\npublic interface iorderservice{\n    //...\n}\npublic class orderservice implements iorderservice{\n    //...\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 7.5 测试类和测试方法\n\n在项目中，测试类采用被测试业务模块名/被测试接口/被测试类+“test”的方法进行书写，测试类中的测试函数采用“test”+用例操作_状态的组合方式进行书写，例如：\n\npublic class userservicetest{\n\n    public void testfindbyusernameandpassword(){\n        //...\n    }\n\n    public void testusernameexist_notexist(){\n        //...\n    }\n\n    public void testdeletebyid_isok(){\n        //...\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 8 扩展：速记java开发中的各种o\n\n最后，通过一张表和图快速对java中的bo,dto,dao,po,pojo,vo之间的含义，区别以及联系进行梳理。\n\n名称     使用范围                                  解释说明\nbo     用于service,manager,business等业务相关类的命名   business object业务处理对象，主要作用是把业务逻辑封装成一个对象。\ndto    经过加工后的po对象，其内部属性可能增加或减少               data transfer\n                                             object数据传输对象，主要用于远程调用等需要大量传输数据的地方，例如，可以将一个或多个po类的部分或全部属性封装为dto进行传输\ndao    用于对数据库进行读写操作的类进行命名                    data access\n                                             object数据访问对象，主要用来封装对数据库的访问，通过dao可以将pojo持久化为po，也可以利用po封装出vo和dto\npo     bean,entity等类的命名                      persistant\n                                             object持久化对象，数据库表中的数据在java对象中的映射状态，可以简单的理解为一个po对象即为数据库表中的一条记录\npojo   pojo是do/dto/bo/vo的统称                  plain ordinary java object\n                                             简单java对象，它是一个简单的普通java对象，禁止将类命名为xxxxpojo\nvo     通常是视图控制层和模板引擎之间传递的数据对象                value object\n                                             值对象，主要用于视图层，视图控制器将视图层所需的属性封装成一个对象，然后用一个vo对象在视图控制器和视图之间进行数据传输。\nao     应用层对象                                 application object，在web层与service层之间抽象的复用对象模型，很少用。\n\n下面将通过一张图来理解上述几种o之间相互转换的关系：\n\n\n\n来源：https://www.ramostear.com/blog/2020/03/20/2vxdaqjq.html',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"linux自用命令",frontmatter:{title:"linux自用命令",date:"2023-03-26T00:00:00.000Z",tags:["linux"],categories:["cesiumjs"],isShowComments:!0,publish:!0},regularPath:"/views/specification/linux01.html",relativePath:"views/specification/linux01.md",key:"v-01b63767",path:"/views/specification/linux01.html",headers:[{level:2,title:"工具",slug:"工具",normalizedTitle:"工具",charIndex:29},{level:2,title:"文件内容查找",slug:"文件内容查找",normalizedTitle:"文件内容查找",charIndex:35},{level:2,title:"根据pid查程序目录",slug:"根据pid查程序目录",normalizedTitle:"根据pid查程序目录",charIndex:45},{level:2,title:"Tomcat",slug:"tomcat",normalizedTitle:"tomcat",charIndex:59},{level:2,title:"权限",slug:"权限",normalizedTitle:"权限",charIndex:69},{level:2,title:"文件复制/移动/大小",slug:"文件复制-移动-大小",normalizedTitle:"文件复制/移动/大小",charIndex:75},{level:2,title:"上传下载",slug:"上传下载",normalizedTitle:"上传下载",charIndex:89},{level:2,title:"压缩解压",slug:"压缩解压",normalizedTitle:"压缩解压",charIndex:97},{level:2,title:"建立软链接",slug:"建立软链接",normalizedTitle:"建立软链接",charIndex:105},{level:2,title:"更改环境变量",slug:"更改环境变量",normalizedTitle:"更改环境变量",charIndex:114},{level:2,title:"端口/防火墙",slug:"端口-防火墙",normalizedTitle:"端口/防火墙",charIndex:124},{level:2,title:"禁IP",slug:"禁ip",normalizedTitle:"禁ip",charIndex:134}],excerpt:'<Boxx/>\n<p>工作中常用到的linux命令备份，方便查看。</p>\n<p><div class="table-of-contents"><ul></ul></div></p>\n',headersStr:"工具 文件内容查找 根据pid查程序目录 Tomcat 权限 文件复制/移动/大小 上传下载 压缩解压 建立软链接 更改环境变量 端口/防火墙 禁IP",content:"工作中常用到的linux命令备份，方便查看。\n\n\n\n * 工具\n * 文件内容查找\n * 根据pid查程序目录\n * Tomcat\n * 权限\n * 文件复制/移动/大小\n * 上传下载\n * 压缩解压\n * 建立软链接\n * 更改环境变量\n * 端口/防火墙\n * 禁IP\n\n\n\n\n# 工具\n\n自我备份：Xshell + Xftp（已破解）\n\n\n# 文件内容查找\n\n# 查找文件夹下或某个文件包含某字符的所有文件\n# -r 是递归查找\n# -n 是显示行号\n# -C 5 显示file文件里匹配字串那行以及上下5行\n# -B 5 显示前5行\n# -A 5 显示后5行\n# --include '*.html' 指定后缀名\ngrep -rn \"message\" ./\n# 实时显示日志记录\ntail -100f a.log\n# 查找包含 2020 的 catalina.out文件所在的行\nfind ./ -name catalina.out | xargs grep 2020\n# grep之后，按行统计行数 wc -l\nfind ./ -name catalina.out | xargs grep 2020 | wc -l\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 根据pid查程序目录\n\nps -ef | grep redis\n# root     14145     1  0 Jul08 ?        00:17:14 ./redis-server *:6379\nls -al /proc/14145/exe\n# lrwxrwxrwx. 1 root root 0 7月 31 05:10 /proc/14145/exe -> /usr/local/bin/redis-server\n\n\n1\n2\n3\n4\n\n\n\n# Tomcat\n\n# 查看tomcat是否启动，并查看tomcat端口号\nps -ef| grep tomcat\nsudo netstat -apn | grep 7507  \nnetstat –pan | grep XXXX  (此处XXXX为pid)\n# 重启tomcat\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/bin\nsh shutdown.sh\nsh startup.sh\n# 有时关闭服务操作不成功，强制删掉后台进程\nkill -9 7010\n# 实时查看tomcat运行日志\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/logs\ntail -f -n 500 catalina.out #查看日志，同样Ctrl+c退出\n# 清缓存\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/work\nrm -rf Catalina\n# 截取日志 （前提是 catalina.out 日志中的每行都是以日期格式开头的）\nsed -n '/^2012-05-15/,/^2012-05-16/p' catalina.out > catalina_20120515.out\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 权限\n\n#给文件的所有者加上 x 权限,即可使用:\nchmod   u+x   文件\n#查看文件权限\nls  -l   文件\n\n\n1\n2\n3\n4\n\n\n> 参考： 白小黑..\n\n\n# 文件复制/移动/大小\n\n#复制文件夹 -r\ncp -r a文件夹 b新文件夹\n#将/test1目录下的file1复制到/test3 目录，并将文件名改为file2\nmv /test1/file1 /test3/file2\n# 查看当前路径下各个目录大小(后面也可以跟指定目录)， -h 以K，M，G为单位，提高信息的可读性。\ndu -sh *\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 上传下载\n\nyum -y install lrzsz #安装\nrz #上传\nsz #下载\n\n\n1\n2\n3\n\n\n\n# 压缩解压\n\n#压缩指定文件夹为 tar.bz2\n[root@db phantomjs]# tar -cjf echarts-convert.tar.bz2 echarts-convert/\n#解压 tar.bz2\n[root@db yx_zb]# tar -xjvf echarts-convert.tar.bz2\n\n\n1\n2\n3\n4\n\n\n\n# 建立软链接\n\nln -s /usr/PhantomJS/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/bin/phantomjs\n\n\n1\n\n\n\n# 更改环境变量\n\nvim /etc/profile #编辑\nsource /etc/profile #重启使环境变量生效\n\n\n1\n2\n\n\n\n# 端口/防火墙\n\nnetstat -ntlp   #查看当前所有tcp端口\nnetstat -ntulp |grep 80   #查看所有80端口使用情况\n\n#开放端口： 1.修改 /etc/sysconfig/iptables 文件\n# 2.如开放80端口,ACCEPT为开启、DROP为关闭\niptables -A INPUT -p tcp --dport 80 -j ACCEPT #当数据从外部进入服务器为目标端口\niptables -A OUTPUT -p tcp --sport 80 -j ACCEPT #数据从服务器出去\nservice iptables save #保证重启服务器后也不会失效\n\nservice iptables restart #改完后重启防火墙\n/sbin/iptables -L -n #查看开放的端口\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 禁IP\n\niptables -A INPUT -p tcp -s 192.168.1.2 -j DROP\n\n\n1\n",normalizedContent:"工作中常用到的linux命令备份，方便查看。\n\n\n\n * 工具\n * 文件内容查找\n * 根据pid查程序目录\n * tomcat\n * 权限\n * 文件复制/移动/大小\n * 上传下载\n * 压缩解压\n * 建立软链接\n * 更改环境变量\n * 端口/防火墙\n * 禁ip\n\n\n\n\n# 工具\n\n自我备份：xshell + xftp（已破解）\n\n\n# 文件内容查找\n\n# 查找文件夹下或某个文件包含某字符的所有文件\n# -r 是递归查找\n# -n 是显示行号\n# -c 5 显示file文件里匹配字串那行以及上下5行\n# -b 5 显示前5行\n# -a 5 显示后5行\n# --include '*.html' 指定后缀名\ngrep -rn \"message\" ./\n# 实时显示日志记录\ntail -100f a.log\n# 查找包含 2020 的 catalina.out文件所在的行\nfind ./ -name catalina.out | xargs grep 2020\n# grep之后，按行统计行数 wc -l\nfind ./ -name catalina.out | xargs grep 2020 | wc -l\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 根据pid查程序目录\n\nps -ef | grep redis\n# root     14145     1  0 jul08 ?        00:17:14 ./redis-server *:6379\nls -al /proc/14145/exe\n# lrwxrwxrwx. 1 root root 0 7月 31 05:10 /proc/14145/exe -> /usr/local/bin/redis-server\n\n\n1\n2\n3\n4\n\n\n\n# tomcat\n\n# 查看tomcat是否启动，并查看tomcat端口号\nps -ef| grep tomcat\nsudo netstat -apn | grep 7507  \nnetstat –pan | grep xxxx  (此处xxxx为pid)\n# 重启tomcat\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/bin\nsh shutdown.sh\nsh startup.sh\n# 有时关闭服务操作不成功，强制删掉后台进程\nkill -9 7010\n# 实时查看tomcat运行日志\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/logs\ntail -f -n 500 catalina.out #查看日志，同样ctrl+c退出\n# 清缓存\ncd /home/yx/server8.5.50/apache-tomcat-8.5.40/work\nrm -rf catalina\n# 截取日志 （前提是 catalina.out 日志中的每行都是以日期格式开头的）\nsed -n '/^2012-05-15/,/^2012-05-16/p' catalina.out > catalina_20120515.out\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 权限\n\n#给文件的所有者加上 x 权限,即可使用:\nchmod   u+x   文件\n#查看文件权限\nls  -l   文件\n\n\n1\n2\n3\n4\n\n\n> 参考： 白小黑..\n\n\n# 文件复制/移动/大小\n\n#复制文件夹 -r\ncp -r a文件夹 b新文件夹\n#将/test1目录下的file1复制到/test3 目录，并将文件名改为file2\nmv /test1/file1 /test3/file2\n# 查看当前路径下各个目录大小(后面也可以跟指定目录)， -h 以k，m，g为单位，提高信息的可读性。\ndu -sh *\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 上传下载\n\nyum -y install lrzsz #安装\nrz #上传\nsz #下载\n\n\n1\n2\n3\n\n\n\n# 压缩解压\n\n#压缩指定文件夹为 tar.bz2\n[root@db phantomjs]# tar -cjf echarts-convert.tar.bz2 echarts-convert/\n#解压 tar.bz2\n[root@db yx_zb]# tar -xjvf echarts-convert.tar.bz2\n\n\n1\n2\n3\n4\n\n\n\n# 建立软链接\n\nln -s /usr/phantomjs/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/bin/phantomjs\n\n\n1\n\n\n\n# 更改环境变量\n\nvim /etc/profile #编辑\nsource /etc/profile #重启使环境变量生效\n\n\n1\n2\n\n\n\n# 端口/防火墙\n\nnetstat -ntlp   #查看当前所有tcp端口\nnetstat -ntulp |grep 80   #查看所有80端口使用情况\n\n#开放端口： 1.修改 /etc/sysconfig/iptables 文件\n# 2.如开放80端口,accept为开启、drop为关闭\niptables -a input -p tcp --dport 80 -j accept #当数据从外部进入服务器为目标端口\niptables -a output -p tcp --sport 80 -j accept #数据从服务器出去\nservice iptables save #保证重启服务器后也不会失效\n\nservice iptables restart #改完后重启防火墙\n/sbin/iptables -l -n #查看开放的端口\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 禁ip\n\niptables -a input -p tcp -s 192.168.1.2 -j drop\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Java 开发手册 v1.2.0",frontmatter:{title:"Java 开发手册 v1.2.0",date:"2022-05-02T00:00:00.000Z",sidebar:!0,sidebarDepth:5,tags:["cesiumjs","Java"],categories:["cesiumjs"],isShowComments:!0},regularPath:"/views/specification/ali.html",relativePath:"views/specification/ali.md",key:"v-524c0207",path:"/views/specification/ali.html",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:48},{level:2,title:"编程规范",slug:"编程规范",normalizedTitle:"编程规范",charIndex:757},{level:3,title:"命名风格",slug:"命名风格",normalizedTitle:"命名风格",charIndex:766},{level:3,title:"常量定义",slug:"常量定义",normalizedTitle:"常量定义",charIndex:3408},{level:3,title:"代码格式",slug:"代码格式",normalizedTitle:"代码格式",charIndex:4432},{level:3,title:"OOP 规约",slug:"oop-规约",normalizedTitle:"oop 规约",charIndex:6510},{level:3,title:"集合处理",slug:"集合处理",normalizedTitle:"集合处理",charIndex:10325},{level:3,title:"并发处理",slug:"并发处理",normalizedTitle:"并发处理",charIndex:14230},{level:3,title:"控制语句",slug:"控制语句",normalizedTitle:"控制语句",charIndex:17316},{level:3,title:"注释规约",slug:"注释规约",normalizedTitle:"注释规约",charIndex:19135},{level:3,title:"其他",slug:"其他",normalizedTitle:"其他",charIndex:20576},{level:2,title:"异常日志",slug:"异常日志",normalizedTitle:"异常日志",charIndex:268},{level:3,title:"异常处理",slug:"异常处理",normalizedTitle:"异常处理",charIndex:21433},{level:3,title:"日志规约",slug:"日志规约",normalizedTitle:"日志规约",charIndex:23642},{level:2,title:"MYSQL 数据库",slug:"mysql-数据库",normalizedTitle:"mysql 数据库",charIndex:25273},{level:3,title:"建表规约",slug:"建表规约",normalizedTitle:"建表规约",charIndex:25287},{level:3,title:"索引规约",slug:"索引规约",normalizedTitle:"索引规约",charIndex:27071},{level:3,title:"SQL 语句",slug:"sql-语句",normalizedTitle:"sql 语句",charIndex:28926},{level:3,title:"ORM 映射",slug:"orm-映射",normalizedTitle:"orm 映射",charIndex:30348},{level:2,title:"工程结构",slug:"工程结构",normalizedTitle:"工程结构",charIndex:206},{level:3,title:"应用分层",slug:"应用分层",normalizedTitle:"应用分层",charIndex:31610},{level:3,title:"二方库依赖",slug:"二方库依赖",normalizedTitle:"二方库依赖",charIndex:6908},{level:3,title:"服务器",slug:"服务器",normalizedTitle:"服务器",charIndex:19029},{level:2,title:"安全规约",slug:"安全规约",normalizedTitle:"安全规约",charIndex:288},{level:2,title:"附 1：版本历史",slug:"附-1-版本历史",normalizedTitle:"附 1：版本历史",charIndex:36318},{level:2,title:"附 2：本手册专有名词",slug:"附-2-本手册专有名词",normalizedTitle:"附 2：本手册专有名词",charIndex:36880}],headersStr:"前言 编程规范 命名风格 常量定义 代码格式 OOP 规约 集合处理 并发处理 控制语句 注释规约 其他 异常日志 异常处理 日志规约 MYSQL 数据库 建表规约 索引规约 SQL 语句 ORM 映射 工程结构 应用分层 二方库依赖 服务器 安全规约 附 1：版本历史 附 2：本手册专有名词",content:'> 最新编码规范： https://edu.aliyun.com/course/417\n\n\n# 前言\n\n《 Java 开发手册》是集团技术团队的集体经验总结，经历了多次大规模一线实战的检验及不断的完善，反馈给广大开发者。现代软件行业的高速发展对开发者的综合素质要求越来越高，因为不仅是编程知识点，其它维度的知识点也会影响到软件的最终交付质量。比如：数据库的表结构和索引设计缺陷可能带来软件上的架构缺陷或性能风险；工程结构混乱导致后续维护艰难；没有鉴权的漏洞代码易被黑客攻击等等。所以本手册以 Java 开发者为中心视角，划分为编程规约、异常日志、MySQL 数据库、工程结构、安全规约五大块，再根据内容特征，细分成若干二级子目录。根据约束力强弱及故障敏感性，规约依次分为强制、推荐、参考三大类。对于规约条目的延伸信息中，“说明”对内容做了引申和解释；“正例”提倡什么样的编码和实现方式；“反例”说明需要提防的雷区，以及真实的错误案例。\n\n本手册的愿景是码出高效、码出质量。代码的字里行间流淌的是软件生命中的血 液，质量的提升是尽可能少踩坑，杜绝踩重复的坑，切实提升质量意识。另外，现代 软件架构都需要协同开发完成，高效协作即降低协同成本，提升沟通效率，所谓无规 矩不成方圆，无规范不能协作。众所周知，制订交通法规表面上是要限制行车权，实 际上是保障公众的人身安全。试想如果没有限速，没有红绿灯，谁还敢上路行驶。对 软件来说，适当的规范和标准绝不是消灭代码内容的创造性、优雅性，而是限制过度 个性化，以一种普遍认可的统一方式一起做事，提升协作效率。\n\n《 Java 开发手册》，开放包容地认真听取社区、博客、论坛的反馈，及时修正，保持与时俱进。请关注手册末页的“阿里技术”和“云栖社区”公众号获取最新版本。\n\n\n# 编程规范\n\n\n# 命名风格\n\n 1.  【强制】代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。\n     反例： _name / __name / $Object / name_ / name$ / Object$\n\n 2.  【强制】代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。说明：正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，即使纯拼音命名方式也要避免采用。\n     正例： alibaba / taobao / youku / hangzhou 等国际通用的名称，可视同英文。\n     反例： DaZhePromotion [打折] / getPingfenByName() [评分] / int 某变量 = 3\n\n 3.  【强制】类名使用 UpperCamelCase 风格，必须遵从驼峰形式，但以下情形例外：DO / BO / DTO / VO / AO\n     正例： MarcoPolo / UserDO / XmlService / TcpUdpDeal / TaPromotion\n     反例： macroPolo / UserDo / XMLService / TCPUDPDeal / TAPromotion\n\n 4.  【强制】方法名、参数名、成员变量、局部变量都统一使用 lowerCamelCase 风格，必须遵从驼峰形式。\n     正例： localValue / getHttpMessage() / inputUserId\n\n 5.  【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。\n     正例： MAX_STOCK_COUNT\n     反例： MAX_COUNT\n\n 6.  【强制】抽象类命名使用 Abstract 或 Base 开头；异常类命名使用 Exception 结尾；测试类命名以它要测试的类的名称开始，以 Test 结尾。\n\n 7.  【强制】中括号是数组类型的一部分，数组定义如下：String[] args。\n     反例： 使用 String args[] 的方式来定义。\n\n 8.  【强制】POJO 类中布尔类型的变量，都不要加 is，否则部分框架解析会引起序列化错误。\n     反例： 定义为基本数据类型 Boolean isDeleted；的属性，它的方法也是 isDeleted()，RPC 框架在反向解析的时候，“以为”对应的属性名称是 deleted，导致属性获取不到，进而抛出异常。\n\n 9.  【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。\n     正例： 应用工具类包名为 com.alibaba.open.util、类名为 MessageUtils（此规则参考 spring 的框架结构）\n\n 10. 【强制】杜绝完全不规范的缩写，避免望文不知义。\n     反例： AbstractClass “缩写”命名成 AbsClass；condition “缩写”命名成 condi，此类随意缩写严重降低了代码的可阅读性。\n\n 11. 【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。\n     说明： 将设计模式体现在名字中，有利于阅读者快速理解架构设计思想。\n     正例：\n\npublic class OrderFactory;\npublic class LoginProxy;\npublic class ResourceObserver;\n\n\n1\n2\n3\n\n\n 12. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 Javadoc 注释。尽量不要在接口里定义变量，如果一定要定义变量，肯定是与接口方法相关，并且是整个应用的基础常量。\n     正例： 接口方法签名：void f();\n     接口基础常量表示：String COMPANY = "alibaba";\n     反例： 接口方法定义：public abstract void f();\n     说明： JDK8 中接口允许有默认实现，那么这个 default 方法，是对所有实现类都有价值的默认实现。\n\n 13. 接口和实现类的命名有两套规则：\n     1） 【强制】对于 Service 和 DAO 类，基于 SOA 的理念，暴露出来的服务一定是接口，内部的实现类用 Impl 的后缀与接口区别。\n     正例： CacheServiceImpl 实现 CacheService 接口。\n     2） 【推荐】如果是形容能力的接口名称，取对应的形容词做接口名（通常是–able 的形式）。\n     正例： AbstractTranslator 实现 Translatable。\n\n 14. 【参考】枚举类名建议带上 Enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。\n     说明： 枚举其实就是特殊的常量类，且构造方法被默认强制是私有。\n     正例： 枚举名字：DealStatusEnum，成员名称：SUCCESS / UNKOWN_REASON。\n\n 15. 【参考】各层命名规约：\n     \n     1. Service/DAO 层方法命名规约\n        1） 获取单个对象的方法用 get 做前缀。\n        2） 获取多个对象的方法用 list 做前缀。\n        3） 获取统计值的方法用 count 做前缀。\n        4） 插入的方法用 save（推荐）或 insert 做前缀。\n        5） 删除的方法用 remove（推荐）或 delete 做前缀。\n        6） 修改的方法用 update 做前缀。\n     2. 领域模型命名规约\n        1） 数据对象：xxxDO，xxx 即为数据表名。\n        2） 数据传输对象：xxxDTO，xxx 为业务领域相关的名称。\n        3） 展示对象：xxxVO，xxx 一般为网页名称。\n        4） POJO 是 DO/DTO/BO/VO 的统称，禁止命名成 xxxPOJO。\n\n\n# 常量定义\n\n 1. 【强制】不允许任何魔法值（即未经定义的常量）直接出现在代码中。\n    反例：\n\nString key = "Id#taobao_" + tradeId;  \ncache.put(key, value);\n\n\n1\n2\n\n 2. 【强制】long 或者 Long 初始赋值时，必须使用大写的 L，不能是小写的 l，小写容易跟数字 1 混淆，造成误解。 说明：Long a = 2l; 写的是数字的 21，还是 Long 型的 2?\n 3. 【推荐】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。如：缓存相关的常量放在类：CacheConsts 下；系统配置相关的常量放在类：ConfigConsts 下。\n    说明： 大而全的常量类，非得使用查找功能才能定位到修改的常量，不利于理解和维护。\n 4. 【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。 1） 跨应用共享常量：放置在二方库中，通常是 client.jar 中的 constant 目录下。\n    2） 应用内共享常量：放置在一方库的 modules 中的 constant 目录下。\n    反例： 易懂变量也要统一定义成应用内共享常量，两位攻城师在两个类中分别定义了表示“是”的变量：\n\n类 A 中：public static final String YES = "yes";  \n类 B 中：public static final String YES = "y";  \nA.YES.equals(B.YES)，预期是 true，但实际返回为 false，导致线上问题。  \n\n\n1\n2\n3\n\n\n3） 子工程内部共享常量：即在当前子工程的 constant 目录下。\n4） 包内共享常量：即在当前包下单独的 constant 目录下。\n5） 类内共享常量：直接在类内部 private static final 定义。\n\n 5. 【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面正例中的数字就是延伸信息，表示星期几。\n    正例： public Enum { MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6), SUNDAY(7);}\n\n\n# 代码格式\n\n 1. 【强制】大括号的使用约定。如果是大括号内为空，则简洁地写成{}即可，不需要换行；如果是非空代码块则：\n    1） 左大括号前不换行。\n    2） 左大括号后换行。\n    3） 右大括号前换行。\n    4） 右大括号后还有 else 等代码则不换行；表示终止的右大括号后必须换行。\n\n 2. 【强制】 左小括号和字符之间不出现空格；同样，右小括号和字符之间也不出现空格。详见 第 5 条下方正例提示。\n    反例： if (空格 a == b 空格)\n\n 3. 【强制】if/for/while/switch/do 等保留字与括号之间都必须加空格。\n\n 4. 【强制】任何二目、三目运算符的左右两边都需要加一个空格。\n    说明： 运算符包括赋值运算符=、逻辑运算符&&、加减乘除符号等。\n\n 5. 【强制】缩进采用 4 个空格，禁止使用 tab 字符。\n    说明： 如果使用 tab 缩进，必须设置 1 个 tab 为 4 个空格。IDEA 设置 tab 为 4 个空格时，请勿勾选 Use tab character；而在 eclipse 中，必须勾选 insert spaces for tabs。\n    正例： （涉及 1-5 点）\n\npublic static void main(String[] args) {\n  // 缩进 4 个空格\n  String say = "hello";\n  // 运算符的左右必须有一个空格\n  int flag = 0;\n  // 关键词 if 与括号之间必须有一个空格，括号内的 f 与左括号，0 与右括号不需要空格\n  if (flag == 0) {\n      System.out.println(say);\n  }\n\n  // 左大括号前加空格且不换行；左大括号后换行\n  if (flag == 1) {\n      System.out.println("world");\n      // 右大括号前换行，右大括号后有 else，不用换行\n  } else {\n      System.out.println("ok");\n      // 在右大括号后直接结束，则必须换行\n  }\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 6. 【强制】单行字符数限制不超过 120 个，超出需要换行，换行时遵循如下原则：\n    1） 第二行相对第一行缩进 4 个空格，从第三行开始，不再继续缩进，参考示例。\n    2） 运算符与下文一起换行。\n    3） 方法调用的点符号与下文一起换行。\n    4） 在多个参数超长，在逗号后换行。\n    5） 在括号前不要换行，见反例。\n    正例：\n\n StringBuffer sb = new StringBuffer();\n //超过 120 个字符的情况下，换行缩进 4 个空格，并且方法前的点符号一起换行\n sb.append("zi").append("xin")...\n .append("huang")...\n .append("huang")...\n .append("huang");\n\n\n1\n2\n3\n4\n5\n6\n\n\n反例：\n\n StringBuffer sb = new StringBuffer();\n //超过 120 个字符的情况下，不要在括号前换行\n sb.append("zi").append("xin")...append\n ("huang");\n //参数很多的方法调用可能超过 120 个字符，不要在逗号前换行\n method(args1, args2, args3, ...\n , argsX); \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n 7. 【强制】方法参数在定义和传入时，多个参数逗号后边必须加空格。\n    正例： 下例中实参的"a",后边必须要有一个空格。method("a", "b", "c");\n\n 8. 【强制】IDE 的 text file encoding 设置为 UTF-8; IDE 中文件的换行符使用 Unix 格式，不要使用 windows 格式。\n\n 9. 【推荐】没有必要增加若干空格来使某一行的字符与上一行对应位置的字符对齐。\n    正例：\n\n  int a = 3;\n  long b = 4L;\n  float c = 5F;\n  StringBuffer sb = new StringBuffer();\n\n\n1\n2\n3\n4\n\n\n说明： 增加 sb 这个变量，如果需要对齐，则给 a、b、c 都要增加几个空格，在变量比较多的情况下，是一种累赘的事情。\n\n 10. 【推荐】方法体内的执行语句组、变量的定义语句组、不同的业务逻辑之间或者不同的语义之间插入一个空行。相同业务逻辑和语义之间不需要插入空行。\n     说明： 没有必要插入多个空行进行隔开。\n\n\n# OOP 规约\n\n 1.  【强制】避免通过一个类的对象引用访问此类的静态变量或静态方法，无谓增加编译器解析成本，直接用类名来访问即可。\n\n 2.  【强制】所有的覆写方法，必须加@Override 注解。\n     说明： getObject() 与 get0bject() 的问题。一个是字母的 O，一个是数字的 0，加 @Override可以准确判断是否覆盖成功。另外，如果在抽象类中对方法签名进行修改，其实现类会马上编译报错。\n\n 3.  【强制】相同参数类型，相同业务含义，才可以使用 Java 的可变参数，避免使用 Object。\n     说明： 可变参数必须放置在参数列表的最后。（提倡同学们尽量不用可变参数编程）\n     正例： public User getUsers(String type, Integer... ids) {...}\n\n 4.  【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加 @Deprecated 注解，并清晰地说明采用的新接口或者新服务是什么。\n\n 5.  【强制】不能使用过时的类或方法。\n     说明： java.net.URLDecoder 中的方法 decode(String encodeStr) 这个方法已经过时，应该使用双参数 decode(String source, String encode)。接口提供方既然明确是过时接口，那么有义务同时提供新的接口；作为调用方来说，有义务去考证过时方法的新实现是什么。\n\n 6.  【强制】Object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用 equals。 正例： "test".equals(object); 反例： object.equals("test"); 说明： 推荐使用 java.util.Objects#equals （JDK7 引入的工具类）\n\n 7.  【强制】所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。 说明：对于 Integer var = ? 在-128 至 127 范围内的赋值，Integer 对象是在 IntegerCache.cache 产生，会复用已有对象，这个区间内的 Integer 值可以直接使用 == 进行判断，但是这个区间之外的所有数据，都会在堆上产生，并不会复用已有对象，这是一个大坑，推荐使用 equals 方法进行判断。\n\n 8.  关于基本数据类型与包装数据类型的使用标准如下：\n     1） 【强制】所有的 POJO 类属性必须使用包装数据类型。\n     2） 【强制】RPC 方法的返回值和参数必须使用包装数据类型。\n     3） 【推荐】所有的局部变量使用基本数据类型。\n     说明： POJO 类属性没有初值是提醒使用者在需要使用时，必须自己显式地进行赋值，任何 NPE 问题，或者入库检查，都由使用者来保证。\n     正例： 数据库的查询结果可能是 null，因为自动拆箱，用基本数据类型接收有 NPE 风险。\n     反例： 比如显示成交总额涨跌情况，即正负 x%，x 为基本数据类型，调用的 RPC 服务，调用不成功时，返回的是默认值，页面显示：0%，这是不合理的，应该显示成中划线-。所以包装数据类型的 null 值，能够表示额外的信息，如：远程调用失败，异常退出。\n\n 9.  【强制】定义 DO/DTO/VO 等 POJO 类时，不要设定任何属性默认值。\n     反例： POJO 类的 gmtCreate 默认值为 new Date();但是这个属性在数据提取时并没有置入具 体值，在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。\n\n 10. 【强制】序列化类新增属性时，请不要修改 serialVersionUID 字段，避免反序列失败；如 果完全不兼容升级，避免反序列化混乱，那么请修改 serialVersionUID 值。\n     说明： 注意 serialVersionUID 不一致会抛出序列化运行时异常。\n\n 11. 【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。\n\n 12. 【强制】POJO 类必须写 toString 方法。使用 IDE 的中工具：source> generate toString 时，如果继承了另一个 POJO 类，注意在前面加一下 super.toString。\n     说明： 在方法执行抛出异常时，可以直接调用 POJO 的 toString()方法打印其属性值，便于排查问题。\n\n 13. 【推荐】使用索引访问用 String 的 split 方法得到的数组时，需做最后一个分隔符后有无内容的检查，否则会有抛 IndexOutOfBoundsException 的风险。\n     说明：\n\nString str = "a,b,c,,";\nString[] ary = str.split(",");\n//预期大于 3，结果是 3\nSystem.out.println(ary.length);\n\n\n1\n2\n3\n4\n\n\n 14. 【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。\n\n 15. 【推荐】 类内方法定义顺序依次是：公有方法或保护方法 > 私有方法 > getter/setter 方法。\n     说明： 公有方法是类的调用者和维护者最关心的方法，首屏展示最好；保护方法虽然只是子类关心，也可能是“模板设计模式”下的核心方法；而私有方法外部一般不需要特别关心，是一个黑盒实现；因为方法信息价值较低，所有 Service 和 DAO 的 getter/setter 方法放在类体最后。\n\n 16. 【推荐】setter 方法中，参数名称与类成员变量名称一致，this.成员名 = 参数名。在 getter/setter 方法中，不要增加业务逻辑，增加排查问题的难度。\n     反例：\n\npublic Integer getData() {\n    if (true) {\n   \t return this.data + 100;\n    } else {\n    \treturn this.data - 100;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 17. 【推荐】循环体内，字符串的连接方式，使用 StringBuilder 的 append 方法进行扩展。\n     说明： 反编译出的字节码文件显示每次循环都会 new 出一个 StringBuilder 对象，然后进行 append 操作，最后通过 toString 方法返回 String 对象，造成内存资源浪费。\n     反例：\n\nString str = "start";\nfor (int i = 0; i < 100; i++) {\n   str = str + "hello";\n}\n\n\n1\n2\n3\n4\n\n\n 18. 【推荐】final 可以声明类、成员变量、方法、以及本地变量，下列情况使用 final 关键字：\n     1） 不允许被继承的类，如：String 类。\n     2） 不允许修改引用的域对象，如：POJO 类的域变量。\n     3） 不允许被重写的方法，如：POJO 类的 setter 方法。\n     4） 不允许运行过程中重新赋值的局部变量。\n     5） 避免上下文重复使用一个变量，使用 final 描述可以强制重新定义一个变量，方便更好地进行重构。\n\n 19. 【推荐】慎用 Object 的 clone 方法来拷贝对象。\n     说明： 对象的 clone 方法默认是浅拷贝，若想实现深拷贝需要重写 clone 方法实现属性对象的拷贝。\n\n 20. 【推荐】类成员与方法访问控制从严：\n     1） 如果不允许外部直接通过 new 来创建对象，那么构造方法必须是 private。\n     2） 工具类不允许有 public 或 default 构造方法。\n     3） 类非 static 成员变量并且与子类共享，必须是 protected。\n     4） 类非 static 成员变量并且仅在本类使用，必须是 private。\n     5） 类 static 成员变量如果仅在本类使用，必须是 private。\n     6） 若是 static 成员变量，必须考虑是否为 final。\n     7） 类成员方法只供类内部调用，必须是 private。\n     8） 类成员方法只对继承类公开，那么限制为 protected。\n     说明： 任何类、方法、参数、变量，严控访问范围。过于宽泛的访问范围，不利于模块解耦。 思考：如果是一个 private 的方法，想删除就删除，可是一个 public 的 service 方法，或者一个 public 的成员变量，删除一下，不得手心冒点汗吗？变量像自己的小孩，尽量在自己的视线内，变量作用域太大，如果无限制的到处跑，那么你会担心的。\n\n\n# 集合处理\n\n 1. 【强制】关于 hashCode 和 equals 的处理，遵循如下规则：\n    1） 只要重写 equals，就必须重写 hashCode。\n    2） 因为 Set 存储的是不重复的对象，依据 hashCode 和 equals 进行判断，所以 Set 存储的对象必须重写这两个方法。\n    3） 如果自定义对象做为 Map 的键，那么必须重写 hashCode 和 equals。\n    说明： String 重写了 hashCode 和 equals 方法，所以我们可以非常愉快地使用 String 对象作为 key 来使用。\n\n 2. 【强制】ArrayList 的 subList 结果不可强转成 ArrayList，否则会抛出 ClassCastException 异常：java.util.RandomAccessSubList cannot be cast to java.util.ArrayList ;\n    说明： subList 返回的是 ArrayList 的内部类 SubList，并不是 ArrayList ，而是 ArrayList 的一个视图，对于 SubList 子列表的所有操作最终会反映到原列表上。\n\n 3. 【强制】 在 subList 场景中，高度注意对原集合元素个数的修改，会导致子列表的遍历、增 加、删除均产生 ConcurrentModificationException 异常。\n\n 4. 【强制】使用集合转数组的方法，必须使用集合的 toArray(T[] array)，传入的是类型完全一样的数组，大小就是 list.size()。\n    说明： 使用 toArray 带参方法，入参分配的数组空间不够大时，toArray 方法内部将重新分配内存空间，并返回新数组地址；如果数组元素大于实际所需，下标为[ list.size() ]的数组元素将被置为 null，其它数组元素保持原值，因此最好将方法入参数组大小定义与集合元素个数一致。\n    正例：\n\n List<String> list = new ArrayList<String>(2);\n list.add("guan");\n list.add("bao");\n String[] array = new String[list.size()];\n array = list.toArray(array);\n\n\n1\n2\n3\n4\n5\n\n\n反例： 直接使用 toArray 无参方法存在问题，此方法返回值只能是 Object[]类，若强转其它类型数组将出现 ClassCastException 错误。\n\n 5. 【强制】使用工具类 Arrays.asList()把数组转换成集合时，不能使用其修改集合相关的方 法，它的 add/remove/clear 方法会抛出 UnsupportedOperationException 异常。\n    说明： asList 的返回对象是一个 Arrays 内部类，并没有实现集合的修改方法。Arrays.asList 体现的是适配器模式，只是转换接口，后台的数据仍是数组。\n\n  String[] str = new String[] { "a", "b" };\n  List list = Arrays.asList(str);\n\n\n1\n2\n\n\n第一种情况：list.add("c"); 运行时异常。\n第二种情况：str[0] = "gujin"; 那么 list.get(0)也会随之修改。\n\n 6. 【强制】泛型通配符 <? extends T> 来接收返回的数据，此写法的泛型集合不能使用 add 方法，而 <? super T> 不能使用 get 方法，做为接口调用赋值时易出错。\n    说明： 扩展说一下 PECS(Producer Extends Consumer Super) 原则：1）频繁往外读取内容 的，适合用上界 Extends。2）经常往里插入的，适合用下界 Super。\n\n 7. 【强制】不要在 foreach 循环里进行元素的 remove/add 操作。remove 元素请使用 Iterator 方式，如果并发操作，需要对 Iterator 对象加锁。\n    正例：\n\nIterator<String> it = a.iterator();\nwhile (it.hasNext()) {\n   String temp = it.next();\n   if (删除元素的条件) {\n       it.remove();\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n反例：\n\nList<String> a = new ArrayList<String>();\na.add("1");\na.add("2");\nfor (String temp : a) {\n   if ("1".equals(temp)) {\n       a.remove(temp);\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n说明： 以上代码的执行结果肯定会出乎大家的意料，那么试一下把“1”换成“2”，会是同样的结果吗？\n\n 8. 【强制】 在 JDK7 版本及以上，Comparator 要满足如下三个条件，不然 Arrays.sort，Collections.sort 会报 IllegalArgumentException 异常。\n    说明：\n    1） x，y 的比较结果和 y，x 的比较结果相反。\n    2） x>y，y>z，则 x>z。\n    3） x=y，则 x，z 比较结果和 y，z 比较结果相同。\n    反例： 下例中没有处理相等的情况，实际使用中可能会出现异常：\n\n new Comparator<Student>() {\n     @Override\n     public int compare(Student o1, Student o2) {\n         return o1.getId() > o2.getId() ? 1 : -1;\n     }\n };\n\n\n1\n2\n3\n4\n5\n6\n\n\n 9.  【推荐】集合初始化时，指定集合初始值大小。\n     说明： HashMap 使用 HashMap(int initialCapacity) 初始化， 正例： initialCapacity = (需要存储的元素个数 / 负载因子) + 1。注意负载因子（即 loaderfactor）默认为 0.75，如果暂时无法确定初始值大小，请设置为 16。\n     反例： HashMap 需要放置 1024 个元素，由于没有设置容量初始大小，随着元素不断增加，容量 7 次被迫扩大，resize 需要重建 hash 表，严重影响性能。\n\n 10. 【推荐】使用 entrySet 遍历 Map 类集合 KV，而不是 keySet 方式进行遍历。\n     说明： keySet 其实是遍历了 2 次，一次是转为 Iterator 对象，另一次是从 hashMap 中取出 key 所对应的 value。而 entrySet 只是遍历了一次就把 key 和 value 都放到了 entry 中，效率更高。如果是 JDK8，使用 Map.foreach 方法。\n     正例： values() 返回的是 V 值集合，是一个 list 集合对象；keySet() 返回的是 K 值集合，是一个 Set 集合对象；entrySet() 返回的是 K-V 值组合集合。\n\n 11. 【推荐】高度注意 Map 类集合 K/V 能不能存储 null 值的情况，如下表格：\n\n集合类                 KEY         VALUE       SUPER         说明\nHashTable           不允许为 null   不允许为 null   Dictionary    线程安全\nConcurrentHashMap   不允许为 null   不允许为 null   AbstractMap   分段锁技术\nTreeMap             不允许为 null   允许为 null    AbstractMap   线程不安全\nHashMap             允许为 null    允许为 null    AbstractMap   线程不安全\n\n反例： 由于 HashMap 的干扰，很多人认为 ConcurrentHashMap 是可以置入 null 值，而事实上，存储 null 值时会抛出 NPE 异常。\n\n 12. 【参考】合理利用好集合的有序性(sort)和稳定性(order)，避免集合的无序性(unsort)和不稳定性(unorder)带来的负面影响。\n     说明： 有序性是指遍历的结果是按某种比较规则依次排列的。稳定性指集合每次遍历的元素次 序是一定的。如： ArrayList 是 order/unsort；HashMap 是 unorder/unsort；TreeSet 是 order/sort。\n\n 13. 【参考】利用 Set 元素唯一的特性，可以快速对一个集合进行去重操作，避免使用 List 的 contains 方法进行遍历、对比、去重操作。\n\n\n# 并发处理\n\n 1. 【强制】获取单例对象需要保证线程安全，其中的方法也要保证线程安全。\n    说明： 资源驱动类、工具类、单例工厂类都需要注意。\n\n 2. 【强制】创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。\n    正例：\n\n public class TimerTaskThread extends Thread {\n     public TimerTaskThread() {\n         super.setName("TimerTaskThread"); ...\n     }\n }\n\n\n1\n2\n3\n4\n5\n\n\n 3. 【强制】线程资源必须通过线程池提供，不允许在应用中自行显式创建线程。\n    说明： 使用线程池的好处是减少在创建和销毁线程上所花的时间以及系统资源的开销，解决资 源不足的问题。如果不使用线程池，有可能造成系统创建大量同类线程而导致消耗完内存或者“过度切换”的问题。\n\n 4. 【强制】线程池不允许使用 Executors 去创建，而是通过 ThreadPoolExecutor 的方式，这样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。\n    说明： Executors 返回的线程池对象的弊端如下：\n    \n    1. FixedThreadPool 和 SingleThreadPool:\n       允许的请求队列长度为 Integer.MAX_VALUE，可能会堆积大量的请求，从而导致 OOM。\n    2. CachedThreadPool 和 ScheduledThreadPool:\n       允许的创建线程数量为 Integer.MAX_VALUE，可能会创建大量的线程，从而导致 OOM。\n\n 5. 【强制】SimpleDateFormat 是线程不安全的类，一般不要定义为 static 变量，如果定义为 static，必须加锁，或者使用 DateUtils 工具类。\n    正例： 注意线程安全，使用 DateUtils。亦推荐如下处理：\n\n  private static final ThreadLocal<DateFormat> df = new ThreadLocal<DateFormat>() {\n      @Override\n      protected DateFormat initialValue() {\n          return new SimpleDateFormat("yyyy-MM-dd");\n      }\n  };\n\n\n1\n2\n3\n4\n5\n6\n\n\n说明： 如果是 JDK8 的应用，可以使用 Instant 代替 Date，LocalDateTime 代替 Calendar，DateTimeFormatter 代替 Simpledateformatter，官方给出的解释：simple beautiful strong immutable thread-safe。\n\n 6.  【强制】高并发时，同步调用应该去考量锁的性能损耗。能用无锁数据结构，就不要用锁；能锁区块，就不要锁整个方法体；能用对象锁，就不要用类锁。\n     说明： 尽可能使加锁的代码块工作量尽可能的小，避免在锁代码块中调用 RPC 方法。\n\n 7.  【强制】对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。\n     说明： 线程一需要对表 A、B、C 依次全部加锁后才可以进行更新操作，那么线程二的加锁顺序也必须是 A、B、C，否则可能出现死锁。\n\n 8.  【强制】并发修改同一记录时，避免更新丢失，需要加锁。要么在应用层加锁，要么在缓存加锁，要么在数据库层使用乐观锁，使用 version 作为更新依据。\n     说明： 如果每次访问冲突概率小于 20%，推荐使用乐观锁，否则使用悲观锁。乐观锁的重试次数不得小于 3 次。\n\n 9.  【强制】多线程并行处理定时任务时，Timer 运行多个 TimeTask 时，只要其中之一没有捕获抛出的异常，其它任务便会自动终止运行，使用 ScheduledExecutorService 则没有这个问题。\n\n 10. 【推荐】使用 CountDownLatch 进行异步转同步操作，每个线程退出前必须调用 countDown 方法，线程执行代码注意 catch 异常，确保 countDown 方法可以执行，避免主线程无法执行至 await 方法，直到超时才返回结果。\n     说明： 注意，子线程抛出异常堆栈，不能在主线程 try-catch 到。\n\n 11. 【推荐】避免 Random 实例被多线程使用，虽然共享该实例是线程安全的，但会因竞争同一 seed 导致的性能下降。\n     说明： Random 实例包括 java.util.Random 的实例或者 Math.random() 的方式。\n     正例： 在 JDK7 之后，可以直接使用 API ThreadLocalRandom，而在 JDK7 之前，需要编码保证每个线程持有一个实例。\n\n 12. 【推荐】在并发场景下，通过双重检查锁（double-checked locking）实现延迟初始化的优化问题隐患(可参考 The "Double-Checked Locking is Broken" Declaration)，推荐问题解决方案中较为简单一种（适用于 JDK5 及以上版本），将目标属性声明为 volatile 型。\n     反例：\n\nclass Foo {\n    private Helper helper = null;\n    public Helper getHelper() {\n        if (helper == null) synchronized(this) {\n            if (helper == null)\n                helper = new Helper();\n        }\n        return helper;\n    }\n    // other functions and members...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n 13. 【参考】volatile 解决多线程内存不可见问题。对于一写多读，是可以解决变量同步问题，但是如果多写，同样无法解决线程安全问题。如果是 count++操作，使用如下类实现： AtomicInteger count = new AtomicInteger(); count.addAndGet(1); 如果是 JDK8，推荐使用 LongAdder 对象，比 AtomicLong 性能更好（减少乐观锁的重试次数）。\n\n 14. 【参考】 在容量不够进行 resize 时由于高并发可能出现死链，导致 CPU 飙升，在开发过程中可以使用其它数据结构或加锁来规避此风险。\n\n 15. 【参考】ThreadLocal 无法解决共享对象的更新问题，ThreadLocal 对象建议使用 static 修饰。这个变量是针对一个线程内所有操作共有的，所以设置为静态变量，所有此类实例共享此静态变量，也就是说在类第一次被使用时装载，只分配一块存储空间，所有此类的对象(只要是这个线程内定义的)都可以操控这个变量。\n\n\n# 控制语句\n\n 1. 【强制】在一个 switch 块内，每个 case 要么通过 break/return 等来终止，要么注释说明程序将继续执行到哪一个 case 为止；在一个 switch 块内，都必须包含一个 default 语句并且放在最后，即使它什么代码也没有。\n\n 2. 【强制】在 if/else/for/while/do 语句中必须使用大括号。即使只有一行代码，避免使用单行的形式：if (condition) statements;\n\n 3. 【推荐】表达异常的分支时，少用 if-else 方式，这种方式可以改写成：\n\n    if (condition) {\n     ...\n     return obj;\n    }\n    // 接着写 else 的业务逻辑代码;\n\n\n1\n2\n3\n4\n5\n\n\n说明： 如果非得使用 if()...else if()...else...方式表达逻辑，【强制】避免后续代码维护困难，请勿超过 3 层。\n\n正例： 逻辑上超过 3 层的 if-else 代码可以使用卫语句，或者状态模式来实现。卫语句示例如下：\n\n    public void today() {\n        if (isBusy()) {\n            System.out.println(“change time.”);\n            return;\n        }\n        if (isFree()) {\n            System.out.println(“go to travel.”);\n            return;\n        }\n        System.out.println(“stay at home to learn Alibaba Java Coding Guideline.”);\n        return;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. 【推荐】除常用方法（如 getXxx/isXxx）等外，不要在条件判断中执行其它复杂的语句，将复杂逻辑判断的结果赋值给一个有意义的布尔变量名，以提高可读性。\n    说明： 很多 if 语句内的逻辑相当复杂，阅读者需要分析条件表达式的最终结果，才能明确什么样的条件执行什么样的语句，那么，如果阅读者分析逻辑表达式错误呢？\n    正例：\n\n //伪代码如下\n final boolean existed = (file.open(fileName, "w") != null) && (...) || (...);\n if (existed) {\n  ...\n }\n\n\n1\n2\n3\n4\n5\n\n\n反例：\n\n if ((file.open(fileName, "w") != null) && (...) || (...)) {\n  ...\n }\n\n\n1\n2\n3\n\n\n 5. 【推荐】循环体中的语句要考量性能，以下操作尽量移至循环体外处理，如定义对象、变量、获取数据库连接，进行不必要的 try-catch 操作（这个 try-catch 是否可以移至循环体外）。\n\n 6. 【推荐】接口入参保护，这种场景常见的是用于做批量操作的接口。\n\n 7. 【参考】下列情形，需要进行参数校验：\n    1） 调用频次低的方法。\n    2） 执行时间开销很大的方法。此情形中，参数校验时间几乎可以忽略不计，但如果因为参 数错误导致中间执行回退，或者错误，那得不偿失。\n    3） 需要极高稳定性和可用性的方法。\n    4） 对外提供的开放接口，不管是 RPC/API/HTTP 接口。\n    5） 敏感权限入口。\n\n 8. 【参考】下列情形，不需要进行参数校验：\n    1） 极有可能被循环调用的方法。但在方法说明里必须注明外部参数检查要求。\n    2） 底层调用频度比较高的方法。毕竟是像纯净水过滤的最后一道，参数错误不太可能到底 层才会暴露问题。一般 DAO 层与 Service 层都在同一个应用中，部署在同一台服务器中，所以 DAO 的参数校验，可以省略。\n    3） 被声明成 private 只会被自己代码所调用的方法，如果能够确定调用方法的代码传入参数已经做过检查或者肯定不会有问题，此时可以不校验参数。\n\n\n# 注释规约\n\n 1.  【强制】类、类属性、类方法的注释必须使用 Javadoc 规范，使用/**内容*/格式，不得使用 //xxx 方式。\n     说明： 在 IDE 编辑窗口中，Javadoc 方式会提示相关注释，生成 Javadoc 可以正确输出相应注释；在 IDE 中，工程调用方法时，不进入方法即可悬浮提示方法、参数、返回值的意义，提高 阅读效率。\n\n 2.  【强制】所有的抽象方法（包括接口中的方法）必须要用 Javadoc 注释、除了返回值、参数、异常说明外，还必须指出该方法做什么事情，实现什么功能。\n     说明： 对子类的实现要求，或者调用注意事项，请一并说明。\n\n 3.  【强制】所有的类都必须添加创建者和创建日期。\n\n 4.  【强制】方法内部单行注释，在被注释语句上方另起一行，使用 //注释。方法内部多行注释使用/* */注释，注意与代码对齐。\n\n 5.  【强制】所有的枚举类型字段必须要有注释，说明每个数据项的用途。\n\n 6.  【推荐】与其“半吊子”英文来注释，不如用中文注释把问题说清楚。专有名词与关键字保持英文原文即可。\n     反例： “TCP 连接超时”解释成“传输控制协议连接超时”，理解反而费脑筋。\n\n 7.  【推荐】代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻辑等的修改。\n     说明： 代码与注释更新不同步，就像路网与导航软件更新不同步一样，如果导航软件严重滞后， 就失去了导航的意义。\n\n 8.  【参考】合理处理注释掉的代码。在上方详细说明，而不是简单的注释掉。如果无用，则删除。\n     说明： 代码被注释掉有两种可能性：1）后续会恢复此段代码逻辑。2）永久不用。前者如果没 有备注信息，难以知晓注释动机。后者建议直接删掉（代码仓库保存了历史代码）。\n\n 9.  【参考】对于注释的要求：第一、能够准确反应设计思想和代码逻辑；第二、能够描述业务含义，使别的程序员能够迅速了解到代码背后的信息。完全没有注释的大段代码对于阅读者形同天书，注释是给自己看的，即使隔很长时间，也能清晰理解当时的思路；注释也是给继任者看的，使其能够快速接替自己的工作。\n\n 10. 【参考】好的命名、代码结构是自解释的，注释力求精简准确、表达到位。避免出现注释的一个极端：过多过滥的注释，代码的逻辑一旦修改，修改注释是相当大的负担。\n     反例：\n\n// put elephant into fridge\nput(elephant, fridge);\n\n\n1\n2\n\n\n方法名 put，加上两个有意义的变量名 elephant 和 fridge，已经说明了这是在干什么，语义清晰的代码不需要额外的注释。\n\n 11. 【参考】特殊注释标记，请注明标记人与标记时间。注意及时处理这些标记，通过标记扫描，经常清理此类标记。线上故障有时候就是来源于这些标记处的代码。\n     1） 待办事宜（TODO）:（ 标记人，标记时间，[预计处理时间]）表示需要实现，但目前还未实现的功能。这实际上是一个 Javadoc 的标签，目前的 Javadoc 还没有实现，但已经被广泛使用。只能应用于类，接口和方法（因为它是一个 Javadoc 标签）。\n     2） 错误，不能工作（FIXME）:（标记人，标记时间，[预计处理时间]）在注释中用 FIXME 标记某代码是错误的，而且不能工作，需要及时纠正的情况。\n\n\n# 其他\n\n 1. 【强制】在使用正则表达式时，利用好其预编译功能，可以有效加快正则匹配速度。 说明：不要在方法体内定义：Pattern pattern = Pattern.compile(规则);\n\n 2. 【强制】velocity 调用 POJO 类的属性时，建议直接使用属性名取值即可，模板引擎会自动按规范调用 POJO 的 getXxx()，如果是 boolean 基本数据类型变量（boolean 命名不需要加 is前缀），会自动调用 isXxx()方法。\n    说明： 注意如果是 Boolean 包装类对象，优先调用 getXxx()的方法。\n\n 3. 【强制】后台输送给页面的变量必须加$!{var}——中间的感叹号。\n    说明： 如果 var=null 或者不存在，那么${var}会直接显示在页面上。\n\n 4. 【强制】注意 Math.random() 这个方法返回是 double 类型，注意取值的范围 0≤x<1（能够取到零值，注意除零异常），如果想获取整数类型的随机数，不要将 x 放大 10 的若干倍然后取整，直接使用 Random 对象的 nextInt 或者 nextLong 方法。\n\n 5. 【强制】获取当前毫秒数 System.currentTimeMillis(); 而不是 new Date().getTime();\n    说明： 如果想获取更加精确的纳秒级时间值，使用 System.nanoTime()的方式。在 JDK8 中，针对统计时间等场景，推荐使用 Instant 类。\n\n 6. 【推荐】不要在视图模板中加入任何复杂的逻辑。 说明： 根据 MVC 理论，视图的职责是展示，不要抢模型和控制器的活。\n\n 7. 【推荐】任何数据结构的构造或初始化，都应指定大小，避免数据结构无限增长吃光内存。\n\n 8. 【推荐】对于“明确停止使用的代码和配置”，如方法、变量、类、配置文件、动态配置属性等要坚决从程序中清理出去，避免造成过多垃圾。\n\n\n# 异常日志\n\n\n# 异常处理\n\n 1.  【强制】Java 类库中定义的一类 RuntimeException 可以通过预先检查进行规避，而不应该通过 catch 来处理，比如： IndexOutOfBoundsException ， NullPointerException 等等。\n     说明： 无法通过预检查的异常除外，如在解析一个外部传来的字符串形式数字时，通过 catch NumberFormatException 来实现。\n     正例： if (obj != null) {...}\n     反例： try { obj.method() } catch (NullPointerException e) {...}\n\n 2.  【强制】异常不要用来做流程控制，条件控制，因为异常的处理效率比条件分支低。\n\n 3.  【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。\n\n 4.  【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。\n\n 5.  【强制】有 try 块放到了事务代码中，catch 异常后，如果需要回滚事务，一定要注意手动回滚事务。\n\n 6.  【强制】finally 块必须对资源对象、流对象进行关闭，有异常也要做 try-catch。\n     说明： 如果 JDK7 及以上，可以使用 try-with-resources 方式。\n\n 7.  【强制】不能在 finally 块中使用 return，finally 块中的 return 返回后方法结束执行，不会再执行 try 块中的 return 语句。\n\n 8.  【强制】捕获异常与抛异常，必须是完全匹配，或者捕获异常是抛异常的父类。\n     说明： 如果预期对方抛的是绣球，实际接到的是铅球，就会产生意外情况。\n\n 9.  【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 NPE 问题。\n     说明： 本手册明确防止 NPE 是调用者的责任。即使被调用方法返回空集合或者空对象，对调用者来说，也并非高枕无忧，必须考虑到远程调用失败、序列化失败、运行时异常等场景返回 null 的情况。\n\n 10. 【推荐】防止 NPE，是程序员的基本修养，注意 NPE 产生的场景：\n     1）返回类型为基本数据类型，return 包装数据类型的对象时，自动拆箱有可能产生 NPE。\n     反例： public int f() { return Integer 对象}， 如果为 null，自动解箱抛 NPE。\n     2） 数据库的查询结果可能为 null。\n     3） 集合里的元素即使 isNotEmpty，取出的数据元素也可能为 null。\n     4） 远程调用返回对象时，一律要求进行空指针判断，防止 NPE。\n     5） 对于 Session 中获取的数据，建议 NPE 检查，避免空指针。\n     6） 级联调用 obj.getA().getB().getC()；一连串调用，易产生 NPE。\n     正例： 使用 JDK8 的 Optional 类来防止 NPE 问题。\n\n 11. 【推荐】定义时区分 unchecked / checked 异常，避免直接抛出 new RuntimeException()，更不允许抛出 Exception 或者 Throwable，应使用有业务含义的自定义异常。推荐业界已定义过的自定义异常，如：DAOException / ServiceException 等。\n\n 12. 【参考】在代码中使用“抛异常”还是“返回错误码”，对于公司外的 http/api 开放接口必须使用“错误码”；而应用内部推荐异常抛出；跨应用间 RPC 调用优先考虑使用 Result 方式，封装 isSuccess()方法、“错误码”、“错误简短信息”。\n     说明： 关于 RPC 方法返回方式使用 Result 方式的理由：\n     1）使用抛异常返回方式，调用方如果没有捕获到就会产生运行时错误。\n     2）如果不加栈信息，只是 new 自定义异常，加入自己的理解的 error message，对于调用端解决问题的帮助不会太多。如果加了栈信息，在频繁调用出错的情况下，数据序列化和传输的性能损耗也是问题。\n\n 13. 【参考】避免出现重复的代码（Don’t Repeat Yourself），即 DRY 原则。\n     说明： 随意复制和粘贴代码，必然会导致代码的重复，在以后需要修改时，需要修改所有的副本，容易遗漏。必要时抽取共性方法，或者抽象公共类，甚至是共用模块。\n     正例： 一个类中有多个 public 方法，都需要进行数行相同的参数校验操作，这个时候请抽取： private boolean checkParam(DTO dto) {...}\n\n\n# 日志规约\n\n 1. 【强制】应用中不可直接使用日志系统（Log4j、Logback）中的 API，而应依赖使用日志框架 SLF4J 中的 API，使用门面模式的日志框架，有利于维护和各个类的日志处理方式统一。\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nprivate static final Logger logger = LoggerFactory.getLogger(Abc.class);\n\n\n1\n2\n3\n\n\n 2. 【强制】日志文件推荐至少保存 15 天，因为有些异常具备以“周”为频次发生的特点。\n\n 3. 【强制】应用中的扩展日志（如打点、临时监控、访问日志等）命名方式：appName_logType_logName.log。logType:日志类型，推荐分类有 stats/desc/monitor/visit 等；logName:日志描述。这种命名的好处：通过文件名就可知道日志文件属于什么应用，什么类型，什么目的，也有利于归类查找。\n    正例： mppserver 应用中单独监控时区转换异常，如： mppserver_monitor_timeZoneConvert.log\n    说明： 推荐对日志进行分类，如将错误日志和业务日志分开存放，便于开发人员查看，也便于 通过日志对系统进行及时监控。\n\n 4. 【强制】对 trace/debug/info 级别的日志输出，必须使用条件输出形式或者使用占位符的方 式。\n    说明： logger.debug("Processing trade with id: " + id + " symbol: " + symbol);如果日志级别是 warn，上述日志不会打印，但是会执行字符串拼接操作，如果 symbol 是对象，会执行 toString() 方法，浪费了系统资源，执行了上述操作，最终日志却没有打印。\n    正例： （条件）\n\nif (logger.isDebugEnabled()) {\n    logger.debug("Processing trade with id: " + id + " symbol: " + symbol);\n}\n\n\n1\n2\n3\n\n\n正例： （占位符）\n\nlogger.debug("Processing trade with id: {} symbol : {} ", id, symbol);\n\n\n1\n\n\n 5. 【强制】避免重复打印日志，浪费磁盘空间，务必在 log4j.xml 中设置 additivity=false。\n    正例： <logger name="com.taobao.dubbo.config" additivity="false">\n\n 6. 【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字 throws 往上抛出。\n    正例： logger.error(各类参数或者对象 toString + "_" + e.getMessage(), e);\n\n 7. 【推荐】谨慎地记录日志。生产环境禁止输出 debug 日志；有选择地输出 info 日志；如果使用 warn 来记录刚上线时的业务行为信息，一定要注意日志输出量的问题，避免把服务器磁盘 撑爆，并记得及时删除这些观察日志。\n    说明： 大量地输出无效日志，不利于系统性能提升，也不利于快速定位错误点。记录日志时请思考：这些日志真的有人看吗？看到这条日志你能做什么？能不能给问题排查带来好处？\n\n 8. 【参考】可以使用 warn 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error 级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出 error 级别。\n\n\n# MYSQL 数据库\n\n\n# 建表规约\n\n 1.  【强制】表达是与否概念的字段，必须使用 is_xxx 的方式命名，数据类型是 unsigned tinyint（ 1 表示是，0 表示否）。\n     说明： 任何字段如果为非负数，必须是 unsigned。\n     正例： 表达逻辑删除的字段名 is_deleted，1 表示删除，0 表示未删除。\n\n 2.  【强制】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。\n     正例： getter_admin，task_config，level3_name\n     反例： GetterAdmin，taskConfig，level_3_name\n\n 3.  【强制】表名不使用复数名词。\n     说明： 表名应该仅仅表示表里面的实体内容，不应该表示实体数量，对应于 DO 类名也是单数形式，符合表达习惯。\n\n 4.  【强制】禁用保留字，如 desc、range、match、delayed 等，请参考 MySQL 官方保留字。\n\n 5.  【强制】主键索引名为 pk_字段名；唯一索引名为 uk_字段名；普通索引名则为 idx_字段名。\n     说明： pk_ 即 primary key；uk_ 即 unique key；idx_ 即 index 的简称。\n\n 6.  【强制】小数类型为 decimal，禁止使用 float 和 double。\n     说明： float 和 double 在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不正确的结果。如果存储的数据范围超过 decimal 的范围，建议将数据拆成整数和小数分开存储。\n\n 7.  【强制】如果存储的字符串长度几乎相等，使用 char 定长字符串类型。\n\n 8.  【强制】varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，如果存储长度大于此值，定义字段类型为 text，独立出来一张表，用主键来对应，避免影响其它字段索引效率。\n\n 9.  【强制】表必备三字段：id, gmt_create, gmt_modified。 说明： 其中 id 必为主键，类型为 unsigned bigint、单表时自增、步长为 1。gmt_create, gmt_modified 的类型均为 date_time 类型。\n\n 10. 【推荐】表的命名最好是加上“业务名称_表的作用”。\n     正例： tiger_task / tiger_reader / mpp_config\n\n 11. 【推荐】库名与应用名称尽量一致。\n\n 12. 【推荐】如果修改字段含义或对字段表示的状态追加时，需要及时更新字段注释。\n\n 13. 【推荐】字段允许适当冗余，以提高查询性能，但必须考虑数据一致。冗余字段应遵循：\n     1）不是频繁修改的字段。\n     2）不是 varchar 超长字段，更不能是 text 字段。\n     正例： 商品类目名称使用频率高，字段长度短，名称基本一成不变，可在相关联的表中冗余存 储类目名称，避免关联查询。\n\n 14. 【推荐】单表行数超过 500 万行或者单表容量超过 2GB，才推荐进行分库分表。\n     说明： 如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。\n\n 15. 【参考】合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。\n     正例： 如下表，其中无符号值可以避免误存负数，且扩大了表示范围。\n\n对象     年龄区间      类型                  表示范围\n人      150 岁之内   unsigned tinyint    无符号值：0 到 255\n龟      数百岁       unsigned smallint   无符号值：0 到 65535\n恐龙化石   数千万年      unsigned int        无符号值：0 到约 42.9 亿\n太阳     约 50 亿年   unsigned bigint     无符号值：0 到约 10 的 19 次方\n\n\n# 索引规约\n\n 1.  【强制】业务上具有唯一特性的字段，即使是多个字段的组合，也必须建成唯一索引。 说明：不要以为唯一索引影响了 insert 速度，这个速度损耗可以忽略，但提高查找速度是明显的；另外，即使在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必然有脏数据产生。\n\n 2.  【强制】 超过三个表禁止 join。需要 join 的字段，数据类型必须绝对一致；多表关联查询时，保证被关联的字段需要有索引。\n     说明： 即使双表 join 也要注意表索引、SQL 性能。\n\n 3.  【强制】在 varchar 字段上建立索引时，必须指定索引长度，没必要对全字段建立索引，根据实际文本区分度决定索引长度即可。\n     说明： 索引的长度与区分度是一对矛盾体，一般对字符串类型数据，长度为 20 的索引，区分度会高达 90%以上，可以使用 count(distinct left(列名, 索引长度))/count(*)的区分度来确定。\n\n 4.  【强制】页面搜索严禁左模糊或者全模糊，如果需要请走搜索引擎来解决。\n     说明： 索引文件具有 B-Tree 的最左前缀匹配特性，如果左边的值未确定，那么无法使用此索引。\n\n 5.  【推荐】如果有 order by 的场景，请注意利用索引的有序性。order by 最后的字段是组合索引的一部分，并且放在索引组合顺序的最后，避免出现 file_sort 的情况，影响查询性能。\n     正例： where a=? and b=? order by c; 索引：a_b_c\n     反例： 索引中有范围查找，那么索引有序性无法利用，如：WHERE a>10 ORDER BY b; 索引 a_b 无法排序。\n\n 6.  【推荐】利用覆盖索引来进行查询操作，避免回表。\n     说明： 如果一本书需要知道第 11 章是什么标题，会翻开第 11 章对应的那一页吗？目录浏览一下就好，这个目录就是起到覆盖索引的作用。\n     正例： 能够建立索引的种类：主键索引、唯一索引、普通索引，而覆盖索引是一种查询的一种 效果，用 explain 的结果，extra 列会出现：using index。\n\n 7.  【推荐】利用延迟关联或者子查询优化超多分页场景。\n     说明： MySQL 并不是跳过 offset 行，而是取 offset+N 行，然后返回放弃前 offset 行，返回 N 行，那当 offset 特别大的时候，效率就非常的低下，要么控制返回的总页数，要么对超过特定阈值的页数进行 SQL 改写。\n     正例： 先快速定位需要获取的 id 段，然后再关联： SELECT a.* FROM 表 1 a, (select id from 表 1 where 条件 LIMIT 100000,20 ) b where a.id=b.id\n\n 8.  【推荐】SQL 性能优化的目标：至少要达到 range 级别，要求是 ref 级别，如果可以是 consts 最好。\n     说明：\n     1） consts 单表中最多只有一个匹配行（主键或者唯一索引），在优化阶段即可读取到数据。\n     2） ref 指的是使用普通的索引（normal index）。\n     3） range 对索引进行范围检索。\n     反例： explain 表的结果，type=index，索引物理文件全扫描，速度非常慢，这个 index 级别比较 range 还低，与全表扫描是小巫见大巫。\n\n 9.  【推荐】建组合索引的时候，区分度最高的在最左边。\n     正例： 如果 where a=? and b=? ，a 列的几乎接近于唯一值，那么只需要单建 idx_a 索引即可。\n     说明： 存在非等号和等号混合判断条件时，在建索引时，请把等号条件的列前置。如：where a>? and b=? 那么即使 a 的区分度更高，也必须把 b 放在索引的最前列。\n\n 10. 【推荐】防止因字段类型不同造成的隐式转换，导致索引失效。\n\n 11. 【参考】创建索引时避免有如下极端误解：\n     1）宁滥勿缺。误认为一个查询就需要建一个索引。\n     2）宁缺勿滥。误认为索引会消耗空间、严重拖慢更新和新增速度。\n     3）抵制惟一索引。误认为业务的惟一性一律需要在应用层通过“先查后插”方式解决。\n\n\n# SQL 语句\n\n 1.  【强制】不要使用 count(列名)或 count(常量)来替代 count()，count()是 SQL92 定义的标准统计行数的语法，跟数据库无关，跟 NULL 和非 NULL 无关。\n     说明： count(*)会统计值为 NULL 的行，而 count(列名)不会统计此列为 NULL 值的行。\n\n 2.  【强制】count(distinct col) 计算该列除 NULL 之外的不重复行数，注意 count(distinct col1, col2) 如果其中一列全为 NULL，那么即使另一列有不同的值，也返回为 0。\n\n 3.  【强制】当某一列的值全是 NULL 时，count(col)的返回结果为 0，但 sum(col)的返回结果为 NULL，因此使用 sum()时需注意 NPE 问题。\n     正例： 可以使用如下方式来避免 sum 的 NPE 问题：SELECT IF(ISNULL(SUM(g)),0,SUM(g)) FROM table;\n\n 4.  【强制】使用 ISNULL()来判断是否为 NULL 值。注意：NULL 与任何值的直接比较都为 NULL。\n     说明：\n     1） NULL<>NULL 的返回结果是 NULL，而不是 false。\n     2） NULL=NULL 的返回结果是 NULL，而不是 true。\n     3） NULL<>1 的返回结果是 NULL，而不是 true。\n\n 5.  【强制】在代码中写分页查询逻辑时，若 count 为 0 应直接返回，避免执行后面的分页语句。\n\n 6.  【强制】不得使用外键与级联，一切外键概念必须在应用层解决。\n     说明： （概念解释）学生表中的 student_id 是主键，那么成绩表中的 student_id 则为外键。如果更新学生表中的 student_id，同时触发成绩表中的 student_id 更新，则为级联更新。外键与级联更新适用于单机低并发，不适合分布式、高并发集群；级联更新是强阻塞，存在数据库更新风暴的风险；外键影响数据库的插入速度。\n\n 7.  【强制】禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。\n\n 8.  【强制】数据订正时，删除和修改记录时，要先 select，避免出现误删除，确认无误才能执行更新语句。\n\n 9.  【推荐】in 操作能避免则避免，若实在避免不了，需要仔细评估 in 后边的集合元素数量，控制在 1000 个之内。\n\n 10. 【参考】如果有全球化需要，所有的字符存储与表示，均以 utf-8 编码，注意字符统计函数的区别。\n     说明： SELECT LENGTH("轻松工作")； 返回为 12\n     SELECT CHARACTER_LENGTH("轻松工作")； 返回为 4\n     如果要使用表情，那么使用 utfmb4 来进行存储，注意它与 utf-8 编码的区别。\n\n 11. 【参考】TRUNCATE TABLE 比 DELETE 速度快，且使用的系统和事务日志资源少，但 TRUNCATE 无事务且不触发 trigger，有可能造成事故，故不建议在开发代码中使用此语句。\n     说明： TRUNCATE TABLE 在功能上与不带 WHERE 子句的 DELETE 语句相同。\n\n\n# ORM 映射\n\n 1. 【强制】在表查询中，一律不要使用 * 作为查询的字段列表，需要哪些字段必须明确写明。\n    说明： 1）增加查询分析器解析成本。2）增减字段容易与 resultMap 配置不一致。\n\n 2. 【强制】POJO 类的布尔属性不能加 is，而数据库字段必须加 is_，要求在 resultMap 中进行字段与属性之间的映射。\n    说明： 参见定义 POJO 类以及数据库字段定义规定，在<resultMap>中增加映射，是必须的。在 MyBatis Generator 生成的代码中，需要进行对应的修改。\n\n 3. 【强制】不要用 resultClass 当返回参数，即使所有类属性名与数据库字段一一对应，也需要定义；反过来，每一个表也必然有一个与之对应。\n    说明： 配置映射关系，使字段与 DO 类解耦，方便维护。\n\n 4. 【强制】sql.xml 配置参数使用：#{}，#param# 不要使用${} 此种方式容易出现 SQL 注入。\n\n 5. 【强制】iBATIS 自带的 queryForList(String statementName,int start,int size)不推荐使用。\n    说明： 其实现方式是在数据库取到statementName对应的SQL语句的所有记录，再通过subList 取 start,size 的子集合。\n    正例：\n\n Map<String, Object> map = new HashMap<String, Object>();\n map.put("start", start);\n map.put("size", size);\n\n\n1\n2\n3\n\n\n 6.  【强制】不允许直接拿 HashMap 与 Hashtable 作为查询结果集的输出。\n     说明： resultClass=”Hashtable”，会置入字段名和属性值，但是值的类型不可控。\n\n 7.  【强制】更新数据表记录时，必须同时更新记录对应的 gmt_modified 字段值为当前时间。\n\n 8.  【推荐】不要写一个大而全的数据更新接口，传入为 POJO 类，不管是不是自己的目标更新字段，都进行 update table set c1=value1,c2=value2,c3=value3; 这是不对的。执行 SQL 时，不要更新无改动的字段，一是易出错；二是效率低；三是增加 binlog 存储。\n\n 9.  【参考】@Transactional 事务不要滥用。事务会影响数据库的 QPS，另外使用事务的地方需要考虑各方面的回滚方案，包括缓存回滚、搜索引擎回滚、消息补偿、统计修正等。\n\n 10. 【参考】<isEqual>中的 compareValue 是与属性值对比的常量，一般是数字，表示相等时带上此条件；<isNotEmpty>表示不为空且不为 null 时执行；<isNotNull>表示不为 null 值时执行。\n\n\n# 工程结构\n\n\n# 应用分层\n\n 1. 【推荐】图中默认上层依赖于下层，箭头关系表示可直接依赖，如：开放接口层可以依赖于 Web 层，也可以直接依赖于 Service 层，依此类推：\n    \n    \n    \n    * 开放接口层： 可直接封装 Service 方法暴露成 RPC 接口；通过 Web 封装成 http 接口；进行网关安全控制、流量控制等。\n    * 终端显示层： 各个端的模板渲染并执行显示的层。当前主要是 velocity 渲染，JS 渲染，JSP 渲染，移动端展示等。\n    * Web 层： 主要是对访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。\n    * Service 层： 相对具体的业务逻辑服务层。\n    * Manager 层： 通用业务处理层，它有如下特征：\n      1. 对第三方平台封装的层，预处理返回结果及转化异常信息；\n      2. 对 Service 层通用能力的下沉，如缓存方案、中间件通用处理；\n      3. 与 DAO 层交互，对多个 DAO 的组合复用。\n    * DAO 层： 数据访问层，与底层 MySQL、Oracle、Hbase 进行数据交互。\n    * 外部接口或第三方平台： 包括其它部门 RPC 开放接口，基础平台，其它公司的 HTTP 接口。\n\n 2. 【参考】 （分层异常处理规约）在 DAO 层，产生的异常类型有很多，无法用细粒度的异常进行 catch，使用 catch(Exception e)方式，并 throw new DAOException(e)，不需要打印 日志，因为日志在 Manager/Service 层一定需要捕获并打到日志文件中去，如果同台服务器再打日志，浪费性能和存储。在 Service 层出现异常时，必须记录出错日志到磁盘，尽可能带上参数信息，相当于保护案发现场。如果 Manager 层与 Service 同机部署，日志方式与 DAO 层处理一致，如果是单独部署，则采用与 Service 一致的处理方式。Web 层绝不应该继续往上抛异常，因为已经处于顶层，无继续处理异常的方式，如果意识到这个异常将导致页面无法正常渲染，那么就应该直接跳转到友好错误页面，加上友好的错误提示信息。开放接口层要将异常处理成错误码和错误信息方式返回。\n\n 3. 【参考】分层领域模型规约：\n    \n    * DO（Data Object）： 与数据库表结构一一对应，通过 DAO 层向上传输数据源对象。\n    * DTO（Data Transfer Object）： 数据传输对象，Service 和 Manager 向外传输的对象。\n    * BO（Business Object）： 业务对象。可以由 Service 层输出的封装业务逻辑的对象。\n    * Query： 数据查询对象，各层接收上层的查询请求。注：超过 2 个参数的查询封装，禁止使用 Map 类来传输。\n    * VO（View Object）： 显示层对象，通常是 Web 向模板渲染引擎层传输的对象。\n\n\n# 二方库依赖\n\n 1.  【强制】定义 GAV 遵从以下规则：\n     1） GroupID 格式：com.{公司/BU }.业务线.[子业务线]，最多 4 级。\n     说明： {公司/BU} 例如：alibaba/taobao/tmall/aliexpress 等 BU 一级；子业务线可选。\n     正例： com.taobao.jstorm 或 com.alibaba.dubbo.register\n     2） ArtifactID 格式：产品线名-模块名。语义不重复不遗漏，先到中央仓库去查证一下。\n     正例： dubbo-client / fastjson-api / jstorm-tool\n     3） Version：详细规定参考下方。\n\n 2.  【强制】二方库版本号命名方式：主版本号.次版本号.修订号\n     1） 主版本号：当做了不兼容的 API 修改，或者增加了能改变产品方向的新功能。\n     2） 次版本号：当做了向下兼容的功能性新增（新增类、接口等）。\n     3） 修订号：修复 bug，没有修改方法签名的功能加强，保持 API 兼容性。\n     说明： 注意：起始版本号必须为：1.0.0，而不是 0.0.1 正式发布的类库必须先去中央仓库进行查证，使版本号有延续性，正式版本号不允许覆盖升级。如当前版本：1.3.3，那么下一个合理的版本号：1.3.4 或 1.4.0 或 2.0.0\n\n 3.  【强制】线上应用不要依赖 SNAPSHOT 版本（安全包除外）。\n     说明： 不依赖 SNAPSHOT 版本是保证应用发布的幂等性。另外，也可以加快编译时的打包构建。\n\n 4.  【强制】二方库的新增或升级，保持除功能点之外的其它 jar 包仲裁结果不变。如果有改变， 必须明确评估和验证，建议进行 dependency:resolve 前后信息比对，如果仲裁结果完全不一 致，那么通过 dependency:tree 命令，找出差异点，进行<excludes>排除 jar 包。\n\n 5.  【强制】二方库里可以定义枚举类型，参数可以使用枚举类型，但是接口返回值不允许使用枚 举类型或者包含枚举类型的 POJO 对象。\n\n 6.  【强制】依赖于一个二方库群时，必须定义一个统一的版本变量，避免版本号不一致。 说明：依赖 springframework-core,-context,-beans，它们都是同一个版本，可以定义一 个变量来保存版本：${spring.version}，定义依赖的时候，引用该版本。\n\n 7.  【强制】禁止在子项目的 pom 依赖中出现相同的 GroupId，相同的 ArtifactId，但是不同的 Version。\n     说明： 在本地调试时会使用各子项目指定的版本号，但是合并成一个 war，只能有一个版本号 出现在最后的 lib 目录中。可能出现线下调试是正确的，发布到线上却出故障的问题。\n\n 8.  【推荐】所有 pom 文件中的依赖声明放在<dependencies>语句块中，所有版本仲裁放在 <dependencyManagement>语句块中。 说明：<dependencyManagement>里只是声明版本，并不实现引入，因此子项目需要显式的声 明依赖，version 和 scope 都读取自父 pom。而<dependencies>所有声明在主 pom 的 <dependencies>里的依赖都会自动引入，并默认被所有的子项目继承。\n\n 9.  【推荐】二方库不要有配置项，最低限度不要再增加配置项。\n\n 10. 【参考】为避免应用二方库的依赖冲突问题，二方库发布者应当遵循以下原则：\n     1）精简可控原则。移除一切不必要的 API 和依赖，只包含 Service API、必要的领域模型对 象、Utils 类、常量、枚举等。如果依赖其它二方库，尽量是 provided 引入，让二方库使用 者去依赖具体版本号；无 log 具体实现，只依赖日志框架。\n     2）稳定可追溯原则。每个版本的变化应该被记录，二方库由谁维护，源码在哪里，都需要能 方便查到。除非用户主动升级版本，否则公共二方库的行为不应该发生变化。\n\n\n# 服务器\n\n 1. 【推荐】高并发服务器建议调小 TCP 协议的 time_wait 超时时间。 说明：操作系统默认 240 秒后，才会关闭处于 time_wait 状态的连接，在高并发访问下，服 务器端会因为处于 time_wait 的连接数太多，可能无法建立新的连接，所以需要在服务器上 调小此等待值。\n    正例： 在 linux 服务器上请通过变更/etc/sysctl.conf 文件去修改该缺省值（秒）： net.ipv4.tcp_fin_timeout = 30\n\n 2. 【推荐】调大服务器所支持的最大文件句柄数（File Descriptor，简写为 fd）。\n    说明： 主流操作系统的设计是将 TCP/UDP 连接采用与文件一样的方式去管理，即一个连接对 应于一个 fd。主流的 linux 服务器默认所支持最大 fd 数量为 1024，当并发连接数很大时很容易因为 fd 不足而出现“open too many files”错误，导致新的连接无法建立。 建议将 linux 服务器所支持的最大句柄数调高数倍（与服务器的内存数量相关）。\n\n 3. 【推荐】给 JVM 设置-XX:+HeapDumpOnOutOfMemoryError 参数，让 JVM 碰到 OOM 场景时输出 dump 信息。\n    说明： OOM 的发生是有概率的，甚至有规律地相隔数月才出现一例，出现时的现场信息对查错 非常有价值。\n\n 4. 【参考】服务器内部重定向使用 forward；外部重定向地址使用 URL 拼装工具类来生成，否则 会带来 URL 维护不一致的问题和潜在的安全风险。\n\n\n# 安全规约\n\n 1. 【强制】隶属于用户个人的页面或者功能必须进行权限控制校验。\n    说明： 防止没有做水平权限校验就可随意访问、修改、删除别人的数据，比如查看他人的私信 内容、修改他人的订单。\n\n 2. 【强制】用户敏感数据禁止直接展示，必须对展示数据进行脱敏。\n    说明： 查看个人手机号码会显示成:158****9119，隐藏中间 4 位，防止隐私泄露。\n\n 3. 【强制】用户输入的 SQL 参数严格使用参数绑定或者 METADATA 字段值限定，防止 SQL 注入， 禁止字符串拼接 SQL 访问数据库。\n\n 4. 【强制】用户请求传入的任何参数必须做有效性验证。\n    说明： 忽略参数校验可能导致：\n    \n    * page size 过大导致内存溢出\n    * 恶意 order by 导致数据库慢查询\n    * 任意重定向\n    * SQL 注入\n    * 反序列化注入\n    * 正则输入源串拒绝服务 ReDoS\n    \n    说明： Java 代码用正则来验证客户端的输入，有些正则写法验证普通用户输入没有问题， 但是如果攻击人员使用的是特殊构造的字符串来验证，有可能导致死循环的结果。\n\n 5. 【强制】禁止向 HTML 页面输出未经安全过滤或未正确转义的用户数据。\n\n 6. 【强制】表单、AJAX 提交必须执行 CSRF 安全过滤。\n    说明： CSRF(Cross-site request forgery)跨站请求伪造是一类常见编程漏洞。对于存在 CSRF 漏洞的应用/网站，攻击者可以事先构造好 URL，只要受害者用户一访问，后台便在用户 不知情情况下对数据库中用户参数进行相应修改。\n\n 7. 【强制】在使用平台资源，譬如短信、邮件、电话、下单、支付，必须实现正确的防重放限制， 如数量限制、疲劳度控制、验证码校验，避免被滥刷、资损。 说明：如注册时发送验证码到手机，如果没有限制次数和频率，那么可以利用此功能骚扰到其 它用户，并造成短信平台资源浪费。\n\n 8. 【推荐】发贴、评论、发送即时消息等用户生成内容的场景必须实现防刷、文本内容违禁词过 滤等风控策略。\n\n\n# 附 1：版本历史\n\n版本号     更新日期        备注\n1.0.0   2017.2.9    集团正式对外发布\n1.0.1   2017.2.13   1）修正 String[]的前后矛盾。2）vm 修正成 velocity。3）修正 countdown 描述错误。\n1.0.2   2017.2.20   1）去除文底水印。2）数据类型中引用太阳系年龄问题。3）修正关于异常和方法签名的部分描述。4）修正 final\n                    描述。5）去除 Comparator 部分描述。\n1.1.0   2017.2.27   1）增加前言。2）增加<? extends T>描述和说明。3）增加版本历史。4）增加专有名词解释。\n1.1.1   2017.3.31   修正页码总数和部分示例\n1.2.0   2017.5.20   1）根据云栖社区的“聚能聊”活动反馈，对手册的页码、排版、描述进行修正。2）增加\n                    final的适用场景描述。3）增加关于锁的粒度的说明。4）增加“指定集合大小”的详细说明以及正反例。5）增加卫语句的示例代码。6）明确数据库表示删除概念的字段名为\n                    is_deleted\n\n\n# 附 2：本手册专有名词\n\n 1.  POJO（Plain Ordinary Java Object）：在本手册中，POJO 专指只有 setter / getter / toString 的简单类，包括 DO/DTO/BO/VO 等。\n\n 2.  DO（Data Object）：本手册指数据库表一一对应的 POJO 类。\n\n 3.  GAV（GroupId、ArtifactctId、Version）：Maven 坐标，是用来唯一标识 jar 包。\n\n 4.  OOP（Object Oriented Programming）: 本手册泛指类、对象的编程处理方式。\n\n 5.  ORM（Object Relation Mapping）: 对象关系映射，对象领域模型与底层数据之间的转换， 本文泛指 iBATIS, mybatis 等框架。\n\n 6.  NPE（java.lang.NullPointerException）: 空指针异常。\n\n 7.  SOA（Service-Oriented Architecture）: 面向服务架构，它可以根据需求通过网络对松散 耦合的粗粒度应用组件进行分布式部署、组合和使用，有利于提升组件可重用性，可维护性。\n\n 8.  一方库：本工程内部子项目模块依赖的库（jar 包）。\n\n 9.  二方库：公司内部发布到中央仓库，可供公司内部其它应用依赖的库（jar 包）。\n\n 10. 三方库：公司之外的开源库（jar 包）。',normalizedContent:'> 最新编码规范： https://edu.aliyun.com/course/417\n\n\n# 前言\n\n《 java 开发手册》是集团技术团队的集体经验总结，经历了多次大规模一线实战的检验及不断的完善，反馈给广大开发者。现代软件行业的高速发展对开发者的综合素质要求越来越高，因为不仅是编程知识点，其它维度的知识点也会影响到软件的最终交付质量。比如：数据库的表结构和索引设计缺陷可能带来软件上的架构缺陷或性能风险；工程结构混乱导致后续维护艰难；没有鉴权的漏洞代码易被黑客攻击等等。所以本手册以 java 开发者为中心视角，划分为编程规约、异常日志、mysql 数据库、工程结构、安全规约五大块，再根据内容特征，细分成若干二级子目录。根据约束力强弱及故障敏感性，规约依次分为强制、推荐、参考三大类。对于规约条目的延伸信息中，“说明”对内容做了引申和解释；“正例”提倡什么样的编码和实现方式；“反例”说明需要提防的雷区，以及真实的错误案例。\n\n本手册的愿景是码出高效、码出质量。代码的字里行间流淌的是软件生命中的血 液，质量的提升是尽可能少踩坑，杜绝踩重复的坑，切实提升质量意识。另外，现代 软件架构都需要协同开发完成，高效协作即降低协同成本，提升沟通效率，所谓无规 矩不成方圆，无规范不能协作。众所周知，制订交通法规表面上是要限制行车权，实 际上是保障公众的人身安全。试想如果没有限速，没有红绿灯，谁还敢上路行驶。对 软件来说，适当的规范和标准绝不是消灭代码内容的创造性、优雅性，而是限制过度 个性化，以一种普遍认可的统一方式一起做事，提升协作效率。\n\n《 java 开发手册》，开放包容地认真听取社区、博客、论坛的反馈，及时修正，保持与时俱进。请关注手册末页的“阿里技术”和“云栖社区”公众号获取最新版本。\n\n\n# 编程规范\n\n\n# 命名风格\n\n 1.  【强制】代码中的命名均不能以下划线或美元符号开始，也不能以下划线或美元符号结束。\n     反例： _name / __name / $object / name_ / name$ / object$\n\n 2.  【强制】代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。说明：正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，即使纯拼音命名方式也要避免采用。\n     正例： alibaba / taobao / youku / hangzhou 等国际通用的名称，可视同英文。\n     反例： dazhepromotion [打折] / getpingfenbyname() [评分] / int 某变量 = 3\n\n 3.  【强制】类名使用 uppercamelcase 风格，必须遵从驼峰形式，但以下情形例外：do / bo / dto / vo / ao\n     正例： marcopolo / userdo / xmlservice / tcpudpdeal / tapromotion\n     反例： macropolo / userdo / xmlservice / tcpudpdeal / tapromotion\n\n 4.  【强制】方法名、参数名、成员变量、局部变量都统一使用 lowercamelcase 风格，必须遵从驼峰形式。\n     正例： localvalue / gethttpmessage() / inputuserid\n\n 5.  【强制】常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。\n     正例： max_stock_count\n     反例： max_count\n\n 6.  【强制】抽象类命名使用 abstract 或 base 开头；异常类命名使用 exception 结尾；测试类命名以它要测试的类的名称开始，以 test 结尾。\n\n 7.  【强制】中括号是数组类型的一部分，数组定义如下：string[] args。\n     反例： 使用 string args[] 的方式来定义。\n\n 8.  【强制】pojo 类中布尔类型的变量，都不要加 is，否则部分框架解析会引起序列化错误。\n     反例： 定义为基本数据类型 boolean isdeleted；的属性，它的方法也是 isdeleted()，rpc 框架在反向解析的时候，“以为”对应的属性名称是 deleted，导致属性获取不到，进而抛出异常。\n\n 9.  【强制】包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。\n     正例： 应用工具类包名为 com.alibaba.open.util、类名为 messageutils（此规则参考 spring 的框架结构）\n\n 10. 【强制】杜绝完全不规范的缩写，避免望文不知义。\n     反例： abstractclass “缩写”命名成 absclass；condition “缩写”命名成 condi，此类随意缩写严重降低了代码的可阅读性。\n\n 11. 【推荐】如果使用到了设计模式，建议在类名中体现出具体模式。\n     说明： 将设计模式体现在名字中，有利于阅读者快速理解架构设计思想。\n     正例：\n\npublic class orderfactory;\npublic class loginproxy;\npublic class resourceobserver;\n\n\n1\n2\n3\n\n\n 12. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 javadoc 注释。尽量不要在接口里定义变量，如果一定要定义变量，肯定是与接口方法相关，并且是整个应用的基础常量。\n     正例： 接口方法签名：void f();\n     接口基础常量表示：string company = "alibaba";\n     反例： 接口方法定义：public abstract void f();\n     说明： jdk8 中接口允许有默认实现，那么这个 default 方法，是对所有实现类都有价值的默认实现。\n\n 13. 接口和实现类的命名有两套规则：\n     1） 【强制】对于 service 和 dao 类，基于 soa 的理念，暴露出来的服务一定是接口，内部的实现类用 impl 的后缀与接口区别。\n     正例： cacheserviceimpl 实现 cacheservice 接口。\n     2） 【推荐】如果是形容能力的接口名称，取对应的形容词做接口名（通常是–able 的形式）。\n     正例： abstracttranslator 实现 translatable。\n\n 14. 【参考】枚举类名建议带上 enum 后缀，枚举成员名称需要全大写，单词间用下划线隔开。\n     说明： 枚举其实就是特殊的常量类，且构造方法被默认强制是私有。\n     正例： 枚举名字：dealstatusenum，成员名称：success / unkown_reason。\n\n 15. 【参考】各层命名规约：\n     \n     1. service/dao 层方法命名规约\n        1） 获取单个对象的方法用 get 做前缀。\n        2） 获取多个对象的方法用 list 做前缀。\n        3） 获取统计值的方法用 count 做前缀。\n        4） 插入的方法用 save（推荐）或 insert 做前缀。\n        5） 删除的方法用 remove（推荐）或 delete 做前缀。\n        6） 修改的方法用 update 做前缀。\n     2. 领域模型命名规约\n        1） 数据对象：xxxdo，xxx 即为数据表名。\n        2） 数据传输对象：xxxdto，xxx 为业务领域相关的名称。\n        3） 展示对象：xxxvo，xxx 一般为网页名称。\n        4） pojo 是 do/dto/bo/vo 的统称，禁止命名成 xxxpojo。\n\n\n# 常量定义\n\n 1. 【强制】不允许任何魔法值（即未经定义的常量）直接出现在代码中。\n    反例：\n\nstring key = "id#taobao_" + tradeid;  \ncache.put(key, value);\n\n\n1\n2\n\n 2. 【强制】long 或者 long 初始赋值时，必须使用大写的 l，不能是小写的 l，小写容易跟数字 1 混淆，造成误解。 说明：long a = 2l; 写的是数字的 21，还是 long 型的 2?\n 3. 【推荐】不要使用一个常量类维护所有常量，应该按常量功能进行归类，分开维护。如：缓存相关的常量放在类：cacheconsts 下；系统配置相关的常量放在类：configconsts 下。\n    说明： 大而全的常量类，非得使用查找功能才能定位到修改的常量，不利于理解和维护。\n 4. 【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。 1） 跨应用共享常量：放置在二方库中，通常是 client.jar 中的 constant 目录下。\n    2） 应用内共享常量：放置在一方库的 modules 中的 constant 目录下。\n    反例： 易懂变量也要统一定义成应用内共享常量，两位攻城师在两个类中分别定义了表示“是”的变量：\n\n类 a 中：public static final string yes = "yes";  \n类 b 中：public static final string yes = "y";  \na.yes.equals(b.yes)，预期是 true，但实际返回为 false，导致线上问题。  \n\n\n1\n2\n3\n\n\n3） 子工程内部共享常量：即在当前子工程的 constant 目录下。\n4） 包内共享常量：即在当前包下单独的 constant 目录下。\n5） 类内共享常量：直接在类内部 private static final 定义。\n\n 5. 【推荐】如果变量值仅在一个范围内变化，且带有名称之外的延伸属性，定义为枚举类。下面正例中的数字就是延伸信息，表示星期几。\n    正例： public enum { monday(1), tuesday(2), wednesday(3), thursday(4), friday(5), saturday(6), sunday(7);}\n\n\n# 代码格式\n\n 1. 【强制】大括号的使用约定。如果是大括号内为空，则简洁地写成{}即可，不需要换行；如果是非空代码块则：\n    1） 左大括号前不换行。\n    2） 左大括号后换行。\n    3） 右大括号前换行。\n    4） 右大括号后还有 else 等代码则不换行；表示终止的右大括号后必须换行。\n\n 2. 【强制】 左小括号和字符之间不出现空格；同样，右小括号和字符之间也不出现空格。详见 第 5 条下方正例提示。\n    反例： if (空格 a == b 空格)\n\n 3. 【强制】if/for/while/switch/do 等保留字与括号之间都必须加空格。\n\n 4. 【强制】任何二目、三目运算符的左右两边都需要加一个空格。\n    说明： 运算符包括赋值运算符=、逻辑运算符&&、加减乘除符号等。\n\n 5. 【强制】缩进采用 4 个空格，禁止使用 tab 字符。\n    说明： 如果使用 tab 缩进，必须设置 1 个 tab 为 4 个空格。idea 设置 tab 为 4 个空格时，请勿勾选 use tab character；而在 eclipse 中，必须勾选 insert spaces for tabs。\n    正例： （涉及 1-5 点）\n\npublic static void main(string[] args) {\n  // 缩进 4 个空格\n  string say = "hello";\n  // 运算符的左右必须有一个空格\n  int flag = 0;\n  // 关键词 if 与括号之间必须有一个空格，括号内的 f 与左括号，0 与右括号不需要空格\n  if (flag == 0) {\n      system.out.println(say);\n  }\n\n  // 左大括号前加空格且不换行；左大括号后换行\n  if (flag == 1) {\n      system.out.println("world");\n      // 右大括号前换行，右大括号后有 else，不用换行\n  } else {\n      system.out.println("ok");\n      // 在右大括号后直接结束，则必须换行\n  }\n} \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n 6. 【强制】单行字符数限制不超过 120 个，超出需要换行，换行时遵循如下原则：\n    1） 第二行相对第一行缩进 4 个空格，从第三行开始，不再继续缩进，参考示例。\n    2） 运算符与下文一起换行。\n    3） 方法调用的点符号与下文一起换行。\n    4） 在多个参数超长，在逗号后换行。\n    5） 在括号前不要换行，见反例。\n    正例：\n\n stringbuffer sb = new stringbuffer();\n //超过 120 个字符的情况下，换行缩进 4 个空格，并且方法前的点符号一起换行\n sb.append("zi").append("xin")...\n .append("huang")...\n .append("huang")...\n .append("huang");\n\n\n1\n2\n3\n4\n5\n6\n\n\n反例：\n\n stringbuffer sb = new stringbuffer();\n //超过 120 个字符的情况下，不要在括号前换行\n sb.append("zi").append("xin")...append\n ("huang");\n //参数很多的方法调用可能超过 120 个字符，不要在逗号前换行\n method(args1, args2, args3, ...\n , argsx); \n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n 7. 【强制】方法参数在定义和传入时，多个参数逗号后边必须加空格。\n    正例： 下例中实参的"a",后边必须要有一个空格。method("a", "b", "c");\n\n 8. 【强制】ide 的 text file encoding 设置为 utf-8; ide 中文件的换行符使用 unix 格式，不要使用 windows 格式。\n\n 9. 【推荐】没有必要增加若干空格来使某一行的字符与上一行对应位置的字符对齐。\n    正例：\n\n  int a = 3;\n  long b = 4l;\n  float c = 5f;\n  stringbuffer sb = new stringbuffer();\n\n\n1\n2\n3\n4\n\n\n说明： 增加 sb 这个变量，如果需要对齐，则给 a、b、c 都要增加几个空格，在变量比较多的情况下，是一种累赘的事情。\n\n 10. 【推荐】方法体内的执行语句组、变量的定义语句组、不同的业务逻辑之间或者不同的语义之间插入一个空行。相同业务逻辑和语义之间不需要插入空行。\n     说明： 没有必要插入多个空行进行隔开。\n\n\n# oop 规约\n\n 1.  【强制】避免通过一个类的对象引用访问此类的静态变量或静态方法，无谓增加编译器解析成本，直接用类名来访问即可。\n\n 2.  【强制】所有的覆写方法，必须加@override 注解。\n     说明： getobject() 与 get0bject() 的问题。一个是字母的 o，一个是数字的 0，加 @override可以准确判断是否覆盖成功。另外，如果在抽象类中对方法签名进行修改，其实现类会马上编译报错。\n\n 3.  【强制】相同参数类型，相同业务含义，才可以使用 java 的可变参数，避免使用 object。\n     说明： 可变参数必须放置在参数列表的最后。（提倡同学们尽量不用可变参数编程）\n     正例： public user getusers(string type, integer... ids) {...}\n\n 4.  【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加 @deprecated 注解，并清晰地说明采用的新接口或者新服务是什么。\n\n 5.  【强制】不能使用过时的类或方法。\n     说明： java.net.urldecoder 中的方法 decode(string encodestr) 这个方法已经过时，应该使用双参数 decode(string source, string encode)。接口提供方既然明确是过时接口，那么有义务同时提供新的接口；作为调用方来说，有义务去考证过时方法的新实现是什么。\n\n 6.  【强制】object 的 equals 方法容易抛空指针异常，应使用常量或确定有值的对象来调用 equals。 正例： "test".equals(object); 反例： object.equals("test"); 说明： 推荐使用 java.util.objects#equals （jdk7 引入的工具类）\n\n 7.  【强制】所有的相同类型的包装类对象之间值的比较，全部使用 equals 方法比较。 说明：对于 integer var = ? 在-128 至 127 范围内的赋值，integer 对象是在 integercache.cache 产生，会复用已有对象，这个区间内的 integer 值可以直接使用 == 进行判断，但是这个区间之外的所有数据，都会在堆上产生，并不会复用已有对象，这是一个大坑，推荐使用 equals 方法进行判断。\n\n 8.  关于基本数据类型与包装数据类型的使用标准如下：\n     1） 【强制】所有的 pojo 类属性必须使用包装数据类型。\n     2） 【强制】rpc 方法的返回值和参数必须使用包装数据类型。\n     3） 【推荐】所有的局部变量使用基本数据类型。\n     说明： pojo 类属性没有初值是提醒使用者在需要使用时，必须自己显式地进行赋值，任何 npe 问题，或者入库检查，都由使用者来保证。\n     正例： 数据库的查询结果可能是 null，因为自动拆箱，用基本数据类型接收有 npe 风险。\n     反例： 比如显示成交总额涨跌情况，即正负 x%，x 为基本数据类型，调用的 rpc 服务，调用不成功时，返回的是默认值，页面显示：0%，这是不合理的，应该显示成中划线-。所以包装数据类型的 null 值，能够表示额外的信息，如：远程调用失败，异常退出。\n\n 9.  【强制】定义 do/dto/vo 等 pojo 类时，不要设定任何属性默认值。\n     反例： pojo 类的 gmtcreate 默认值为 new date();但是这个属性在数据提取时并没有置入具 体值，在更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。\n\n 10. 【强制】序列化类新增属性时，请不要修改 serialversionuid 字段，避免反序列失败；如 果完全不兼容升级，避免反序列化混乱，那么请修改 serialversionuid 值。\n     说明： 注意 serialversionuid 不一致会抛出序列化运行时异常。\n\n 11. 【强制】构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 init 方法中。\n\n 12. 【强制】pojo 类必须写 tostring 方法。使用 ide 的中工具：source> generate tostring 时，如果继承了另一个 pojo 类，注意在前面加一下 super.tostring。\n     说明： 在方法执行抛出异常时，可以直接调用 pojo 的 tostring()方法打印其属性值，便于排查问题。\n\n 13. 【推荐】使用索引访问用 string 的 split 方法得到的数组时，需做最后一个分隔符后有无内容的检查，否则会有抛 indexoutofboundsexception 的风险。\n     说明：\n\nstring str = "a,b,c,,";\nstring[] ary = str.split(",");\n//预期大于 3，结果是 3\nsystem.out.println(ary.length);\n\n\n1\n2\n3\n4\n\n\n 14. 【推荐】当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起，便于阅读。\n\n 15. 【推荐】 类内方法定义顺序依次是：公有方法或保护方法 > 私有方法 > getter/setter 方法。\n     说明： 公有方法是类的调用者和维护者最关心的方法，首屏展示最好；保护方法虽然只是子类关心，也可能是“模板设计模式”下的核心方法；而私有方法外部一般不需要特别关心，是一个黑盒实现；因为方法信息价值较低，所有 service 和 dao 的 getter/setter 方法放在类体最后。\n\n 16. 【推荐】setter 方法中，参数名称与类成员变量名称一致，this.成员名 = 参数名。在 getter/setter 方法中，不要增加业务逻辑，增加排查问题的难度。\n     反例：\n\npublic integer getdata() {\n    if (true) {\n   \t return this.data + 100;\n    } else {\n    \treturn this.data - 100;\n    }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n 17. 【推荐】循环体内，字符串的连接方式，使用 stringbuilder 的 append 方法进行扩展。\n     说明： 反编译出的字节码文件显示每次循环都会 new 出一个 stringbuilder 对象，然后进行 append 操作，最后通过 tostring 方法返回 string 对象，造成内存资源浪费。\n     反例：\n\nstring str = "start";\nfor (int i = 0; i < 100; i++) {\n   str = str + "hello";\n}\n\n\n1\n2\n3\n4\n\n\n 18. 【推荐】final 可以声明类、成员变量、方法、以及本地变量，下列情况使用 final 关键字：\n     1） 不允许被继承的类，如：string 类。\n     2） 不允许修改引用的域对象，如：pojo 类的域变量。\n     3） 不允许被重写的方法，如：pojo 类的 setter 方法。\n     4） 不允许运行过程中重新赋值的局部变量。\n     5） 避免上下文重复使用一个变量，使用 final 描述可以强制重新定义一个变量，方便更好地进行重构。\n\n 19. 【推荐】慎用 object 的 clone 方法来拷贝对象。\n     说明： 对象的 clone 方法默认是浅拷贝，若想实现深拷贝需要重写 clone 方法实现属性对象的拷贝。\n\n 20. 【推荐】类成员与方法访问控制从严：\n     1） 如果不允许外部直接通过 new 来创建对象，那么构造方法必须是 private。\n     2） 工具类不允许有 public 或 default 构造方法。\n     3） 类非 static 成员变量并且与子类共享，必须是 protected。\n     4） 类非 static 成员变量并且仅在本类使用，必须是 private。\n     5） 类 static 成员变量如果仅在本类使用，必须是 private。\n     6） 若是 static 成员变量，必须考虑是否为 final。\n     7） 类成员方法只供类内部调用，必须是 private。\n     8） 类成员方法只对继承类公开，那么限制为 protected。\n     说明： 任何类、方法、参数、变量，严控访问范围。过于宽泛的访问范围，不利于模块解耦。 思考：如果是一个 private 的方法，想删除就删除，可是一个 public 的 service 方法，或者一个 public 的成员变量，删除一下，不得手心冒点汗吗？变量像自己的小孩，尽量在自己的视线内，变量作用域太大，如果无限制的到处跑，那么你会担心的。\n\n\n# 集合处理\n\n 1. 【强制】关于 hashcode 和 equals 的处理，遵循如下规则：\n    1） 只要重写 equals，就必须重写 hashcode。\n    2） 因为 set 存储的是不重复的对象，依据 hashcode 和 equals 进行判断，所以 set 存储的对象必须重写这两个方法。\n    3） 如果自定义对象做为 map 的键，那么必须重写 hashcode 和 equals。\n    说明： string 重写了 hashcode 和 equals 方法，所以我们可以非常愉快地使用 string 对象作为 key 来使用。\n\n 2. 【强制】arraylist 的 sublist 结果不可强转成 arraylist，否则会抛出 classcastexception 异常：java.util.randomaccesssublist cannot be cast to java.util.arraylist ;\n    说明： sublist 返回的是 arraylist 的内部类 sublist，并不是 arraylist ，而是 arraylist 的一个视图，对于 sublist 子列表的所有操作最终会反映到原列表上。\n\n 3. 【强制】 在 sublist 场景中，高度注意对原集合元素个数的修改，会导致子列表的遍历、增 加、删除均产生 concurrentmodificationexception 异常。\n\n 4. 【强制】使用集合转数组的方法，必须使用集合的 toarray(t[] array)，传入的是类型完全一样的数组，大小就是 list.size()。\n    说明： 使用 toarray 带参方法，入参分配的数组空间不够大时，toarray 方法内部将重新分配内存空间，并返回新数组地址；如果数组元素大于实际所需，下标为[ list.size() ]的数组元素将被置为 null，其它数组元素保持原值，因此最好将方法入参数组大小定义与集合元素个数一致。\n    正例：\n\n list<string> list = new arraylist<string>(2);\n list.add("guan");\n list.add("bao");\n string[] array = new string[list.size()];\n array = list.toarray(array);\n\n\n1\n2\n3\n4\n5\n\n\n反例： 直接使用 toarray 无参方法存在问题，此方法返回值只能是 object[]类，若强转其它类型数组将出现 classcastexception 错误。\n\n 5. 【强制】使用工具类 arrays.aslist()把数组转换成集合时，不能使用其修改集合相关的方 法，它的 add/remove/clear 方法会抛出 unsupportedoperationexception 异常。\n    说明： aslist 的返回对象是一个 arrays 内部类，并没有实现集合的修改方法。arrays.aslist 体现的是适配器模式，只是转换接口，后台的数据仍是数组。\n\n  string[] str = new string[] { "a", "b" };\n  list list = arrays.aslist(str);\n\n\n1\n2\n\n\n第一种情况：list.add("c"); 运行时异常。\n第二种情况：str[0] = "gujin"; 那么 list.get(0)也会随之修改。\n\n 6. 【强制】泛型通配符 <? extends t> 来接收返回的数据，此写法的泛型集合不能使用 add 方法，而 <? super t> 不能使用 get 方法，做为接口调用赋值时易出错。\n    说明： 扩展说一下 pecs(producer extends consumer super) 原则：1）频繁往外读取内容 的，适合用上界 extends。2）经常往里插入的，适合用下界 super。\n\n 7. 【强制】不要在 foreach 循环里进行元素的 remove/add 操作。remove 元素请使用 iterator 方式，如果并发操作，需要对 iterator 对象加锁。\n    正例：\n\niterator<string> it = a.iterator();\nwhile (it.hasnext()) {\n   string temp = it.next();\n   if (删除元素的条件) {\n       it.remove();\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n反例：\n\nlist<string> a = new arraylist<string>();\na.add("1");\na.add("2");\nfor (string temp : a) {\n   if ("1".equals(temp)) {\n       a.remove(temp);\n   }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n说明： 以上代码的执行结果肯定会出乎大家的意料，那么试一下把“1”换成“2”，会是同样的结果吗？\n\n 8. 【强制】 在 jdk7 版本及以上，comparator 要满足如下三个条件，不然 arrays.sort，collections.sort 会报 illegalargumentexception 异常。\n    说明：\n    1） x，y 的比较结果和 y，x 的比较结果相反。\n    2） x>y，y>z，则 x>z。\n    3） x=y，则 x，z 比较结果和 y，z 比较结果相同。\n    反例： 下例中没有处理相等的情况，实际使用中可能会出现异常：\n\n new comparator<student>() {\n     @override\n     public int compare(student o1, student o2) {\n         return o1.getid() > o2.getid() ? 1 : -1;\n     }\n };\n\n\n1\n2\n3\n4\n5\n6\n\n\n 9.  【推荐】集合初始化时，指定集合初始值大小。\n     说明： hashmap 使用 hashmap(int initialcapacity) 初始化， 正例： initialcapacity = (需要存储的元素个数 / 负载因子) + 1。注意负载因子（即 loaderfactor）默认为 0.75，如果暂时无法确定初始值大小，请设置为 16。\n     反例： hashmap 需要放置 1024 个元素，由于没有设置容量初始大小，随着元素不断增加，容量 7 次被迫扩大，resize 需要重建 hash 表，严重影响性能。\n\n 10. 【推荐】使用 entryset 遍历 map 类集合 kv，而不是 keyset 方式进行遍历。\n     说明： keyset 其实是遍历了 2 次，一次是转为 iterator 对象，另一次是从 hashmap 中取出 key 所对应的 value。而 entryset 只是遍历了一次就把 key 和 value 都放到了 entry 中，效率更高。如果是 jdk8，使用 map.foreach 方法。\n     正例： values() 返回的是 v 值集合，是一个 list 集合对象；keyset() 返回的是 k 值集合，是一个 set 集合对象；entryset() 返回的是 k-v 值组合集合。\n\n 11. 【推荐】高度注意 map 类集合 k/v 能不能存储 null 值的情况，如下表格：\n\n集合类                 key         value       super         说明\nhashtable           不允许为 null   不允许为 null   dictionary    线程安全\nconcurrenthashmap   不允许为 null   不允许为 null   abstractmap   分段锁技术\ntreemap             不允许为 null   允许为 null    abstractmap   线程不安全\nhashmap             允许为 null    允许为 null    abstractmap   线程不安全\n\n反例： 由于 hashmap 的干扰，很多人认为 concurrenthashmap 是可以置入 null 值，而事实上，存储 null 值时会抛出 npe 异常。\n\n 12. 【参考】合理利用好集合的有序性(sort)和稳定性(order)，避免集合的无序性(unsort)和不稳定性(unorder)带来的负面影响。\n     说明： 有序性是指遍历的结果是按某种比较规则依次排列的。稳定性指集合每次遍历的元素次 序是一定的。如： arraylist 是 order/unsort；hashmap 是 unorder/unsort；treeset 是 order/sort。\n\n 13. 【参考】利用 set 元素唯一的特性，可以快速对一个集合进行去重操作，避免使用 list 的 contains 方法进行遍历、对比、去重操作。\n\n\n# 并发处理\n\n 1. 【强制】获取单例对象需要保证线程安全，其中的方法也要保证线程安全。\n    说明： 资源驱动类、工具类、单例工厂类都需要注意。\n\n 2. 【强制】创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。\n    正例：\n\n public class timertaskthread extends thread {\n     public timertaskthread() {\n         super.setname("timertaskthread"); ...\n     }\n }\n\n\n1\n2\n3\n4\n5\n\n\n 3. 【强制】线程资源必须通过线程池提供，不允许在应用中自行显式创建线程。\n    说明： 使用线程池的好处是减少在创建和销毁线程上所花的时间以及系统资源的开销，解决资 源不足的问题。如果不使用线程池，有可能造成系统创建大量同类线程而导致消耗完内存或者“过度切换”的问题。\n\n 4. 【强制】线程池不允许使用 executors 去创建，而是通过 threadpoolexecutor 的方式，这样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。\n    说明： executors 返回的线程池对象的弊端如下：\n    \n    1. fixedthreadpool 和 singlethreadpool:\n       允许的请求队列长度为 integer.max_value，可能会堆积大量的请求，从而导致 oom。\n    2. cachedthreadpool 和 scheduledthreadpool:\n       允许的创建线程数量为 integer.max_value，可能会创建大量的线程，从而导致 oom。\n\n 5. 【强制】simpledateformat 是线程不安全的类，一般不要定义为 static 变量，如果定义为 static，必须加锁，或者使用 dateutils 工具类。\n    正例： 注意线程安全，使用 dateutils。亦推荐如下处理：\n\n  private static final threadlocal<dateformat> df = new threadlocal<dateformat>() {\n      @override\n      protected dateformat initialvalue() {\n          return new simpledateformat("yyyy-mm-dd");\n      }\n  };\n\n\n1\n2\n3\n4\n5\n6\n\n\n说明： 如果是 jdk8 的应用，可以使用 instant 代替 date，localdatetime 代替 calendar，datetimeformatter 代替 simpledateformatter，官方给出的解释：simple beautiful strong immutable thread-safe。\n\n 6.  【强制】高并发时，同步调用应该去考量锁的性能损耗。能用无锁数据结构，就不要用锁；能锁区块，就不要锁整个方法体；能用对象锁，就不要用类锁。\n     说明： 尽可能使加锁的代码块工作量尽可能的小，避免在锁代码块中调用 rpc 方法。\n\n 7.  【强制】对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会造成死锁。\n     说明： 线程一需要对表 a、b、c 依次全部加锁后才可以进行更新操作，那么线程二的加锁顺序也必须是 a、b、c，否则可能出现死锁。\n\n 8.  【强制】并发修改同一记录时，避免更新丢失，需要加锁。要么在应用层加锁，要么在缓存加锁，要么在数据库层使用乐观锁，使用 version 作为更新依据。\n     说明： 如果每次访问冲突概率小于 20%，推荐使用乐观锁，否则使用悲观锁。乐观锁的重试次数不得小于 3 次。\n\n 9.  【强制】多线程并行处理定时任务时，timer 运行多个 timetask 时，只要其中之一没有捕获抛出的异常，其它任务便会自动终止运行，使用 scheduledexecutorservice 则没有这个问题。\n\n 10. 【推荐】使用 countdownlatch 进行异步转同步操作，每个线程退出前必须调用 countdown 方法，线程执行代码注意 catch 异常，确保 countdown 方法可以执行，避免主线程无法执行至 await 方法，直到超时才返回结果。\n     说明： 注意，子线程抛出异常堆栈，不能在主线程 try-catch 到。\n\n 11. 【推荐】避免 random 实例被多线程使用，虽然共享该实例是线程安全的，但会因竞争同一 seed 导致的性能下降。\n     说明： random 实例包括 java.util.random 的实例或者 math.random() 的方式。\n     正例： 在 jdk7 之后，可以直接使用 api threadlocalrandom，而在 jdk7 之前，需要编码保证每个线程持有一个实例。\n\n 12. 【推荐】在并发场景下，通过双重检查锁（double-checked locking）实现延迟初始化的优化问题隐患(可参考 the "double-checked locking is broken" declaration)，推荐问题解决方案中较为简单一种（适用于 jdk5 及以上版本），将目标属性声明为 volatile 型。\n     反例：\n\nclass foo {\n    private helper helper = null;\n    public helper gethelper() {\n        if (helper == null) synchronized(this) {\n            if (helper == null)\n                helper = new helper();\n        }\n        return helper;\n    }\n    // other functions and members...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n 13. 【参考】volatile 解决多线程内存不可见问题。对于一写多读，是可以解决变量同步问题，但是如果多写，同样无法解决线程安全问题。如果是 count++操作，使用如下类实现： atomicinteger count = new atomicinteger(); count.addandget(1); 如果是 jdk8，推荐使用 longadder 对象，比 atomiclong 性能更好（减少乐观锁的重试次数）。\n\n 14. 【参考】 在容量不够进行 resize 时由于高并发可能出现死链，导致 cpu 飙升，在开发过程中可以使用其它数据结构或加锁来规避此风险。\n\n 15. 【参考】threadlocal 无法解决共享对象的更新问题，threadlocal 对象建议使用 static 修饰。这个变量是针对一个线程内所有操作共有的，所以设置为静态变量，所有此类实例共享此静态变量，也就是说在类第一次被使用时装载，只分配一块存储空间，所有此类的对象(只要是这个线程内定义的)都可以操控这个变量。\n\n\n# 控制语句\n\n 1. 【强制】在一个 switch 块内，每个 case 要么通过 break/return 等来终止，要么注释说明程序将继续执行到哪一个 case 为止；在一个 switch 块内，都必须包含一个 default 语句并且放在最后，即使它什么代码也没有。\n\n 2. 【强制】在 if/else/for/while/do 语句中必须使用大括号。即使只有一行代码，避免使用单行的形式：if (condition) statements;\n\n 3. 【推荐】表达异常的分支时，少用 if-else 方式，这种方式可以改写成：\n\n    if (condition) {\n     ...\n     return obj;\n    }\n    // 接着写 else 的业务逻辑代码;\n\n\n1\n2\n3\n4\n5\n\n\n说明： 如果非得使用 if()...else if()...else...方式表达逻辑，【强制】避免后续代码维护困难，请勿超过 3 层。\n\n正例： 逻辑上超过 3 层的 if-else 代码可以使用卫语句，或者状态模式来实现。卫语句示例如下：\n\n    public void today() {\n        if (isbusy()) {\n            system.out.println(“change time.”);\n            return;\n        }\n        if (isfree()) {\n            system.out.println(“go to travel.”);\n            return;\n        }\n        system.out.println(“stay at home to learn alibaba java coding guideline.”);\n        return;\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n 4. 【推荐】除常用方法（如 getxxx/isxxx）等外，不要在条件判断中执行其它复杂的语句，将复杂逻辑判断的结果赋值给一个有意义的布尔变量名，以提高可读性。\n    说明： 很多 if 语句内的逻辑相当复杂，阅读者需要分析条件表达式的最终结果，才能明确什么样的条件执行什么样的语句，那么，如果阅读者分析逻辑表达式错误呢？\n    正例：\n\n //伪代码如下\n final boolean existed = (file.open(filename, "w") != null) && (...) || (...);\n if (existed) {\n  ...\n }\n\n\n1\n2\n3\n4\n5\n\n\n反例：\n\n if ((file.open(filename, "w") != null) && (...) || (...)) {\n  ...\n }\n\n\n1\n2\n3\n\n\n 5. 【推荐】循环体中的语句要考量性能，以下操作尽量移至循环体外处理，如定义对象、变量、获取数据库连接，进行不必要的 try-catch 操作（这个 try-catch 是否可以移至循环体外）。\n\n 6. 【推荐】接口入参保护，这种场景常见的是用于做批量操作的接口。\n\n 7. 【参考】下列情形，需要进行参数校验：\n    1） 调用频次低的方法。\n    2） 执行时间开销很大的方法。此情形中，参数校验时间几乎可以忽略不计，但如果因为参 数错误导致中间执行回退，或者错误，那得不偿失。\n    3） 需要极高稳定性和可用性的方法。\n    4） 对外提供的开放接口，不管是 rpc/api/http 接口。\n    5） 敏感权限入口。\n\n 8. 【参考】下列情形，不需要进行参数校验：\n    1） 极有可能被循环调用的方法。但在方法说明里必须注明外部参数检查要求。\n    2） 底层调用频度比较高的方法。毕竟是像纯净水过滤的最后一道，参数错误不太可能到底 层才会暴露问题。一般 dao 层与 service 层都在同一个应用中，部署在同一台服务器中，所以 dao 的参数校验，可以省略。\n    3） 被声明成 private 只会被自己代码所调用的方法，如果能够确定调用方法的代码传入参数已经做过检查或者肯定不会有问题，此时可以不校验参数。\n\n\n# 注释规约\n\n 1.  【强制】类、类属性、类方法的注释必须使用 javadoc 规范，使用/**内容*/格式，不得使用 //xxx 方式。\n     说明： 在 ide 编辑窗口中，javadoc 方式会提示相关注释，生成 javadoc 可以正确输出相应注释；在 ide 中，工程调用方法时，不进入方法即可悬浮提示方法、参数、返回值的意义，提高 阅读效率。\n\n 2.  【强制】所有的抽象方法（包括接口中的方法）必须要用 javadoc 注释、除了返回值、参数、异常说明外，还必须指出该方法做什么事情，实现什么功能。\n     说明： 对子类的实现要求，或者调用注意事项，请一并说明。\n\n 3.  【强制】所有的类都必须添加创建者和创建日期。\n\n 4.  【强制】方法内部单行注释，在被注释语句上方另起一行，使用 //注释。方法内部多行注释使用/* */注释，注意与代码对齐。\n\n 5.  【强制】所有的枚举类型字段必须要有注释，说明每个数据项的用途。\n\n 6.  【推荐】与其“半吊子”英文来注释，不如用中文注释把问题说清楚。专有名词与关键字保持英文原文即可。\n     反例： “tcp 连接超时”解释成“传输控制协议连接超时”，理解反而费脑筋。\n\n 7.  【推荐】代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻辑等的修改。\n     说明： 代码与注释更新不同步，就像路网与导航软件更新不同步一样，如果导航软件严重滞后， 就失去了导航的意义。\n\n 8.  【参考】合理处理注释掉的代码。在上方详细说明，而不是简单的注释掉。如果无用，则删除。\n     说明： 代码被注释掉有两种可能性：1）后续会恢复此段代码逻辑。2）永久不用。前者如果没 有备注信息，难以知晓注释动机。后者建议直接删掉（代码仓库保存了历史代码）。\n\n 9.  【参考】对于注释的要求：第一、能够准确反应设计思想和代码逻辑；第二、能够描述业务含义，使别的程序员能够迅速了解到代码背后的信息。完全没有注释的大段代码对于阅读者形同天书，注释是给自己看的，即使隔很长时间，也能清晰理解当时的思路；注释也是给继任者看的，使其能够快速接替自己的工作。\n\n 10. 【参考】好的命名、代码结构是自解释的，注释力求精简准确、表达到位。避免出现注释的一个极端：过多过滥的注释，代码的逻辑一旦修改，修改注释是相当大的负担。\n     反例：\n\n// put elephant into fridge\nput(elephant, fridge);\n\n\n1\n2\n\n\n方法名 put，加上两个有意义的变量名 elephant 和 fridge，已经说明了这是在干什么，语义清晰的代码不需要额外的注释。\n\n 11. 【参考】特殊注释标记，请注明标记人与标记时间。注意及时处理这些标记，通过标记扫描，经常清理此类标记。线上故障有时候就是来源于这些标记处的代码。\n     1） 待办事宜（todo）:（ 标记人，标记时间，[预计处理时间]）表示需要实现，但目前还未实现的功能。这实际上是一个 javadoc 的标签，目前的 javadoc 还没有实现，但已经被广泛使用。只能应用于类，接口和方法（因为它是一个 javadoc 标签）。\n     2） 错误，不能工作（fixme）:（标记人，标记时间，[预计处理时间]）在注释中用 fixme 标记某代码是错误的，而且不能工作，需要及时纠正的情况。\n\n\n# 其他\n\n 1. 【强制】在使用正则表达式时，利用好其预编译功能，可以有效加快正则匹配速度。 说明：不要在方法体内定义：pattern pattern = pattern.compile(规则);\n\n 2. 【强制】velocity 调用 pojo 类的属性时，建议直接使用属性名取值即可，模板引擎会自动按规范调用 pojo 的 getxxx()，如果是 boolean 基本数据类型变量（boolean 命名不需要加 is前缀），会自动调用 isxxx()方法。\n    说明： 注意如果是 boolean 包装类对象，优先调用 getxxx()的方法。\n\n 3. 【强制】后台输送给页面的变量必须加$!{var}——中间的感叹号。\n    说明： 如果 var=null 或者不存在，那么${var}会直接显示在页面上。\n\n 4. 【强制】注意 math.random() 这个方法返回是 double 类型，注意取值的范围 0≤x<1（能够取到零值，注意除零异常），如果想获取整数类型的随机数，不要将 x 放大 10 的若干倍然后取整，直接使用 random 对象的 nextint 或者 nextlong 方法。\n\n 5. 【强制】获取当前毫秒数 system.currenttimemillis(); 而不是 new date().gettime();\n    说明： 如果想获取更加精确的纳秒级时间值，使用 system.nanotime()的方式。在 jdk8 中，针对统计时间等场景，推荐使用 instant 类。\n\n 6. 【推荐】不要在视图模板中加入任何复杂的逻辑。 说明： 根据 mvc 理论，视图的职责是展示，不要抢模型和控制器的活。\n\n 7. 【推荐】任何数据结构的构造或初始化，都应指定大小，避免数据结构无限增长吃光内存。\n\n 8. 【推荐】对于“明确停止使用的代码和配置”，如方法、变量、类、配置文件、动态配置属性等要坚决从程序中清理出去，避免造成过多垃圾。\n\n\n# 异常日志\n\n\n# 异常处理\n\n 1.  【强制】java 类库中定义的一类 runtimeexception 可以通过预先检查进行规避，而不应该通过 catch 来处理，比如： indexoutofboundsexception ， nullpointerexception 等等。\n     说明： 无法通过预检查的异常除外，如在解析一个外部传来的字符串形式数字时，通过 catch numberformatexception 来实现。\n     正例： if (obj != null) {...}\n     反例： try { obj.method() } catch (nullpointerexception e) {...}\n\n 2.  【强制】异常不要用来做流程控制，条件控制，因为异常的处理效率比条件分支低。\n\n 3.  【强制】对大段代码进行 try-catch，这是不负责任的表现。catch 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。对于非稳定代码的 catch 尽可能进行区分异常类型，再做对应的异常处理。\n\n 4.  【强制】捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理解的内容。\n\n 5.  【强制】有 try 块放到了事务代码中，catch 异常后，如果需要回滚事务，一定要注意手动回滚事务。\n\n 6.  【强制】finally 块必须对资源对象、流对象进行关闭，有异常也要做 try-catch。\n     说明： 如果 jdk7 及以上，可以使用 try-with-resources 方式。\n\n 7.  【强制】不能在 finally 块中使用 return，finally 块中的 return 返回后方法结束执行，不会再执行 try 块中的 return 语句。\n\n 8.  【强制】捕获异常与抛异常，必须是完全匹配，或者捕获异常是抛异常的父类。\n     说明： 如果预期对方抛的是绣球，实际接到的是铅球，就会产生意外情况。\n\n 9.  【推荐】方法的返回值可以为 null，不强制返回空集合，或者空对象等，必须添加注释充分说明什么情况下会返回 null 值。调用方需要进行 null 判断防止 npe 问题。\n     说明： 本手册明确防止 npe 是调用者的责任。即使被调用方法返回空集合或者空对象，对调用者来说，也并非高枕无忧，必须考虑到远程调用失败、序列化失败、运行时异常等场景返回 null 的情况。\n\n 10. 【推荐】防止 npe，是程序员的基本修养，注意 npe 产生的场景：\n     1）返回类型为基本数据类型，return 包装数据类型的对象时，自动拆箱有可能产生 npe。\n     反例： public int f() { return integer 对象}， 如果为 null，自动解箱抛 npe。\n     2） 数据库的查询结果可能为 null。\n     3） 集合里的元素即使 isnotempty，取出的数据元素也可能为 null。\n     4） 远程调用返回对象时，一律要求进行空指针判断，防止 npe。\n     5） 对于 session 中获取的数据，建议 npe 检查，避免空指针。\n     6） 级联调用 obj.geta().getb().getc()；一连串调用，易产生 npe。\n     正例： 使用 jdk8 的 optional 类来防止 npe 问题。\n\n 11. 【推荐】定义时区分 unchecked / checked 异常，避免直接抛出 new runtimeexception()，更不允许抛出 exception 或者 throwable，应使用有业务含义的自定义异常。推荐业界已定义过的自定义异常，如：daoexception / serviceexception 等。\n\n 12. 【参考】在代码中使用“抛异常”还是“返回错误码”，对于公司外的 http/api 开放接口必须使用“错误码”；而应用内部推荐异常抛出；跨应用间 rpc 调用优先考虑使用 result 方式，封装 issuccess()方法、“错误码”、“错误简短信息”。\n     说明： 关于 rpc 方法返回方式使用 result 方式的理由：\n     1）使用抛异常返回方式，调用方如果没有捕获到就会产生运行时错误。\n     2）如果不加栈信息，只是 new 自定义异常，加入自己的理解的 error message，对于调用端解决问题的帮助不会太多。如果加了栈信息，在频繁调用出错的情况下，数据序列化和传输的性能损耗也是问题。\n\n 13. 【参考】避免出现重复的代码（don’t repeat yourself），即 dry 原则。\n     说明： 随意复制和粘贴代码，必然会导致代码的重复，在以后需要修改时，需要修改所有的副本，容易遗漏。必要时抽取共性方法，或者抽象公共类，甚至是共用模块。\n     正例： 一个类中有多个 public 方法，都需要进行数行相同的参数校验操作，这个时候请抽取： private boolean checkparam(dto dto) {...}\n\n\n# 日志规约\n\n 1. 【强制】应用中不可直接使用日志系统（log4j、logback）中的 api，而应依赖使用日志框架 slf4j 中的 api，使用门面模式的日志框架，有利于维护和各个类的日志处理方式统一。\n\nimport org.slf4j.logger;\nimport org.slf4j.loggerfactory;\nprivate static final logger logger = loggerfactory.getlogger(abc.class);\n\n\n1\n2\n3\n\n\n 2. 【强制】日志文件推荐至少保存 15 天，因为有些异常具备以“周”为频次发生的特点。\n\n 3. 【强制】应用中的扩展日志（如打点、临时监控、访问日志等）命名方式：appname_logtype_logname.log。logtype:日志类型，推荐分类有 stats/desc/monitor/visit 等；logname:日志描述。这种命名的好处：通过文件名就可知道日志文件属于什么应用，什么类型，什么目的，也有利于归类查找。\n    正例： mppserver 应用中单独监控时区转换异常，如： mppserver_monitor_timezoneconvert.log\n    说明： 推荐对日志进行分类，如将错误日志和业务日志分开存放，便于开发人员查看，也便于 通过日志对系统进行及时监控。\n\n 4. 【强制】对 trace/debug/info 级别的日志输出，必须使用条件输出形式或者使用占位符的方 式。\n    说明： logger.debug("processing trade with id: " + id + " symbol: " + symbol);如果日志级别是 warn，上述日志不会打印，但是会执行字符串拼接操作，如果 symbol 是对象，会执行 tostring() 方法，浪费了系统资源，执行了上述操作，最终日志却没有打印。\n    正例： （条件）\n\nif (logger.isdebugenabled()) {\n    logger.debug("processing trade with id: " + id + " symbol: " + symbol);\n}\n\n\n1\n2\n3\n\n\n正例： （占位符）\n\nlogger.debug("processing trade with id: {} symbol : {} ", id, symbol);\n\n\n1\n\n\n 5. 【强制】避免重复打印日志，浪费磁盘空间，务必在 log4j.xml 中设置 additivity=false。\n    正例： <logger name="com.taobao.dubbo.config" additivity="false">\n\n 6. 【强制】异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通过关键字 throws 往上抛出。\n    正例： logger.error(各类参数或者对象 tostring + "_" + e.getmessage(), e);\n\n 7. 【推荐】谨慎地记录日志。生产环境禁止输出 debug 日志；有选择地输出 info 日志；如果使用 warn 来记录刚上线时的业务行为信息，一定要注意日志输出量的问题，避免把服务器磁盘 撑爆，并记得及时删除这些观察日志。\n    说明： 大量地输出无效日志，不利于系统性能提升，也不利于快速定位错误点。记录日志时请思考：这些日志真的有人看吗？看到这条日志你能做什么？能不能给问题排查带来好处？\n\n 8. 【参考】可以使用 warn 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所适从。注意日志输出的级别，error 级别只记录系统逻辑出错、异常等重要的错误信息。如非必要，请不要在此场景打出 error 级别。\n\n\n# mysql 数据库\n\n\n# 建表规约\n\n 1.  【强制】表达是与否概念的字段，必须使用 is_xxx 的方式命名，数据类型是 unsigned tinyint（ 1 表示是，0 表示否）。\n     说明： 任何字段如果为非负数，必须是 unsigned。\n     正例： 表达逻辑删除的字段名 is_deleted，1 表示删除，0 表示未删除。\n\n 2.  【强制】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。\n     正例： getter_admin，task_config，level3_name\n     反例： getteradmin，taskconfig，level_3_name\n\n 3.  【强制】表名不使用复数名词。\n     说明： 表名应该仅仅表示表里面的实体内容，不应该表示实体数量，对应于 do 类名也是单数形式，符合表达习惯。\n\n 4.  【强制】禁用保留字，如 desc、range、match、delayed 等，请参考 mysql 官方保留字。\n\n 5.  【强制】主键索引名为 pk_字段名；唯一索引名为 uk_字段名；普通索引名则为 idx_字段名。\n     说明： pk_ 即 primary key；uk_ 即 unique key；idx_ 即 index 的简称。\n\n 6.  【强制】小数类型为 decimal，禁止使用 float 和 double。\n     说明： float 和 double 在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不正确的结果。如果存储的数据范围超过 decimal 的范围，建议将数据拆成整数和小数分开存储。\n\n 7.  【强制】如果存储的字符串长度几乎相等，使用 char 定长字符串类型。\n\n 8.  【强制】varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，如果存储长度大于此值，定义字段类型为 text，独立出来一张表，用主键来对应，避免影响其它字段索引效率。\n\n 9.  【强制】表必备三字段：id, gmt_create, gmt_modified。 说明： 其中 id 必为主键，类型为 unsigned bigint、单表时自增、步长为 1。gmt_create, gmt_modified 的类型均为 date_time 类型。\n\n 10. 【推荐】表的命名最好是加上“业务名称_表的作用”。\n     正例： tiger_task / tiger_reader / mpp_config\n\n 11. 【推荐】库名与应用名称尽量一致。\n\n 12. 【推荐】如果修改字段含义或对字段表示的状态追加时，需要及时更新字段注释。\n\n 13. 【推荐】字段允许适当冗余，以提高查询性能，但必须考虑数据一致。冗余字段应遵循：\n     1）不是频繁修改的字段。\n     2）不是 varchar 超长字段，更不能是 text 字段。\n     正例： 商品类目名称使用频率高，字段长度短，名称基本一成不变，可在相关联的表中冗余存 储类目名称，避免关联查询。\n\n 14. 【推荐】单表行数超过 500 万行或者单表容量超过 2gb，才推荐进行分库分表。\n     说明： 如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。\n\n 15. 【参考】合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。\n     正例： 如下表，其中无符号值可以避免误存负数，且扩大了表示范围。\n\n对象     年龄区间      类型                  表示范围\n人      150 岁之内   unsigned tinyint    无符号值：0 到 255\n龟      数百岁       unsigned smallint   无符号值：0 到 65535\n恐龙化石   数千万年      unsigned int        无符号值：0 到约 42.9 亿\n太阳     约 50 亿年   unsigned bigint     无符号值：0 到约 10 的 19 次方\n\n\n# 索引规约\n\n 1.  【强制】业务上具有唯一特性的字段，即使是多个字段的组合，也必须建成唯一索引。 说明：不要以为唯一索引影响了 insert 速度，这个速度损耗可以忽略，但提高查找速度是明显的；另外，即使在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必然有脏数据产生。\n\n 2.  【强制】 超过三个表禁止 join。需要 join 的字段，数据类型必须绝对一致；多表关联查询时，保证被关联的字段需要有索引。\n     说明： 即使双表 join 也要注意表索引、sql 性能。\n\n 3.  【强制】在 varchar 字段上建立索引时，必须指定索引长度，没必要对全字段建立索引，根据实际文本区分度决定索引长度即可。\n     说明： 索引的长度与区分度是一对矛盾体，一般对字符串类型数据，长度为 20 的索引，区分度会高达 90%以上，可以使用 count(distinct left(列名, 索引长度))/count(*)的区分度来确定。\n\n 4.  【强制】页面搜索严禁左模糊或者全模糊，如果需要请走搜索引擎来解决。\n     说明： 索引文件具有 b-tree 的最左前缀匹配特性，如果左边的值未确定，那么无法使用此索引。\n\n 5.  【推荐】如果有 order by 的场景，请注意利用索引的有序性。order by 最后的字段是组合索引的一部分，并且放在索引组合顺序的最后，避免出现 file_sort 的情况，影响查询性能。\n     正例： where a=? and b=? order by c; 索引：a_b_c\n     反例： 索引中有范围查找，那么索引有序性无法利用，如：where a>10 order by b; 索引 a_b 无法排序。\n\n 6.  【推荐】利用覆盖索引来进行查询操作，避免回表。\n     说明： 如果一本书需要知道第 11 章是什么标题，会翻开第 11 章对应的那一页吗？目录浏览一下就好，这个目录就是起到覆盖索引的作用。\n     正例： 能够建立索引的种类：主键索引、唯一索引、普通索引，而覆盖索引是一种查询的一种 效果，用 explain 的结果，extra 列会出现：using index。\n\n 7.  【推荐】利用延迟关联或者子查询优化超多分页场景。\n     说明： mysql 并不是跳过 offset 行，而是取 offset+n 行，然后返回放弃前 offset 行，返回 n 行，那当 offset 特别大的时候，效率就非常的低下，要么控制返回的总页数，要么对超过特定阈值的页数进行 sql 改写。\n     正例： 先快速定位需要获取的 id 段，然后再关联： select a.* from 表 1 a, (select id from 表 1 where 条件 limit 100000,20 ) b where a.id=b.id\n\n 8.  【推荐】sql 性能优化的目标：至少要达到 range 级别，要求是 ref 级别，如果可以是 consts 最好。\n     说明：\n     1） consts 单表中最多只有一个匹配行（主键或者唯一索引），在优化阶段即可读取到数据。\n     2） ref 指的是使用普通的索引（normal index）。\n     3） range 对索引进行范围检索。\n     反例： explain 表的结果，type=index，索引物理文件全扫描，速度非常慢，这个 index 级别比较 range 还低，与全表扫描是小巫见大巫。\n\n 9.  【推荐】建组合索引的时候，区分度最高的在最左边。\n     正例： 如果 where a=? and b=? ，a 列的几乎接近于唯一值，那么只需要单建 idx_a 索引即可。\n     说明： 存在非等号和等号混合判断条件时，在建索引时，请把等号条件的列前置。如：where a>? and b=? 那么即使 a 的区分度更高，也必须把 b 放在索引的最前列。\n\n 10. 【推荐】防止因字段类型不同造成的隐式转换，导致索引失效。\n\n 11. 【参考】创建索引时避免有如下极端误解：\n     1）宁滥勿缺。误认为一个查询就需要建一个索引。\n     2）宁缺勿滥。误认为索引会消耗空间、严重拖慢更新和新增速度。\n     3）抵制惟一索引。误认为业务的惟一性一律需要在应用层通过“先查后插”方式解决。\n\n\n# sql 语句\n\n 1.  【强制】不要使用 count(列名)或 count(常量)来替代 count()，count()是 sql92 定义的标准统计行数的语法，跟数据库无关，跟 null 和非 null 无关。\n     说明： count(*)会统计值为 null 的行，而 count(列名)不会统计此列为 null 值的行。\n\n 2.  【强制】count(distinct col) 计算该列除 null 之外的不重复行数，注意 count(distinct col1, col2) 如果其中一列全为 null，那么即使另一列有不同的值，也返回为 0。\n\n 3.  【强制】当某一列的值全是 null 时，count(col)的返回结果为 0，但 sum(col)的返回结果为 null，因此使用 sum()时需注意 npe 问题。\n     正例： 可以使用如下方式来避免 sum 的 npe 问题：select if(isnull(sum(g)),0,sum(g)) from table;\n\n 4.  【强制】使用 isnull()来判断是否为 null 值。注意：null 与任何值的直接比较都为 null。\n     说明：\n     1） null<>null 的返回结果是 null，而不是 false。\n     2） null=null 的返回结果是 null，而不是 true。\n     3） null<>1 的返回结果是 null，而不是 true。\n\n 5.  【强制】在代码中写分页查询逻辑时，若 count 为 0 应直接返回，避免执行后面的分页语句。\n\n 6.  【强制】不得使用外键与级联，一切外键概念必须在应用层解决。\n     说明： （概念解释）学生表中的 student_id 是主键，那么成绩表中的 student_id 则为外键。如果更新学生表中的 student_id，同时触发成绩表中的 student_id 更新，则为级联更新。外键与级联更新适用于单机低并发，不适合分布式、高并发集群；级联更新是强阻塞，存在数据库更新风暴的风险；外键影响数据库的插入速度。\n\n 7.  【强制】禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。\n\n 8.  【强制】数据订正时，删除和修改记录时，要先 select，避免出现误删除，确认无误才能执行更新语句。\n\n 9.  【推荐】in 操作能避免则避免，若实在避免不了，需要仔细评估 in 后边的集合元素数量，控制在 1000 个之内。\n\n 10. 【参考】如果有全球化需要，所有的字符存储与表示，均以 utf-8 编码，注意字符统计函数的区别。\n     说明： select length("轻松工作")； 返回为 12\n     select character_length("轻松工作")； 返回为 4\n     如果要使用表情，那么使用 utfmb4 来进行存储，注意它与 utf-8 编码的区别。\n\n 11. 【参考】truncate table 比 delete 速度快，且使用的系统和事务日志资源少，但 truncate 无事务且不触发 trigger，有可能造成事故，故不建议在开发代码中使用此语句。\n     说明： truncate table 在功能上与不带 where 子句的 delete 语句相同。\n\n\n# orm 映射\n\n 1. 【强制】在表查询中，一律不要使用 * 作为查询的字段列表，需要哪些字段必须明确写明。\n    说明： 1）增加查询分析器解析成本。2）增减字段容易与 resultmap 配置不一致。\n\n 2. 【强制】pojo 类的布尔属性不能加 is，而数据库字段必须加 is_，要求在 resultmap 中进行字段与属性之间的映射。\n    说明： 参见定义 pojo 类以及数据库字段定义规定，在<resultmap>中增加映射，是必须的。在 mybatis generator 生成的代码中，需要进行对应的修改。\n\n 3. 【强制】不要用 resultclass 当返回参数，即使所有类属性名与数据库字段一一对应，也需要定义；反过来，每一个表也必然有一个与之对应。\n    说明： 配置映射关系，使字段与 do 类解耦，方便维护。\n\n 4. 【强制】sql.xml 配置参数使用：#{}，#param# 不要使用${} 此种方式容易出现 sql 注入。\n\n 5. 【强制】ibatis 自带的 queryforlist(string statementname,int start,int size)不推荐使用。\n    说明： 其实现方式是在数据库取到statementname对应的sql语句的所有记录，再通过sublist 取 start,size 的子集合。\n    正例：\n\n map<string, object> map = new hashmap<string, object>();\n map.put("start", start);\n map.put("size", size);\n\n\n1\n2\n3\n\n\n 6.  【强制】不允许直接拿 hashmap 与 hashtable 作为查询结果集的输出。\n     说明： resultclass=”hashtable”，会置入字段名和属性值，但是值的类型不可控。\n\n 7.  【强制】更新数据表记录时，必须同时更新记录对应的 gmt_modified 字段值为当前时间。\n\n 8.  【推荐】不要写一个大而全的数据更新接口，传入为 pojo 类，不管是不是自己的目标更新字段，都进行 update table set c1=value1,c2=value2,c3=value3; 这是不对的。执行 sql 时，不要更新无改动的字段，一是易出错；二是效率低；三是增加 binlog 存储。\n\n 9.  【参考】@transactional 事务不要滥用。事务会影响数据库的 qps，另外使用事务的地方需要考虑各方面的回滚方案，包括缓存回滚、搜索引擎回滚、消息补偿、统计修正等。\n\n 10. 【参考】<isequal>中的 comparevalue 是与属性值对比的常量，一般是数字，表示相等时带上此条件；<isnotempty>表示不为空且不为 null 时执行；<isnotnull>表示不为 null 值时执行。\n\n\n# 工程结构\n\n\n# 应用分层\n\n 1. 【推荐】图中默认上层依赖于下层，箭头关系表示可直接依赖，如：开放接口层可以依赖于 web 层，也可以直接依赖于 service 层，依此类推：\n    \n    \n    \n    * 开放接口层： 可直接封装 service 方法暴露成 rpc 接口；通过 web 封装成 http 接口；进行网关安全控制、流量控制等。\n    * 终端显示层： 各个端的模板渲染并执行显示的层。当前主要是 velocity 渲染，js 渲染，jsp 渲染，移动端展示等。\n    * web 层： 主要是对访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。\n    * service 层： 相对具体的业务逻辑服务层。\n    * manager 层： 通用业务处理层，它有如下特征：\n      1. 对第三方平台封装的层，预处理返回结果及转化异常信息；\n      2. 对 service 层通用能力的下沉，如缓存方案、中间件通用处理；\n      3. 与 dao 层交互，对多个 dao 的组合复用。\n    * dao 层： 数据访问层，与底层 mysql、oracle、hbase 进行数据交互。\n    * 外部接口或第三方平台： 包括其它部门 rpc 开放接口，基础平台，其它公司的 http 接口。\n\n 2. 【参考】 （分层异常处理规约）在 dao 层，产生的异常类型有很多，无法用细粒度的异常进行 catch，使用 catch(exception e)方式，并 throw new daoexception(e)，不需要打印 日志，因为日志在 manager/service 层一定需要捕获并打到日志文件中去，如果同台服务器再打日志，浪费性能和存储。在 service 层出现异常时，必须记录出错日志到磁盘，尽可能带上参数信息，相当于保护案发现场。如果 manager 层与 service 同机部署，日志方式与 dao 层处理一致，如果是单独部署，则采用与 service 一致的处理方式。web 层绝不应该继续往上抛异常，因为已经处于顶层，无继续处理异常的方式，如果意识到这个异常将导致页面无法正常渲染，那么就应该直接跳转到友好错误页面，加上友好的错误提示信息。开放接口层要将异常处理成错误码和错误信息方式返回。\n\n 3. 【参考】分层领域模型规约：\n    \n    * do（data object）： 与数据库表结构一一对应，通过 dao 层向上传输数据源对象。\n    * dto（data transfer object）： 数据传输对象，service 和 manager 向外传输的对象。\n    * bo（business object）： 业务对象。可以由 service 层输出的封装业务逻辑的对象。\n    * query： 数据查询对象，各层接收上层的查询请求。注：超过 2 个参数的查询封装，禁止使用 map 类来传输。\n    * vo（view object）： 显示层对象，通常是 web 向模板渲染引擎层传输的对象。\n\n\n# 二方库依赖\n\n 1.  【强制】定义 gav 遵从以下规则：\n     1） groupid 格式：com.{公司/bu }.业务线.[子业务线]，最多 4 级。\n     说明： {公司/bu} 例如：alibaba/taobao/tmall/aliexpress 等 bu 一级；子业务线可选。\n     正例： com.taobao.jstorm 或 com.alibaba.dubbo.register\n     2） artifactid 格式：产品线名-模块名。语义不重复不遗漏，先到中央仓库去查证一下。\n     正例： dubbo-client / fastjson-api / jstorm-tool\n     3） version：详细规定参考下方。\n\n 2.  【强制】二方库版本号命名方式：主版本号.次版本号.修订号\n     1） 主版本号：当做了不兼容的 api 修改，或者增加了能改变产品方向的新功能。\n     2） 次版本号：当做了向下兼容的功能性新增（新增类、接口等）。\n     3） 修订号：修复 bug，没有修改方法签名的功能加强，保持 api 兼容性。\n     说明： 注意：起始版本号必须为：1.0.0，而不是 0.0.1 正式发布的类库必须先去中央仓库进行查证，使版本号有延续性，正式版本号不允许覆盖升级。如当前版本：1.3.3，那么下一个合理的版本号：1.3.4 或 1.4.0 或 2.0.0\n\n 3.  【强制】线上应用不要依赖 snapshot 版本（安全包除外）。\n     说明： 不依赖 snapshot 版本是保证应用发布的幂等性。另外，也可以加快编译时的打包构建。\n\n 4.  【强制】二方库的新增或升级，保持除功能点之外的其它 jar 包仲裁结果不变。如果有改变， 必须明确评估和验证，建议进行 dependency:resolve 前后信息比对，如果仲裁结果完全不一 致，那么通过 dependency:tree 命令，找出差异点，进行<excludes>排除 jar 包。\n\n 5.  【强制】二方库里可以定义枚举类型，参数可以使用枚举类型，但是接口返回值不允许使用枚 举类型或者包含枚举类型的 pojo 对象。\n\n 6.  【强制】依赖于一个二方库群时，必须定义一个统一的版本变量，避免版本号不一致。 说明：依赖 springframework-core,-context,-beans，它们都是同一个版本，可以定义一 个变量来保存版本：${spring.version}，定义依赖的时候，引用该版本。\n\n 7.  【强制】禁止在子项目的 pom 依赖中出现相同的 groupid，相同的 artifactid，但是不同的 version。\n     说明： 在本地调试时会使用各子项目指定的版本号，但是合并成一个 war，只能有一个版本号 出现在最后的 lib 目录中。可能出现线下调试是正确的，发布到线上却出故障的问题。\n\n 8.  【推荐】所有 pom 文件中的依赖声明放在<dependencies>语句块中，所有版本仲裁放在 <dependencymanagement>语句块中。 说明：<dependencymanagement>里只是声明版本，并不实现引入，因此子项目需要显式的声 明依赖，version 和 scope 都读取自父 pom。而<dependencies>所有声明在主 pom 的 <dependencies>里的依赖都会自动引入，并默认被所有的子项目继承。\n\n 9.  【推荐】二方库不要有配置项，最低限度不要再增加配置项。\n\n 10. 【参考】为避免应用二方库的依赖冲突问题，二方库发布者应当遵循以下原则：\n     1）精简可控原则。移除一切不必要的 api 和依赖，只包含 service api、必要的领域模型对 象、utils 类、常量、枚举等。如果依赖其它二方库，尽量是 provided 引入，让二方库使用 者去依赖具体版本号；无 log 具体实现，只依赖日志框架。\n     2）稳定可追溯原则。每个版本的变化应该被记录，二方库由谁维护，源码在哪里，都需要能 方便查到。除非用户主动升级版本，否则公共二方库的行为不应该发生变化。\n\n\n# 服务器\n\n 1. 【推荐】高并发服务器建议调小 tcp 协议的 time_wait 超时时间。 说明：操作系统默认 240 秒后，才会关闭处于 time_wait 状态的连接，在高并发访问下，服 务器端会因为处于 time_wait 的连接数太多，可能无法建立新的连接，所以需要在服务器上 调小此等待值。\n    正例： 在 linux 服务器上请通过变更/etc/sysctl.conf 文件去修改该缺省值（秒）： net.ipv4.tcp_fin_timeout = 30\n\n 2. 【推荐】调大服务器所支持的最大文件句柄数（file descriptor，简写为 fd）。\n    说明： 主流操作系统的设计是将 tcp/udp 连接采用与文件一样的方式去管理，即一个连接对 应于一个 fd。主流的 linux 服务器默认所支持最大 fd 数量为 1024，当并发连接数很大时很容易因为 fd 不足而出现“open too many files”错误，导致新的连接无法建立。 建议将 linux 服务器所支持的最大句柄数调高数倍（与服务器的内存数量相关）。\n\n 3. 【推荐】给 jvm 设置-xx:+heapdumponoutofmemoryerror 参数，让 jvm 碰到 oom 场景时输出 dump 信息。\n    说明： oom 的发生是有概率的，甚至有规律地相隔数月才出现一例，出现时的现场信息对查错 非常有价值。\n\n 4. 【参考】服务器内部重定向使用 forward；外部重定向地址使用 url 拼装工具类来生成，否则 会带来 url 维护不一致的问题和潜在的安全风险。\n\n\n# 安全规约\n\n 1. 【强制】隶属于用户个人的页面或者功能必须进行权限控制校验。\n    说明： 防止没有做水平权限校验就可随意访问、修改、删除别人的数据，比如查看他人的私信 内容、修改他人的订单。\n\n 2. 【强制】用户敏感数据禁止直接展示，必须对展示数据进行脱敏。\n    说明： 查看个人手机号码会显示成:158****9119，隐藏中间 4 位，防止隐私泄露。\n\n 3. 【强制】用户输入的 sql 参数严格使用参数绑定或者 metadata 字段值限定，防止 sql 注入， 禁止字符串拼接 sql 访问数据库。\n\n 4. 【强制】用户请求传入的任何参数必须做有效性验证。\n    说明： 忽略参数校验可能导致：\n    \n    * page size 过大导致内存溢出\n    * 恶意 order by 导致数据库慢查询\n    * 任意重定向\n    * sql 注入\n    * 反序列化注入\n    * 正则输入源串拒绝服务 redos\n    \n    说明： java 代码用正则来验证客户端的输入，有些正则写法验证普通用户输入没有问题， 但是如果攻击人员使用的是特殊构造的字符串来验证，有可能导致死循环的结果。\n\n 5. 【强制】禁止向 html 页面输出未经安全过滤或未正确转义的用户数据。\n\n 6. 【强制】表单、ajax 提交必须执行 csrf 安全过滤。\n    说明： csrf(cross-site request forgery)跨站请求伪造是一类常见编程漏洞。对于存在 csrf 漏洞的应用/网站，攻击者可以事先构造好 url，只要受害者用户一访问，后台便在用户 不知情情况下对数据库中用户参数进行相应修改。\n\n 7. 【强制】在使用平台资源，譬如短信、邮件、电话、下单、支付，必须实现正确的防重放限制， 如数量限制、疲劳度控制、验证码校验，避免被滥刷、资损。 说明：如注册时发送验证码到手机，如果没有限制次数和频率，那么可以利用此功能骚扰到其 它用户，并造成短信平台资源浪费。\n\n 8. 【推荐】发贴、评论、发送即时消息等用户生成内容的场景必须实现防刷、文本内容违禁词过 滤等风控策略。\n\n\n# 附 1：版本历史\n\n版本号     更新日期        备注\n1.0.0   2017.2.9    集团正式对外发布\n1.0.1   2017.2.13   1）修正 string[]的前后矛盾。2）vm 修正成 velocity。3）修正 countdown 描述错误。\n1.0.2   2017.2.20   1）去除文底水印。2）数据类型中引用太阳系年龄问题。3）修正关于异常和方法签名的部分描述。4）修正 final\n                    描述。5）去除 comparator 部分描述。\n1.1.0   2017.2.27   1）增加前言。2）增加<? extends t>描述和说明。3）增加版本历史。4）增加专有名词解释。\n1.1.1   2017.3.31   修正页码总数和部分示例\n1.2.0   2017.5.20   1）根据云栖社区的“聚能聊”活动反馈，对手册的页码、排版、描述进行修正。2）增加\n                    final的适用场景描述。3）增加关于锁的粒度的说明。4）增加“指定集合大小”的详细说明以及正反例。5）增加卫语句的示例代码。6）明确数据库表示删除概念的字段名为\n                    is_deleted\n\n\n# 附 2：本手册专有名词\n\n 1.  pojo（plain ordinary java object）：在本手册中，pojo 专指只有 setter / getter / tostring 的简单类，包括 do/dto/bo/vo 等。\n\n 2.  do（data object）：本手册指数据库表一一对应的 pojo 类。\n\n 3.  gav（groupid、artifactctid、version）：maven 坐标，是用来唯一标识 jar 包。\n\n 4.  oop（object oriented programming）: 本手册泛指类、对象的编程处理方式。\n\n 5.  orm（object relation mapping）: 对象关系映射，对象领域模型与底层数据之间的转换， 本文泛指 ibatis, mybatis 等框架。\n\n 6.  npe（java.lang.nullpointerexception）: 空指针异常。\n\n 7.  soa（service-oriented architecture）: 面向服务架构，它可以根据需求通过网络对松散 耦合的粗粒度应用组件进行分布式部署、组合和使用，有利于提升组件可重用性，可维护性。\n\n 8.  一方库：本工程内部子项目模块依赖的库（jar 包）。\n\n 9.  二方库：公司内部发布到中央仓库，可供公司内部其它应用依赖的库（jar 包）。\n\n 10. 三方库：公司之外的开源库（jar 包）。',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"项目中的各种 O对象模型 到底是什么",frontmatter:{title:"项目中的各种 O对象模型 到底是什么",date:"2023-05-21T00:00:00.000Z",tags:["开发规范","Java"],categories:["cesiumjs"],isShowComments:!0},regularPath:"/views/specification/objectModel.html",relativePath:"views/specification/objectModel.md",key:"v-490aca87",path:"/views/specification/objectModel.html",headers:[{level:2,title:"VO",slug:"vo",normalizedTitle:"vo",charIndex:9},{level:2,title:"DTO",slug:"dto",normalizedTitle:"dto",charIndex:39},{level:2,title:"PO",slug:"po",normalizedTitle:"po",charIndex:17},{level:2,title:"DAO",slug:"dao",normalizedTitle:"dao",charIndex:52},{level:2,title:"BO",slug:"bo",normalizedTitle:"bo",charIndex:21},{level:2,title:"规范",slug:"规范",normalizedTitle:"规范",charIndex:65}],excerpt:"<Boxx/>\n<p>简单介绍工作中各种VO, TO, PO, BO...</p>\n",headersStr:"VO DTO PO DAO BO 规范",content:"简单介绍工作中各种VO, TO, PO, BO...\n\n\n\n * VO\n * DTO\n * PO\n * DAO\n * BO\n * 规范\n\n\n\n\n# VO\n\nVO：值对象、视图对象\n\n项目中经常用到，主要对应界面显示的数据对象。\n\n在一个 web 页面中，一般用一个 VO 对象对应整个界面的值。\n\n\n# DTO\n\nDTO：Data Transfer Object 数据传输对象\n\n项目中较少用到，主要用于远程调用等需要大量传输对象的地方。\n\n比如我们一张表有 100 个字段，那么对应的 PO 就有 100 个属性。 但是我们界面上只要显示 10 个字段， 客户端用 webService 来获取数据，没有必要把整个 PO 对象传递到客户端， 这时我们就可以用只有这 10 个属性的 DTO 来传递结果到客户端，这样也不会暴露服务端表结构。到达客户端以后，如果用这个对象来对应界面显示，那此时它的身份就转为 VO\n\n\n# PO\n\nPO：persistant object 持久对象\n\n项目中经常用到，可以看成是与数据库中的表相映射的 java 对象。\n\n最简单的 PO 就是对应数据库中某个表中的一条记录，多个记录可以用 PO 的集合。PO 中应该不包含任何对数据库的操作。\n\n\n# DAO\n\nDAO：数据访问对象\n\n项目中经常用到，主要用来封装对数据库的访问。\n\n\n# BO\n\nBO：business object 业务对象\n\n项目中较少用到，封装业务逻辑的 java 对象，通过调用 DAO 方法，结合 PO，VO 进行业务操作。\n\n\n# 规范\n\n> Java 开发手册中的 DO、DTO、BO、AO、VO、POJO 定义\n\n * 分层领域模型规约：\n\nDO（ Data Object）：与数据库表结构一一对应，通过 DAO 层向上传输数据源对象。\n\nDTO（ Data Transfer Object）：数据传输对象，Service 或 Manager 向外传输的对象。\n\nBO（ Business Object）：业务对象。 由 Service 层输出的封装业务逻辑的对象。\n\nAO（ Application Object）：应用对象。 在 Web 层与 Service 层之间抽象的复用对象模型，极为贴近展示层，复用度不高。\n\nVO（ View Object）：显示层对象，通常是 Web 向模板渲染引擎层传输的对象。\n\nPOJO（ Plain Ordinary Java Object）：在本手册中， POJO 专指只有 setter/getter/toString 的简单类，包括 DO/DTO/BO/VO 等。\n\nQuery：数据查询对象，各层接收上层的查询请求。 注意超过 2 个参数的查询封装，禁止使用 Map 类来传输。\n\n * 领域模型命名规约：\n\n数据对象：xxxDO，xxx 即为数据表名。\n\n数据传输对象：xxxDTO，xxx 为业务领域相关的名称。\n\n展示对象：xxxVO，xxx 一般为网页名称。\n\nPOJO 是 DO/DTO/BO/VO 的统称，禁止命名成 xxxPOJO。",normalizedContent:"简单介绍工作中各种vo, to, po, bo...\n\n\n\n * vo\n * dto\n * po\n * dao\n * bo\n * 规范\n\n\n\n\n# vo\n\nvo：值对象、视图对象\n\n项目中经常用到，主要对应界面显示的数据对象。\n\n在一个 web 页面中，一般用一个 vo 对象对应整个界面的值。\n\n\n# dto\n\ndto：data transfer object 数据传输对象\n\n项目中较少用到，主要用于远程调用等需要大量传输对象的地方。\n\n比如我们一张表有 100 个字段，那么对应的 po 就有 100 个属性。 但是我们界面上只要显示 10 个字段， 客户端用 webservice 来获取数据，没有必要把整个 po 对象传递到客户端， 这时我们就可以用只有这 10 个属性的 dto 来传递结果到客户端，这样也不会暴露服务端表结构。到达客户端以后，如果用这个对象来对应界面显示，那此时它的身份就转为 vo\n\n\n# po\n\npo：persistant object 持久对象\n\n项目中经常用到，可以看成是与数据库中的表相映射的 java 对象。\n\n最简单的 po 就是对应数据库中某个表中的一条记录，多个记录可以用 po 的集合。po 中应该不包含任何对数据库的操作。\n\n\n# dao\n\ndao：数据访问对象\n\n项目中经常用到，主要用来封装对数据库的访问。\n\n\n# bo\n\nbo：business object 业务对象\n\n项目中较少用到，封装业务逻辑的 java 对象，通过调用 dao 方法，结合 po，vo 进行业务操作。\n\n\n# 规范\n\n> java 开发手册中的 do、dto、bo、ao、vo、pojo 定义\n\n * 分层领域模型规约：\n\ndo（ data object）：与数据库表结构一一对应，通过 dao 层向上传输数据源对象。\n\ndto（ data transfer object）：数据传输对象，service 或 manager 向外传输的对象。\n\nbo（ business object）：业务对象。 由 service 层输出的封装业务逻辑的对象。\n\nao（ application object）：应用对象。 在 web 层与 service 层之间抽象的复用对象模型，极为贴近展示层，复用度不高。\n\nvo（ view object）：显示层对象，通常是 web 向模板渲染引擎层传输的对象。\n\npojo（ plain ordinary java object）：在本手册中， pojo 专指只有 setter/getter/tostring 的简单类，包括 do/dto/bo/vo 等。\n\nquery：数据查询对象，各层接收上层的查询请求。 注意超过 2 个参数的查询封装，禁止使用 map 类来传输。\n\n * 领域模型命名规约：\n\n数据对象：xxxdo，xxx 即为数据表名。\n\n数据传输对象：xxxdto，xxx 为业务领域相关的名称。\n\n展示对象：xxxvo，xxx 一般为网页名称。\n\npojo 是 do/dto/bo/vo 的统称，禁止命名成 xxxpojo。",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Linux 系统内存不足导致 Java 进程被杀掉",frontmatter:{title:"Linux 系统内存不足导致 Java 进程被杀掉",date:"2023-01-12T00:00:00.000Z",tags:["linux"],categories:["cesiumjs"],isShowComments:!0,publish:!0},regularPath:"/views/specification/linux02.html",relativePath:"views/specification/linux02.md",key:"v-1712e387",path:"/views/specification/linux02.html",headers:[{level:2,title:"问题排查",slug:"问题排查",normalizedTitle:"问题排查",charIndex:54},{level:2,title:"原因分析",slug:"原因分析",normalizedTitle:"原因分析",charIndex:62},{level:2,title:"解决方法",slug:"解决方法",normalizedTitle:"解决方法",charIndex:70}],excerpt:'<Boxx/>\n<p>查看java系统错误日志、gc日志都没有发现任何问题，服务器应用总是隔三岔五莫名其妙被停掉。。</p>\n<p><div class="table-of-contents"><ul></ul></div></p>\n',headersStr:"问题排查 原因分析 解决方法",content:"查看java系统错误日志、gc日志都没有发现任何问题，服务器应用总是隔三岔五莫名其妙被停掉。。\n\n\n\n * 问题排查\n * 原因分析\n * 解决方法\n\n\n\nLinux内存使用量超过阈值，使得Java应用程序无可用内存，最终导致程序崩溃。即使在程序没有挂掉时把程序停掉，系统内存也不会被释放。\n\n\n# 问题排查\n\n查看 Linux 的系统日志 /var/log/message 出现如下日志，说明 Linux 系统自身把 Java 进程杀掉了\n\n# grep 'Out of memory' messages*\nDec 14 11:21:59 ecs-web kernel: Out of memory: Kill process 17873 (java) score 67 or sacrifice child\n\n\n1\n2\n\n\n当 Linux 系统内存不足时，系统会把当前系统占用系统内存过高的进程当做流氓进程，然后系统发出信号将这个流氓进程杀掉，最后导致 Java 应用服务不能使用\n\n\n# 原因分析\n\nLinux 内核有个机制叫OOM killer(Out Of Memory killer)，该机制会监控那些占用内存过大，尤其是瞬间占用内存很快的进程，然后防止内存耗尽而自动把该进程杀掉。\n\n内核检测到系统内存不足、挑选并杀掉某个进程的过程可以参考内核源代码linux/mm/oom_kill.c，当系统内存不足的时候，out_of_memory()被触发，然后调用select_bad_process()选择一个”bad”进程杀掉。\n\n如何判断和选择一个”bad进程呢？linux选择”bad”进程是通过调用oom_badness()，挑选的算法和想法都很简单很朴实：最bad的那个进程就是那个最占用内存的进程。\n\nLinux下这个选择策略也一直在不断的演化。作为用户，我们可以通过设置一些值来影响OOM killer做出决策。Linux下每个进程都有个OOM权重，在/proc//oom_adj里面，取值是-17到+15，取值越高，越容易被干掉。\n\n最终OOM killer是通过/proc//oom_score这个值来决定哪个进程被干掉的。这个值是系统综合进程的内存消耗量、CPU时间(utime + stime)、存活时间(uptime - start time)和oom_adj计算出的，消耗内存越多分越高，存活时间越长分越低。总之，总的策略是：损失最少的工作，释放最大的内存同时不伤及无辜的用了很大内存的进程，并且杀掉的进程数尽量少。\n\n\n# 解决方法\n\n方法1：通过调整 JVM 参数限制最大可使用内存\n\n-Xmx2g\n\n\n1\n\n\n方法2：启用 swap 分区 参考https://help.aliyun.com/knowledge_detail/42534.html\n\n方法3：增加物理内存或增加机器\n\n方法4：将应用分配到压力较小的服务器上",normalizedContent:"查看java系统错误日志、gc日志都没有发现任何问题，服务器应用总是隔三岔五莫名其妙被停掉。。\n\n\n\n * 问题排查\n * 原因分析\n * 解决方法\n\n\n\nlinux内存使用量超过阈值，使得java应用程序无可用内存，最终导致程序崩溃。即使在程序没有挂掉时把程序停掉，系统内存也不会被释放。\n\n\n# 问题排查\n\n查看 linux 的系统日志 /var/log/message 出现如下日志，说明 linux 系统自身把 java 进程杀掉了\n\n# grep 'out of memory' messages*\ndec 14 11:21:59 ecs-web kernel: out of memory: kill process 17873 (java) score 67 or sacrifice child\n\n\n1\n2\n\n\n当 linux 系统内存不足时，系统会把当前系统占用系统内存过高的进程当做流氓进程，然后系统发出信号将这个流氓进程杀掉，最后导致 java 应用服务不能使用\n\n\n# 原因分析\n\nlinux 内核有个机制叫oom killer(out of memory killer)，该机制会监控那些占用内存过大，尤其是瞬间占用内存很快的进程，然后防止内存耗尽而自动把该进程杀掉。\n\n内核检测到系统内存不足、挑选并杀掉某个进程的过程可以参考内核源代码linux/mm/oom_kill.c，当系统内存不足的时候，out_of_memory()被触发，然后调用select_bad_process()选择一个”bad”进程杀掉。\n\n如何判断和选择一个”bad进程呢？linux选择”bad”进程是通过调用oom_badness()，挑选的算法和想法都很简单很朴实：最bad的那个进程就是那个最占用内存的进程。\n\nlinux下这个选择策略也一直在不断的演化。作为用户，我们可以通过设置一些值来影响oom killer做出决策。linux下每个进程都有个oom权重，在/proc//oom_adj里面，取值是-17到+15，取值越高，越容易被干掉。\n\n最终oom killer是通过/proc//oom_score这个值来决定哪个进程被干掉的。这个值是系统综合进程的内存消耗量、cpu时间(utime + stime)、存活时间(uptime - start time)和oom_adj计算出的，消耗内存越多分越高，存活时间越长分越低。总之，总的策略是：损失最少的工作，释放最大的内存同时不伤及无辜的用了很大内存的进程，并且杀掉的进程数尽量少。\n\n\n# 解决方法\n\n方法1：通过调整 jvm 参数限制最大可使用内存\n\n-xmx2g\n\n\n1\n\n\n方法2：启用 swap 分区 参考https://help.aliyun.com/knowledge_detail/42534.html\n\n方法3：增加物理内存或增加机器\n\n方法4：将应用分配到压力较小的服务器上",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"版本控制提交规范你会了吗？",frontmatter:{title:"版本控制提交规范你会了吗？",date:"2022-09-07T00:00:00.000Z",tags:["开发规范","Java"],categories:["cesiumjs"],isShowComments:!0},regularPath:"/views/specification/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html",relativePath:"views/specification/提交规范.md",key:"v-601bcf1a",path:"/views/specification/%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83.html",headers:[{level:2,title:"提交规范的作用",slug:"提交规范的作用",normalizedTitle:"提交规范的作用",charIndex:3},{level:2,title:"提交规范",slug:"提交规范",normalizedTitle:"提交规范",charIndex:3},{level:2,title:"提交类别",slug:"提交类别",normalizedTitle:"提交类别",charIndex:22},{level:2,title:"示例：",slug:"示例",normalizedTitle:"示例：",charIndex:30}],excerpt:"<Boxx/>\n",headersStr:"提交规范的作用 提交规范 提交类别 示例：",content:" * 提交规范的作用\n * 提交规范\n * 提交类别\n * 示例：\n\n\n\n\n# 提交规范的作用\n\n * 提供更多的信息，方便排查与回退\n * 过滤关键字，迅速定位\n * 方便生成文档\n\n\n# 提交规范\n\n规范版本记录提交信息，在提交信息中描述新特性、bug 修复和破坏性变更。\n\n提交 message 格式如下:\n\n&lt;类型>[可选的作用域]: &lt;描述>\n\n[可选的正文]\n\n[可选的脚注]\n\n\n1\n2\n3\n4\n5\n\n\n\n# 提交类别\n\ncommit 的类型，包涵以下几种：\n\nCODE            INFO\nfeat: msg       新功能 feature\nfix: msg        修复 bug\nmerge: msg      merge\ndocs: msg       文档修改\nstyle: msg      更改了前端样式\njs: msg         更改了前端代码\nrefactor: msg   重构：即不是新增功能，也不是修改 bug 的代码变动\ntest: msg       增加测试\nchore: msg      构建过程或辅助工具的变动\nrm: msg         删除文件或代码\n\n\n# 示例：\n\nfeat($browser): onUrlChange event (popstate/hashchange/polling)\n\nAdded new event to $browser:\n- forward popstate event if available\n- forward hashchange event if popstate not available\n- do polling when neither popstate nor hashchange available\n\nBreaks $browser.onHashChange, which was removed (use onUrlChange instead)\n\n---------\n\nfix($compile): couple of unit tests for IE9\n\nOlder IEs serialize html uppercased, but IE9 does not...\nWould be better to expect case insensitive, unfortunately jasmine does\nnot allow to user regexps for throw expectations.\n\nCloses #392\nBreaks foo.bar api, foo.baz should be used instead\n\n---------\n\neat(directive): ng:disabled, ng:checked, ng:multiple, ng:readonly, ng:selected\n\nNew directives for proper binding these attributes in older browsers (IE).\nAdded coresponding description, live examples and e2e tests.\n\nCloses #351\n\n---------\n\nfeat($compile): simplify isolate scope bindings\n\nChanged the isolate scope binding options to:\n  - @attr - attribute binding (including interpolation)\n  - =model - by-directional model binding\n  - &expr - expression execution binding\n\nThis change simplifies the terminology as well as\nnumber of choices available to the developer. It\nalso supports local name aliasing from the parent.\n\nBREAKING CHANGE: isolate scope bindings definition has changed and\nthe inject option for the directive controller injection was removed.\n\nTo migrate the code follow the example below:\n\nBefore:\n\nscope: {\n  myAttr: 'attribute',\n  myBind: 'bind',\n  myExpression: 'expression',\n  myEval: 'evaluate',\n  myAccessor: 'accessor'\n}\n\nAfter:\n\nscope: {\n  myAttr: '@',\n  myBind: '@',\n  myExpression: '&',\n  // myEval - usually not useful, but in cases where the expression is assignable, you can use '='\n  myAccessor: '=' // in directive's template change myAccessor() to myAccessor\n}\n\nThe removed `inject` wasn't generaly useful for directives so there should be no code using it.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\n当然，我们一般不用书写这么详细，在工作中简明扼要即可，如：\n\nfeat($theme-default): add code group and code block components\n\n\n1\n",normalizedContent:" * 提交规范的作用\n * 提交规范\n * 提交类别\n * 示例：\n\n\n\n\n# 提交规范的作用\n\n * 提供更多的信息，方便排查与回退\n * 过滤关键字，迅速定位\n * 方便生成文档\n\n\n# 提交规范\n\n规范版本记录提交信息，在提交信息中描述新特性、bug 修复和破坏性变更。\n\n提交 message 格式如下:\n\n&lt;类型>[可选的作用域]: &lt;描述>\n\n[可选的正文]\n\n[可选的脚注]\n\n\n1\n2\n3\n4\n5\n\n\n\n# 提交类别\n\ncommit 的类型，包涵以下几种：\n\ncode            info\nfeat: msg       新功能 feature\nfix: msg        修复 bug\nmerge: msg      merge\ndocs: msg       文档修改\nstyle: msg      更改了前端样式\njs: msg         更改了前端代码\nrefactor: msg   重构：即不是新增功能，也不是修改 bug 的代码变动\ntest: msg       增加测试\nchore: msg      构建过程或辅助工具的变动\nrm: msg         删除文件或代码\n\n\n# 示例：\n\nfeat($browser): onurlchange event (popstate/hashchange/polling)\n\nadded new event to $browser:\n- forward popstate event if available\n- forward hashchange event if popstate not available\n- do polling when neither popstate nor hashchange available\n\nbreaks $browser.onhashchange, which was removed (use onurlchange instead)\n\n---------\n\nfix($compile): couple of unit tests for ie9\n\nolder ies serialize html uppercased, but ie9 does not...\nwould be better to expect case insensitive, unfortunately jasmine does\nnot allow to user regexps for throw expectations.\n\ncloses #392\nbreaks foo.bar api, foo.baz should be used instead\n\n---------\n\neat(directive): ng:disabled, ng:checked, ng:multiple, ng:readonly, ng:selected\n\nnew directives for proper binding these attributes in older browsers (ie).\nadded coresponding description, live examples and e2e tests.\n\ncloses #351\n\n---------\n\nfeat($compile): simplify isolate scope bindings\n\nchanged the isolate scope binding options to:\n  - @attr - attribute binding (including interpolation)\n  - =model - by-directional model binding\n  - &expr - expression execution binding\n\nthis change simplifies the terminology as well as\nnumber of choices available to the developer. it\nalso supports local name aliasing from the parent.\n\nbreaking change: isolate scope bindings definition has changed and\nthe inject option for the directive controller injection was removed.\n\nto migrate the code follow the example below:\n\nbefore:\n\nscope: {\n  myattr: 'attribute',\n  mybind: 'bind',\n  myexpression: 'expression',\n  myeval: 'evaluate',\n  myaccessor: 'accessor'\n}\n\nafter:\n\nscope: {\n  myattr: '@',\n  mybind: '@',\n  myexpression: '&',\n  // myeval - usually not useful, but in cases where the expression is assignable, you can use '='\n  myaccessor: '=' // in directive's template change myaccessor() to myaccessor\n}\n\nthe removed `inject` wasn't generaly useful for directives so there should be no code using it.\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n\n\n当然，我们一般不用书写这么详细，在工作中简明扼要即可，如：\n\nfeat($theme-default): add code group and code block components\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"CannonJS物理引擎",frontmatter:{title:"CannonJS物理引擎",date:"2023-12-24T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/CannonJS%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E.html",relativePath:"views/threejs/CannonJS物理引擎.md",key:"v-6d5ac3b6",path:"/views/threejs/CannonJS%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E.html",headers:[{level:2,title:"小球自由落体",slug:"小球自由落体",normalizedTitle:"小球自由落体",charIndex:3},{level:2,title:"落地反弹",slug:"落地反弹",normalizedTitle:"落地反弹",charIndex:13}],excerpt:"<Boxx/>\n",headersStr:"小球自由落体 落地反弹",content:" * 小球自由落体\n * 落地反弹\n\n\n\n\n# 小球自由落体\n\n// 引入cannon-es\nimport * as CANNON from 'cannon-es';\n\nconst world = new CANNON.World();\n// 设置物理世界重力加速度\n// world.gravity.set(0, -9.8, 0);\nworld.gravity.set(0, -1, 0);\n\n// 物理小球：对应threejs的网格小球\nconst body = new CANNON.Body({\n    mass: 0.3,//碰撞体质量\n    shape: new CANNON.Sphere(1)\n});\nbody.position.y = 100;\nworld.addBody(body);\n\n\n// 网格小球\nconst geometry = new THREE.SphereGeometry(1);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.position.y = 100;\n\n//场景\nconst scene = new THREE.Scene();\nscene.add(mesh); //模型对象添加到场景中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 落地反弹\n\n// 引入cannon-es\nimport * as CANNON from 'cannon-es';\n\nconst world = new CANNON.World();\n// 设置物理世界重力加速度\n// world.gravity.set(0, -9.8, 0);\nworld.gravity.set(0, -50, 0);\n\nconst sphereMaterial = new CANNON.Material()\n// 物理小球：对应threejs的网格小球\nconst body = new CANNON.Body({\n    mass: 0.3,//碰撞体质量\n    material: sphereMaterial,//碰撞体材质\n    shape: new CANNON.Sphere(1.5)\n});\n\nbody.position.y = 100;\nworld.addBody(body);\n\n// 物理地面\nconst groundMaterial = new CANNON.Material()\nconst groundBody = new CANNON.Body({\n    mass: 0, // 质量为0，始终保持静止，不会受到力碰撞或加速度影响\n    shape: new CANNON.Plane(),\n    material: groundMaterial,\n});\n// 改变平面默认的方向，法线默认沿着z轴，旋转到平面向上朝着y方向\ngroundBody.quaternion.setFromEuler(-Math.PI / 2, 0, 0);//旋转规律类似threejs 平面\nworld.addBody(groundBody);\n\n// 设置地面材质和小球材质之间的碰撞反弹恢复系数\nconst contactMaterial = new CANNON.ContactMaterial(groundMaterial, sphereMaterial, {\n    restitution: 0.7, //反弹恢复系数\n})\n// 把关联的材质添加到物理世界中\nworld.addContactMaterial(contactMaterial)\n\n// 网格小球\nconst geometry = new THREE.SphereGeometry(1.5);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0xffff00,\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.position.y = 100;\n\n// 网格地面\nconst planeGeometry = new THREE.PlaneGeometry(200, 200);\nconst texture = new THREE.TextureLoader().load('./瓷砖.jpg');\ntexture.wrapS = THREE.RepeatWrapping;\ntexture.wrapT = THREE.RepeatWrapping;\ntexture.repeat.set(3, 3);\nconst planeMaterial = new THREE.MeshLambertMaterial({\n    color:0x777777,\n    map: texture,\n});\nconst planeMesh = new THREE.Mesh(planeGeometry, planeMaterial);\nplaneMesh.rotateX(-Math.PI / 2);\n\n//场景\nconst scene = new THREE.Scene();\nscene.add(mesh, planeMesh); //模型对象添加到场景中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n",normalizedContent:" * 小球自由落体\n * 落地反弹\n\n\n\n\n# 小球自由落体\n\n// 引入cannon-es\nimport * as cannon from 'cannon-es';\n\nconst world = new cannon.world();\n// 设置物理世界重力加速度\n// world.gravity.set(0, -9.8, 0);\nworld.gravity.set(0, -1, 0);\n\n// 物理小球：对应threejs的网格小球\nconst body = new cannon.body({\n    mass: 0.3,//碰撞体质量\n    shape: new cannon.sphere(1)\n});\nbody.position.y = 100;\nworld.addbody(body);\n\n\n// 网格小球\nconst geometry = new three.spheregeometry(1);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.position.y = 100;\n\n//场景\nconst scene = new three.scene();\nscene.add(mesh); //模型对象添加到场景中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 落地反弹\n\n// 引入cannon-es\nimport * as cannon from 'cannon-es';\n\nconst world = new cannon.world();\n// 设置物理世界重力加速度\n// world.gravity.set(0, -9.8, 0);\nworld.gravity.set(0, -50, 0);\n\nconst spherematerial = new cannon.material()\n// 物理小球：对应threejs的网格小球\nconst body = new cannon.body({\n    mass: 0.3,//碰撞体质量\n    material: spherematerial,//碰撞体材质\n    shape: new cannon.sphere(1.5)\n});\n\nbody.position.y = 100;\nworld.addbody(body);\n\n// 物理地面\nconst groundmaterial = new cannon.material()\nconst groundbody = new cannon.body({\n    mass: 0, // 质量为0，始终保持静止，不会受到力碰撞或加速度影响\n    shape: new cannon.plane(),\n    material: groundmaterial,\n});\n// 改变平面默认的方向，法线默认沿着z轴，旋转到平面向上朝着y方向\ngroundbody.quaternion.setfromeuler(-math.pi / 2, 0, 0);//旋转规律类似threejs 平面\nworld.addbody(groundbody);\n\n// 设置地面材质和小球材质之间的碰撞反弹恢复系数\nconst contactmaterial = new cannon.contactmaterial(groundmaterial, spherematerial, {\n    restitution: 0.7, //反弹恢复系数\n})\n// 把关联的材质添加到物理世界中\nworld.addcontactmaterial(contactmaterial)\n\n// 网格小球\nconst geometry = new three.spheregeometry(1.5);\nconst material = new three.meshlambertmaterial({\n    color: 0xffff00,\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.position.y = 100;\n\n// 网格地面\nconst planegeometry = new three.planegeometry(200, 200);\nconst texture = new three.textureloader().load('./瓷砖.jpg');\ntexture.wraps = three.repeatwrapping;\ntexture.wrapt = three.repeatwrapping;\ntexture.repeat.set(3, 3);\nconst planematerial = new three.meshlambertmaterial({\n    color:0x777777,\n    map: texture,\n});\nconst planemesh = new three.mesh(planegeometry, planematerial);\nplanemesh.rotatex(-math.pi / 2);\n\n//场景\nconst scene = new three.scene();\nscene.add(mesh, planemesh); //模型对象添加到场景中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"DEM模型",frontmatter:{title:"DEM模型",date:"2023-12-26T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/DEM%E6%A8%A1%E5%9E%8B.html",relativePath:"views/threejs/DEM模型.md",key:"v-dce2ada6",path:"/views/threejs/DEM%E6%A8%A1%E5%9E%8B.html",headers:[{level:2,title:"查看或设置gltf几何体顶点",slug:"查看或设置gltf几何体顶点",normalizedTitle:"查看或设置gltf几何体顶点",charIndex:3},{level:2,title:"22.山脉地形高度可视化",slug:"_22-山脉地形高度可视化",normalizedTitle:"22.山脉地形高度可视化",charIndex:21}],excerpt:"<Boxx/>\n",headersStr:"查看或设置gltf几何体顶点 22.山脉地形高度可视化",content:' * 查看或设置gltf几何体顶点\n * 22.山脉地形高度可视化\n\n\n\n\n# 查看或设置gltf几何体顶点\n\n// 引入Three.js\nimport * as THREE from \'three\';\n// 引入gltf模型加载库GLTFLoader.js\nimport {\n    GLTFLoader\n} from \'three/addons/loaders/GLTFLoader.js\';\n\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); \n\nloader.load("../地形.glb", function (gltf) { \n    model.add(gltf.scene); \n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    // 顶点位置数据\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count; //几何体顶点数量\n    // 批量设置所有几何体顶点位置的y坐标\n    for (let i = 0; i < count; i++) {\n        const y = pos.getY(i);//获取第i+1个顶点y坐标\n        pos.setY(i,y*2)//设置第i+1个顶点y坐标为自身2倍\n    }\n})\n\n\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 22.山脉地形高度可视化\n\n根据DEM数据的高度来设置颜色\n\nloader.load("../地形.glb", function (gltf) { //gltf加载成功后返回一个对象\n\n    model.add(gltf.scene); //三维场景添加到model组对象中\n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    // 1. 山脉顶点数据\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count;//几何体顶点数量\n\n    // 2. 计算模型y坐标高度差\n    const yArr = [];//顶点所有y坐标，也就是地形高度\n    for (let i = 0; i < count; i++) {\n        yArr.push(pos.getY(i));//获取顶点y坐标，也就是地形高度\n    }\n    yArr.sort();//y坐标排序，以便于计算地形高度差\n    const miny = yArr[0];\n    const maxy = yArr[yArr.length - 1];\n    const height = maxy - miny; //山脉整体高度  \n\n    // 3. 计算每个顶点的颜色值\n    const colorsArr = [];\n    const c1 = new THREE.Color(0x0000ff);//山谷颜色\n    const c2 = new THREE.Color(0xff0000);//山顶颜色\n    for (let i = 0; i < count; i++) {\n        //当前高度和整体高度比值\n        const percent = (pos.getY(i) - miny) / height;\n        const c = c1.clone().lerp(c2, percent);//颜色插值计算\n        colorsArr.push(c.r, c.g, c.b); \n    }\n    const colors = new Float32Array(colorsArr);\n    // 设置几何体attributes属性的颜色color属性\n    mesh.geometry.attributes.color = new THREE.BufferAttribute(colors, 3);\n    // 4. 设置材质，使用顶点颜色渲染\n    mesh.material = new THREE.MeshLambertMaterial({\n        vertexColors:true,\n    });\n})\n\n\n//三色\nloader.load("../地形.glb", function (gltf) { //gltf加载成功后返回一个对象\n\n    model.add(gltf.scene); //三维场景添加到model组对象中\n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count; //几何体顶点数量\n\n    // 1. 计算模型y坐标高度差\n    const yArr = []; //顶点所有y坐标，也就是地形高度\n    for (let i = 0; i < count; i++) {\n        yArr.push(pos.getY(i)); //获取顶点y坐标，也就是地形高度\n    }\n    yArr.sort();//数组元素排序，从小到大\n    const miny = yArr[0];//y最小值\n    const maxy = yArr[yArr.length - 1];//y最大值\n    \n    const height = maxy - miny; //山脉整体高度  \n\n    // 2. 计算每个顶点的颜色值\n    const colorsArr = [];\n    const color1 = new THREE.Color(0x0000ff); //山谷颜色\n    const color2 = new THREE.Color(0x00ff00); //山腰颜色\n    const color3 = new THREE.Color(0xff0000); //山顶颜色\n    for (let i = 0; i < count; i++) {\n        //当前高度和整体高度比值\n        const percent = (pos.getY(i) - miny) / height;\n        // 颜色插值计算\n        let c = null;\n        if (percent <= 0.5) { //0.5作为颜色插值分界点\n            // color1到color2之间插值\n            c = color1.clone().lerp(color2, percent * 2)\n        } else {\n            // color2到color3之间插值\n            c = color2.clone().lerp(color3, (percent - 0.5) * 2)\n        }\n        colorsArr.push(c.r, c.g, c.b);\n    }\n    const colors = new Float32Array(colorsArr);\n    // 设置几何体attributes属性的颜色color属性\n    mesh.geometry.attributes.color = new THREE.BufferAttribute(colors, 3);\n    // 3. 设置材质，使用顶点颜色渲染\n    mesh.material = new THREE.MeshLambertMaterial({\n        vertexColors: true,\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n',normalizedContent:' * 查看或设置gltf几何体顶点\n * 22.山脉地形高度可视化\n\n\n\n\n# 查看或设置gltf几何体顶点\n\n// 引入three.js\nimport * as three from \'three\';\n// 引入gltf模型加载库gltfloader.js\nimport {\n    gltfloader\n} from \'three/addons/loaders/gltfloader.js\';\n\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); \n\nloader.load("../地形.glb", function (gltf) { \n    model.add(gltf.scene); \n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    // 顶点位置数据\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count; //几何体顶点数量\n    // 批量设置所有几何体顶点位置的y坐标\n    for (let i = 0; i < count; i++) {\n        const y = pos.gety(i);//获取第i+1个顶点y坐标\n        pos.sety(i,y*2)//设置第i+1个顶点y坐标为自身2倍\n    }\n})\n\n\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 22.山脉地形高度可视化\n\n根据dem数据的高度来设置颜色\n\nloader.load("../地形.glb", function (gltf) { //gltf加载成功后返回一个对象\n\n    model.add(gltf.scene); //三维场景添加到model组对象中\n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    // 1. 山脉顶点数据\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count;//几何体顶点数量\n\n    // 2. 计算模型y坐标高度差\n    const yarr = [];//顶点所有y坐标，也就是地形高度\n    for (let i = 0; i < count; i++) {\n        yarr.push(pos.gety(i));//获取顶点y坐标，也就是地形高度\n    }\n    yarr.sort();//y坐标排序，以便于计算地形高度差\n    const miny = yarr[0];\n    const maxy = yarr[yarr.length - 1];\n    const height = maxy - miny; //山脉整体高度  \n\n    // 3. 计算每个顶点的颜色值\n    const colorsarr = [];\n    const c1 = new three.color(0x0000ff);//山谷颜色\n    const c2 = new three.color(0xff0000);//山顶颜色\n    for (let i = 0; i < count; i++) {\n        //当前高度和整体高度比值\n        const percent = (pos.gety(i) - miny) / height;\n        const c = c1.clone().lerp(c2, percent);//颜色插值计算\n        colorsarr.push(c.r, c.g, c.b); \n    }\n    const colors = new float32array(colorsarr);\n    // 设置几何体attributes属性的颜色color属性\n    mesh.geometry.attributes.color = new three.bufferattribute(colors, 3);\n    // 4. 设置材质，使用顶点颜色渲染\n    mesh.material = new three.meshlambertmaterial({\n        vertexcolors:true,\n    });\n})\n\n\n//三色\nloader.load("../地形.glb", function (gltf) { //gltf加载成功后返回一个对象\n\n    model.add(gltf.scene); //三维场景添加到model组对象中\n    //mesh表示地形网格模型\n    const mesh = gltf.scene.children[0];\n    const pos = mesh.geometry.attributes.position;\n    const count = pos.count; //几何体顶点数量\n\n    // 1. 计算模型y坐标高度差\n    const yarr = []; //顶点所有y坐标，也就是地形高度\n    for (let i = 0; i < count; i++) {\n        yarr.push(pos.gety(i)); //获取顶点y坐标，也就是地形高度\n    }\n    yarr.sort();//数组元素排序，从小到大\n    const miny = yarr[0];//y最小值\n    const maxy = yarr[yarr.length - 1];//y最大值\n    \n    const height = maxy - miny; //山脉整体高度  \n\n    // 2. 计算每个顶点的颜色值\n    const colorsarr = [];\n    const color1 = new three.color(0x0000ff); //山谷颜色\n    const color2 = new three.color(0x00ff00); //山腰颜色\n    const color3 = new three.color(0xff0000); //山顶颜色\n    for (let i = 0; i < count; i++) {\n        //当前高度和整体高度比值\n        const percent = (pos.gety(i) - miny) / height;\n        // 颜色插值计算\n        let c = null;\n        if (percent <= 0.5) { //0.5作为颜色插值分界点\n            // color1到color2之间插值\n            c = color1.clone().lerp(color2, percent * 2)\n        } else {\n            // color2到color3之间插值\n            c = color2.clone().lerp(color3, (percent - 0.5) * 2)\n        }\n        colorsarr.push(c.r, c.g, c.b);\n    }\n    const colors = new float32array(colorsarr);\n    // 设置几何体attributes属性的颜色color属性\n    mesh.geometry.attributes.color = new three.bufferattribute(colors, 3);\n    // 3. 设置材质，使用顶点颜色渲染\n    mesh.material = new three.meshlambertmaterial({\n        vertexcolors: true,\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"ExtrudeGeometry批量渲染建筑物",frontmatter:{title:"ExtrudeGeometry批量渲染建筑物",date:"2023-12-27T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/ExtrudeGeometry%E6%89%B9%E9%87%8F%E6%B8%B2%E6%9F%93%E5%BB%BA%E7%AD%91%E7%89%A9.html",relativePath:"views/threejs/ExtrudeGeometry批量渲染建筑物.md",key:"v-506ab18d",path:"/views/threejs/ExtrudeGeometry%E6%89%B9%E9%87%8F%E6%B8%B2%E6%9F%93%E5%BB%BA%E7%AD%91%E7%89%A9.html",headers:[{level:2,title:"ExtrudeGeometry",slug:"extrudegeometry",normalizedTitle:"extrudegeometry",charIndex:3},{level:2,title:"拉伸建筑",slug:"拉伸建筑",normalizedTitle:"拉伸建筑",charIndex:22},{level:2,title:"模型的导出(下载)",slug:"模型的导出-下载",normalizedTitle:"模型的导出(下载)",charIndex:30}],excerpt:"<Boxx/>\n",headersStr:"ExtrudeGeometry 拉伸建筑 模型的导出(下载)",content:" * ExtrudeGeometry\n * 拉伸建筑\n * 模型的导出(下载)\n\n采用ExtrudeGeometry把平面建筑拉伸高度\n\n\n\n\n# ExtrudeGeometry\n\nvar model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\n\nvar shape1 = new THREE.Shape([\n  // 一个多边形轮廓的五个顶点坐标\n  new THREE.Vector2(0, 0),\n  new THREE.Vector2(60, 0),\n  new THREE.Vector2(60, 80),\n  new THREE.Vector2(40, 120),\n  new THREE.Vector2(-20, 80),\n]);\n\nvar shape2 = new THREE.Shape([\n  new THREE.Vector2(100, 0),\n  new THREE.Vector2(160, 0),\n  new THREE.Vector2(160, 80),\n  new THREE.Vector2(140, 120),\n]);\n\n//ShapeGeometry：填充多边形\nvar geometry = new THREE.ExtrudeGeometry([shape1, shape2], {\n  depth: 50, //拉伸高度\n  bevelEnabled: false, //无倒角\n});\n\n\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff,\n  side: THREE.DoubleSide,\n  // wireframe:true,//查看生成的三角形\n}); //材质对象\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象\n\nmodel.add(mesh); //网格模型添加到model中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 拉伸建筑\n\n建筑数据拉伸 ,河流只填充\n\n// MeshBasicMaterial:不受光照影响\n// MeshLambertMaterial：几何体表面和光线角度不同，明暗不同\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x009999,\n}); //材质对象\n// pointsArrs：多个轮廓，一个轮廓对应pointsArrs的一个元素\nfunction ExtrudeMesh(pointsArrs, height) {\n  var shapeArr = []; //轮廓形状Shape集合\n  pointsArrs.forEach(pointsArr => {\n    var vector2Arr = [];\n    // 转化为Vector2构成的顶点数组\n    pointsArr[0].forEach(elem => {\n      var xy = lon2xy(elem[0],elem[1]);//经纬度转墨卡托坐标\n      vector2Arr.push(new THREE.Vector2(xy.x, xy.y));\n    });\n    var shape = new THREE.Shape(vector2Arr);\n    shapeArr.push(shape);\n  });\n\n  var geometry = new THREE.ExtrudeGeometry( //拉伸造型\n    shapeArr, //多个多边形二维轮廓\n    //拉伸参数\n    {\n      depth: height, //拉伸高度\n      bevelEnabled: false, //无倒角\n    }\n  );\n  var mesh = new THREE.Mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n\n\n# 模型的导出(下载)\n\n// 从项目中指定路径导入 GLTFExporter\nimport { GLTFExporter } from '../../../../three.js-r133/examples/jsm/exporters/GLTFExporter.js';\n\n// 定义一个名为 exportGLTF 的函数，接受一个名为 'input' 的参数\nfunction exportGLTF(input) {\n    // 创建 GLTFExporter 的实例\n    var gltfExporter = new GLTFExporter();\n\n    // 定义导出选项\n    var options = {\n        trs: false,                  // 不包含变换（位置、旋转、缩放）\n        onlyVisible: true,           // 仅导出可见的对象\n        truncateDrawRange: true,     // 截断几何体的绘制范围\n        binary: true,                // 以二进制格式（.glb）导出，而不是 JSON 格式（.gltf）\n        forceIndices: false,         // 强制包含索引（不跳过）\n        forcePowerOfTwoTextures: false // 不强制使用二次幂的纹理尺寸\n    };\n\n    // 使用 GLTFExporter 解析输入场景和选项\n    gltfExporter.parse(input, function (result) {\n        // 检查结果是否为 ArrayBuffer（二进制数据）\n        if (result instanceof ArrayBuffer) {\n            // 将二进制结果保存为 Blob，并触发下载，文件名为 'scene.glb'\n            save(new Blob([result], { type: 'application/octet-stream' }), 'scene.glb');\n        } else {\n            // 将结果转换为格式化的 JSON 字符串\n            var output = JSON.stringify(result, null, 2);\n            // 将 JSON 结果保存为 Blob，并触发下载，文件名为 'scene.gltf'\n            save(new Blob([output], { type: 'text/plain' }), 'scene.gltf');\n        }\n    }, options);\n}\n\n// 创建一个不可见的链接元素，用于触发下载\nvar link = document.createElement('a');\n//link.style.display = 'none';\n\n// 定义保存函数，设置链接的 href 和 download 属性，并触发点击事件\nfunction save(blob, filename) {\n    link.href = URL.createObjectURL(blob);\n    link.download = filename;\n    link.click();\n}\n\n// 导出 exportGLTF 函数，供代码的其他部分使用\nexport {\n    exportGLTF\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n",normalizedContent:" * extrudegeometry\n * 拉伸建筑\n * 模型的导出(下载)\n\n采用extrudegeometry把平面建筑拉伸高度\n\n\n\n\n# extrudegeometry\n\nvar model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\n\nvar shape1 = new three.shape([\n  // 一个多边形轮廓的五个顶点坐标\n  new three.vector2(0, 0),\n  new three.vector2(60, 0),\n  new three.vector2(60, 80),\n  new three.vector2(40, 120),\n  new three.vector2(-20, 80),\n]);\n\nvar shape2 = new three.shape([\n  new three.vector2(100, 0),\n  new three.vector2(160, 0),\n  new three.vector2(160, 80),\n  new three.vector2(140, 120),\n]);\n\n//shapegeometry：填充多边形\nvar geometry = new three.extrudegeometry([shape1, shape2], {\n  depth: 50, //拉伸高度\n  bevelenabled: false, //无倒角\n});\n\n\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff,\n  side: three.doubleside,\n  // wireframe:true,//查看生成的三角形\n}); //材质对象\nvar mesh = new three.mesh(geometry, material); //网格模型对象\n\nmodel.add(mesh); //网格模型添加到model中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n\n# 拉伸建筑\n\n建筑数据拉伸 ,河流只填充\n\n// meshbasicmaterial:不受光照影响\n// meshlambertmaterial：几何体表面和光线角度不同，明暗不同\nvar material = new three.meshlambertmaterial({\n  color: 0x009999,\n}); //材质对象\n// pointsarrs：多个轮廓，一个轮廓对应pointsarrs的一个元素\nfunction extrudemesh(pointsarrs, height) {\n  var shapearr = []; //轮廓形状shape集合\n  pointsarrs.foreach(pointsarr => {\n    var vector2arr = [];\n    // 转化为vector2构成的顶点数组\n    pointsarr[0].foreach(elem => {\n      var xy = lon2xy(elem[0],elem[1]);//经纬度转墨卡托坐标\n      vector2arr.push(new three.vector2(xy.x, xy.y));\n    });\n    var shape = new three.shape(vector2arr);\n    shapearr.push(shape);\n  });\n\n  var geometry = new three.extrudegeometry( //拉伸造型\n    shapearr, //多个多边形二维轮廓\n    //拉伸参数\n    {\n      depth: height, //拉伸高度\n      bevelenabled: false, //无倒角\n    }\n  );\n  var mesh = new three.mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n\n\n# 模型的导出(下载)\n\n// 从项目中指定路径导入 gltfexporter\nimport { gltfexporter } from '../../../../three.js-r133/examples/jsm/exporters/gltfexporter.js';\n\n// 定义一个名为 exportgltf 的函数，接受一个名为 'input' 的参数\nfunction exportgltf(input) {\n    // 创建 gltfexporter 的实例\n    var gltfexporter = new gltfexporter();\n\n    // 定义导出选项\n    var options = {\n        trs: false,                  // 不包含变换（位置、旋转、缩放）\n        onlyvisible: true,           // 仅导出可见的对象\n        truncatedrawrange: true,     // 截断几何体的绘制范围\n        binary: true,                // 以二进制格式（.glb）导出，而不是 json 格式（.gltf）\n        forceindices: false,         // 强制包含索引（不跳过）\n        forcepoweroftwotextures: false // 不强制使用二次幂的纹理尺寸\n    };\n\n    // 使用 gltfexporter 解析输入场景和选项\n    gltfexporter.parse(input, function (result) {\n        // 检查结果是否为 arraybuffer（二进制数据）\n        if (result instanceof arraybuffer) {\n            // 将二进制结果保存为 blob，并触发下载，文件名为 'scene.glb'\n            save(new blob([result], { type: 'application/octet-stream' }), 'scene.glb');\n        } else {\n            // 将结果转换为格式化的 json 字符串\n            var output = json.stringify(result, null, 2);\n            // 将 json 结果保存为 blob，并触发下载，文件名为 'scene.gltf'\n            save(new blob([output], { type: 'text/plain' }), 'scene.gltf');\n        }\n    }, options);\n}\n\n// 创建一个不可见的链接元素，用于触发下载\nvar link = document.createelement('a');\n//link.style.display = 'none';\n\n// 定义保存函数，设置链接的 href 和 download 属性，并触发点击事件\nfunction save(blob, filename) {\n    link.href = url.createobjecturl(blob);\n    link.download = filename;\n    link.click();\n}\n\n// 导出 exportgltf 函数，供代码的其他部分使用\nexport {\n    exportgltf\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"PBR材质与纹理贴图",frontmatter:{title:"PBR材质与纹理贴图",date:"2024-01-08T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/PBR%E6%9D%90%E8%B4%A8%E4%B8%8E%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE.html",relativePath:"views/threejs/PBR材质与纹理贴图.md",key:"v-6e3203be",path:"/views/threejs/PBR%E6%9D%90%E8%B4%A8%E4%B8%8E%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE.html",headers:[{level:2,title:"金属度和粗糙度",slug:"金属度和粗糙度",normalizedTitle:"金属度和粗糙度",charIndex:3},{level:2,title:"环境贴图",slug:"环境贴图",normalizedTitle:"环境贴图",charIndex:14},{level:2,title:"环境贴图影响强度",slug:"环境贴图影响强度",normalizedTitle:"环境贴图影响强度",charIndex:22},{level:2,title:"自带pbr材质模型",slug:"自带pbr材质模型",normalizedTitle:"自带pbr材质模型",charIndex:34}],excerpt:"<Boxx/>\n",headersStr:"金属度和粗糙度 环境贴图 环境贴图影响强度 自带pbr材质模型",content:" * 金属度和粗糙度\n * 环境贴图\n * 环境贴图影响强度\n * 自带pbr材质模型\n\n\n\n\n# 金属度和粗糙度\n\nloader.load(\"../../金属.glb\", function (gltf) { \n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.isMesh) {//判断是否是网格模型\n            // console.log('obj.material',obj.material);\n            // 重新设置材质的金属度和粗糙度属性\n            obj.material.metalness = 1.0;//金属度\n            obj.material.roughness = 0.5;//表面粗糙度\n            \n            // obj.material = new THREE.MeshStandardMaterial({\n            //     color: obj.material.color, //读取材质原来的颜色\n            //     // 金属度属性metalness：材质像金属的程度, 非金属材料,如木材或石材,使用0.0,金属使用1.0。\n            //     // metalness默认0.5,0.0到1.0之间的值可用于生锈的金属外观\n            //     metalness: 1.0,\n            //     // metalness: 0.0,//没有金属质感    \n            //     // 粗糙度属性roughness:模型表面粗糙程度,0.0表示平滑的镜面反射,1.0表示完全漫反射,默认0.5                      \n            //     roughness: 0.5,\n            //     // roughness: 1.0,//设置到完全漫反射状态，表面金属质感比较弱\n            //     // roughness: 0.0,//完全镜面反射，就像一面镜子一样，注意配合环境贴图观察更明显\n            // })\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 环境贴图\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n// 加载环境贴图\n// 加载周围环境6个方向贴图\n// 上下左右前后6张贴图构成一个立方体空间\n// 'px.jpg', 'nx.jpg'：x轴正方向、负方向贴图  p:正positive  n:负negative\n// 'py.jpg', 'ny.jpg'：y轴贴图\n// 'pz.jpg', 'nz.jpg'：z轴贴图\n// CubeTexture表示立方体纹理对象，父类是纹理对象Texture\nconst textureCube = new THREE.CubeTextureLoader()\n    .setPath('../../环境贴图/环境贴图0/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\n\n\n    \nloader.load(\"../../金属.glb\", function (gltf) {\n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function (obj) {\n        if (obj.isMesh) { //判断是否是网格模型\n            // console.log('obj.material',obj.material);\n            // 重新设置材质的金属度和粗糙度属性\n            obj.material.metalness = 1.0; //金属度\n            obj.material.roughness = 0.35; //表面粗糙度\n            obj.material.envMap = textureCube; //设置环境贴图\n            // envMapIntensity：控制环境贴图对mesh表面影响程度\n            obj.material.envMapIntensity = 1.0;//默认值1, 设置为0.0,相当于没有环境贴图\n\n\n            // obj.material = new THREE.MeshStandardMaterial({\n            //     color: obj.material.color, //读取材质原来的颜色\n            //     metalness: 1.0, //金属度\n            //     roughness: 0.5, //粗糙度\n            //     envMap: textureCube, //设置pbr材质环境贴图\n            //     // envMapIntensity：控制环境贴图对mesh表面影响程度\n            //     envMapIntensity: 0.0, //默认值1, 设置为0.0,相当于没有环境贴图\n            // })\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 环境贴图影响强度\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    gltf.scene.traverse(function (obj) {\n        if (obj.isMesh) { //判断是否是网格模型\n            // obj.material.envMap = textureCube; //设置环境贴图\n            obj.material.envMapIntensity = 1.0;\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 自带pbr材质模型\n\nimport * as THREE from 'three';\n// 引入gltf模型加载库GLTFLoader.js\nimport {\n    GLTFLoader\n} from 'three/addons/loaders/GLTFLoader.js';\n\nimport gui from './gui.js';\n\n// 创建材质子菜单\nconst matFolder1 = gui.addFolder('外壳材质');\nmatFolder1.close(); //关闭菜单\nconst matFolder2 = gui.addFolder('玻璃材质');\nmatFolder2.close(); //关闭菜单\n\n\n\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n// 加载环境贴图\nconst textureCube = new THREE.CubeTextureLoader()\n    .setPath('../../环境贴图/环境贴图1/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\ntextureCube.encoding = THREE.sRGBEncoding; //设置纹理贴图编码方式和WebGL渲染器一致    \nloader.load(\"../车pbr.glb\", function (gltf) {\n    model.add(gltf.scene);\n    // 注意如果车外壳或玻璃共享了材质，修改一个其他的也会变化和影响\n\n    const mesh1 = gltf.scene.getObjectByName('外壳01');\n    mesh1.material.envMap = textureCube; //环境贴图\n    mesh1.material.envMapIntensity = 1.0; ////环境贴图对Mesh表面影响程度\n\n\n    const mesh2 = gltf.scene.getObjectByName('玻璃01');\n    mesh2.material.envMap = textureCube; //环境贴图\n    mesh2.material.envMapIntensity = 1.0; ////环境贴图对Mesh表面影响程度\n\n    // 查看threejs解析的PBR材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.isMesh) {\n            console.log('obj.material',obj.material);\n        }\n    });\n    console.log('外壳',mesh1.material);\n    console.log('玻璃',mesh2.material);\n\n    const obj = {\n        color1: mesh1.material.color.getHex(), // 外壳颜色\n        color2: mesh2.material.color.getHex(), // 玻璃颜色\n    };\n    // 车壳材质gui界面\n    matFolder1.addColor(obj, 'color1').onChange(function (value) {\n        mesh1.material.color.set(value);\n    });\n    matFolder1.add(mesh1.material, 'metalness', 0, 1);\n    matFolder1.add(mesh1.material, 'roughness', 0, 1);\n    matFolder1.add(mesh1.material, 'clearcoat', 0, 1);\n    matFolder1.add(mesh1.material, 'clearcoatRoughness', 0, 1);\n    matFolder1.add(mesh1.material, 'envMapIntensity', 0, 10);\n\n    // 玻璃材质gui界面\n    matFolder2.addColor(obj, 'color2').onChange(function (value) {\n        mesh2.material.color.set(value);\n    });\n    matFolder2.add(mesh2.material, 'metalness', 0, 1);\n    matFolder2.add(mesh2.material, 'roughness', 0, 1);\n    matFolder2.add(mesh2.material, 'transmission', 0, 1);\n    matFolder2.add(mesh2.material, 'ior', 1, 2.333);\n    matFolder2.add(mesh2.material, 'envMapIntensity', 0, 10);\n})\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n",normalizedContent:" * 金属度和粗糙度\n * 环境贴图\n * 环境贴图影响强度\n * 自带pbr材质模型\n\n\n\n\n# 金属度和粗糙度\n\nloader.load(\"../../金属.glb\", function (gltf) { \n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.ismesh) {//判断是否是网格模型\n            // console.log('obj.material',obj.material);\n            // 重新设置材质的金属度和粗糙度属性\n            obj.material.metalness = 1.0;//金属度\n            obj.material.roughness = 0.5;//表面粗糙度\n            \n            // obj.material = new three.meshstandardmaterial({\n            //     color: obj.material.color, //读取材质原来的颜色\n            //     // 金属度属性metalness：材质像金属的程度, 非金属材料,如木材或石材,使用0.0,金属使用1.0。\n            //     // metalness默认0.5,0.0到1.0之间的值可用于生锈的金属外观\n            //     metalness: 1.0,\n            //     // metalness: 0.0,//没有金属质感    \n            //     // 粗糙度属性roughness:模型表面粗糙程度,0.0表示平滑的镜面反射,1.0表示完全漫反射,默认0.5                      \n            //     roughness: 0.5,\n            //     // roughness: 1.0,//设置到完全漫反射状态，表面金属质感比较弱\n            //     // roughness: 0.0,//完全镜面反射，就像一面镜子一样，注意配合环境贴图观察更明显\n            // })\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 环境贴图\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n// 加载环境贴图\n// 加载周围环境6个方向贴图\n// 上下左右前后6张贴图构成一个立方体空间\n// 'px.jpg', 'nx.jpg'：x轴正方向、负方向贴图  p:正positive  n:负negative\n// 'py.jpg', 'ny.jpg'：y轴贴图\n// 'pz.jpg', 'nz.jpg'：z轴贴图\n// cubetexture表示立方体纹理对象，父类是纹理对象texture\nconst texturecube = new three.cubetextureloader()\n    .setpath('../../环境贴图/环境贴图0/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\n\n\n    \nloader.load(\"../../金属.glb\", function (gltf) {\n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function (obj) {\n        if (obj.ismesh) { //判断是否是网格模型\n            // console.log('obj.material',obj.material);\n            // 重新设置材质的金属度和粗糙度属性\n            obj.material.metalness = 1.0; //金属度\n            obj.material.roughness = 0.35; //表面粗糙度\n            obj.material.envmap = texturecube; //设置环境贴图\n            // envmapintensity：控制环境贴图对mesh表面影响程度\n            obj.material.envmapintensity = 1.0;//默认值1, 设置为0.0,相当于没有环境贴图\n\n\n            // obj.material = new three.meshstandardmaterial({\n            //     color: obj.material.color, //读取材质原来的颜色\n            //     metalness: 1.0, //金属度\n            //     roughness: 0.5, //粗糙度\n            //     envmap: texturecube, //设置pbr材质环境贴图\n            //     // envmapintensity：控制环境贴图对mesh表面影响程度\n            //     envmapintensity: 0.0, //默认值1, 设置为0.0,相当于没有环境贴图\n            // })\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 环境贴图影响强度\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    gltf.scene.traverse(function (obj) {\n        if (obj.ismesh) { //判断是否是网格模型\n            // obj.material.envmap = texturecube; //设置环境贴图\n            obj.material.envmapintensity = 1.0;\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 自带pbr材质模型\n\nimport * as three from 'three';\n// 引入gltf模型加载库gltfloader.js\nimport {\n    gltfloader\n} from 'three/addons/loaders/gltfloader.js';\n\nimport gui from './gui.js';\n\n// 创建材质子菜单\nconst matfolder1 = gui.addfolder('外壳材质');\nmatfolder1.close(); //关闭菜单\nconst matfolder2 = gui.addfolder('玻璃材质');\nmatfolder2.close(); //关闭菜单\n\n\n\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n// 加载环境贴图\nconst texturecube = new three.cubetextureloader()\n    .setpath('../../环境贴图/环境贴图1/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\ntexturecube.encoding = three.srgbencoding; //设置纹理贴图编码方式和webgl渲染器一致    \nloader.load(\"../车pbr.glb\", function (gltf) {\n    model.add(gltf.scene);\n    // 注意如果车外壳或玻璃共享了材质，修改一个其他的也会变化和影响\n\n    const mesh1 = gltf.scene.getobjectbyname('外壳01');\n    mesh1.material.envmap = texturecube; //环境贴图\n    mesh1.material.envmapintensity = 1.0; ////环境贴图对mesh表面影响程度\n\n\n    const mesh2 = gltf.scene.getobjectbyname('玻璃01');\n    mesh2.material.envmap = texturecube; //环境贴图\n    mesh2.material.envmapintensity = 1.0; ////环境贴图对mesh表面影响程度\n\n    // 查看threejs解析的pbr材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.ismesh) {\n            console.log('obj.material',obj.material);\n        }\n    });\n    console.log('外壳',mesh1.material);\n    console.log('玻璃',mesh2.material);\n\n    const obj = {\n        color1: mesh1.material.color.gethex(), // 外壳颜色\n        color2: mesh2.material.color.gethex(), // 玻璃颜色\n    };\n    // 车壳材质gui界面\n    matfolder1.addcolor(obj, 'color1').onchange(function (value) {\n        mesh1.material.color.set(value);\n    });\n    matfolder1.add(mesh1.material, 'metalness', 0, 1);\n    matfolder1.add(mesh1.material, 'roughness', 0, 1);\n    matfolder1.add(mesh1.material, 'clearcoat', 0, 1);\n    matfolder1.add(mesh1.material, 'clearcoatroughness', 0, 1);\n    matfolder1.add(mesh1.material, 'envmapintensity', 0, 10);\n\n    // 玻璃材质gui界面\n    matfolder2.addcolor(obj, 'color2').onchange(function (value) {\n        mesh2.material.color.set(value);\n    });\n    matfolder2.add(mesh2.material, 'metalness', 0, 1);\n    matfolder2.add(mesh2.material, 'roughness', 0, 1);\n    matfolder2.add(mesh2.material, 'transmission', 0, 1);\n    matfolder2.add(mesh2.material, 'ior', 1, 2.333);\n    matfolder2.add(mesh2.material, 'envmapintensity', 0, 10);\n})\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"GUI",frontmatter:{title:"GUI",date:"2023-12-29T00:00:00.000Z",tags:["gui"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/GUI.html",relativePath:"views/threejs/GUI.md",key:"v-748e1367",path:"/views/threejs/GUI.html",headers:[{level:2,title:"单个gui",slug:"单个gui",normalizedTitle:"单个gui",charIndex:12},{level:2,title:"调整光照",slug:"调整光照",normalizedTitle:"调整光照",charIndex:21},{level:2,title:"颜色,命名,步长,事件",slug:"颜色-命名-步长-事件",normalizedTitle:"颜色,命名,步长,事件",charIndex:29},{level:2,title:"下拉框,单选框",slug:"下拉框-单选框",normalizedTitle:"下拉框,单选框",charIndex:44},{level:2,title:"多个gui套娃",slug:"多个gui套娃",normalizedTitle:"多个gui套娃",charIndex:55}],excerpt:"<Boxx/>\n<p>可视化调参</p>\n",headersStr:"单个gui 调整光照 颜色,命名,步长,事件 下拉框,单选框 多个gui套娃",content:"可视化调参\n\n\n\n * 单个gui\n * 调整光照\n * 颜色,命名,步长,事件\n * 下拉框,单选框\n * 多个gui套娃\n\n\n\n\n# 单个gui\n\n// 从threejs扩展库引入gui.js\nimport { GUI } from '../../../three.js/examples/jsm/libs/lil-gui.module.min.js';\n\n\n//创建一个GUI对象，你可以看到浏览器右上角多了一个交互界面，GUI本质上就是一个前端js库。\nconst gui = new GUI();\n//改变交互界面style属性\ngui.domElement.style.right = '0px';\ngui.domElement.style.width = '300px';\n\n\n//创建一个对象，对象属性的值可以被GUI库创建的交互界面改变\nconst obj = {\n    x: 30,\n    y: 60,\n    z: 300,\n};\n// gui界面上增加交互界面，改变obj对应属性\ngui.add(obj, 'x', 0, 100);\ngui.add(obj, 'y', 0, 50);\ngui.add(obj, 'z', 0, 60);\n\n// 可以不停地打印obj的值，这样通过gui界面拖动改变obj对象属性的的时候，便于观察obj的变化\nsetInterval(function () {\n    console.log('x', obj.x);\n    // console.log('y',obj.y);\n    // console.log('z',obj.z);\n}, 10)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 调整光照\n\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 1);\ndirectionalLight.position.set(100, 60, 50);\nscene.add(directionalLight);\nconst ambient = new THREE.AmbientLight(0xffffff, 0.4);\nscene.add(ambient);\n\n// 光照强度属性.intensity\nconsole.log('ambient.intensity',ambient.intensity);\n// 通过GUI改变mesh.position对象的xyz属性\ngui.add(ambient, 'intensity', 0, 2.0);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 颜色,命名,步长,事件\n\n//颜色\ngui.addColor(obj, 'color').onChange(function(value){\n    // console.log('obj.color',obj.color);\n    mesh.material.color.set(value);\n});\n//命名\ngui.add(ambient, 'intensity', 0, 2.0).name('环境光强度');\n//步长\n\n//事件\ngui.add(obj, 'x', 0, 180).onChange(function(value){\n    // console.log('obj.x',obj.x);\n    mesh.position.x = value;\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 下拉框,单选框\n\n// 下拉框,只能选择-100,0,100三个数(数组)\ngui.add(obj, 'scale', [-100, 0, 100]).name('y坐标').onChange(function (value) {\n    mesh.position.y = value;\n});\n// 下拉框,只能选择-100,0,100三个数(对象)\ngui.add(obj, 'scale', {\n    left: -100,\n    center: 0,\n    right: 100\n    // 左: -100,//可以用中文\n    // 中: 0,\n    // 右: 100\n}).name('位置选择').onChange(function (value) {\n    mesh.position.x = value;\n});\n//勾选框,布尔值\ngui.add(obj, 'bool').name('是否旋转');\n// gui.add(obj, 'bool').onChange(function (value) {\n//     // 点击单选框，控制台打印obj.bool变化\n//     console.log('obj.bool',value);\n// });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 多个gui套娃\n\n-普通分组\n\nconst gui = new GUI(); //创建GUI对象 \nconst obj = {\n    color: 0x00ffff,// 材质颜色\n    specular: 0x111111,// 材质高光颜色\n};\n// 创建材质子菜单\nconst matFolder = gui.addFolder('材质');\n// 材质颜色color\nmatFolder.addColor(obj, 'color').onChange(function(value){\n    material.color.set(value);\n});\n// 材质高光颜色specular\nmatFolder.addColor(obj, 'specular').onChange(function(value){\n    material.specular.set(value);\n});\n// 环境光子菜单\nconst ambientFolder = gui.addFolder('环境光');\n// 环境光强度\nambientFolder.add(ambient, 'intensity',0,2);\n// 平行光子菜单\nconst dirFolder = gui.addFolder('平行光');\n// 平行光强度\ndirFolder.add(directionalLight, 'intensity',0,2);\n// 平行光位置\ndirFolder.add(directionalLight.position, 'x',-400,400);\ndirFolder.add(directionalLight.position, 'y',-400,400);\ndirFolder.add(directionalLight.position, 'z',-400,400);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n-套娃分组\n\nconst gui = new GUI(); //创建GUI对象 \n// gui.close();//关闭菜单\n//创建一个对象，对象属性的值可以被GUI库创建的交互界面改变\nconst obj = {\n    color: 0x00ffff,// 材质颜色\n    specular: 0x111111,// 材质高光颜色\n};\n// 创建材质子菜单\nconst matFolder = gui.addFolder('材质');\nmatFolder.close();//关闭菜单\n// 材质颜色color\nmatFolder.addColor(obj, 'color').onChange(function(value){\n    material.color.set(value);\n});\n// 材质高光颜色specular\nmatFolder.addColor(obj, 'specular').onChange(function(value){\n    material.specular.set(value);\n});\n// 环境光子菜单\nconst ambientFolder = gui.addFolder('环境光');\nambientFolder.close();//关闭菜单\n// 环境光强度  \nambientFolder.add(ambient, 'intensity',0,2);\n// 平行光子菜单\nconst dirFolder = gui.addFolder('平行光');\ndirFolder.close();//关闭菜单\n// 平行光强度\ndirFolder.add(directionalLight, 'intensity',0,2);\nconst dirFolder2 = dirFolder.addFolder('位置');//子菜单的子菜单\ndirFolder2.close();//关闭菜单\n// 平行光位置\ndirFolder2.add(directionalLight.position, 'x',-400,400);\ndirFolder2.add(directionalLight.position, 'y',-400,400);\ndirFolder2.add(directionalLight.position, 'z',-400,400);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",normalizedContent:"可视化调参\n\n\n\n * 单个gui\n * 调整光照\n * 颜色,命名,步长,事件\n * 下拉框,单选框\n * 多个gui套娃\n\n\n\n\n# 单个gui\n\n// 从threejs扩展库引入gui.js\nimport { gui } from '../../../three.js/examples/jsm/libs/lil-gui.module.min.js';\n\n\n//创建一个gui对象，你可以看到浏览器右上角多了一个交互界面，gui本质上就是一个前端js库。\nconst gui = new gui();\n//改变交互界面style属性\ngui.domelement.style.right = '0px';\ngui.domelement.style.width = '300px';\n\n\n//创建一个对象，对象属性的值可以被gui库创建的交互界面改变\nconst obj = {\n    x: 30,\n    y: 60,\n    z: 300,\n};\n// gui界面上增加交互界面，改变obj对应属性\ngui.add(obj, 'x', 0, 100);\ngui.add(obj, 'y', 0, 50);\ngui.add(obj, 'z', 0, 60);\n\n// 可以不停地打印obj的值，这样通过gui界面拖动改变obj对象属性的的时候，便于观察obj的变化\nsetinterval(function () {\n    console.log('x', obj.x);\n    // console.log('y',obj.y);\n    // console.log('z',obj.z);\n}, 10)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 调整光照\n\nconst directionallight = new three.directionallight(0xffffff, 1);\ndirectionallight.position.set(100, 60, 50);\nscene.add(directionallight);\nconst ambient = new three.ambientlight(0xffffff, 0.4);\nscene.add(ambient);\n\n// 光照强度属性.intensity\nconsole.log('ambient.intensity',ambient.intensity);\n// 通过gui改变mesh.position对象的xyz属性\ngui.add(ambient, 'intensity', 0, 2.0);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 颜色,命名,步长,事件\n\n//颜色\ngui.addcolor(obj, 'color').onchange(function(value){\n    // console.log('obj.color',obj.color);\n    mesh.material.color.set(value);\n});\n//命名\ngui.add(ambient, 'intensity', 0, 2.0).name('环境光强度');\n//步长\n\n//事件\ngui.add(obj, 'x', 0, 180).onchange(function(value){\n    // console.log('obj.x',obj.x);\n    mesh.position.x = value;\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 下拉框,单选框\n\n// 下拉框,只能选择-100,0,100三个数(数组)\ngui.add(obj, 'scale', [-100, 0, 100]).name('y坐标').onchange(function (value) {\n    mesh.position.y = value;\n});\n// 下拉框,只能选择-100,0,100三个数(对象)\ngui.add(obj, 'scale', {\n    left: -100,\n    center: 0,\n    right: 100\n    // 左: -100,//可以用中文\n    // 中: 0,\n    // 右: 100\n}).name('位置选择').onchange(function (value) {\n    mesh.position.x = value;\n});\n//勾选框,布尔值\ngui.add(obj, 'bool').name('是否旋转');\n// gui.add(obj, 'bool').onchange(function (value) {\n//     // 点击单选框，控制台打印obj.bool变化\n//     console.log('obj.bool',value);\n// });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 多个gui套娃\n\n-普通分组\n\nconst gui = new gui(); //创建gui对象 \nconst obj = {\n    color: 0x00ffff,// 材质颜色\n    specular: 0x111111,// 材质高光颜色\n};\n// 创建材质子菜单\nconst matfolder = gui.addfolder('材质');\n// 材质颜色color\nmatfolder.addcolor(obj, 'color').onchange(function(value){\n    material.color.set(value);\n});\n// 材质高光颜色specular\nmatfolder.addcolor(obj, 'specular').onchange(function(value){\n    material.specular.set(value);\n});\n// 环境光子菜单\nconst ambientfolder = gui.addfolder('环境光');\n// 环境光强度\nambientfolder.add(ambient, 'intensity',0,2);\n// 平行光子菜单\nconst dirfolder = gui.addfolder('平行光');\n// 平行光强度\ndirfolder.add(directionallight, 'intensity',0,2);\n// 平行光位置\ndirfolder.add(directionallight.position, 'x',-400,400);\ndirfolder.add(directionallight.position, 'y',-400,400);\ndirfolder.add(directionallight.position, 'z',-400,400);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n-套娃分组\n\nconst gui = new gui(); //创建gui对象 \n// gui.close();//关闭菜单\n//创建一个对象，对象属性的值可以被gui库创建的交互界面改变\nconst obj = {\n    color: 0x00ffff,// 材质颜色\n    specular: 0x111111,// 材质高光颜色\n};\n// 创建材质子菜单\nconst matfolder = gui.addfolder('材质');\nmatfolder.close();//关闭菜单\n// 材质颜色color\nmatfolder.addcolor(obj, 'color').onchange(function(value){\n    material.color.set(value);\n});\n// 材质高光颜色specular\nmatfolder.addcolor(obj, 'specular').onchange(function(value){\n    material.specular.set(value);\n});\n// 环境光子菜单\nconst ambientfolder = gui.addfolder('环境光');\nambientfolder.close();//关闭菜单\n// 环境光强度  \nambientfolder.add(ambient, 'intensity',0,2);\n// 平行光子菜单\nconst dirfolder = gui.addfolder('平行光');\ndirfolder.close();//关闭菜单\n// 平行光强度\ndirfolder.add(directionallight, 'intensity',0,2);\nconst dirfolder2 = dirfolder.addfolder('位置');//子菜单的子菜单\ndirfolder2.close();//关闭菜单\n// 平行光位置\ndirfolder2.add(directionallight.position, 'x',-400,400);\ndirfolder2.add(directionallight.position, 'y',-400,400);\ndirfolder2.add(directionallight.position, 'z',-400,400);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"UV坐标和贴图",frontmatter:{title:"UV坐标和贴图",date:"2023-11-20T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/UV%E5%9D%90%E6%A0%87,%E8%B4%B4%E5%9B%BE.html",relativePath:"views/threejs/UV坐标,贴图.md",key:"v-475243a8",path:"/views/threejs/UV%E5%9D%90%E6%A0%87,%E8%B4%B4%E5%9B%BE.html",headers:[{level:2,title:"1.创建纹理贴图",slug:"_1-创建纹理贴图",normalizedTitle:"1.创建纹理贴图",charIndex:3},{level:2,title:"2.自定义顶点UV坐标",slug:"_2-自定义顶点uv坐标",normalizedTitle:"2.自定义顶点uv坐标",charIndex:15},{level:2,title:"阵列纹理",slug:"阵列纹理",normalizedTitle:"阵列纹理",charIndex:30},{level:2,title:"5.矩形Mesh+背景透明png贴图(场景标注)",slug:"_5-矩形mesh-背景透明png贴图-场景标注",normalizedTitle:"5.矩形mesh+背景透明png贴图(场景标注)",charIndex:38},{level:2,title:"UV动画",slug:"uv动画",normalizedTitle:"uv动画",charIndex:66},{level:2,title:"阵列动画",slug:"阵列动画",normalizedTitle:"阵列动画",charIndex:74}],excerpt:"<Boxx/>\n",headersStr:"1.创建纹理贴图 2.自定义顶点UV坐标 阵列纹理 5.矩形Mesh+背景透明png贴图(场景标注) UV动画 阵列动画",content:" * 1.创建纹理贴图\n * 2.自定义顶点UV坐标\n * 阵列纹理\n * 5.矩形Mesh+背景透明png贴图(场景标注)\n * UV动画\n * 阵列动画\n\n\n\nU方向为横坐标 V方向为纵坐标\n\n\n# 1.创建纹理贴图\n\nconst texLoader = new THREE.TextureLoader();\n// .load()方法加载图像，返回一个纹理对象Texture\nconst texture = texLoader.load('./earth.jpg');\nconst material = new THREE.MeshLambertMaterial({\n    // color: 0x00ffff,\n    // 设置纹理贴图：Texture对象作为材质map属性的属性值\n    map: texture,//map表示材质的颜色贴图属性\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2.自定义顶点UV坐标\n\n你想取图片的那个区域?你自己来决定.自己去定义几何体的uv\n\nimport * as THREE from 'three';\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    160, 0, 0, //顶点2坐标\n    160, 80, 0, //顶点3坐标\n    0, 80, 0, //顶点4坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// Uint16Array类型数组创建顶点索引数据\nconst indexes = new Uint16Array([\n    0, 1, 2, 0, 2, 3,\n])\n// 索引数据赋值给几何体的index属性\ngeometry.index = new THREE.BufferAttribute(indexes, 1); //1个为一组\n\n/**纹理坐标0~1之间随意定义*/\nconst uvs = new Float32Array([\n    0, 0, //图片左下角\n    1, 0, //图片右下角\n    1, 1, //图片右上角\n    0, 1, //图片左上角\n]);\n// 获取纹理贴图左下角四分之一部分的像素值\n// const uvs = new Float32Array([\n//     0, 0, \n//     0.5, 0, \n//     0.5, 0.5, \n//     0, 0.5, \n// ]);\n// 设置几何体attributes属性的位置normal属性\ngeometry.attributes.uv = new THREE.BufferAttribute(uvs, 2); //2个为一组,表示一个顶点的纹理坐标\n\n\n//纹理贴图加载器TextureLoader\nconst texLoader = new THREE.TextureLoader();\nconst texture = texLoader.load('./earth.jpg');\nconst material = new THREE.MeshBasicMaterial({\n    map: texture, //map表示材质的颜色贴图属性\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 阵列纹理\n\nconst texLoader = new THREE.TextureLoader();\n// .load()方法加载图像，返回一个纹理对象Texture\nconst texture = texLoader.load('./瓷砖.jpg');\n\n// 设置阵列\ntexture.wrapS = THREE.RepeatWrapping;\ntexture.wrapT = THREE.RepeatWrapping;\n// uv两个方向纹理重复数量\ntexture.repeat.set(30,30);//注意选择合适的阵列数量\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 5.矩形Mesh+背景透明png贴图(场景标注)\n\nconst geometry = new THREE.PlaneGeometry(50, 50);\n//纹理贴图加载器TextureLoader\nconst texLoader = new THREE.TextureLoader();\n// .load()方法加载图像，返回一个纹理对象Texture\n// const texture = texLoader.load('./指南针.png');\nconst texture = texLoader.load('./转弯.png');\n\nconst material = new THREE.MeshLambertMaterial({\n    map: texture,//map表示材质的颜色贴图属性\n    transparent:true,//开启透明，这样png贴图的透明部分不显示\n});\n\n\n\nconst mesh = new THREE.Mesh(geometry, material);\n\nmesh.rotateX(-Math.PI/2);\nmesh.position.y = 1;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\n\n# UV动画\n\nconst texLoader = new THREE.TextureLoader();\n// .load()方法加载图像，返回一个纹理对象Texture\nconst texture = texLoader.load('./纹理2.jpg');\n\nconst material = new THREE.MeshLambertMaterial({\n    map: texture,//map表示材质的颜色贴图属性\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.rotateX(-Math.PI/2);\n\n// 设置.wrapS也就是U方向，纹理映射模式(包裹模式)\ntexture.wrapS = THREE.RepeatWrapping;//对应offste.x偏移\nfunction render() {\n    texture.offset.x +=0.003;//设置纹理动画\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 阵列动画\n\n只需要很小的图片就可以动画了\n\n// 一个矩形平面几何体用来表示传送带\nconst geometry = new THREE.PlaneGeometry(200, 20);\n//纹理贴图加载器TextureLoader\nconst texLoader = new THREE.TextureLoader();\n// .load()方法加载图像，返回一个纹理对象Texture\nconst texture = texLoader.load('./纹理3.jpg');\n\nconst material = new THREE.MeshLambertMaterial({\n    map: texture,//map表示材质的颜色贴图属性\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.rotateX(-Math.PI/2);\n\n// 设置阵列\ntexture.wrapS = THREE.RepeatWrapping;\n// uv两个方向纹理重复数量\ntexture.repeat.x=50;//注意选择合适的阵列数量\nfunction render() {\n    texture.offset.x +=0.1;//设置纹理动画\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n",normalizedContent:" * 1.创建纹理贴图\n * 2.自定义顶点uv坐标\n * 阵列纹理\n * 5.矩形mesh+背景透明png贴图(场景标注)\n * uv动画\n * 阵列动画\n\n\n\nu方向为横坐标 v方向为纵坐标\n\n\n# 1.创建纹理贴图\n\nconst texloader = new three.textureloader();\n// .load()方法加载图像，返回一个纹理对象texture\nconst texture = texloader.load('./earth.jpg');\nconst material = new three.meshlambertmaterial({\n    // color: 0x00ffff,\n    // 设置纹理贴图：texture对象作为材质map属性的属性值\n    map: texture,//map表示材质的颜色贴图属性\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# 2.自定义顶点uv坐标\n\n你想取图片的那个区域?你自己来决定.自己去定义几何体的uv\n\nimport * as three from 'three';\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    160, 0, 0, //顶点2坐标\n    160, 80, 0, //顶点3坐标\n    0, 80, 0, //顶点4坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// uint16array类型数组创建顶点索引数据\nconst indexes = new uint16array([\n    0, 1, 2, 0, 2, 3,\n])\n// 索引数据赋值给几何体的index属性\ngeometry.index = new three.bufferattribute(indexes, 1); //1个为一组\n\n/**纹理坐标0~1之间随意定义*/\nconst uvs = new float32array([\n    0, 0, //图片左下角\n    1, 0, //图片右下角\n    1, 1, //图片右上角\n    0, 1, //图片左上角\n]);\n// 获取纹理贴图左下角四分之一部分的像素值\n// const uvs = new float32array([\n//     0, 0, \n//     0.5, 0, \n//     0.5, 0.5, \n//     0, 0.5, \n// ]);\n// 设置几何体attributes属性的位置normal属性\ngeometry.attributes.uv = new three.bufferattribute(uvs, 2); //2个为一组,表示一个顶点的纹理坐标\n\n\n//纹理贴图加载器textureloader\nconst texloader = new three.textureloader();\nconst texture = texloader.load('./earth.jpg');\nconst material = new three.meshbasicmaterial({\n    map: texture, //map表示材质的颜色贴图属性\n});\nconst mesh = new three.mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 阵列纹理\n\nconst texloader = new three.textureloader();\n// .load()方法加载图像，返回一个纹理对象texture\nconst texture = texloader.load('./瓷砖.jpg');\n\n// 设置阵列\ntexture.wraps = three.repeatwrapping;\ntexture.wrapt = three.repeatwrapping;\n// uv两个方向纹理重复数量\ntexture.repeat.set(30,30);//注意选择合适的阵列数量\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 5.矩形mesh+背景透明png贴图(场景标注)\n\nconst geometry = new three.planegeometry(50, 50);\n//纹理贴图加载器textureloader\nconst texloader = new three.textureloader();\n// .load()方法加载图像，返回一个纹理对象texture\n// const texture = texloader.load('./指南针.png');\nconst texture = texloader.load('./转弯.png');\n\nconst material = new three.meshlambertmaterial({\n    map: texture,//map表示材质的颜色贴图属性\n    transparent:true,//开启透明，这样png贴图的透明部分不显示\n});\n\n\n\nconst mesh = new three.mesh(geometry, material);\n\nmesh.rotatex(-math.pi/2);\nmesh.position.y = 1;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n\n\n# uv动画\n\nconst texloader = new three.textureloader();\n// .load()方法加载图像，返回一个纹理对象texture\nconst texture = texloader.load('./纹理2.jpg');\n\nconst material = new three.meshlambertmaterial({\n    map: texture,//map表示材质的颜色贴图属性\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.rotatex(-math.pi/2);\n\n// 设置.wraps也就是u方向，纹理映射模式(包裹模式)\ntexture.wraps = three.repeatwrapping;//对应offste.x偏移\nfunction render() {\n    texture.offset.x +=0.003;//设置纹理动画\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 阵列动画\n\n只需要很小的图片就可以动画了\n\n// 一个矩形平面几何体用来表示传送带\nconst geometry = new three.planegeometry(200, 20);\n//纹理贴图加载器textureloader\nconst texloader = new three.textureloader();\n// .load()方法加载图像，返回一个纹理对象texture\nconst texture = texloader.load('./纹理3.jpg');\n\nconst material = new three.meshlambertmaterial({\n    map: texture,//map表示材质的颜色贴图属性\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.rotatex(-math.pi/2);\n\n// 设置阵列\ntexture.wraps = three.repeatwrapping;\n// uv两个方向纹理重复数量\ntexture.repeat.x=50;//注意选择合适的阵列数量\nfunction render() {\n    texture.offset.x +=0.1;//设置纹理动画\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"canvas随着屏幕缩放",frontmatter:{title:"canvas随着屏幕缩放",date:"2023-12-25T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!0},regularPath:"/views/threejs/canvas.html",relativePath:"views/threejs/canvas.md",key:"v-5fcfbc11",path:"/views/threejs/canvas.html",headers:[{level:2,title:"示例代码",slug:"示例代码",normalizedTitle:"示例代码",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"示例代码",content:" * 示例代码\n\n\n\n\n# 示例代码\n\n-添加到body和div\n\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(width, height); //设置three.js渲染区域的尺寸(像素px)\n//three.js执行渲染命令会输出一个canvas画布，也就是一个HTML元素，你可以插入到web页面中\ndocument.body.appendChild(renderer.domElement);\n//添加到div\ndocument.getElementById('webgl').appendChild(renderer.domElement);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n-添加到body,并且随窗口大小变化\n\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(width, height); //设置three.js渲染区域的尺寸(像素px)\n//three.js执行渲染命令会输出一个canvas画布，也就是一个HTML元素，你可以插入到web页面中\ndocument.body.appendChild(renderer.domElement);\n\n// 渲染循环\nfunction render() {\n    renderer.render(scene, camera); //执行渲染操作\n    mesh.rotateY(0.01); //每次绕y轴旋转0.01弧度\n    requestAnimationFrame(render); //请求再次执行渲染函数render，渲染下一帧\n}\nrender();\n\n// 设置相机控件轨道控制器OrbitControls\nconst controls = new OrbitControls(camera, renderer.domElement);\n\n// onresize 事件会在窗口被调整大小时发生\nwindow.onresize = function () {\n    // 重置渲染器输出画布canvas尺寸\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    // 全屏情况下：设置观察范围长宽比aspect为窗口宽高比\n    camera.aspect = window.innerWidth / window.innerHeight;\n    // 渲染器执行render方法的时候会读取相机对象的投影矩阵属性projectionMatrix\n    // 但是不会每渲染一帧，就通过相机的属性计算投影矩阵(节约计算资源)\n    // 如果相机的一些属性发生了变化，需要执行updateProjectionMatrix ()方法更新相机的投影矩阵\n    camera.updateProjectionMatrix();\n};\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n",normalizedContent:" * 示例代码\n\n\n\n\n# 示例代码\n\n-添加到body和div\n\nconst renderer = new three.webglrenderer();\nrenderer.setsize(width, height); //设置three.js渲染区域的尺寸(像素px)\n//three.js执行渲染命令会输出一个canvas画布，也就是一个html元素，你可以插入到web页面中\ndocument.body.appendchild(renderer.domelement);\n//添加到div\ndocument.getelementbyid('webgl').appendchild(renderer.domelement);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n-添加到body,并且随窗口大小变化\n\nconst renderer = new three.webglrenderer();\nrenderer.setsize(width, height); //设置three.js渲染区域的尺寸(像素px)\n//three.js执行渲染命令会输出一个canvas画布，也就是一个html元素，你可以插入到web页面中\ndocument.body.appendchild(renderer.domelement);\n\n// 渲染循环\nfunction render() {\n    renderer.render(scene, camera); //执行渲染操作\n    mesh.rotatey(0.01); //每次绕y轴旋转0.01弧度\n    requestanimationframe(render); //请求再次执行渲染函数render，渲染下一帧\n}\nrender();\n\n// 设置相机控件轨道控制器orbitcontrols\nconst controls = new orbitcontrols(camera, renderer.domelement);\n\n// onresize 事件会在窗口被调整大小时发生\nwindow.onresize = function () {\n    // 重置渲染器输出画布canvas尺寸\n    renderer.setsize(window.innerwidth, window.innerheight);\n    // 全屏情况下：设置观察范围长宽比aspect为窗口宽高比\n    camera.aspect = window.innerwidth / window.innerheight;\n    // 渲染器执行render方法的时候会读取相机对象的投影矩阵属性projectionmatrix\n    // 但是不会每渲染一帧，就通过相机的属性计算投影矩阵(节约计算资源)\n    // 如果相机的一些属性发生了变化，需要执行updateprojectionmatrix ()方法更新相机的投影矩阵\n    camera.updateprojectionmatrix();\n};\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"light大全",frontmatter:{title:"light大全",date:"2023-12-30T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/geojson.html",relativePath:"views/threejs/geojson.md",key:"v-2eaebba7",path:"/views/threejs/geojson.html",headers:[{level:2,title:"创建环境光",slug:"创建环境光",normalizedTitle:"创建环境光",charIndex:3},{level:2,title:"平行光",slug:"平行光",normalizedTitle:"平行光",charIndex:12},{level:2,title:"点光源",slug:"点光源",normalizedTitle:"点光源",charIndex:19},{level:2,title:"聚光灯",slug:"聚光灯",normalizedTitle:"聚光灯",charIndex:26},{level:2,title:"光源辅助",slug:"光源辅助",normalizedTitle:"光源辅助",charIndex:33}],excerpt:"<Boxx/>\n",headersStr:"创建环境光 平行光 点光源 聚光灯 光源辅助",content:" * 创建环境光\n * 平行光\n * 点光源\n * 聚光灯\n * 光源辅助\n\n\n\n\n# 创建环境光\n\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // 颜色、强度\nscene.add(ambientLight);\n\n\n1\n2\n\n\n\n# 平行光\n\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 0.7); // 颜色、强度\ndirectionalLight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionalLight);\n\n\n1\n2\n3\n\n\n\n# 点光源\n\nconst pointLight = new THREE.PointLight(0xffffff, 1, 100); // 颜色、强度、距离\npointLight.position.set(0, 10, 0); // 设置光源位置\nscene.add(pointLight);\n\n\n1\n2\n3\n\n\n\n# 聚光灯\n\nconst spotLight = new THREE.SpotLight(0xffffff, 1, 100, Math.PI / 4, 0.5); // 颜色、强度、距离、角度、衰减\nspotLight.position.set(0, 10, 0); // 设置光源位置\nspotLight.target.position.set(0, 0, 0); // 设置光源照射方向\nscene.add(spotLight);\n\n\n1\n2\n3\n4\n\n\n\n# 光源辅助\n\nconst directionalLightHelper = new THREE.DirectionalLightHelper(directionalLight, 1); // 光源、尺寸\nscene.add(directionalLightHelper);\n\n\n1\n2\n",normalizedContent:" * 创建环境光\n * 平行光\n * 点光源\n * 聚光灯\n * 光源辅助\n\n\n\n\n# 创建环境光\n\nconst ambientlight = new three.ambientlight(0xffffff, 0.5); // 颜色、强度\nscene.add(ambientlight);\n\n\n1\n2\n\n\n\n# 平行光\n\nconst directionallight = new three.directionallight(0xffffff, 0.7); // 颜色、强度\ndirectionallight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionallight);\n\n\n1\n2\n3\n\n\n\n# 点光源\n\nconst pointlight = new three.pointlight(0xffffff, 1, 100); // 颜色、强度、距离\npointlight.position.set(0, 10, 0); // 设置光源位置\nscene.add(pointlight);\n\n\n1\n2\n3\n\n\n\n# 聚光灯\n\nconst spotlight = new three.spotlight(0xffffff, 1, 100, math.pi / 4, 0.5); // 颜色、强度、距离、角度、衰减\nspotlight.position.set(0, 10, 0); // 设置光源位置\nspotlight.target.position.set(0, 0, 0); // 设置光源照射方向\nscene.add(spotlight);\n\n\n1\n2\n3\n4\n\n\n\n# 光源辅助\n\nconst directionallighthelper = new three.directionallighthelper(directionallight, 1); // 光源、尺寸\nscene.add(directionallighthelper);\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"light大全",frontmatter:{title:"light大全",date:"2023-11-22T00:00:00.000Z",tags:["three基础"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/light.html",relativePath:"views/threejs/light.md",key:"v-071ea0c7",path:"/views/threejs/light.html",headers:[{level:2,title:"创建环境光",slug:"创建环境光",normalizedTitle:"创建环境光",charIndex:3},{level:2,title:"平行光",slug:"平行光",normalizedTitle:"平行光",charIndex:12},{level:2,title:"点光源",slug:"点光源",normalizedTitle:"点光源",charIndex:19},{level:2,title:"聚光灯",slug:"聚光灯",normalizedTitle:"聚光灯",charIndex:26},{level:2,title:"光源辅助",slug:"光源辅助",normalizedTitle:"光源辅助",charIndex:33}],excerpt:"<Boxx/>\n",headersStr:"创建环境光 平行光 点光源 聚光灯 光源辅助",content:" * 创建环境光\n * 平行光\n * 点光源\n * 聚光灯\n * 光源辅助\n\n\n\n\n# 创建环境光\n\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // 颜色、强度\nscene.add(ambientLight);\n\n\n1\n2\n\n\n\n# 平行光\n\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 0.7); // 颜色、强度\ndirectionalLight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionalLight);\n\n\n1\n2\n3\n\n\n\n# 点光源\n\nconst pointLight = new THREE.PointLight(0xffffff, 1, 100); // 颜色、强度、距离\npointLight.position.set(0, 10, 0); // 设置光源位置\nscene.add(pointLight);\n\n\n1\n2\n3\n\n\n\n# 聚光灯\n\nconst spotLight = new THREE.SpotLight(0xffffff, 1, 100, Math.PI / 4, 0.5); // 颜色、强度、距离、角度、衰减\nspotLight.position.set(0, 10, 0); // 设置光源位置\nspotLight.target.position.set(0, 0, 0); // 设置光源照射方向\nscene.add(spotLight);\n\n\n1\n2\n3\n4\n\n\n\n# 光源辅助\n\nconst directionalLightHelper = new THREE.DirectionalLightHelper(directionalLight, 1); // 光源、尺寸\nscene.add(directionalLightHelper);\n\n\n1\n2\n",normalizedContent:" * 创建环境光\n * 平行光\n * 点光源\n * 聚光灯\n * 光源辅助\n\n\n\n\n# 创建环境光\n\nconst ambientlight = new three.ambientlight(0xffffff, 0.5); // 颜色、强度\nscene.add(ambientlight);\n\n\n1\n2\n\n\n\n# 平行光\n\nconst directionallight = new three.directionallight(0xffffff, 0.7); // 颜色、强度\ndirectionallight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionallight);\n\n\n1\n2\n3\n\n\n\n# 点光源\n\nconst pointlight = new three.pointlight(0xffffff, 1, 100); // 颜色、强度、距离\npointlight.position.set(0, 10, 0); // 设置光源位置\nscene.add(pointlight);\n\n\n1\n2\n3\n\n\n\n# 聚光灯\n\nconst spotlight = new three.spotlight(0xffffff, 1, 100, math.pi / 4, 0.5); // 颜色、强度、距离、角度、衰减\nspotlight.position.set(0, 10, 0); // 设置光源位置\nspotlight.target.position.set(0, 0, 0); // 设置光源照射方向\nscene.add(spotlight);\n\n\n1\n2\n3\n4\n\n\n\n# 光源辅助\n\nconst directionallighthelper = new three.directionallighthelper(directionallight, 1); // 光源、尺寸\nscene.add(directionallighthelper);\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"常见的meterial",frontmatter:{title:"常见的meterial",date:"2024-01-01T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/material%E5%A4%A7%E5%85%A8.html",relativePath:"views/threejs/material大全.md",key:"v-75b7413b",path:"/views/threejs/material%E5%A4%A7%E5%85%A8.html",headers:[{level:2,title:"BasicMaterial（基础材质）",slug:"basicmaterial-基础材质",normalizedTitle:"basicmaterial（基础材质）",charIndex:69},{level:2,title:"LambertMaterial（兰伯特材质）",slug:"lambertmaterial-兰伯特材质",normalizedTitle:"lambertmaterial（兰伯特材质）",charIndex:92},{level:2,title:"PhongMaterial（冯氏材质）",slug:"phongmaterial-冯氏材质",normalizedTitle:"phongmaterial（冯氏材质）",charIndex:118},{level:2,title:"StandardMaterial（标准材质）",slug:"standardmaterial-标准材质",normalizedTitle:"standardmaterial（标准材质）",charIndex:141},{level:2,title:"PhysicalMaterial（物理材质）",slug:"physicalmaterial-物理材质",normalizedTitle:"physicalmaterial（物理材质）",charIndex:167},{level:2,title:"ShaderMaterial（着色器材质）",slug:"shadermaterial-着色器材质",normalizedTitle:"shadermaterial（着色器材质）",charIndex:193}],excerpt:"<Boxx/>\n<p>在 Three.js 中，有许多不同类型的材质可用于渲染 3D 场景中的物体。以下是一些常见的 Three.js 材质类型：</p>\n",headersStr:"BasicMaterial（基础材质） LambertMaterial（兰伯特材质） PhongMaterial（冯氏材质） StandardMaterial（标准材质） PhysicalMaterial（物理材质） ShaderMaterial（着色器材质）",content:"在 Three.js 中，有许多不同类型的材质可用于渲染 3D 场景中的物体。以下是一些常见的 Three.js 材质类型：\n\n\n\n * BasicMaterial（基础材质）\n * LambertMaterial（兰伯特材质）\n * PhongMaterial（冯氏材质）\n * StandardMaterial（标准材质）\n * PhysicalMaterial（物理材质）\n * ShaderMaterial（着色器材质）\n\n\n\n\n# BasicMaterial（基础材质）\n\nBasicMaterial（基础材质）：\n\nTHREE.MeshBasicMaterial 这是最简单的材质，不考虑光照效果，只显示基础颜色。\n\nconst basicMaterial = new THREE.MeshBasicMaterial({\n  color: 0x00ff00, // 基础颜色\n  wireframe: true, // 是否显示线框\n});\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# LambertMaterial（兰伯特材质）\n\nLambertMaterial（兰伯特材质）：\n\nTHREE.MeshLambertMaterial 通过使用兰伯特光照模型，该材质考虑了漫反射光照效果，但不包括镜面反射。\n\nconst lambertMaterial = new THREE.MeshLambertMaterial({\n  color: 0x00ff00, // 基础颜色\n});\n\n\n\n1\n2\n3\n4\n\n\n\n# PhongMaterial（冯氏材质）\n\nPhongMaterial（冯氏材质）：\n\nTHREE.MeshPhongMaterial 使用冯氏光照模型，该材质考虑了漫反射、镜面反射和环境光照，提供了更真实的光照效果。\n\nconst material = new THREE.MeshPhongMaterial({\n    color: 0xff0000,\n    shininess: 20, //高光部分的亮度，默认30\n    specular: 0x444444, //高光部分的颜色\n});\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# StandardMaterial（标准材质）\n\nStandardMaterial（标准材质）：\n\nTHREE.MeshStandardMaterial 一种基于 PBR（Physically Based Rendering）的材质，考虑了漫反射、镜面反射、金属度和粗糙度等属性，适用于更真实的渲染。\n\nconst standardMaterial = new THREE.MeshStandardMaterial({\n  color: 0x00ff00, // 基础颜色\n  metalness: 0.5, // 金属度\n  roughness: 0.5, // 粗糙度\n});\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# PhysicalMaterial（物理材质）\n\nPhysicalMaterial（物理材质）：\n\nTHREE.MeshPhysicalMaterial 在标准材质的基础上添加了更多的物理属性，例如透明度、折射率等。\n\nconst physicalMaterial = new THREE.MeshPhysicalMaterial({\n  color: 0x00ff00, // 基础颜色\n  metalness: 0.5, // 金属度\n  roughness: 0.5, // 粗糙度\n  transparent: true, // 是否透明\n  opacity: 0.8, // 透明度\n  clearcoat: 1.0, // 透明的涂层\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# ShaderMaterial（着色器材质）\n\nShaderMaterial（着色器材质）：\n\nTHREE.ShaderMaterial 允许使用自定义着色器程序创建材质，提供了更高度的灵活性和定制能力。 这只是一小部分可用的材质类型。每种材质都有其特定的用途和适用场景，选择材质类型通常取决于项目的需求和设计目标。在使用 Three.js 时，你可以根据场景的要求选择最合适的材质类型。\n\n// 需要自定义着色器程序的代码示例\nconst vertexShader = `\n  // 自定义顶点着色器代码\n`;\n\nconst fragmentShader = `\n  // 自定义片段着色器代码\n`;\n\nconst shaderMaterial = new THREE.ShaderMaterial({\n  vertexShader: vertexShader,\n  fragmentShader: fragmentShader,\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n",normalizedContent:"在 three.js 中，有许多不同类型的材质可用于渲染 3d 场景中的物体。以下是一些常见的 three.js 材质类型：\n\n\n\n * basicmaterial（基础材质）\n * lambertmaterial（兰伯特材质）\n * phongmaterial（冯氏材质）\n * standardmaterial（标准材质）\n * physicalmaterial（物理材质）\n * shadermaterial（着色器材质）\n\n\n\n\n# basicmaterial（基础材质）\n\nbasicmaterial（基础材质）：\n\nthree.meshbasicmaterial 这是最简单的材质，不考虑光照效果，只显示基础颜色。\n\nconst basicmaterial = new three.meshbasicmaterial({\n  color: 0x00ff00, // 基础颜色\n  wireframe: true, // 是否显示线框\n});\n\n\n\n1\n2\n3\n4\n5\n\n\n\n# lambertmaterial（兰伯特材质）\n\nlambertmaterial（兰伯特材质）：\n\nthree.meshlambertmaterial 通过使用兰伯特光照模型，该材质考虑了漫反射光照效果，但不包括镜面反射。\n\nconst lambertmaterial = new three.meshlambertmaterial({\n  color: 0x00ff00, // 基础颜色\n});\n\n\n\n1\n2\n3\n4\n\n\n\n# phongmaterial（冯氏材质）\n\nphongmaterial（冯氏材质）：\n\nthree.meshphongmaterial 使用冯氏光照模型，该材质考虑了漫反射、镜面反射和环境光照，提供了更真实的光照效果。\n\nconst material = new three.meshphongmaterial({\n    color: 0xff0000,\n    shininess: 20, //高光部分的亮度，默认30\n    specular: 0x444444, //高光部分的颜色\n});\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# standardmaterial（标准材质）\n\nstandardmaterial（标准材质）：\n\nthree.meshstandardmaterial 一种基于 pbr（physically based rendering）的材质，考虑了漫反射、镜面反射、金属度和粗糙度等属性，适用于更真实的渲染。\n\nconst standardmaterial = new three.meshstandardmaterial({\n  color: 0x00ff00, // 基础颜色\n  metalness: 0.5, // 金属度\n  roughness: 0.5, // 粗糙度\n});\n\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# physicalmaterial（物理材质）\n\nphysicalmaterial（物理材质）：\n\nthree.meshphysicalmaterial 在标准材质的基础上添加了更多的物理属性，例如透明度、折射率等。\n\nconst physicalmaterial = new three.meshphysicalmaterial({\n  color: 0x00ff00, // 基础颜色\n  metalness: 0.5, // 金属度\n  roughness: 0.5, // 粗糙度\n  transparent: true, // 是否透明\n  opacity: 0.8, // 透明度\n  clearcoat: 1.0, // 透明的涂层\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# shadermaterial（着色器材质）\n\nshadermaterial（着色器材质）：\n\nthree.shadermaterial 允许使用自定义着色器程序创建材质，提供了更高度的灵活性和定制能力。 这只是一小部分可用的材质类型。每种材质都有其特定的用途和适用场景，选择材质类型通常取决于项目的需求和设计目标。在使用 three.js 时，你可以根据场景的要求选择最合适的材质类型。\n\n// 需要自定义着色器程序的代码示例\nconst vertexshader = `\n  // 自定义顶点着色器代码\n`;\n\nconst fragmentshader = `\n  // 自定义片段着色器代码\n`;\n\nconst shadermaterial = new three.shadermaterial({\n  vertexshader: vertexshader,\n  fragmentshader: fragmentshader,\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"数学-向量",frontmatter:{title:"数学-向量",date:"2024-01-02T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/math1.html",relativePath:"views/threejs/math1.md",key:"v-acc36bb2",path:"/views/threejs/math1.html",headers:[{level:2,title:"Vector3长度",slug:"vector3长度",normalizedTitle:"vector3长度",charIndex:3},{level:2,title:"向量方向(归一化.normalize)",slug:"向量方向-归一化-normalize",normalizedTitle:"向量方向(归一化.normalize)",charIndex:16},{level:2,title:"获取相机视线",slug:"获取相机视线",normalizedTitle:"获取相机视线",charIndex:39},{level:2,title:"箭头辅助器(法向量)",slug:"箭头辅助器-法向量",normalizedTitle:"箭头辅助器(法向量)",charIndex:49},{level:2,title:"向量位移,速度,加速度",slug:"向量位移-速度-加速度",normalizedTitle:"向量位移,速度,加速度",charIndex:63},{level:2,title:"模拟物体下落(重力加速度)",slug:"模拟物体下落-重力加速度",normalizedTitle:"模拟物体下落(重力加速度)",charIndex:78}],excerpt:"<Boxx/>\n",headersStr:"Vector3长度 向量方向(归一化.normalize) 获取相机视线 箭头辅助器(法向量) 向量位移,速度,加速度 模拟物体下落(重力加速度)",content:" * Vector3长度\n * 向量方向(归一化.normalize)\n * 获取相机视线\n * 箭头辅助器(法向量)\n * 向量位移,速度,加速度\n * 模拟物体下落(重力加速度)\n\n\n\n\n# Vector3长度\n\nconst A = new THREE.Vector3(30,30,0);// 人起点A\nconst B = new THREE.Vector3(130,80,0);// 人运动结束点B\nconst AB = B.clone().sub(A);\nconst L = AB.length();//向量长度计算，A点到B点的距离\n//向量的方向是方向,长度是速度或则其他\n\n\n1\n2\n3\n4\n5\n\n\n\n# 向量方向(归一化.normalize)\n\n//直线上两点坐标A和B\nconst A = new THREE.Vector3(-50,0,-50);\nconst B = new THREE.Vector3(100,0,100);\nconst AB = B.clone().sub(A);//AB向量\nAB.normalize();//AB归一化表示直线AB的方向\n\n// 单位向量AB的xyz每个分量分别乘以100\nconst T =  AB.clone().multiplyScalar(100);\n//验证：单位向量每个分量乘以100，得到的向量长度就是100，相当于得到一个沿着AB方向移动100的向量，这就是单位向量的意义\nconsole.log('向量T长度',T.length());\n\n//沿着AB方向平移平移物体mesh距离100\n// 把mesh.position的xyz三个分量分别加上向量T的xyz分量\nmesh.position.add(T);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 获取相机视线\n\nconst dir = new THREE.Vector3();//用来表示相机视线\ncamera.getWorldDirection(dir);// 获取相机的视线方向\nconsole.log('相机方向',dir);\nconsole.log('单位向量',dir.length());\n\n// dis向量表示相机沿着相机视线方向平移200的位移量\nconst dis = dir.clone().multiplyScalar(200);\n// 相机沿着视线方向平移\ncamera.position.add(dis);\n\n\n//gui\n// 获取相机的视线方向\nconst dir = new THREE.Vector3();\ncamera.getWorldDirection(dir);\nconsole.log('相机方向',dir);\nconsole.log('单位向量',dir.length());\n\nconst pos0 = camera.position.clone();//记录相机初始位置\nconst gui = new GUI();\n// L：相机沿着视线移动距离，从0~200\ngui.add({L: 0}, 'L', 0, 200).onChange(function(v){\n    const dis = dir.clone().multiplyScalar(v);//相机沿着视线偏移长度v\n    const newPos = pos0.clone().add(dis);//相机初始位置+相机偏移向量    \n    camera.position.copy(newPos);//新的位置赋值给相机位置\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 箭头辅助器(法向量)\n\n// 定义三维空间中的点A，坐标为 (0, 30, 0)\nconst A = new THREE.Vector3(0, 30, 0);//A点\n// 定义三维空间中的点B，坐标为 (80, 0, 0)\nconst B = new THREE.Vector3(80, 0, 0);//B点\n\n// 创建一个绿色小球来可视化点A的位置\nconst AMesh = createSphereMesh(0x00ff00, 2);\nAMesh.position.copy(A);\n// 创建一个红色小球来可视化点B的位置\nconst BMesh = createSphereMesh(0xff0000, 2);\nBMesh.position.copy(B);\n// 创建一个包含A、B两点小球的组\nconst group = new THREE.Group();\ngroup.add(AMesh, BMesh);\n\n// 计算从点A指向点B的向量AB\nconst AB = B.clone().sub(A);\n// 计算向量AB的长度\nconst L = AB.length();\n// 计算单位向量表示的AB方向\nconst dir = AB.clone().normalize();\n\n// 创建一个箭头，表示从点A指向点B的方向\nconst arrowHelper = new THREE.ArrowHelper(dir, A, L);\ngroup.add(arrowHelper);\n\n\n\n//标明法线方向\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\nconst p = mesh.geometry.attributes.position;\nconst n = mesh.geometry.attributes.normal;\nconst count = p.count;//顶点数量\nfor (let i = 0; i < count; i++) {\n    // 顶点位置O\n    const O = new THREE.Vector3(p.getX(i), p.getY(i), p.getZ(i));\n    // 顶点位置O对应的顶点法线\n    const dir = new THREE.Vector3(n.getX(i), n.getY(i), n.getZ(i));\n    // 箭头可视化顶点法线\n    const arrowHelper = new THREE.ArrowHelper(dir, O, 20);\n    mesh.add(arrowHelper);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 向量位移,速度,加速度\n\n//匀速运动\nconst v = new THREE.Vector3(10, 0, 10);//物体运动速度\nconst clock = new THREE.Clock();//时钟对象\nlet t = 0;\nconst pos0 = mesh.position.clone();//物体初始位置\n// 渲染循环\nfunction render() {\n    const spt = clock.getDelta();//两帧渲染时间间隔(秒)\n    t += spt;\n    // 在t时间内，以速度v运动的位移量\n    const dis = v.clone().multiplyScalar(t);\n    // 网格模型当前的位置加上spt时间段内运动的位移量\n    const newPos = pos0.clone().add(dis);\n    mesh.position.copy(newPos);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n//位移累加\nconst v = new THREE.Vector3(10,0,10);//物体运动速度\nconst clock = new THREE.Clock();//时钟对象\n// 渲染循环\nfunction render() {\n    const spt = clock.getDelta();//两帧渲染时间间隔(秒)\n    // 在spt时间内，以速度v运动的位移量\n    const dis = v.clone().multiplyScalar(spt);\n    // 网格模型当前的位置加上spt时间段内运动的位移量\n    mesh.position.add(dis);//把每一次的位移加上去了\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n//\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 模拟物体下落(重力加速度)\n\n//带入时间\nconst v = new THREE.Vector3(30, 0, 0);//物体初始速度\nconst clock = new THREE.Clock();//时钟对象\nlet t = 0;\nconst g = new THREE.Vector3(0, -9.8, 0);\nconst pos0 = mesh.position.clone();\n// 渲染循环\nfunction render() {\n    if (mesh.position.y > 0) {\n        const spt = clock.getDelta();//两帧渲染时间间隔(秒)\n        t += spt;\n        // 在t时间内，以速度v运动的位移量\n        const dis = v.clone().multiplyScalar(t).add(g.clone().multiplyScalar(0.5 * t * t));\n        // 网格模型当前的位置加上spt时间段内运动的位移量\n        const newPos = pos0.clone().add(dis);\n        mesh.position.copy(newPos);\n    }\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n//累加\nconst v = new THREE.Vector3(30, 0, 0);//物体初始速度\nconst clock = new THREE.Clock();//时钟对象\nconst g = new THREE.Vector3(0, -9.8, 0);\n// 渲染循环\nfunction render() {\n    if (mesh.position.y > 0) {\n        const spt = clock.getDelta();//两帧渲染时间间隔(秒)\n        //spV:重力加速度在时间spt内对速度的改变\n        const spV = g.clone().multiplyScalar(spt);\n        v.add(spV);//v = v + spV  更新当前速度\n        // 在spt时间内，以速度v运动的位移量\n        const dis = v.clone().multiplyScalar(spt);\n        // 网格模型当前的位置加上spt时间段内运动的位移量\n        mesh.position.add(dis);\n    }\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n",normalizedContent:" * vector3长度\n * 向量方向(归一化.normalize)\n * 获取相机视线\n * 箭头辅助器(法向量)\n * 向量位移,速度,加速度\n * 模拟物体下落(重力加速度)\n\n\n\n\n# vector3长度\n\nconst a = new three.vector3(30,30,0);// 人起点a\nconst b = new three.vector3(130,80,0);// 人运动结束点b\nconst ab = b.clone().sub(a);\nconst l = ab.length();//向量长度计算，a点到b点的距离\n//向量的方向是方向,长度是速度或则其他\n\n\n1\n2\n3\n4\n5\n\n\n\n# 向量方向(归一化.normalize)\n\n//直线上两点坐标a和b\nconst a = new three.vector3(-50,0,-50);\nconst b = new three.vector3(100,0,100);\nconst ab = b.clone().sub(a);//ab向量\nab.normalize();//ab归一化表示直线ab的方向\n\n// 单位向量ab的xyz每个分量分别乘以100\nconst t =  ab.clone().multiplyscalar(100);\n//验证：单位向量每个分量乘以100，得到的向量长度就是100，相当于得到一个沿着ab方向移动100的向量，这就是单位向量的意义\nconsole.log('向量t长度',t.length());\n\n//沿着ab方向平移平移物体mesh距离100\n// 把mesh.position的xyz三个分量分别加上向量t的xyz分量\nmesh.position.add(t);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 获取相机视线\n\nconst dir = new three.vector3();//用来表示相机视线\ncamera.getworlddirection(dir);// 获取相机的视线方向\nconsole.log('相机方向',dir);\nconsole.log('单位向量',dir.length());\n\n// dis向量表示相机沿着相机视线方向平移200的位移量\nconst dis = dir.clone().multiplyscalar(200);\n// 相机沿着视线方向平移\ncamera.position.add(dis);\n\n\n//gui\n// 获取相机的视线方向\nconst dir = new three.vector3();\ncamera.getworlddirection(dir);\nconsole.log('相机方向',dir);\nconsole.log('单位向量',dir.length());\n\nconst pos0 = camera.position.clone();//记录相机初始位置\nconst gui = new gui();\n// l：相机沿着视线移动距离，从0~200\ngui.add({l: 0}, 'l', 0, 200).onchange(function(v){\n    const dis = dir.clone().multiplyscalar(v);//相机沿着视线偏移长度v\n    const newpos = pos0.clone().add(dis);//相机初始位置+相机偏移向量    \n    camera.position.copy(newpos);//新的位置赋值给相机位置\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 箭头辅助器(法向量)\n\n// 定义三维空间中的点a，坐标为 (0, 30, 0)\nconst a = new three.vector3(0, 30, 0);//a点\n// 定义三维空间中的点b，坐标为 (80, 0, 0)\nconst b = new three.vector3(80, 0, 0);//b点\n\n// 创建一个绿色小球来可视化点a的位置\nconst amesh = createspheremesh(0x00ff00, 2);\namesh.position.copy(a);\n// 创建一个红色小球来可视化点b的位置\nconst bmesh = createspheremesh(0xff0000, 2);\nbmesh.position.copy(b);\n// 创建一个包含a、b两点小球的组\nconst group = new three.group();\ngroup.add(amesh, bmesh);\n\n// 计算从点a指向点b的向量ab\nconst ab = b.clone().sub(a);\n// 计算向量ab的长度\nconst l = ab.length();\n// 计算单位向量表示的ab方向\nconst dir = ab.clone().normalize();\n\n// 创建一个箭头，表示从点a指向点b的方向\nconst arrowhelper = new three.arrowhelper(dir, a, l);\ngroup.add(arrowhelper);\n\n\n\n//标明法线方向\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n\nconst p = mesh.geometry.attributes.position;\nconst n = mesh.geometry.attributes.normal;\nconst count = p.count;//顶点数量\nfor (let i = 0; i < count; i++) {\n    // 顶点位置o\n    const o = new three.vector3(p.getx(i), p.gety(i), p.getz(i));\n    // 顶点位置o对应的顶点法线\n    const dir = new three.vector3(n.getx(i), n.gety(i), n.getz(i));\n    // 箭头可视化顶点法线\n    const arrowhelper = new three.arrowhelper(dir, o, 20);\n    mesh.add(arrowhelper);\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n\n# 向量位移,速度,加速度\n\n//匀速运动\nconst v = new three.vector3(10, 0, 10);//物体运动速度\nconst clock = new three.clock();//时钟对象\nlet t = 0;\nconst pos0 = mesh.position.clone();//物体初始位置\n// 渲染循环\nfunction render() {\n    const spt = clock.getdelta();//两帧渲染时间间隔(秒)\n    t += spt;\n    // 在t时间内，以速度v运动的位移量\n    const dis = v.clone().multiplyscalar(t);\n    // 网格模型当前的位置加上spt时间段内运动的位移量\n    const newpos = pos0.clone().add(dis);\n    mesh.position.copy(newpos);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n//位移累加\nconst v = new three.vector3(10,0,10);//物体运动速度\nconst clock = new three.clock();//时钟对象\n// 渲染循环\nfunction render() {\n    const spt = clock.getdelta();//两帧渲染时间间隔(秒)\n    // 在spt时间内，以速度v运动的位移量\n    const dis = v.clone().multiplyscalar(spt);\n    // 网格模型当前的位置加上spt时间段内运动的位移量\n    mesh.position.add(dis);//把每一次的位移加上去了\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n//\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 模拟物体下落(重力加速度)\n\n//带入时间\nconst v = new three.vector3(30, 0, 0);//物体初始速度\nconst clock = new three.clock();//时钟对象\nlet t = 0;\nconst g = new three.vector3(0, -9.8, 0);\nconst pos0 = mesh.position.clone();\n// 渲染循环\nfunction render() {\n    if (mesh.position.y > 0) {\n        const spt = clock.getdelta();//两帧渲染时间间隔(秒)\n        t += spt;\n        // 在t时间内，以速度v运动的位移量\n        const dis = v.clone().multiplyscalar(t).add(g.clone().multiplyscalar(0.5 * t * t));\n        // 网格模型当前的位置加上spt时间段内运动的位移量\n        const newpos = pos0.clone().add(dis);\n        mesh.position.copy(newpos);\n    }\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n//累加\nconst v = new three.vector3(30, 0, 0);//物体初始速度\nconst clock = new three.clock();//时钟对象\nconst g = new three.vector3(0, -9.8, 0);\n// 渲染循环\nfunction render() {\n    if (mesh.position.y > 0) {\n        const spt = clock.getdelta();//两帧渲染时间间隔(秒)\n        //spv:重力加速度在时间spt内对速度的改变\n        const spv = g.clone().multiplyscalar(spt);\n        v.add(spv);//v = v + spv  更新当前速度\n        // 在spt时间内，以速度v运动的位移量\n        const dis = v.clone().multiplyscalar(spt);\n        // 网格模型当前的位置加上spt时间段内运动的位移量\n        mesh.position.add(dis);\n    }\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"向量点乘和叉乘",frontmatter:{title:"向量点乘和叉乘",date:"2024-01-03T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/math2.html",relativePath:"views/threejs/math2.md",key:"v-56b9f172",path:"/views/threejs/math2.html",headers:[{level:2,title:"向量点乘",slug:"向量点乘",normalizedTitle:"向量点乘",charIndex:3},{level:2,title:"点乘判断物体在人前或人后",slug:"点乘判断物体在人前或人后",normalizedTitle:"点乘判断物体在人前或人后",charIndex:11},{level:2,title:"点乘判断是否在扇形内",slug:"点乘判断是否在扇形内",normalizedTitle:"点乘判断是否在扇形内",charIndex:27},{level:2,title:"向量叉乘",slug:"向量叉乘",normalizedTitle:"向量叉乘",charIndex:41},{level:2,title:"叉乘判断人左右",slug:"叉乘判断人左右",normalizedTitle:"叉乘判断人左右",charIndex:49},{level:2,title:"叉乘计算三角形面积",slug:"叉乘计算三角形面积",normalizedTitle:"叉乘计算三角形面积",charIndex:60}],excerpt:"<Boxx/>\n",headersStr:"向量点乘 点乘判断物体在人前或人后 点乘判断是否在扇形内 向量叉乘 叉乘判断人左右 叉乘计算三角形面积",content:" * 向量点乘\n * 点乘判断物体在人前或人后\n * 点乘判断是否在扇形内\n * 向量叉乘\n * 叉乘判断人左右\n * 叉乘计算三角形面积\n\n\n\n\n# 向量点乘\n\n我主要用向量的点乘来计算两个向量之间的夹角,例如我可以通过模型方向和目标方向的夹角来判断物体在哪里? 向量归一化之后的点乘就直接得到了cos值了,直接反余弦得到弧度值.\n\nconst a = new THREE.Vector3(10, 10, 0);\nconst b = new THREE.Vector3(20, 0, 0);\n\n// dot几何含义：向量a长度 * 向量b长度 * cos(ab夹角)\nconst dot = a.dot(b);//向量a与向量b点乘，返回结果是一个数字\nconsole.log('点乘结果',dot);\n// a、b向量归一化后点乘\nconst cos =  a.normalize().dot(b.normalize());\nconsole.log('向量夹角余弦值',cos);\nconst rad = Math.acos(cos);//反余弦计算向量夹角弧度\nconsole.log('向量夹角弧度',rad);\n// 弧度转角度\nconst angle = THREE.MathUtils.radToDeg(rad);\nconsole.log('向量夹角角度值',angle);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 点乘判断物体在人前或人后\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\nmesh.position.set(2, 0, -3);//物体位置\n// mesh.position.set(2, 0, 5);//调整物体挪到人后面测试代码判断是否正确\n// a向量：人的正前方沿着z轴负半轴\nconst a = new THREE.Vector3(0, 0, -1);\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\n\nconst dot = a.dot(b);//向量a和b点乘\n\nif (dot > 0) {// 物体在人前面，向量a和b夹角0~90度，夹角余弦值大于0，a和b点乘`.dot()`大于0。\n    console.log('物体在人前面');\n} else if (dot < 0) {// 物体在人后面，向量a和b夹角0~180度，夹角余弦值小于0，a和b点乘`.dot()`小于0\n    console.log('物体在人后面');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 点乘判断是否在扇形内\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\nmesh.position.set(2, 0, -3);//物体位置\n\n// a向量：人的正前方沿着z轴负半轴\nconst a = new THREE.Vector3(0, 0, -1);\n\n// 扇形范围\nconst R = 20;//人前方扇形半径\nconst angle = 60;//人前方扇形角度\n\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\nconst L = b.length();//物体与人的距离\n\n\nb.normalize();//归一化\nconst cos = a.dot(b);//向量a和b夹角余弦值\nconst rad = THREE.MathUtils.degToRad(angle);// 角度转弧度\nconst rangeCos = Math.cos(rad / 2);// 扇形角度一半的余弦值\n\nif (L < R) {//物体与人的距离在半径R以内\n    if (cos > rangeCos) {//物体在人前方60度扇形里面\n        console.log('人在半径为R，角度为angle的扇形区域内');\n    }else{\n        console.log('不在扇形区域内');\n    }\n}else{\n    console.log('不在扇形区域内');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 向量叉乘\n\n\n\nconst a = new THREE.Vector3(50, 0, 0);\nconst b = new THREE.Vector3(30, 0, 30);\n// 箭头可视化向量a、向量b\nconst O = new THREE.Vector3(0, 0, 0);//给箭头设置一个起点\nconst arrowA = new THREE.ArrowHelper(a.clone().normalize(), O, a.length(),0xff0000);\ngroup.add(arrowA);\nconst arrowB = new THREE.ArrowHelper(b.clone().normalize(), O, b.length(),0x00ff00);\ngroup.add(arrowB);\n\n\nconst c = new THREE.Vector3();// 创建一个向量c保存叉乘结果\nc.crossVectors(a,b);//向量a叉乘b\n\n// 可视化向量a和b叉乘结果：向量c\nconst arrowC = new THREE.ArrowHelper(c.clone().normalize(), O, c.length()/30,0x0000ff);\ngroup.add(arrowC);\n\n// 向量c方向与向量a、b构成的平面垂直\n// 向量c的长度.length()几何含义，是a长度*b长度*sin(ab夹角θ)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 叉乘判断人左右\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\n// a向量：人的正前方沿着z轴负半轴\nconst a = new THREE.Vector3(0, 0, -5);\n// 箭头可视化向量a\nconst arrowA = new THREE.ArrowHelper(a.clone().normalize(), person.position, a.length(),0xff0000);\nmodel.add(arrowA);\n\nmesh.position.set(2, 0, -3);//物体位置在人右边 向量c朝下    \n// mesh.position.set(-2, 0, -3);//物体位置在人左边 向量c朝上\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\nconst arrowB = new THREE.ArrowHelper(b.clone().normalize(), person.position, b.length(),0x00ff00);\nmodel.add(arrowB);\n\n\nconst c = a.clone().cross(b);\nc.normalize()\n\n// 可视化向量c方向\nconst arrowC = new THREE.ArrowHelper(c, person.position, 2.5 ,0x0000ff);\nmodel.add(arrowC);\n\n// 根据向量c方向，判断物体在人的左侧还是右侧。\nif(c.y < 0){\n    console.log('物体在人右侧');\n}else if(c.y > 0){\n    console.log('物体在人左侧');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 叉乘计算三角形面积\n\n// 已知三角形三个顶点的坐标，计算三角形面积\nconst p1 = new THREE.Vector3(0, 0, 0);\nconst p2 = new THREE.Vector3(10, 0, 0);\nconst p3 = new THREE.Vector3(0, 10, 0);\n\n\n\n// 三角形两条边构建两个向量\nconst a = p2.clone().sub(p1);\nconst b = p3.clone().sub(p1);\n// 两个向量叉乘结果c的几何含义：a.length()*b.length()*sin(θ)\nconst c = a.clone().cross(b);\n\n// 三角形面积计算\nconst S = 0.5*c.length();\n\nconsole.log('S',S);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n",normalizedContent:" * 向量点乘\n * 点乘判断物体在人前或人后\n * 点乘判断是否在扇形内\n * 向量叉乘\n * 叉乘判断人左右\n * 叉乘计算三角形面积\n\n\n\n\n# 向量点乘\n\n我主要用向量的点乘来计算两个向量之间的夹角,例如我可以通过模型方向和目标方向的夹角来判断物体在哪里? 向量归一化之后的点乘就直接得到了cos值了,直接反余弦得到弧度值.\n\nconst a = new three.vector3(10, 10, 0);\nconst b = new three.vector3(20, 0, 0);\n\n// dot几何含义：向量a长度 * 向量b长度 * cos(ab夹角)\nconst dot = a.dot(b);//向量a与向量b点乘，返回结果是一个数字\nconsole.log('点乘结果',dot);\n// a、b向量归一化后点乘\nconst cos =  a.normalize().dot(b.normalize());\nconsole.log('向量夹角余弦值',cos);\nconst rad = math.acos(cos);//反余弦计算向量夹角弧度\nconsole.log('向量夹角弧度',rad);\n// 弧度转角度\nconst angle = three.mathutils.radtodeg(rad);\nconsole.log('向量夹角角度值',angle);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 点乘判断物体在人前或人后\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\nmesh.position.set(2, 0, -3);//物体位置\n// mesh.position.set(2, 0, 5);//调整物体挪到人后面测试代码判断是否正确\n// a向量：人的正前方沿着z轴负半轴\nconst a = new three.vector3(0, 0, -1);\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\n\nconst dot = a.dot(b);//向量a和b点乘\n\nif (dot > 0) {// 物体在人前面，向量a和b夹角0~90度，夹角余弦值大于0，a和b点乘`.dot()`大于0。\n    console.log('物体在人前面');\n} else if (dot < 0) {// 物体在人后面，向量a和b夹角0~180度，夹角余弦值小于0，a和b点乘`.dot()`小于0\n    console.log('物体在人后面');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 点乘判断是否在扇形内\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\nmesh.position.set(2, 0, -3);//物体位置\n\n// a向量：人的正前方沿着z轴负半轴\nconst a = new three.vector3(0, 0, -1);\n\n// 扇形范围\nconst r = 20;//人前方扇形半径\nconst angle = 60;//人前方扇形角度\n\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\nconst l = b.length();//物体与人的距离\n\n\nb.normalize();//归一化\nconst cos = a.dot(b);//向量a和b夹角余弦值\nconst rad = three.mathutils.degtorad(angle);// 角度转弧度\nconst rangecos = math.cos(rad / 2);// 扇形角度一半的余弦值\n\nif (l < r) {//物体与人的距离在半径r以内\n    if (cos > rangecos) {//物体在人前方60度扇形里面\n        console.log('人在半径为r，角度为angle的扇形区域内');\n    }else{\n        console.log('不在扇形区域内');\n    }\n}else{\n    console.log('不在扇形区域内');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 向量叉乘\n\n\n\nconst a = new three.vector3(50, 0, 0);\nconst b = new three.vector3(30, 0, 30);\n// 箭头可视化向量a、向量b\nconst o = new three.vector3(0, 0, 0);//给箭头设置一个起点\nconst arrowa = new three.arrowhelper(a.clone().normalize(), o, a.length(),0xff0000);\ngroup.add(arrowa);\nconst arrowb = new three.arrowhelper(b.clone().normalize(), o, b.length(),0x00ff00);\ngroup.add(arrowb);\n\n\nconst c = new three.vector3();// 创建一个向量c保存叉乘结果\nc.crossvectors(a,b);//向量a叉乘b\n\n// 可视化向量a和b叉乘结果：向量c\nconst arrowc = new three.arrowhelper(c.clone().normalize(), o, c.length()/30,0x0000ff);\ngroup.add(arrowc);\n\n// 向量c方向与向量a、b构成的平面垂直\n// 向量c的长度.length()几何含义，是a长度*b长度*sin(ab夹角θ)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 叉乘判断人左右\n\n// 已知条件\nperson.position.set(0, 0, 2);//人位置\n// a向量：人的正前方沿着z轴负半轴\nconst a = new three.vector3(0, 0, -5);\n// 箭头可视化向量a\nconst arrowa = new three.arrowhelper(a.clone().normalize(), person.position, a.length(),0xff0000);\nmodel.add(arrowa);\n\nmesh.position.set(2, 0, -3);//物体位置在人右边 向量c朝下    \n// mesh.position.set(-2, 0, -3);//物体位置在人左边 向量c朝上\n\n// 物体坐标减去人坐标，创建一个人指向物体的向量\nconst b = mesh.position.clone().sub(person.position);\nconst arrowb = new three.arrowhelper(b.clone().normalize(), person.position, b.length(),0x00ff00);\nmodel.add(arrowb);\n\n\nconst c = a.clone().cross(b);\nc.normalize()\n\n// 可视化向量c方向\nconst arrowc = new three.arrowhelper(c, person.position, 2.5 ,0x0000ff);\nmodel.add(arrowc);\n\n// 根据向量c方向，判断物体在人的左侧还是右侧。\nif(c.y < 0){\n    console.log('物体在人右侧');\n}else if(c.y > 0){\n    console.log('物体在人左侧');\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 叉乘计算三角形面积\n\n// 已知三角形三个顶点的坐标，计算三角形面积\nconst p1 = new three.vector3(0, 0, 0);\nconst p2 = new three.vector3(10, 0, 0);\nconst p3 = new three.vector3(0, 10, 0);\n\n\n\n// 三角形两条边构建两个向量\nconst a = p2.clone().sub(p1);\nconst b = p3.clone().sub(p1);\n// 两个向量叉乘结果c的几何含义：a.length()*b.length()*sin(θ)\nconst c = a.clone().cross(b);\n\n// 三角形面积计算\nconst s = 0.5*c.length();\n\nconsole.log('s',s);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"欧拉角和四元数",frontmatter:{title:"欧拉角和四元数",date:"2024-01-04T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/math3.html",relativePath:"views/threejs/math3.md",key:"v-00b07732",path:"/views/threejs/math3.html",headers:[{level:2,title:"欧拉角",slug:"欧拉角",normalizedTitle:"欧拉角",charIndex:3},{level:2,title:"四元数",slug:"四元数",normalizedTitle:"四元数",charIndex:10},{level:2,title:"四元数的运算",slug:"四元数的运算",normalizedTitle:"四元数的运算",charIndex:17},{level:2,title:"案例",slug:"案例",normalizedTitle:"案例",charIndex:27},{level:2,title:"无人机镜头始终指向旋转中心",slug:"无人机镜头始终指向旋转中心",normalizedTitle:"无人机镜头始终指向旋转中心",charIndex:33},{level:2,title:"无人机镜头沿着轨迹线切线方向",slug:"无人机镜头沿着轨迹线切线方向",normalizedTitle:"无人机镜头沿着轨迹线切线方向",charIndex:50}],excerpt:"<Boxx/>\n",headersStr:"欧拉角 四元数 四元数的运算 案例 无人机镜头始终指向旋转中心 无人机镜头沿着轨迹线切线方向",content:" * 欧拉角\n * 四元数\n * 四元数的运算\n * 案例\n * 无人机镜头始终指向旋转中心\n * 无人机镜头沿着轨迹线切线方向\n\n\n\n\n# 欧拉角\n\n欧拉角是一种表示物体旋转的方式，在Three.js中也经常用于描述3D对象的旋转。为了更通俗地理解欧拉角，我们可以将其比喻为物体绕坐标轴的旋转方式，这涉及到三个角度：俯仰角（Pitch）、偏航角（Yaw）、和滚转角（Roll）。\n\n俯仰角（Pitch）： 绕X轴旋转，就像你在低头或仰头。正俯仰表示往前低头，负俯仰表示仰头。\n\n偏航角（Yaw）： 绕Y轴旋转，就像你在左右转头。正偏航表示向右转头，负偏航表示向左转头。\n\n滚转角（Roll）： 绕Z轴旋转，就像你在翻滚。正滚转表示向右翻滚，负滚转表示向左翻滚。\n\n可以想象一个飞机在空中飞行的情景。俯仰角对应飞机的仰头和俯冲动作，偏航角对应左右转弯，滚转角对应飞机的翻滚动作。\n\n在Three.js中，欧拉角通常以角度（degrees）表示，但有时也以弧度（radians）表示。通过设置对象的欧拉角，你可以控制对象在3D空间中的旋转状态。需要注意的是，使用欧拉角时可能会遇到万向锁（Gimbal Lock）的问题，这是由于旋转顺序导致的，可以通过其他方式如四元数来避免。\n\n我的理解是就是用来记录物体当前姿态的变量\n\n const Euler = new THREE.Euler();\n    Euler.x = Math.PI / 3;\n    Euler.y = Math.PI / 3;\n    // 你可以对比不同旋转顺序，物体旋转后姿态角度是否相同\n    // Euler.order = 'XYZ';//先绕X轴旋转，在绕Y、Z轴旋转\n    Euler.order = 'YXZ';//先绕Y轴旋转，在绕X、Z轴旋转\n    fly.rotation.copy(Euler);//将欧拉角赋予给fly对象\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 四元数\n\n四元数（Quaternions）是一种数学表示方式，用于表示旋转的姿态。在Three.js和其他计算机图形学领域，四元数通常用于解决欧拉角旋转引起的万向锁问题，因为它们没有欧拉角那样的歧义性。\n\n四元数由一个实部和三个虚部组成，通常表示为 q = w + xi + yj + zk，其中：\n\nw 是实部（标量部分）。 x, y, z 是虚部（向量部分）。 四元数的优势在于它们可以用来表示任意轴上的旋转，而不会出现万向锁问题。它们通过四个分量来表示旋转，而不是通过三个角度。通过使用四元数，可以更有效地进行复合旋转和插值，尤其是在动画和相机控制等场景中。\n\n在Three.js中，可以通过THREE.Quaternion类来创建和操作四元数。使用四元数来表示旋转时，可以更稳定和可靠地执行多次旋转操作，而不会出现奇异性和歧义，这使得它在计算机图形学中的应用变得非常重要。\n\n我的理解是四元数可以绕任意轴旋转,而欧拉角只能绕xyz\n\nconst quaternion = new THREE.Quaternion();\n// 旋转轴new THREE.Vector3(0,0,1)\n// 旋转角度Math.PI/2\nquaternion.setFromAxisAngle(new THREE.Vector3(0,0,1),Math.PI/2);\n//.............................//轴..................//旋转角度\n\n// 通过四元数旋转A点：把A点绕z轴旋转90度生成一个新的坐标点B\nconst B = A.clone().applyQuaternion(quaternion);\nconsole.log('B',B);//查看旋转后坐标\n\n//红色小球可视化坐标点B \nconst Bmesh = createSphereMesh(0xff0000,2);\nBmesh.position.copy(B);\ngroup.add(Bmesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 四元数的运算\n\n.multiply(q3)是在上次的基础上再旋转,而copy()是直接赋予当前的值替代\n\n // 在物体原来姿态基础上，进行旋转\n    const q1 = new THREE.Quaternion();\n    q1.setFromAxisAngle(new THREE.Vector3(1, 0, 0), Math.PI / 2);\n    fly.quaternion.multiply(q1);\n    // 在物体上次旋转基础上，进行旋转\n    const q2 = new THREE.Quaternion();\n    q2.setFromAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2);\n    fly.quaternion.multiply(q2);\n    // 在物体上次旋转基础上，进行旋转\n    const q3 = new THREE.Quaternion();\n    q3.setFromAxisAngle(new THREE.Vector3(0, 0, 1), Math.PI / 2);\n    fly.quaternion.multiply(q3);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 案例\n\nloader.load(\"../飞机.glb\", function (gltf) {\n    const fly = new THREE.Group()\n    fly.add(gltf.scene);\n    model.add(fly);\n    fly.position.set(10, 10, 0);//相对世界坐标系坐标原点偏移\n    const axesHelper = new THREE.AxesHelper(10);\n    fly.add(axesHelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    // 可视化飞机方向\n    const a = new THREE.Vector3(0, 0, -1);//飞机初始姿态飞行方向\n    const O = fly.position.clone();//飞机位置坐标箭头起点\n    model.add(new THREE.ArrowHelper(a, O, 20, 0xff0000));\n\n    // 飞机姿态绕自身坐标原点旋转到v2指向的方向\n    const b = new THREE.Vector3(-1, -1, -1).normalize();\n    model.add(new THREE.ArrowHelper(b, O, 20, 0x00ff00));\n\n\n    // a旋转到b构成的四元数\n    const quaternion = new THREE.Quaternion();\n    quaternion.setFromUnitVectors(a, b);//注意两个参数的顺序\n    // quaternion表示的是变化过程，在原来基础上乘以quaternion即可\n    fly.quaternion.multiply(quaternion)\n\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 无人机镜头始终指向旋转中心\n\nloader.load(\"../无人机.glb\", function (gltf) {\n    const fly = new THREE.Group();\n    fly.scale.set(0.5, 0.5, 0.5);\n    fly.add(gltf.scene);\n    model.add(fly);\n    const axesHelper = new THREE.AxesHelper(30);\n    fly.add(axesHelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    const R = 100;//绕转半径\n    const H = 30;//绕转高度\n    \n    // 初始位置\n    fly.position.y = H;\n    fly.position.x = R;\n\n    //无人机加载进来默认正反向(相机镜头方向)\n    const a = new THREE.Vector3(0, 0 ,1);\n    // 绕转中心的坐标\n    const target = new THREE.Vector3(0, H, 0);\n    const q0 = fly.quaternion.clone();//姿态角度初始值\n\n\n    let angle = 0;\n    function loop() {\n        requestAnimationFrame(loop);\n        angle += 0.01;\n        // 无人机y坐标不变，在平行于XOZ的平面上做圆周运动\n        const x = R * Math.cos(angle);\n        const z = R * Math.sin(angle);\n        fly.position.x = x;\n        fly.position.z = z;\n\n        // 保持无人机镜头一直对准旋转中心\n        const b = target.clone().sub(fly.position).normalize();\n        // 计算当前位置相对初始位置需要旋转的角度\n        const q = new THREE.Quaternion();\n        q.setFromUnitVectors(a, b);\n        const newQ = q0.clone().multiply(q);//初始四元数乘需要增加旋转对应四元数q\n        fly.quaternion.copy(newQ);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 无人机镜头沿着轨迹线切线方向\n\nloader.load(\"../无人机.glb\", function (gltf) {\n    const fly = new THREE.Group();\n    fly.scale.set(0.5, 0.5, 0.5);\n    fly.add(gltf.scene);\n    model.add(fly);\n    const axesHelper = new THREE.AxesHelper(30);\n    fly.add(axesHelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    const R = 100;//绕转半径\n    const H = 30;//绕转高度\n    // 初始位置\n    fly.position.y = H;\n    fly.position.x = R;\n\n    //无人机加载进来默认正反向(相机镜头方向)\n    const a = new THREE.Vector3(0, 0 ,1);\n    const q0 = fly.quaternion.clone();//姿态角度初始值\n\n    // 无飞机圆周绕飞动画\n    let angle = 0;\n    function loop() {\n        requestAnimationFrame(loop);\n        angle += 0.01;\n        // 无人机y坐标不变，在平行于XOZ的平面上做圆周运动\n        const x = R * Math.cos(angle);\n        const z = R * Math.sin(angle);\n        fly.position.x = x;\n        fly.position.z = z;\n\n        // 保持无人机镜头沿着飞行方向(圆弧轨迹线切线方向)\n        const x2 = R * Math.cos(angle + 0.001);\n        const z2 = R * Math.sin(angle + 0.001);\n        // 向量b表示当前位置的切线方向(angle + 0.001近似计算)\n        const b = new THREE.Vector3(x2 - x, 0, z2 - z).normalize();\n        const q = new THREE.Quaternion();\n        q.setFromUnitVectors(a, b);\n        const newQ = q0.clone().multiply(q);\n        fly.quaternion.copy(newQ);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",normalizedContent:" * 欧拉角\n * 四元数\n * 四元数的运算\n * 案例\n * 无人机镜头始终指向旋转中心\n * 无人机镜头沿着轨迹线切线方向\n\n\n\n\n# 欧拉角\n\n欧拉角是一种表示物体旋转的方式，在three.js中也经常用于描述3d对象的旋转。为了更通俗地理解欧拉角，我们可以将其比喻为物体绕坐标轴的旋转方式，这涉及到三个角度：俯仰角（pitch）、偏航角（yaw）、和滚转角（roll）。\n\n俯仰角（pitch）： 绕x轴旋转，就像你在低头或仰头。正俯仰表示往前低头，负俯仰表示仰头。\n\n偏航角（yaw）： 绕y轴旋转，就像你在左右转头。正偏航表示向右转头，负偏航表示向左转头。\n\n滚转角（roll）： 绕z轴旋转，就像你在翻滚。正滚转表示向右翻滚，负滚转表示向左翻滚。\n\n可以想象一个飞机在空中飞行的情景。俯仰角对应飞机的仰头和俯冲动作，偏航角对应左右转弯，滚转角对应飞机的翻滚动作。\n\n在three.js中，欧拉角通常以角度（degrees）表示，但有时也以弧度（radians）表示。通过设置对象的欧拉角，你可以控制对象在3d空间中的旋转状态。需要注意的是，使用欧拉角时可能会遇到万向锁（gimbal lock）的问题，这是由于旋转顺序导致的，可以通过其他方式如四元数来避免。\n\n我的理解是就是用来记录物体当前姿态的变量\n\n const euler = new three.euler();\n    euler.x = math.pi / 3;\n    euler.y = math.pi / 3;\n    // 你可以对比不同旋转顺序，物体旋转后姿态角度是否相同\n    // euler.order = 'xyz';//先绕x轴旋转，在绕y、z轴旋转\n    euler.order = 'yxz';//先绕y轴旋转，在绕x、z轴旋转\n    fly.rotation.copy(euler);//将欧拉角赋予给fly对象\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 四元数\n\n四元数（quaternions）是一种数学表示方式，用于表示旋转的姿态。在three.js和其他计算机图形学领域，四元数通常用于解决欧拉角旋转引起的万向锁问题，因为它们没有欧拉角那样的歧义性。\n\n四元数由一个实部和三个虚部组成，通常表示为 q = w + xi + yj + zk，其中：\n\nw 是实部（标量部分）。 x, y, z 是虚部（向量部分）。 四元数的优势在于它们可以用来表示任意轴上的旋转，而不会出现万向锁问题。它们通过四个分量来表示旋转，而不是通过三个角度。通过使用四元数，可以更有效地进行复合旋转和插值，尤其是在动画和相机控制等场景中。\n\n在three.js中，可以通过three.quaternion类来创建和操作四元数。使用四元数来表示旋转时，可以更稳定和可靠地执行多次旋转操作，而不会出现奇异性和歧义，这使得它在计算机图形学中的应用变得非常重要。\n\n我的理解是四元数可以绕任意轴旋转,而欧拉角只能绕xyz\n\nconst quaternion = new three.quaternion();\n// 旋转轴new three.vector3(0,0,1)\n// 旋转角度math.pi/2\nquaternion.setfromaxisangle(new three.vector3(0,0,1),math.pi/2);\n//.............................//轴..................//旋转角度\n\n// 通过四元数旋转a点：把a点绕z轴旋转90度生成一个新的坐标点b\nconst b = a.clone().applyquaternion(quaternion);\nconsole.log('b',b);//查看旋转后坐标\n\n//红色小球可视化坐标点b \nconst bmesh = createspheremesh(0xff0000,2);\nbmesh.position.copy(b);\ngroup.add(bmesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 四元数的运算\n\n.multiply(q3)是在上次的基础上再旋转,而copy()是直接赋予当前的值替代\n\n // 在物体原来姿态基础上，进行旋转\n    const q1 = new three.quaternion();\n    q1.setfromaxisangle(new three.vector3(1, 0, 0), math.pi / 2);\n    fly.quaternion.multiply(q1);\n    // 在物体上次旋转基础上，进行旋转\n    const q2 = new three.quaternion();\n    q2.setfromaxisangle(new three.vector3(0, 1, 0), math.pi / 2);\n    fly.quaternion.multiply(q2);\n    // 在物体上次旋转基础上，进行旋转\n    const q3 = new three.quaternion();\n    q3.setfromaxisangle(new three.vector3(0, 0, 1), math.pi / 2);\n    fly.quaternion.multiply(q3);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 案例\n\nloader.load(\"../飞机.glb\", function (gltf) {\n    const fly = new three.group()\n    fly.add(gltf.scene);\n    model.add(fly);\n    fly.position.set(10, 10, 0);//相对世界坐标系坐标原点偏移\n    const axeshelper = new three.axeshelper(10);\n    fly.add(axeshelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    // 可视化飞机方向\n    const a = new three.vector3(0, 0, -1);//飞机初始姿态飞行方向\n    const o = fly.position.clone();//飞机位置坐标箭头起点\n    model.add(new three.arrowhelper(a, o, 20, 0xff0000));\n\n    // 飞机姿态绕自身坐标原点旋转到v2指向的方向\n    const b = new three.vector3(-1, -1, -1).normalize();\n    model.add(new three.arrowhelper(b, o, 20, 0x00ff00));\n\n\n    // a旋转到b构成的四元数\n    const quaternion = new three.quaternion();\n    quaternion.setfromunitvectors(a, b);//注意两个参数的顺序\n    // quaternion表示的是变化过程，在原来基础上乘以quaternion即可\n    fly.quaternion.multiply(quaternion)\n\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 无人机镜头始终指向旋转中心\n\nloader.load(\"../无人机.glb\", function (gltf) {\n    const fly = new three.group();\n    fly.scale.set(0.5, 0.5, 0.5);\n    fly.add(gltf.scene);\n    model.add(fly);\n    const axeshelper = new three.axeshelper(30);\n    fly.add(axeshelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    const r = 100;//绕转半径\n    const h = 30;//绕转高度\n    \n    // 初始位置\n    fly.position.y = h;\n    fly.position.x = r;\n\n    //无人机加载进来默认正反向(相机镜头方向)\n    const a = new three.vector3(0, 0 ,1);\n    // 绕转中心的坐标\n    const target = new three.vector3(0, h, 0);\n    const q0 = fly.quaternion.clone();//姿态角度初始值\n\n\n    let angle = 0;\n    function loop() {\n        requestanimationframe(loop);\n        angle += 0.01;\n        // 无人机y坐标不变，在平行于xoz的平面上做圆周运动\n        const x = r * math.cos(angle);\n        const z = r * math.sin(angle);\n        fly.position.x = x;\n        fly.position.z = z;\n\n        // 保持无人机镜头一直对准旋转中心\n        const b = target.clone().sub(fly.position).normalize();\n        // 计算当前位置相对初始位置需要旋转的角度\n        const q = new three.quaternion();\n        q.setfromunitvectors(a, b);\n        const newq = q0.clone().multiply(q);//初始四元数乘需要增加旋转对应四元数q\n        fly.quaternion.copy(newq);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 无人机镜头沿着轨迹线切线方向\n\nloader.load(\"../无人机.glb\", function (gltf) {\n    const fly = new three.group();\n    fly.scale.set(0.5, 0.5, 0.5);\n    fly.add(gltf.scene);\n    model.add(fly);\n    const axeshelper = new three.axeshelper(30);\n    fly.add(axeshelper);//用一个坐标轴可视化模型的局部坐标系(本地坐标系)\n\n    const r = 100;//绕转半径\n    const h = 30;//绕转高度\n    // 初始位置\n    fly.position.y = h;\n    fly.position.x = r;\n\n    //无人机加载进来默认正反向(相机镜头方向)\n    const a = new three.vector3(0, 0 ,1);\n    const q0 = fly.quaternion.clone();//姿态角度初始值\n\n    // 无飞机圆周绕飞动画\n    let angle = 0;\n    function loop() {\n        requestanimationframe(loop);\n        angle += 0.01;\n        // 无人机y坐标不变，在平行于xoz的平面上做圆周运动\n        const x = r * math.cos(angle);\n        const z = r * math.sin(angle);\n        fly.position.x = x;\n        fly.position.z = z;\n\n        // 保持无人机镜头沿着飞行方向(圆弧轨迹线切线方向)\n        const x2 = r * math.cos(angle + 0.001);\n        const z2 = r * math.sin(angle + 0.001);\n        // 向量b表示当前位置的切线方向(angle + 0.001近似计算)\n        const b = new three.vector3(x2 - x, 0, z2 - z).normalize();\n        const q = new three.quaternion();\n        q.setfromunitvectors(a, b);\n        const newq = q0.clone().multiply(q);\n        fly.quaternion.copy(newq);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"数学-矩阵",frontmatter:{title:"数学-矩阵",date:"2024-01-05T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/math4.html",relativePath:"views/threejs/math4.md",key:"v-2aac8187",path:"/views/threejs/math4.html",headers:[{level:2,title:"Matrix4",slug:"matrix4",normalizedTitle:"matrix4",charIndex:3},{level:2,title:"矩阵乘法",slug:"矩阵乘法",normalizedTitle:"矩阵乘法",charIndex:14},{level:2,title:"模型本地矩阵、世界矩阵",slug:"模型本地矩阵、世界矩阵",normalizedTitle:"模型本地矩阵、世界矩阵",charIndex:22},{level:2,title:"render自动更新模型矩阵",slug:"render自动更新模型矩阵",normalizedTitle:"render自动更新模型矩阵",charIndex:37},{level:2,title:"视图矩阵、投影矩阵",slug:"视图矩阵、投影矩阵",normalizedTitle:"视图矩阵、投影矩阵",charIndex:55},{level:2,title:"模型和相机分别缩放场景",slug:"模型和相机分别缩放场景",normalizedTitle:"模型和相机分别缩放场景",charIndex:68}],excerpt:"<Boxx/>\n",headersStr:"Matrix4 矩阵乘法 模型本地矩阵、世界矩阵 render自动更新模型矩阵 视图矩阵、投影矩阵 模型和相机分别缩放场景",content:" * Matrix4\n * 矩阵乘法\n * 模型本地矩阵、世界矩阵\n * render自动更新模型矩阵\n * 视图矩阵、投影矩阵\n * 模型和相机分别缩放场景\n\n\n\n\n# Matrix4\n\nconst mat4 = new THREE.Matrix4();\n// 创建一个平移矩阵(沿着x轴平移50)\n// 1, 0, 0, x,\n// 0, 1, 0, y,\n// 0, 0, 1, z,\n// 0, 0, 0, 1\nmat4.elements=[1,0,0,0, 0,1,0,0, 0,0,1,0, 50, 0, 0, 1];\n\n// 空间中p点坐标\nconst p = new THREE.Vector3(50,0,0);//最后一位用1代替(50,0,0,1)\n// 矩阵对p点坐标进行平移变换\np.applyMatrix4(mat4);\nconsole.log('查看平移后p点坐标',p);\n\nmesh.position.copy(p);//用小球可视化p点位置\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 矩阵乘法\n\n// 空间中p点坐标\nconst p = new THREE.Vector3(50,0,0);\n\n\nconst T = new THREE.Matrix4();\nT.makeTranslation(50,0,0);//平移矩阵\nconst R = new THREE.Matrix4();\nR.makeRotationZ(Math.PI/2);//旋转矩阵\n\n// p点矩阵变换\n// p.applyMatrix4(T);//先平移\n// p.applyMatrix4(R);//后旋转\n\n// R * T * p:先平移、后旋转\nconst modelMatrix = R.clone().multiply(T);\np.applyMatrix4(modelMatrix);\n\n// // T * R * p：先旋转、后平移\n// const modelMatrix = R.clone().multiply(T);\n// p.applyMatrix4(modelMatrix);\n\nmesh.position.copy(p);//用小球可视化p点位置\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 模型本地矩阵、世界矩阵\n\n在计算机图形学中，模型本地矩阵（Model Matrix）和世界矩阵（World Matrix）是用于描述物体变换的两个关键概念。\n\n模型本地矩阵（Model Matrix）：\n\n模型本地矩阵用于描述一个物体相对于其自身坐标系的变换。它包括了平移、旋转、缩放等变换，将一个物体从其本地坐标系变换到世界坐标系。对于一个模型，其本地矩阵定义了模型的局部坐标系中的位置、方向和大小。当多个模型被组合成一个场景时，每个模型都可以有自己的本地矩阵，以便正确放置和定位。\n\n世界矩阵（World Matrix）：\n\n世界矩阵用于描述一个物体在整个世界坐标系中的变换。它考虑了模型本地矩阵的效果，并将一个模型从其本地坐标系转换到整个场景的世界坐标系。世界矩阵考虑了物体在场景中的位置、方向和大小，以及可能的父子关系。当多个模型被放置在一个场景中时，它们各自的世界矩阵确定了它们在整个场景中的最终位置。\n\n在图形渲染过程中，这两个矩阵通常被用于变换顶点坐标。当顶点坐标通过模型本地矩阵变换后，再经过投影矩阵变换，最终得到屏幕坐标，用于绘制在屏幕上。\n\n总体而言，模型本地矩阵和世界矩阵是一种将物体从局部坐标系变换到整个场景坐标系的数学表示。\n\nmesh.position.set(2,3,4);\nconst group = new THREE.Group();\ngroup.add(mesh);\ngroup.position.set(2,3,4);\n\ngroup.updateMatrixWorld();//group和子对象的世界矩阵、本地矩阵属性会更新\n\nconsole.log('本地矩阵',mesh.matrix);\nconsole.log('世界矩阵',mesh.matrixWorld);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# render自动更新模型矩阵\n\n模型矩阵（Model Matrix）是在计算机图形学中用于描述一个物体在三维空间中的变换的矩阵。它是一种仿射矩阵，包含了平移（Translation）、旋转（Rotation）、缩放（Scale）等变换的信息。\n\n// 渲染循环\nfunction render() {\n    // render渲染时候，会获取模型`.position`等属性更新计算模型矩阵值\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 视图矩阵、投影矩阵\n\n视图矩阵（View Matrix）和投影矩阵（Projection Matrix）是在计算机图形学中用于实现相机透视投影和视点变换的两个关键矩阵。\n\n1.视图矩阵（View Matrix）： 视图矩阵描述了观察者（相机）的位置和方向，以及观察场景的方式。它将世界坐标系中的物体变换到相机坐标系中。视图矩阵的目的是模拟观察者相对于世界中物体的位置和朝向，使得渲染时看起来像是从相机的视角观察物体。 视图矩阵通常包含了平移、旋转和可能的缩放等变换。当一个顶点坐标通过视图矩阵变换时，得到的坐标将是相对于相机的视角。 2.投影矩阵（Projection Matrix）： 投影矩阵定义了将三维坐标映射到二维屏幕坐标的方式，实现了透视投影。它决定了在屏幕上远近物体的大小和透视效果。投影矩阵通常是透视矩阵或正交矩阵，取决于场景中所需的投影类型。\n\n3.透视投影：使得远处的物体看起来较小，近处的物体较大，以模拟人眼在现实中的透视效果。 4.正交投影：物体在屏幕上的大小不受其距离的影响，保持相对大小不变。 投影矩阵的应用是将场景中的物体坐标变换到裁剪空间（标准化设备坐标），再通过裁剪空间的坐标变换到屏幕坐标。\n\n在图形渲染中，通常将视图矩阵和投影矩阵与模型矩阵相乘，以便将物体的局部坐标转换到最终屏幕上的坐标。整个变换过程可以表示为： [ V = View \\cdot Model ] [ MVP = Projection \\cdot V ] 其中，( Model ) 是模型矩阵，( View ) 是视图矩阵，( Projection ) 是投影矩阵，( MVP ) 是最终的模型-视图-投影矩阵。\n\n//场景旋转\n// 渲染循环\nfunction render() {\n    // model.rotation.y+=0.01;\n    scene.rotation.y+=0.01;\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n//相机旋转\n// 渲染循环\nlet angle = 0; //用于圆周运动计算的角度值\nconst R = 260; //相机圆周运动的半径\nfunction render() {\n    angle += 0.01;\n    // 相机y坐标不变，在XOZ平面上做圆周运动\n    camera.position.x = R * Math.cos(angle);\n    camera.position.z = R * Math.sin(angle);\n    // 相机圆周运动过程，如果希望视线始终指向圆心，位置改变后必须重新执行lookAt指向圆心\n    camera.lookAt(0,0,0);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 模型和相机分别缩放场景\n\n// 放大工厂模型(换句话说，能观察的范围更小了，工厂周边东西不能看到那么多了)\n// model.scale.set(2,2,2);\n\n\n\n//相机\nconst width = window.innerWidth;\nconst height = window.innerHeight;\nconst camera = new THREE.PerspectiveCamera(30, width / height, 1, 3000);\n// camera.position.set(202, 123, 125);\n// 相机距离目标观察点更近(能观察到范围变小，在画布上工厂放大了)\ncamera.position.set(202*0.5, 123*0.5, 125*0.5);\ncamera.lookAt(0, 0, 0);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",normalizedContent:" * matrix4\n * 矩阵乘法\n * 模型本地矩阵、世界矩阵\n * render自动更新模型矩阵\n * 视图矩阵、投影矩阵\n * 模型和相机分别缩放场景\n\n\n\n\n# matrix4\n\nconst mat4 = new three.matrix4();\n// 创建一个平移矩阵(沿着x轴平移50)\n// 1, 0, 0, x,\n// 0, 1, 0, y,\n// 0, 0, 1, z,\n// 0, 0, 0, 1\nmat4.elements=[1,0,0,0, 0,1,0,0, 0,0,1,0, 50, 0, 0, 1];\n\n// 空间中p点坐标\nconst p = new three.vector3(50,0,0);//最后一位用1代替(50,0,0,1)\n// 矩阵对p点坐标进行平移变换\np.applymatrix4(mat4);\nconsole.log('查看平移后p点坐标',p);\n\nmesh.position.copy(p);//用小球可视化p点位置\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 矩阵乘法\n\n// 空间中p点坐标\nconst p = new three.vector3(50,0,0);\n\n\nconst t = new three.matrix4();\nt.maketranslation(50,0,0);//平移矩阵\nconst r = new three.matrix4();\nr.makerotationz(math.pi/2);//旋转矩阵\n\n// p点矩阵变换\n// p.applymatrix4(t);//先平移\n// p.applymatrix4(r);//后旋转\n\n// r * t * p:先平移、后旋转\nconst modelmatrix = r.clone().multiply(t);\np.applymatrix4(modelmatrix);\n\n// // t * r * p：先旋转、后平移\n// const modelmatrix = r.clone().multiply(t);\n// p.applymatrix4(modelmatrix);\n\nmesh.position.copy(p);//用小球可视化p点位置\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 模型本地矩阵、世界矩阵\n\n在计算机图形学中，模型本地矩阵（model matrix）和世界矩阵（world matrix）是用于描述物体变换的两个关键概念。\n\n模型本地矩阵（model matrix）：\n\n模型本地矩阵用于描述一个物体相对于其自身坐标系的变换。它包括了平移、旋转、缩放等变换，将一个物体从其本地坐标系变换到世界坐标系。对于一个模型，其本地矩阵定义了模型的局部坐标系中的位置、方向和大小。当多个模型被组合成一个场景时，每个模型都可以有自己的本地矩阵，以便正确放置和定位。\n\n世界矩阵（world matrix）：\n\n世界矩阵用于描述一个物体在整个世界坐标系中的变换。它考虑了模型本地矩阵的效果，并将一个模型从其本地坐标系转换到整个场景的世界坐标系。世界矩阵考虑了物体在场景中的位置、方向和大小，以及可能的父子关系。当多个模型被放置在一个场景中时，它们各自的世界矩阵确定了它们在整个场景中的最终位置。\n\n在图形渲染过程中，这两个矩阵通常被用于变换顶点坐标。当顶点坐标通过模型本地矩阵变换后，再经过投影矩阵变换，最终得到屏幕坐标，用于绘制在屏幕上。\n\n总体而言，模型本地矩阵和世界矩阵是一种将物体从局部坐标系变换到整个场景坐标系的数学表示。\n\nmesh.position.set(2,3,4);\nconst group = new three.group();\ngroup.add(mesh);\ngroup.position.set(2,3,4);\n\ngroup.updatematrixworld();//group和子对象的世界矩阵、本地矩阵属性会更新\n\nconsole.log('本地矩阵',mesh.matrix);\nconsole.log('世界矩阵',mesh.matrixworld);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# render自动更新模型矩阵\n\n模型矩阵（model matrix）是在计算机图形学中用于描述一个物体在三维空间中的变换的矩阵。它是一种仿射矩阵，包含了平移（translation）、旋转（rotation）、缩放（scale）等变换的信息。\n\n// 渲染循环\nfunction render() {\n    // render渲染时候，会获取模型`.position`等属性更新计算模型矩阵值\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 视图矩阵、投影矩阵\n\n视图矩阵（view matrix）和投影矩阵（projection matrix）是在计算机图形学中用于实现相机透视投影和视点变换的两个关键矩阵。\n\n1.视图矩阵（view matrix）： 视图矩阵描述了观察者（相机）的位置和方向，以及观察场景的方式。它将世界坐标系中的物体变换到相机坐标系中。视图矩阵的目的是模拟观察者相对于世界中物体的位置和朝向，使得渲染时看起来像是从相机的视角观察物体。 视图矩阵通常包含了平移、旋转和可能的缩放等变换。当一个顶点坐标通过视图矩阵变换时，得到的坐标将是相对于相机的视角。 2.投影矩阵（projection matrix）： 投影矩阵定义了将三维坐标映射到二维屏幕坐标的方式，实现了透视投影。它决定了在屏幕上远近物体的大小和透视效果。投影矩阵通常是透视矩阵或正交矩阵，取决于场景中所需的投影类型。\n\n3.透视投影：使得远处的物体看起来较小，近处的物体较大，以模拟人眼在现实中的透视效果。 4.正交投影：物体在屏幕上的大小不受其距离的影响，保持相对大小不变。 投影矩阵的应用是将场景中的物体坐标变换到裁剪空间（标准化设备坐标），再通过裁剪空间的坐标变换到屏幕坐标。\n\n在图形渲染中，通常将视图矩阵和投影矩阵与模型矩阵相乘，以便将物体的局部坐标转换到最终屏幕上的坐标。整个变换过程可以表示为： [ v = view \\cdot model ] [ mvp = projection \\cdot v ] 其中，( model ) 是模型矩阵，( view ) 是视图矩阵，( projection ) 是投影矩阵，( mvp ) 是最终的模型-视图-投影矩阵。\n\n//场景旋转\n// 渲染循环\nfunction render() {\n    // model.rotation.y+=0.01;\n    scene.rotation.y+=0.01;\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n//相机旋转\n// 渲染循环\nlet angle = 0; //用于圆周运动计算的角度值\nconst r = 260; //相机圆周运动的半径\nfunction render() {\n    angle += 0.01;\n    // 相机y坐标不变，在xoz平面上做圆周运动\n    camera.position.x = r * math.cos(angle);\n    camera.position.z = r * math.sin(angle);\n    // 相机圆周运动过程，如果希望视线始终指向圆心，位置改变后必须重新执行lookat指向圆心\n    camera.lookat(0,0,0);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 模型和相机分别缩放场景\n\n// 放大工厂模型(换句话说，能观察的范围更小了，工厂周边东西不能看到那么多了)\n// model.scale.set(2,2,2);\n\n\n\n//相机\nconst width = window.innerwidth;\nconst height = window.innerheight;\nconst camera = new three.perspectivecamera(30, width / height, 1, 3000);\n// camera.position.set(202, 123, 125);\n// 相机距离目标观察点更近(能观察到范围变小，在画布上工厂放大了)\ncamera.position.set(202*0.5, 123*0.5, 125*0.5);\ncamera.lookat(0, 0, 0);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"人物漫游",frontmatter:{title:"人物漫游",date:"2024-01-06T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/math5.html",relativePath:"views/threejs/math5.md",key:"v-55b13ea7",path:"/views/threejs/math5.html",headers:[{level:2,title:"监听按键",slug:"监听按键",normalizedTitle:"监听按键",charIndex:3},{level:2,title:"W前进",slug:"w前进",normalizedTitle:"w前进",charIndex:11},{level:2,title:"加速度和最大速度",slug:"加速度和最大速度",normalizedTitle:"加速度和最大速度",charIndex:18},{level:2,title:"阻尼系数",slug:"阻尼系数",normalizedTitle:"阻尼系数",charIndex:30},{level:2,title:"鼠标左右拖动改变玩家视角",slug:"鼠标左右拖动改变玩家视角",normalizedTitle:"鼠标左右拖动改变玩家视角",charIndex:38},{level:2,title:"获取玩家(相机)正前方方向",slug:"获取玩家-相机-正前方方向",normalizedTitle:"获取玩家(相机)正前方方向",charIndex:54},{level:2,title:"上下视角",slug:"上下视角",normalizedTitle:"上下视角",charIndex:71},{level:2,title:"左右移动(叉乘)",slug:"左右移动-叉乘",normalizedTitle:"左右移动(叉乘)",charIndex:79},{level:2,title:"鼠标滑动改变视角(指针锁定模式)",slug:"鼠标滑动改变视角-指针锁定模式",normalizedTitle:"鼠标滑动改变视角(指针锁定模式)",charIndex:91},{level:2,title:"一三人称切换(改变相机的位置)",slug:"一三人称切换-改变相机的位置",normalizedTitle:"一三人称切换(改变相机的位置)",charIndex:111},{level:2,title:"全部代码",slug:"全部代码",normalizedTitle:"全部代码",charIndex:130}],excerpt:"<Boxx/>\n",headersStr:"监听按键 W前进 加速度和最大速度 阻尼系数 鼠标左右拖动改变玩家视角 获取玩家(相机)正前方方向 上下视角 左右移动(叉乘) 鼠标滑动改变视角(指针锁定模式) 一三人称切换(改变相机的位置) 全部代码",content:" * 监听按键\n * W前进\n * 加速度和最大速度\n * 阻尼系数\n * 鼠标左右拖动改变玩家视角\n * 获取玩家(相机)正前方方向\n * 上下视角\n * 左右移动(叉乘)\n * 鼠标滑动改变视角(指针锁定模式)\n * 一三人称切换(改变相机的位置)\n * 全部代码\n\n\n\n\n# 监听按键\n\n const keyStates = {\n            // 使用W、A、S、D按键来控制前、后、左、右运动\n            // false表示没有按下，true表示按下状态\n            W: false,\n            A: false,\n            S: false,\n            D: false,\n        };\n        // 当某个键盘按下设置对应属性设置为true\n        document.addEventListener('keydown', (event) => {\n            if (event.code === 'KeyW') keyStates.W = true;\n            if (event.code === 'KeyA') keyStates.A = true;\n            if (event.code === 'KeyS') keyStates.S = true;\n            if (event.code === 'KeyD') keyStates.D = true;\n        });\n        // 当某个键盘抬起设置对应属性设置为false\n        document.addEventListener('keyup', (event) => {\n            if (event.code === 'KeyW') keyStates.W = false;\n            if (event.code === 'KeyA') keyStates.A = false;\n            if (event.code === 'KeyS') keyStates.S = false;\n            if (event.code === 'KeyD') keyStates.D = false;\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# W前进\n\n\n// 用三维向量表示玩家角色(人)运动漫游速度\n//按下W键对应的人运动速度\nconst v = new THREE.Vector3(0, 0, 3);\n\n// 渲染循环\nconst clock = new THREE.Clock();\nfunction render() {\n    const deltaTime = clock.getDelta();\n    if (keyStates.W) {\n        // 在间隔deltaTime时间内，玩家角色位移变化计算(速度*时间)\n        const deltaPos = v.clone().multiplyScalar(deltaTime);\n        player.position.add(deltaPos);//更新玩家角色的位置\n    }\n    mixer.update(deltaTime);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 加速度和最大速度\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new THREE.Vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//加速度：调节按键加速快慢\nconst vMax = 5;//限制玩家角色最大速度\n// 渲染循环\nconst clock = new THREE.Clock();\nfunction render() {\n    const deltaTime = clock.getDelta();\n    if (keyStates.W) {\n        const front = new THREE.Vector3(0,0,1);//先假设W键对应运动方向为z\n        if (v.length() < vMax) {//限制最高速度\n            // W键按下时候，速度随着时间增加\n            v.add(front.multiplyScalar(a * deltaTime));\n        }\n        // 在间隔deltaTime时间内，玩家角色位移变化计算(速度*时间)\n        const deltaPos = v.clone().multiplyScalar(deltaTime);\n        player.position.add(deltaPos);//更新玩家角色的位置\n    }\n    mixer.update(deltaTime);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 阻尼系数\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new THREE.Vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//WASD按键的加速度：调节按键加速快慢\nconst damping = -0.04;//阻尼 当没有WASD加速的时候，人、车等玩家角色慢慢减速停下来\nconst vMax = 5;//限制玩家角色最大速度\n// 渲染循环\nconst clock = new THREE.Clock();\nfunction render() {\n    const deltaTime = clock.getDelta();\n    if (keyStates.W) {\n        const front = new THREE.Vector3(0, 0, 1);//先假设W键对应运动方向为z\n        if (v.length() < vMax) {//限制最高速度\n            // W键按下时候，速度随着时间增加\n            v.add(front.multiplyScalar(a * deltaTime));\n        }\n    }\n    // v*(1 + damping) = v* (1 - 0.04) = v * 0.96\n    // 多次循环乘以0.96(v*0.96*0.96*0.96...),v就会无限逼近于0。\n    // v*(1 + damping) = v + v * damping\n    v.addScaledVector(v, damping);//阻尼减速\n\n    //更新玩家角色的位置   当v是0的时候，位置更新也不会变化\n    const deltaPos = v.clone().multiplyScalar(deltaTime);\n    player.position.add(deltaPos);\n\n    mixer.update(deltaTime);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 鼠标左右拖动改变玩家视角\n\n//相机作为player子对象，会跟着player平移或旋转\nplayer.add(camera);\ncamera.position.set(0, 1.6, -5.5);\ncamera.lookAt(0, 1.6, 0);\n\n\nlet leftButtonBool = false;//记录鼠标左键状态\ndocument.addEventListener('mousedown', (event) => {\n    leftButtonBool = true;\n});\ndocument.addEventListener('mouseup', () => {\n    leftButtonBool = false;\n});\n\n//鼠标左键按下时候，才旋转玩家角色\ndocument.addEventListener('mousemove', (event) => {\n    if (leftButtonBool) {\n        // 注意rotation.y += 与 -= 区别，左右旋转时候方向相反\n        //event.movementX缩小一定倍数改变旋转控制的灵敏度\n        player.rotation.y -= event.movementX / 600;\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 获取玩家(相机)正前方方向\n\nconst front = new THREE.Vector3();\n            player.getWorldDirection(front);//获取玩家角色(相机)正前方\n            v.add(front.multiplyScalar(a * deltaTime));\n\n\n1\n2\n3\n\n\n\n# 上下视角\n\n// 上下俯仰角度范围\nconst angleMin = THREE.MathUtils.degToRad(-15);//角度转弧度\nconst angleMax = THREE.MathUtils.degToRad(15);\ndocument.addEventListener('mousemove', (event) => {\n    if (leftButtonBool) {\n        // 左右旋转\n        player.rotation.y -= event.movementX / 600;\n        // 鼠标上下滑动，让相机视线上下转动\n        // 相机父对象cameraGroup绕着x轴旋转,camera跟着转动\n        cameraGroup.rotation.x -= event.movementY / 600;\n        // // 一旦判断.rotation.x小于-15，就设置为-15，大于15，就设置为15\n        if (cameraGroup.rotation.x < angleMin) cameraGroup.rotation.x = angleMin;\n        if (cameraGroup.rotation.x > angleMax) cameraGroup.rotation.x = angleMax;\n    }\n});\nconsole.log(cameraGroup.position)\nconsole.log(player.position)\nconsole.log(camera.position)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 左右移动(叉乘)\n\nif (keyStates.A) {//向左运动\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);\n            const up = new THREE.Vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关\n            // 左右方向，可以用右手螺旋定责判断，或者不判断，代码测试，不对，就把up和front叉乘顺序换下\n            const left = up.clone().cross(front);\n            v.add(left.multiplyScalar(a * deltaTime));\n        }\n        if (keyStates.D) {//向右运动\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);\n            const up = new THREE.Vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关,可以用右手螺旋定则判断，也可以代码测试结合3D场景观察验证\n            const right = front.clone().cross(up);\n            v.add(right.multiplyScalar(a * deltaTime));\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 鼠标滑动改变视角(指针锁定模式)\n\n// 当鼠标左键按下后进入指针锁定模式(鼠标无限滑动)\ndocument.addEventListener('mousedown', () => {\n    document.body.requestPointerLock();//指针锁定\n});\n\n\n1\n2\n3\n4\n\n\n\n# 一三人称切换(改变相机的位置)\n\nlet viewBool = true;//true表示第三人称，false表示第一人称\ndocument.addEventListener('keydown', (event) => {\n    if (event.code === 'KeyV') {\n        if (viewBool) {\n            // 切换到第一人称\n            camera.position.z = 1;//相机在人前面一点 看不到人模型即可\n        } else {\n            // 切换到第三人称\n            camera.position.z = -2.3;//相机在人后面一点\n        }\n        viewBool = !viewBool;\n    }\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 全部代码\n\nimport { player } from './model.js';\nimport * as THREE from 'three';\n//相机\nconst width = window.innerWidth;\nconst height = window.innerHeight;\nconst camera = new THREE.PerspectiveCamera(70, width / height, 0.1, 3000);\n\n// 层级关系：player <—— cameraGroup <—— camera\nconst cameraGroup = new THREE.Group();\ncameraGroup.add(camera);\nplayer.add(cameraGroup);\ncamera.position.set(0, 1.6, -2.3);\ncamera.lookAt(0, 1.6, 0);\n\nlet viewBool = true;//true表示第三人称，false表示第一人称\ndocument.addEventListener('keydown', (event) => {\n    if (event.code === 'KeyV') {\n        if (viewBool) {\n            // 切换到第一人称\n            camera.position.z = 1;//相机在人前面一点 看不到人模型即可\n        } else {\n            // 切换到第三人称\n            camera.position.z = -2.3;//相机在人后面一点\n        }\n        viewBool = !viewBool;\n    }\n});\n\n// 当鼠标左键按下后进入指针锁定模式(鼠标无限滑动)\ndocument.addEventListener('mousedown', () => {\n    document.body.requestPointerLock();//指针锁定\n});\n\n// 上下俯仰角度范围\nconst angleMin = THREE.MathUtils.degToRad(-15);//角度转弧度\nconst angleMax = THREE.MathUtils.degToRad(15);\ndocument.addEventListener('mousemove', (event) => {\n    if (document.pointerLockElement == document.body) {\n        // 左右旋转\n        player.rotation.y -= event.movementX / 600;\n        // 鼠标上下滑动，让相机视线上下转动\n        // 相机父对象cameraGroup绕着x轴旋转,camera跟着转动\n        cameraGroup.rotation.x -= event.movementY / 600;\n        // 一旦判断.rotation.x小于-15，就设置为-15，大于15，就设置为15\n        if (cameraGroup.rotation.x < angleMin) cameraGroup.rotation.x = angleMin;\n        if (cameraGroup.rotation.x > angleMax) cameraGroup.rotation.x = angleMax;\n    }\n});\n\n\n// 声明一个对象keyStates用来记录键盘事件状态\nconst keyStates = {\n    // 使用W、A、S、D按键来控制前、后、左、右运动\n    W: false,\n    A: false,\n    S: false,\n    D: false,\n};\n// 当某个键盘按下设置对应属性设置为true\ndocument.addEventListener('keydown', (event) => {\n    if (event.code === 'KeyW') keyStates.W = true;\n    if (event.code === 'KeyA') keyStates.A = true;\n    if (event.code === 'KeyS') keyStates.S = true;\n    if (event.code === 'KeyD') keyStates.D = true;\n});\n// 当某个键盘抬起设置对应属性设置为false\ndocument.addEventListener('keyup', (event) => {\n    if (event.code === 'KeyW') keyStates.W = false;\n    if (event.code === 'KeyA') keyStates.A = false;\n    if (event.code === 'KeyS') keyStates.S = false;\n    if (event.code === 'KeyD') keyStates.D = false;\n});\n\n\n\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new THREE.Vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//WASD按键的加速度：调节按键加速快慢\nconst damping = -0.04;//阻尼 当没有WASD加速的时候，人、车等玩家角色慢慢减速停下来\nconst vMax = 5;//限制玩家角色最大速度\n\n\nfunction playerUpdate(deltaTime) {\n    if (v.length() < vMax) {//限制最高速度\n        if (keyStates.W) {\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);//获取玩家角色(相机)正前方\n            v.add(front.multiplyScalar(a * deltaTime));\n        }\n        if (keyStates.S) {\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);\n            // - a：与W按键反向相反\n            v.add(front.multiplyScalar(- a * deltaTime));\n        }\n        if (keyStates.A) {//向左运动\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);\n            const up = new THREE.Vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关\n            // 左右方向，可以用右手螺旋定责判断，或者不判断，代码测试，不对，就把up和front叉乘顺序换下\n            const left = up.clone().cross(front);\n            v.add(left.multiplyScalar(a * deltaTime));\n        }\n        if (keyStates.D) {//向右运动\n            const front = new THREE.Vector3();\n            player.getWorldDirection(front);\n            const up = new THREE.Vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关,可以用右手螺旋定则判断，也可以代码测试结合3D场景观察验证\n            const right = front.clone().cross(up);\n            v.add(right.multiplyScalar(a * deltaTime));\n        }\n    }\n\n    v.addScaledVector(v, damping);//阻尼减速\n\n    //更新玩家角色的位置   当v是0的时候，位置更新也不会变化\n    const deltaPos = v.clone().multiplyScalar(deltaTime);\n    player.position.add(deltaPos);\n}\n\nexport { playerUpdate, camera } \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n",normalizedContent:" * 监听按键\n * w前进\n * 加速度和最大速度\n * 阻尼系数\n * 鼠标左右拖动改变玩家视角\n * 获取玩家(相机)正前方方向\n * 上下视角\n * 左右移动(叉乘)\n * 鼠标滑动改变视角(指针锁定模式)\n * 一三人称切换(改变相机的位置)\n * 全部代码\n\n\n\n\n# 监听按键\n\n const keystates = {\n            // 使用w、a、s、d按键来控制前、后、左、右运动\n            // false表示没有按下，true表示按下状态\n            w: false,\n            a: false,\n            s: false,\n            d: false,\n        };\n        // 当某个键盘按下设置对应属性设置为true\n        document.addeventlistener('keydown', (event) => {\n            if (event.code === 'keyw') keystates.w = true;\n            if (event.code === 'keya') keystates.a = true;\n            if (event.code === 'keys') keystates.s = true;\n            if (event.code === 'keyd') keystates.d = true;\n        });\n        // 当某个键盘抬起设置对应属性设置为false\n        document.addeventlistener('keyup', (event) => {\n            if (event.code === 'keyw') keystates.w = false;\n            if (event.code === 'keya') keystates.a = false;\n            if (event.code === 'keys') keystates.s = false;\n            if (event.code === 'keyd') keystates.d = false;\n        });\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# w前进\n\n\n// 用三维向量表示玩家角色(人)运动漫游速度\n//按下w键对应的人运动速度\nconst v = new three.vector3(0, 0, 3);\n\n// 渲染循环\nconst clock = new three.clock();\nfunction render() {\n    const deltatime = clock.getdelta();\n    if (keystates.w) {\n        // 在间隔deltatime时间内，玩家角色位移变化计算(速度*时间)\n        const deltapos = v.clone().multiplyscalar(deltatime);\n        player.position.add(deltapos);//更新玩家角色的位置\n    }\n    mixer.update(deltatime);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 加速度和最大速度\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new three.vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//加速度：调节按键加速快慢\nconst vmax = 5;//限制玩家角色最大速度\n// 渲染循环\nconst clock = new three.clock();\nfunction render() {\n    const deltatime = clock.getdelta();\n    if (keystates.w) {\n        const front = new three.vector3(0,0,1);//先假设w键对应运动方向为z\n        if (v.length() < vmax) {//限制最高速度\n            // w键按下时候，速度随着时间增加\n            v.add(front.multiplyscalar(a * deltatime));\n        }\n        // 在间隔deltatime时间内，玩家角色位移变化计算(速度*时间)\n        const deltapos = v.clone().multiplyscalar(deltatime);\n        player.position.add(deltapos);//更新玩家角色的位置\n    }\n    mixer.update(deltatime);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 阻尼系数\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new three.vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//wasd按键的加速度：调节按键加速快慢\nconst damping = -0.04;//阻尼 当没有wasd加速的时候，人、车等玩家角色慢慢减速停下来\nconst vmax = 5;//限制玩家角色最大速度\n// 渲染循环\nconst clock = new three.clock();\nfunction render() {\n    const deltatime = clock.getdelta();\n    if (keystates.w) {\n        const front = new three.vector3(0, 0, 1);//先假设w键对应运动方向为z\n        if (v.length() < vmax) {//限制最高速度\n            // w键按下时候，速度随着时间增加\n            v.add(front.multiplyscalar(a * deltatime));\n        }\n    }\n    // v*(1 + damping) = v* (1 - 0.04) = v * 0.96\n    // 多次循环乘以0.96(v*0.96*0.96*0.96...),v就会无限逼近于0。\n    // v*(1 + damping) = v + v * damping\n    v.addscaledvector(v, damping);//阻尼减速\n\n    //更新玩家角色的位置   当v是0的时候，位置更新也不会变化\n    const deltapos = v.clone().multiplyscalar(deltatime);\n    player.position.add(deltapos);\n\n    mixer.update(deltatime);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 鼠标左右拖动改变玩家视角\n\n//相机作为player子对象，会跟着player平移或旋转\nplayer.add(camera);\ncamera.position.set(0, 1.6, -5.5);\ncamera.lookat(0, 1.6, 0);\n\n\nlet leftbuttonbool = false;//记录鼠标左键状态\ndocument.addeventlistener('mousedown', (event) => {\n    leftbuttonbool = true;\n});\ndocument.addeventlistener('mouseup', () => {\n    leftbuttonbool = false;\n});\n\n//鼠标左键按下时候，才旋转玩家角色\ndocument.addeventlistener('mousemove', (event) => {\n    if (leftbuttonbool) {\n        // 注意rotation.y += 与 -= 区别，左右旋转时候方向相反\n        //event.movementx缩小一定倍数改变旋转控制的灵敏度\n        player.rotation.y -= event.movementx / 600;\n    }\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 获取玩家(相机)正前方方向\n\nconst front = new three.vector3();\n            player.getworlddirection(front);//获取玩家角色(相机)正前方\n            v.add(front.multiplyscalar(a * deltatime));\n\n\n1\n2\n3\n\n\n\n# 上下视角\n\n// 上下俯仰角度范围\nconst anglemin = three.mathutils.degtorad(-15);//角度转弧度\nconst anglemax = three.mathutils.degtorad(15);\ndocument.addeventlistener('mousemove', (event) => {\n    if (leftbuttonbool) {\n        // 左右旋转\n        player.rotation.y -= event.movementx / 600;\n        // 鼠标上下滑动，让相机视线上下转动\n        // 相机父对象cameragroup绕着x轴旋转,camera跟着转动\n        cameragroup.rotation.x -= event.movementy / 600;\n        // // 一旦判断.rotation.x小于-15，就设置为-15，大于15，就设置为15\n        if (cameragroup.rotation.x < anglemin) cameragroup.rotation.x = anglemin;\n        if (cameragroup.rotation.x > anglemax) cameragroup.rotation.x = anglemax;\n    }\n});\nconsole.log(cameragroup.position)\nconsole.log(player.position)\nconsole.log(camera.position)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 左右移动(叉乘)\n\nif (keystates.a) {//向左运动\n            const front = new three.vector3();\n            player.getworlddirection(front);\n            const up = new three.vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关\n            // 左右方向，可以用右手螺旋定责判断，或者不判断，代码测试，不对，就把up和front叉乘顺序换下\n            const left = up.clone().cross(front);\n            v.add(left.multiplyscalar(a * deltatime));\n        }\n        if (keystates.d) {//向右运动\n            const front = new three.vector3();\n            player.getworlddirection(front);\n            const up = new three.vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关,可以用右手螺旋定则判断，也可以代码测试结合3d场景观察验证\n            const right = front.clone().cross(up);\n            v.add(right.multiplyscalar(a * deltatime));\n        }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 鼠标滑动改变视角(指针锁定模式)\n\n// 当鼠标左键按下后进入指针锁定模式(鼠标无限滑动)\ndocument.addeventlistener('mousedown', () => {\n    document.body.requestpointerlock();//指针锁定\n});\n\n\n1\n2\n3\n4\n\n\n\n# 一三人称切换(改变相机的位置)\n\nlet viewbool = true;//true表示第三人称，false表示第一人称\ndocument.addeventlistener('keydown', (event) => {\n    if (event.code === 'keyv') {\n        if (viewbool) {\n            // 切换到第一人称\n            camera.position.z = 1;//相机在人前面一点 看不到人模型即可\n        } else {\n            // 切换到第三人称\n            camera.position.z = -2.3;//相机在人后面一点\n        }\n        viewbool = !viewbool;\n    }\n});\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 全部代码\n\nimport { player } from './model.js';\nimport * as three from 'three';\n//相机\nconst width = window.innerwidth;\nconst height = window.innerheight;\nconst camera = new three.perspectivecamera(70, width / height, 0.1, 3000);\n\n// 层级关系：player <—— cameragroup <—— camera\nconst cameragroup = new three.group();\ncameragroup.add(camera);\nplayer.add(cameragroup);\ncamera.position.set(0, 1.6, -2.3);\ncamera.lookat(0, 1.6, 0);\n\nlet viewbool = true;//true表示第三人称，false表示第一人称\ndocument.addeventlistener('keydown', (event) => {\n    if (event.code === 'keyv') {\n        if (viewbool) {\n            // 切换到第一人称\n            camera.position.z = 1;//相机在人前面一点 看不到人模型即可\n        } else {\n            // 切换到第三人称\n            camera.position.z = -2.3;//相机在人后面一点\n        }\n        viewbool = !viewbool;\n    }\n});\n\n// 当鼠标左键按下后进入指针锁定模式(鼠标无限滑动)\ndocument.addeventlistener('mousedown', () => {\n    document.body.requestpointerlock();//指针锁定\n});\n\n// 上下俯仰角度范围\nconst anglemin = three.mathutils.degtorad(-15);//角度转弧度\nconst anglemax = three.mathutils.degtorad(15);\ndocument.addeventlistener('mousemove', (event) => {\n    if (document.pointerlockelement == document.body) {\n        // 左右旋转\n        player.rotation.y -= event.movementx / 600;\n        // 鼠标上下滑动，让相机视线上下转动\n        // 相机父对象cameragroup绕着x轴旋转,camera跟着转动\n        cameragroup.rotation.x -= event.movementy / 600;\n        // 一旦判断.rotation.x小于-15，就设置为-15，大于15，就设置为15\n        if (cameragroup.rotation.x < anglemin) cameragroup.rotation.x = anglemin;\n        if (cameragroup.rotation.x > anglemax) cameragroup.rotation.x = anglemax;\n    }\n});\n\n\n// 声明一个对象keystates用来记录键盘事件状态\nconst keystates = {\n    // 使用w、a、s、d按键来控制前、后、左、右运动\n    w: false,\n    a: false,\n    s: false,\n    d: false,\n};\n// 当某个键盘按下设置对应属性设置为true\ndocument.addeventlistener('keydown', (event) => {\n    if (event.code === 'keyw') keystates.w = true;\n    if (event.code === 'keya') keystates.a = true;\n    if (event.code === 'keys') keystates.s = true;\n    if (event.code === 'keyd') keystates.d = true;\n});\n// 当某个键盘抬起设置对应属性设置为false\ndocument.addeventlistener('keyup', (event) => {\n    if (event.code === 'keyw') keystates.w = false;\n    if (event.code === 'keya') keystates.a = false;\n    if (event.code === 'keys') keystates.s = false;\n    if (event.code === 'keyd') keystates.d = false;\n});\n\n\n\n\n// 用三维向量表示玩家角色(人)运动漫游速度\nconst v = new three.vector3(0, 0, 0);//初始速度设置为0\nconst a = 12;//wasd按键的加速度：调节按键加速快慢\nconst damping = -0.04;//阻尼 当没有wasd加速的时候，人、车等玩家角色慢慢减速停下来\nconst vmax = 5;//限制玩家角色最大速度\n\n\nfunction playerupdate(deltatime) {\n    if (v.length() < vmax) {//限制最高速度\n        if (keystates.w) {\n            const front = new three.vector3();\n            player.getworlddirection(front);//获取玩家角色(相机)正前方\n            v.add(front.multiplyscalar(a * deltatime));\n        }\n        if (keystates.s) {\n            const front = new three.vector3();\n            player.getworlddirection(front);\n            // - a：与w按键反向相反\n            v.add(front.multiplyscalar(- a * deltatime));\n        }\n        if (keystates.a) {//向左运动\n            const front = new three.vector3();\n            player.getworlddirection(front);\n            const up = new three.vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关\n            // 左右方向，可以用右手螺旋定责判断，或者不判断，代码测试，不对，就把up和front叉乘顺序换下\n            const left = up.clone().cross(front);\n            v.add(left.multiplyscalar(a * deltatime));\n        }\n        if (keystates.d) {//向右运动\n            const front = new three.vector3();\n            player.getworlddirection(front);\n            const up = new three.vector3(0, 1, 0);//y方向\n            //叉乘获得垂直于向量up和front的向量 左右与叉乘顺序有关,可以用右手螺旋定则判断，也可以代码测试结合3d场景观察验证\n            const right = front.clone().cross(up);\n            v.add(right.multiplyscalar(a * deltatime));\n        }\n    }\n\n    v.addscaledvector(v, damping);//阻尼减速\n\n    //更新玩家角色的位置   当v是0的时候，位置更新也不会变化\n    const deltapos = v.clone().multiplyscalar(deltatime);\n    player.position.add(deltapos);\n}\n\nexport { playerupdate, camera } \n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"onBeforeCompile修改材质",frontmatter:{title:"onBeforeCompile修改材质",date:"2024-01-07T00:00:00.000Z",tags:["shader"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/onBeforeCompile%E4%BF%AE%E6%94%B9%E6%9D%90%E8%B4%A8.html",relativePath:"views/threejs/onBeforeCompile修改材质.md",key:"v-52554071",path:"/views/threejs/onBeforeCompile%E4%BF%AE%E6%94%B9%E6%9D%90%E8%B4%A8.html",headers:[{level:2,title:"查看shader",slug:"查看shader",normalizedTitle:"查看shader",charIndex:3},{level:2,title:"替换入门",slug:"替换入门",normalizedTitle:"替换入门",charIndex:15},{level:2,title:"修改材质shader(彩色图变灰度图)",slug:"修改材质shader-彩色图变灰度图",normalizedTitle:"修改材质shader(彩色图变灰度图)",charIndex:23},{level:2,title:"光带",slug:"光带",normalizedTitle:"光带",charIndex:46},{level:2,title:"光带扫光",slug:"光带扫光",normalizedTitle:"光带扫光",charIndex:52},{level:2,title:"光带扫光渐变",slug:"光带扫光渐变",normalizedTitle:"光带扫光渐变",charIndex:60}],excerpt:"<Boxx/>\n",headersStr:"查看shader 替换入门 修改材质shader(彩色图变灰度图) 光带 光带扫光 光带扫光渐变",content:" * 查看shader\n * 替换入门\n * 修改材质shader(彩色图变灰度图)\n * 光带\n * 光带扫光\n * 光带扫光渐变\n\n先定义材质,然后再改写材质.之前的是直接写shadermaterial.现在事先定义material,然后替代修改\n\n\n\n\n# 查看shader\n\n查看shader代码\n\nmaterial.onBeforeCompile = function (shader) {\n  \n  // 打印整个 shader 对象，包括顶点和片元着色器等信息\n  console.log('shader', shader);\n  \n  // 打印顶点着色器的源代码\n  console.log('顶点着色器', shader.vertexShader);\n  \n  // 打印片元着色器的源代码\n  console.log('片元着色器', shader.fragmentShader);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 替换入门\n\nmaterial.onBeforeCompile = function (shader) {\n    // console.log('片元着色器', shader.fragmentShader);\n    // 在片元着色器main函数里面最后一行插入代码\n    shader.fragmentShader = shader.fragmentShader.replace(\n        '#include <dithering_fragment>',\n        `\n        #include <dithering_fragment>\n        gl_FragColor.r = 0.0;\n        gl_FragColor.g = 0.0;\n        `\n    )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 修改材质shader(彩色图变灰度图)\n\nmaterial.onBeforeCompile = function (shader) {\n    console.log('片元着色器', shader.fragmentShader);\n    // 在片元着色器main函数里面最后一行插入灰度图代码\n    shader.fragmentShader = shader.fragmentShader.replace(\n        '#include <dithering_fragment>',\n        `\n        #include <dithering_fragment>\n        // 灰度图公式\n        float gray = 0.299*gl_FragColor.r+0.587*gl_FragColor.g+0.114*gl_FragColor.b;\n        gl_FragColor = vec4(gray,gray,gray,gl_FragColor.a);\n        `\n    ) \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 光带\n\nmaterial.onBeforeCompile = function (shader) {\n  // console.log('vertexShader', shader.vertexShader);\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    `\n    varying vec3 vPosition;\n    void main(){\n      // 顶点位置坐标模型矩阵变换后，进行插值计算\n      vPosition = vec3(modelMatrix * vec4( position, 1.0 ));\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    `\n  );\n  // console.log('fragmentShader', shader.fragmentShader);\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    `\n    varying vec3 vPosition;\n    void main() {\n    `\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    if(vPosition.y > 20.0 && vPosition.y < 21.0 ){\n        gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }\n    `\n  );\n//   shader.fragmentShader = shader.fragmentShader.replace(\n//     '#include <dithering_fragment>',\n//     `\n//     #include <dithering_fragment>\n//     float y0 = 0.0;\n//     for (int i = 0; i < 4; i++) {\n//       y0 += 20.0;\n//       if(vPosition.y > y0 && vPosition.y < y0+1.0 ){\n//         gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n//       }\n//     }\n//     `\n//   );\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 光带扫光\n\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    `\n    uniform float y; //变化的y控制光带高度\n    varying vec3 vPosition;\n    void main() {\n    `\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    // y随着时间改变光带位置也会改变\n    if(vPosition.y > y && vPosition.y < y + 1.0 ){\n        gl_FragColor = vec4(1.0,1.0,0.0,1.0);\n    }\n    `\n  );\n\n  // 渲染循环\nconst clock = new THREE.Clock();\nfunction render() {\n    // console.log('mesh.shader', mesh.shader);\n    const deltaTime = clock.getDelta();\n    renderer.render(scene, camera);\n    // enderer.render执行一次，才能获取到mesh.shader\n    mesh.shader.uniforms.y.value += 30 * deltaTime;\n    // 一旦y接近模型mesh顶部，重新设置为0，这样扫光反复循环\n    if (mesh.shader.uniforms.y.value > 99) mesh.shader.uniforms.y.value = 0;\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 光带扫光渐变\n\nmaterial.onBeforeCompile = function (shader) {\n  // console.log('vertexShader', shader.vertexShader);\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    `\n    varying vec3 vPosition;\n    void main(){\n      vPosition = vec3(modelMatrix * vec4( position, 1.0 ));\n    `\n  );\n  // console.log('fragmentShader', shader.fragmentShader);\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    `\n    uniform float y; //变化的y控制光带高度\n    float w = 20.0;//光带宽度一半\n    varying vec3 vPosition;\n    void main() {\n    `\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    // y随着时间改变光带位置也会改变\n    if(vPosition.y >= y && vPosition.y < y + w ){\n      float per = (vPosition.y-y)/w;//范围0~1            \n      per = pow(per,0.5);\n      gl_FragColor.rgb = mix( vec3(0.3,1.0,1.0),gl_FragColor.rgb, per);\n    }\n    if(vPosition.y <= y && vPosition.y > y - w ){\n      float per = (y-vPosition.y)/w;//范围0~1\n      per = pow(per,0.5);\n      gl_FragColor.rgb = mix( vec3(0.3,1.0,1.0),gl_FragColor.rgb, per);\n    }\n    `\n  );\n  shader.uniforms.y = { value: 0 };\n  mesh.shader = shader;//这样在index.js文件中通过mesh访问shader\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n",normalizedContent:" * 查看shader\n * 替换入门\n * 修改材质shader(彩色图变灰度图)\n * 光带\n * 光带扫光\n * 光带扫光渐变\n\n先定义材质,然后再改写材质.之前的是直接写shadermaterial.现在事先定义material,然后替代修改\n\n\n\n\n# 查看shader\n\n查看shader代码\n\nmaterial.onbeforecompile = function (shader) {\n  \n  // 打印整个 shader 对象，包括顶点和片元着色器等信息\n  console.log('shader', shader);\n  \n  // 打印顶点着色器的源代码\n  console.log('顶点着色器', shader.vertexshader);\n  \n  // 打印片元着色器的源代码\n  console.log('片元着色器', shader.fragmentshader);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 替换入门\n\nmaterial.onbeforecompile = function (shader) {\n    // console.log('片元着色器', shader.fragmentshader);\n    // 在片元着色器main函数里面最后一行插入代码\n    shader.fragmentshader = shader.fragmentshader.replace(\n        '#include <dithering_fragment>',\n        `\n        #include <dithering_fragment>\n        gl_fragcolor.r = 0.0;\n        gl_fragcolor.g = 0.0;\n        `\n    )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 修改材质shader(彩色图变灰度图)\n\nmaterial.onbeforecompile = function (shader) {\n    console.log('片元着色器', shader.fragmentshader);\n    // 在片元着色器main函数里面最后一行插入灰度图代码\n    shader.fragmentshader = shader.fragmentshader.replace(\n        '#include <dithering_fragment>',\n        `\n        #include <dithering_fragment>\n        // 灰度图公式\n        float gray = 0.299*gl_fragcolor.r+0.587*gl_fragcolor.g+0.114*gl_fragcolor.b;\n        gl_fragcolor = vec4(gray,gray,gray,gl_fragcolor.a);\n        `\n    ) \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 光带\n\nmaterial.onbeforecompile = function (shader) {\n  // console.log('vertexshader', shader.vertexshader);\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    `\n    varying vec3 vposition;\n    void main(){\n      // 顶点位置坐标模型矩阵变换后，进行插值计算\n      vposition = vec3(modelmatrix * vec4( position, 1.0 ));\n      gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n    `\n  );\n  // console.log('fragmentshader', shader.fragmentshader);\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    `\n    varying vec3 vposition;\n    void main() {\n    `\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    if(vposition.y > 20.0 && vposition.y < 21.0 ){\n        gl_fragcolor = vec4(1.0,1.0,0.0,1.0);\n    }\n    `\n  );\n//   shader.fragmentshader = shader.fragmentshader.replace(\n//     '#include <dithering_fragment>',\n//     `\n//     #include <dithering_fragment>\n//     float y0 = 0.0;\n//     for (int i = 0; i < 4; i++) {\n//       y0 += 20.0;\n//       if(vposition.y > y0 && vposition.y < y0+1.0 ){\n//         gl_fragcolor = vec4(1.0,1.0,0.0,1.0);\n//       }\n//     }\n//     `\n//   );\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n\n\n\n# 光带扫光\n\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    `\n    uniform float y; //变化的y控制光带高度\n    varying vec3 vposition;\n    void main() {\n    `\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    // y随着时间改变光带位置也会改变\n    if(vposition.y > y && vposition.y < y + 1.0 ){\n        gl_fragcolor = vec4(1.0,1.0,0.0,1.0);\n    }\n    `\n  );\n\n  // 渲染循环\nconst clock = new three.clock();\nfunction render() {\n    // console.log('mesh.shader', mesh.shader);\n    const deltatime = clock.getdelta();\n    renderer.render(scene, camera);\n    // enderer.render执行一次，才能获取到mesh.shader\n    mesh.shader.uniforms.y.value += 30 * deltatime;\n    // 一旦y接近模型mesh顶部，重新设置为0，这样扫光反复循环\n    if (mesh.shader.uniforms.y.value > 99) mesh.shader.uniforms.y.value = 0;\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 光带扫光渐变\n\nmaterial.onbeforecompile = function (shader) {\n  // console.log('vertexshader', shader.vertexshader);\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    `\n    varying vec3 vposition;\n    void main(){\n      vposition = vec3(modelmatrix * vec4( position, 1.0 ));\n    `\n  );\n  // console.log('fragmentshader', shader.fragmentshader);\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    `\n    uniform float y; //变化的y控制光带高度\n    float w = 20.0;//光带宽度一半\n    varying vec3 vposition;\n    void main() {\n    `\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    '#include <dithering_fragment>',\n    `\n    #include <dithering_fragment>\n    // y随着时间改变光带位置也会改变\n    if(vposition.y >= y && vposition.y < y + w ){\n      float per = (vposition.y-y)/w;//范围0~1            \n      per = pow(per,0.5);\n      gl_fragcolor.rgb = mix( vec3(0.3,1.0,1.0),gl_fragcolor.rgb, per);\n    }\n    if(vposition.y <= y && vposition.y > y - w ){\n      float per = (y-vposition.y)/w;//范围0~1\n      per = pow(per,0.5);\n      gl_fragcolor.rgb = mix( vec3(0.3,1.0,1.0),gl_fragcolor.rgb, per);\n    }\n    `\n  );\n  shader.uniforms.y = { value: 0 };\n  mesh.shader = shader;//这样在index.js文件中通过mesh访问shader\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"动画渲染循环",frontmatter:{title:"动画渲染循环",date:"2024-01-09T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/requestAnimationFrame.html",relativePath:"views/threejs/requestAnimationFrame.md",key:"v-3f6365f2",path:"/views/threejs/requestAnimationFrame.html",headers:[{level:2,title:"示例代码",slug:"示例代码",normalizedTitle:"示例代码",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"示例代码",content:" * 示例代码\n\n\n\n\n# 示例代码\n\n// 引入three.js\nimport * as THREE from 'three';\n// 引入轨道控制器扩展库OrbitControls.js\nimport {\n    OrbitControls\n} from 'three/addons/controls/OrbitControls.js';\n/**\n * 创建3D场景对象Scene\n */\nconst scene = new THREE.Scene();\n\n/**\n * 创建网格模型\n */\n//创建一个长方体几何对象Geometry\nconst geometry = new THREE.BoxGeometry(100, 100, 100);\n// 漫反射网格材质；MeshLambertMaterial\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff, //设置材质颜色\n    transparent: true, //开启透明\n    opacity: 0.5, //设置透明度\n});\nconst mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nscene.add(mesh); //网格模型添加到场景中\n\n// AxesHelper：辅助观察的坐标系\nconst axesHelper = new THREE.AxesHelper(100);\nscene.add(axesHelper);\n\n/**\n * 光源设置\n */\n// 平行光\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 1);\ndirectionalLight.position.set(100, 60, 50);\nscene.add(directionalLight);\n//环境光\nconst ambient = new THREE.AmbientLight(0xffffff, 0.4);\nscene.add(ambient);\n\n\n// width和height用来设置Three.js输出的Canvas画布尺寸(像素px)\nconst width = 800; //宽度\nconst height = 500; //高度\n/**\n * 透视投影相机设置\n */\n// 30:视场角度, width / height:Canvas画布宽高比, 1:近裁截面, 3000：远裁截面\nconst camera = new THREE.PerspectiveCamera(30, width / height, 1, 3000);\ncamera.position.set(292, 223, 185); //相机在Three.js三维坐标系中的位置\ncamera.lookAt(0, 0, 0); //相机观察目标指向Three.js坐标系原点\n\n/**\n * 创建渲染器对象\n */\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(width, height); //设置three.js渲染区域的尺寸(像素px)\n// renderer.render(scene, camera); //执行渲染操作\n//three.js执行渲染命令会输出一个canvas画布，也就是一个HTML元素，你可以插入到web页面中\ndocument.body.appendChild(renderer.domElement);\n\n// 渲染循环\n\nfunction render() {\n    renderer.render(scene, camera); //执行渲染操作\n    mesh.rotateY(0.01); //每次绕y轴旋转0.01弧度\n    requestAnimationFrame(render); //请求再次执行渲染函数render，渲染下一帧\n}\nrender();\n\n// 设置相机控件轨道控制器OrbitControls\nconst controls = new OrbitControls(camera, renderer.domElement);\n// // 如果OrbitControls改变了相机参数，重新调用渲染器渲染三维场景\n// controls.addEventListener('change', function () {\n//     renderer.render(scene, camera); //执行渲染操作\n// }); //监听鼠标、键盘事件\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n注意引入的格式,OrbitControls在vue框架下怎么引入?",normalizedContent:" * 示例代码\n\n\n\n\n# 示例代码\n\n// 引入three.js\nimport * as three from 'three';\n// 引入轨道控制器扩展库orbitcontrols.js\nimport {\n    orbitcontrols\n} from 'three/addons/controls/orbitcontrols.js';\n/**\n * 创建3d场景对象scene\n */\nconst scene = new three.scene();\n\n/**\n * 创建网格模型\n */\n//创建一个长方体几何对象geometry\nconst geometry = new three.boxgeometry(100, 100, 100);\n// 漫反射网格材质；meshlambertmaterial\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff, //设置材质颜色\n    transparent: true, //开启透明\n    opacity: 0.5, //设置透明度\n});\nconst mesh = new three.mesh(geometry, material); //网格模型对象mesh\nscene.add(mesh); //网格模型添加到场景中\n\n// axeshelper：辅助观察的坐标系\nconst axeshelper = new three.axeshelper(100);\nscene.add(axeshelper);\n\n/**\n * 光源设置\n */\n// 平行光\nconst directionallight = new three.directionallight(0xffffff, 1);\ndirectionallight.position.set(100, 60, 50);\nscene.add(directionallight);\n//环境光\nconst ambient = new three.ambientlight(0xffffff, 0.4);\nscene.add(ambient);\n\n\n// width和height用来设置three.js输出的canvas画布尺寸(像素px)\nconst width = 800; //宽度\nconst height = 500; //高度\n/**\n * 透视投影相机设置\n */\n// 30:视场角度, width / height:canvas画布宽高比, 1:近裁截面, 3000：远裁截面\nconst camera = new three.perspectivecamera(30, width / height, 1, 3000);\ncamera.position.set(292, 223, 185); //相机在three.js三维坐标系中的位置\ncamera.lookat(0, 0, 0); //相机观察目标指向three.js坐标系原点\n\n/**\n * 创建渲染器对象\n */\nconst renderer = new three.webglrenderer();\nrenderer.setsize(width, height); //设置three.js渲染区域的尺寸(像素px)\n// renderer.render(scene, camera); //执行渲染操作\n//three.js执行渲染命令会输出一个canvas画布，也就是一个html元素，你可以插入到web页面中\ndocument.body.appendchild(renderer.domelement);\n\n// 渲染循环\n\nfunction render() {\n    renderer.render(scene, camera); //执行渲染操作\n    mesh.rotatey(0.01); //每次绕y轴旋转0.01弧度\n    requestanimationframe(render); //请求再次执行渲染函数render，渲染下一帧\n}\nrender();\n\n// 设置相机控件轨道控制器orbitcontrols\nconst controls = new orbitcontrols(camera, renderer.domelement);\n// // 如果orbitcontrols改变了相机参数，重新调用渲染器渲染三维场景\n// controls.addeventlistener('change', function () {\n//     renderer.render(scene, camera); //执行渲染操作\n// }); //监听鼠标、键盘事件\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n注意引入的格式,orbitcontrols在vue框架下怎么引入?",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"着色器GLSL ES语言",frontmatter:{title:"着色器GLSL ES语言",date:"2024-01-10T00:00:00.000Z",tags:["shader"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/shader1.html",relativePath:"views/threejs/shader1.md",key:"v-1ca8af72",path:"/views/threejs/shader1.html",headers:[{level:3,title:"GLSL ES基础数据类型",slug:"glsl-es基础数据类型",normalizedTitle:"glsl es基础数据类型",charIndex:3},{level:3,title:"声明变量",slug:"声明变量",normalizedTitle:"声明变量",charIndex:20},{level:3,title:"变量简单运算",slug:"变量简单运算",normalizedTitle:"变量简单运算",charIndex:28},{level:3,title:"声明一个常量const",slug:"声明一个常量const",normalizedTitle:"声明一个常量const",charIndex:38},{level:3,title:"着色器语言GLSL ES声明函数",slug:"着色器语言glsl-es声明函数",normalizedTitle:"着色器语言glsl es声明函数",charIndex:53},{level:3,title:"if语句",slug:"if语句",normalizedTitle:"if语句",charIndex:73},{level:3,title:"for循环语句",slug:"for循环语句",normalizedTitle:"for循环语句",charIndex:81},{level:3,title:"continue和break关键字",slug:"continue和break关键字",normalizedTitle:"continue和break关键字",charIndex:92},{level:3,title:"向量表示颜色",slug:"向量表示颜色",normalizedTitle:"向量表示颜色",charIndex:113},{level:3,title:"向量表示位置",slug:"向量表示位置",normalizedTitle:"向量表示位置",charIndex:123},{level:3,title:"GLSL ES代码注释",slug:"glsl-es代码注释",normalizedTitle:"glsl es代码注释",charIndex:133},{level:3,title:"GLSL ES语句结尾分号",slug:"glsl-es语句结尾分号",normalizedTitle:"glsl es语句结尾分号",charIndex:148}],excerpt:"<Boxx/>\n",headersStr:"GLSL ES基础数据类型 声明变量 变量简单运算 声明一个常量const 着色器语言GLSL ES声明函数 if语句 for循环语句 continue和break关键字 向量表示颜色 向量表示位置 GLSL ES代码注释 GLSL ES语句结尾分号",content:" * GLSL ES基础数据类型\n * 声明变量\n * 变量简单运算\n * 声明一个常量const\n * 着色器语言GLSL ES声明函数\n * if语句\n * for循环语句\n * continue和break关键字\n * 向量表示颜色\n * 向量表示位置\n * GLSL ES代码注释\n * GLSL ES语句结尾分号\n\n\n\n\n# GLSL ES基础数据类型\n\n着色器语言GLSL的基本数据类型和C语言一样具有常见的整型数int、浮点数float和布尔值bool类型数据。\n\n关键字     数据类型     值\nbool    布尔值      布尔变量值为true或false\nint     整型数      值为整数，比如0,1,2,3...\nfloat   单精度浮点数   浮点数用小数点表示，比如0.6,3.14,2.8\n\n这三个关键字的用法，下面就会给大家展示怎么用于声明变量。\n\n\n# 声明变量\n\n声明变量，并赋值\n\n// 整型变量\nint count = 10;\n// 浮点数变量\nfloat num = 10.0;\n// 声明一个布尔值变量\nbool lightBool = true;\n\n\n1\n2\n3\n4\n5\n6\n\n\n通过上面变量声明，你也可以看出，着色器语言声明变量和TypeScript一样需要注明数据类型，但是JavaScript不用注明变量数据类型。\n\n// JavaScript语言声明变量，不用设置数据类型\nlet count = 10;\n\n\n1\n2\n\n\n先声明变量，后赋值或改变。\n\nfloat c;\nc = 100.0;\n\n\n1\n2\n\n\n改变变量的值\n\nfloat count = 10.0;\ncount = 20.0;\n\n\n1\n2\n\n\n注意: 注意变量的数据类型和值要对应\n\n错误赋值方式\n\nfloat num = 1;\n\n\n1\n\n\n正确赋值方式\n\nfloat num = 1.0;\n\n\n1\n\n\n\n# 变量简单运算\n\n// 32位浮点数相加\nfloat a = 2.0;\nfloat b = 4.0;\nfloat c = a+b;\n\n\n1\n2\n3\n4\n\n\n//整数相加\nint a = 2;\nint b = 4;\nint c = a+b;\n\n\n1\n2\n3\n4\n\n\n两个变量进行运算，需要保持一样数据类型，否则报错。\n\n\n# 声明一个常量const\n\n着色器语言和C语言、javascript语言一样可以通过关键字const声明一个常量。\n\n// 着色器语言定义一个整形常量\nconst int count = 10;\n// 定义一个浮点数常量10.0\nconst float count = 10.0;\n\n\n1\n2\n3\n4\n\n\n着色器语言和其它语言一样，声明一个变量，可以重新赋值，如果通过关键字const声明一个常量，顾名思义是常量，在代码中是不可以更改的。\n\nconst int count = 10;\n// 错误写法\ncount= 20;\n\n\n1\n2\n3\n\n\n\n# 着色器语言GLSL ES声明函数\n\n函数计算后,如果需要返回的值，通过关键字return返回，不过注意声明函数时候，函数名称前需要声明return返回值的数据类型。\n\n// 两个参数是浮点数，相加后返回值自然也是浮点数\nfloat add(float x,float y){\n  return x + y\n}\n\n\n1\n2\n3\n4\n\n\n声明一个无返回值函数,函数前面用void关键字即可。\n\nvoid main(){\n  float x = 10.0;\n}\n\n\n1\n2\n3\n\n\n\n# if语句\n\n着色器语言GLSL中关于if语句、for语句的使用，和javascript语言、C语言中的if语句、for语句执行逻辑规则基本一致，这里默认你已经有一定的编程基础，也就不做过多讲解，只是简单说明一下。\n\n单独使用if\n\nfloat x = 10.0\nif(x > 100.0){\n  x = 100.0;\n}\n\n\n1\n2\n3\n4\n\n\nif-else形式\n\nfloat x = 10.0\nif(x > 100.0){\n  x = 100.0;\n} else {\n  x = x + 1.0;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nif-else if-else if-...else形式\n\nfloat x = 10.0\nif(x<10.0){\n\n}else if (x>=10.0 && x<20.0) {\n\n}else if (x>=20.0 && x<30.0) {\n\n}else {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# for循环语句\n\n和你平时写JavaScript的for循环语句基本相似，只是注意注明变量i的数据类型即可。\n\nfor (int i = 0; i < 20; i++) {\n  ...\n}\n\n\n1\n2\n3\n\n\n\n# continue和break关键字\n\n着色器语言continue和break关键字和JavaScript语言习惯也是相似的。\n\nbreak表示终止for循环执行\n\nfor (int i = 0; i < 20; i++) {\n  ...\n  if(i==15){\n    break;//直接终止循环执行，i=16、17等后面的循环不再执行\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncontinue表示直接跳到for循环的下一个循环\n\nfor (int i = 0; i < 20; i++) {\n  ...\n  if(i==15){\n    continue;//进行下次循环，执行i=16对应的循环\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 向量表示颜色\n\n在GLSL ES中，向量可以表示多种数据，也能进行多种数学运算，咱们这里先不讲解那么多，说些简单的。\n\n// 四维向量有四个分量，可以用来表示颜色的R、G、B、A\nvar color:vec4<f32> = vec4<f32>(1.0, 0.0, 0.0, 1.0);//红色不透明\n\n\n1\n2\n\n\n// 省略:vec4<f32>数据类型\nvar color = vec4<f32>(1.0, 0.0, 0.0, 1.0);\n\n\n1\n2\n\n\n// 先声明一个四维向量变量，再赋值\nvar color:vec4<f32>;\ncolor = vec4<f32>(1.0, 0.0, 0.0, 1.0);\n\n\n1\n2\n3\n\n\n\n# 向量表示位置\n\n三维向量vec3<f32>表示具有三个分量，可以用来表示顶点的xyz坐标。\n\nvar pos:vec3<f32>;\npos= vec3<f32>(1.0, 2.0, 3.0);\n\n\n1\n2\n\n\n四维向量表示齐次坐标，在WGSL中，表示一个坐标的的时候，如果用四维向量表示，最后一个分量是1.0。改坐标表示xyz的齐次坐标。\n\nvar pos:vec4<f32>;\npos= vec4<f32>(1.0, 2.0, 3.0,1.0);\n\n\n1\n2\n\n\n一个三维向量转化为四维向量\n\nvar pos:vec3<f32>;\npos = vec3<f32>(1.0, 2.0, 3.0);\n//等价于vec4<f32>(1.0, 2.0, 3.0,1.0)\nvar pos2 = vec4<f32>(pos,1.0);\n\n\n1\n2\n3\n4\n\n\n一个二维向量转化为四维向量\n\nvar pos:vec2<f32>;\npos = vec2<f32>(1.0, 2.0);\n//等价于vec4<f32>(1.0, 2.0, 3.0,1.0)\nvar pos2 = vec4<f32>(pos, 3.0,1.0);\n\n\n1\n2\n3\n4\n\n\n\n# GLSL ES代码注释\n\nGLSL ES代码注释和JavaScript语言的习惯一样。\n\n * 单行注释符号//\n\n * 快级注释符号/* */\n\n\n# GLSL ES语句结尾分号\n\n在JavaScript中，代码语句结尾的分号可以省略，但是 GLSL ES中分号不能省略。\n\nfloat a = 2.0;//正常\n\n\n1\n\n\n分号省略，会报错\n\nfloat a = 2.0//分号省略，会报错\n\n\n1\n",normalizedContent:" * glsl es基础数据类型\n * 声明变量\n * 变量简单运算\n * 声明一个常量const\n * 着色器语言glsl es声明函数\n * if语句\n * for循环语句\n * continue和break关键字\n * 向量表示颜色\n * 向量表示位置\n * glsl es代码注释\n * glsl es语句结尾分号\n\n\n\n\n# glsl es基础数据类型\n\n着色器语言glsl的基本数据类型和c语言一样具有常见的整型数int、浮点数float和布尔值bool类型数据。\n\n关键字     数据类型     值\nbool    布尔值      布尔变量值为true或false\nint     整型数      值为整数，比如0,1,2,3...\nfloat   单精度浮点数   浮点数用小数点表示，比如0.6,3.14,2.8\n\n这三个关键字的用法，下面就会给大家展示怎么用于声明变量。\n\n\n# 声明变量\n\n声明变量，并赋值\n\n// 整型变量\nint count = 10;\n// 浮点数变量\nfloat num = 10.0;\n// 声明一个布尔值变量\nbool lightbool = true;\n\n\n1\n2\n3\n4\n5\n6\n\n\n通过上面变量声明，你也可以看出，着色器语言声明变量和typescript一样需要注明数据类型，但是javascript不用注明变量数据类型。\n\n// javascript语言声明变量，不用设置数据类型\nlet count = 10;\n\n\n1\n2\n\n\n先声明变量，后赋值或改变。\n\nfloat c;\nc = 100.0;\n\n\n1\n2\n\n\n改变变量的值\n\nfloat count = 10.0;\ncount = 20.0;\n\n\n1\n2\n\n\n注意: 注意变量的数据类型和值要对应\n\n错误赋值方式\n\nfloat num = 1;\n\n\n1\n\n\n正确赋值方式\n\nfloat num = 1.0;\n\n\n1\n\n\n\n# 变量简单运算\n\n// 32位浮点数相加\nfloat a = 2.0;\nfloat b = 4.0;\nfloat c = a+b;\n\n\n1\n2\n3\n4\n\n\n//整数相加\nint a = 2;\nint b = 4;\nint c = a+b;\n\n\n1\n2\n3\n4\n\n\n两个变量进行运算，需要保持一样数据类型，否则报错。\n\n\n# 声明一个常量const\n\n着色器语言和c语言、javascript语言一样可以通过关键字const声明一个常量。\n\n// 着色器语言定义一个整形常量\nconst int count = 10;\n// 定义一个浮点数常量10.0\nconst float count = 10.0;\n\n\n1\n2\n3\n4\n\n\n着色器语言和其它语言一样，声明一个变量，可以重新赋值，如果通过关键字const声明一个常量，顾名思义是常量，在代码中是不可以更改的。\n\nconst int count = 10;\n// 错误写法\ncount= 20;\n\n\n1\n2\n3\n\n\n\n# 着色器语言glsl es声明函数\n\n函数计算后,如果需要返回的值，通过关键字return返回，不过注意声明函数时候，函数名称前需要声明return返回值的数据类型。\n\n// 两个参数是浮点数，相加后返回值自然也是浮点数\nfloat add(float x,float y){\n  return x + y\n}\n\n\n1\n2\n3\n4\n\n\n声明一个无返回值函数,函数前面用void关键字即可。\n\nvoid main(){\n  float x = 10.0;\n}\n\n\n1\n2\n3\n\n\n\n# if语句\n\n着色器语言glsl中关于if语句、for语句的使用，和javascript语言、c语言中的if语句、for语句执行逻辑规则基本一致，这里默认你已经有一定的编程基础，也就不做过多讲解，只是简单说明一下。\n\n单独使用if\n\nfloat x = 10.0\nif(x > 100.0){\n  x = 100.0;\n}\n\n\n1\n2\n3\n4\n\n\nif-else形式\n\nfloat x = 10.0\nif(x > 100.0){\n  x = 100.0;\n} else {\n  x = x + 1.0;\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\nif-else if-else if-...else形式\n\nfloat x = 10.0\nif(x<10.0){\n\n}else if (x>=10.0 && x<20.0) {\n\n}else if (x>=20.0 && x<30.0) {\n\n}else {\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# for循环语句\n\n和你平时写javascript的for循环语句基本相似，只是注意注明变量i的数据类型即可。\n\nfor (int i = 0; i < 20; i++) {\n  ...\n}\n\n\n1\n2\n3\n\n\n\n# continue和break关键字\n\n着色器语言continue和break关键字和javascript语言习惯也是相似的。\n\nbreak表示终止for循环执行\n\nfor (int i = 0; i < 20; i++) {\n  ...\n  if(i==15){\n    break;//直接终止循环执行，i=16、17等后面的循环不再执行\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\ncontinue表示直接跳到for循环的下一个循环\n\nfor (int i = 0; i < 20; i++) {\n  ...\n  if(i==15){\n    continue;//进行下次循环，执行i=16对应的循环\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 向量表示颜色\n\n在glsl es中，向量可以表示多种数据，也能进行多种数学运算，咱们这里先不讲解那么多，说些简单的。\n\n// 四维向量有四个分量，可以用来表示颜色的r、g、b、a\nvar color:vec4<f32> = vec4<f32>(1.0, 0.0, 0.0, 1.0);//红色不透明\n\n\n1\n2\n\n\n// 省略:vec4<f32>数据类型\nvar color = vec4<f32>(1.0, 0.0, 0.0, 1.0);\n\n\n1\n2\n\n\n// 先声明一个四维向量变量，再赋值\nvar color:vec4<f32>;\ncolor = vec4<f32>(1.0, 0.0, 0.0, 1.0);\n\n\n1\n2\n3\n\n\n\n# 向量表示位置\n\n三维向量vec3<f32>表示具有三个分量，可以用来表示顶点的xyz坐标。\n\nvar pos:vec3<f32>;\npos= vec3<f32>(1.0, 2.0, 3.0);\n\n\n1\n2\n\n\n四维向量表示齐次坐标，在wgsl中，表示一个坐标的的时候，如果用四维向量表示，最后一个分量是1.0。改坐标表示xyz的齐次坐标。\n\nvar pos:vec4<f32>;\npos= vec4<f32>(1.0, 2.0, 3.0,1.0);\n\n\n1\n2\n\n\n一个三维向量转化为四维向量\n\nvar pos:vec3<f32>;\npos = vec3<f32>(1.0, 2.0, 3.0);\n//等价于vec4<f32>(1.0, 2.0, 3.0,1.0)\nvar pos2 = vec4<f32>(pos,1.0);\n\n\n1\n2\n3\n4\n\n\n一个二维向量转化为四维向量\n\nvar pos:vec2<f32>;\npos = vec2<f32>(1.0, 2.0);\n//等价于vec4<f32>(1.0, 2.0, 3.0,1.0)\nvar pos2 = vec4<f32>(pos, 3.0,1.0);\n\n\n1\n2\n3\n4\n\n\n\n# glsl es代码注释\n\nglsl es代码注释和javascript语言的习惯一样。\n\n * 单行注释符号//\n\n * 快级注释符号/* */\n\n\n# glsl es语句结尾分号\n\n在javascript中，代码语句结尾的分号可以省略，但是 glsl es中分号不能省略。\n\nfloat a = 2.0;//正常\n\n\n1\n\n\n分号省略，会报错\n\nfloat a = 2.0//分号省略，会报错\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"shader基础语法",frontmatter:{title:"shader基础语法",date:"2024-01-11T00:00:00.000Z",tags:["shader"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/shader2.html",relativePath:"views/threejs/shader2.md",key:"v-08494927",path:"/views/threejs/shader2.html",headers:[{level:2,title:"坐标系",slug:"坐标系",normalizedTitle:"坐标系",charIndex:3},{level:2,title:"ShaderMaterial着色器材质",slug:"shadermaterial着色器材质",normalizedTitle:"shadermaterial着色器材质",charIndex:10},{level:2,title:"uniform变量传值",slug:"uniform变量传值",normalizedTitle:"uniform变量传值",charIndex:33},{level:2,title:"片元屏幕坐标fragCoord.xy",slug:"片元屏幕坐标fragcoord-xy",normalizedTitle:"片元屏幕坐标fragcoord.xy",charIndex:48},{level:2,title:"顶点颜色varying插值计算",slug:"顶点颜色varying插值计算",normalizedTitle:"顶点颜色varying插值计算",charIndex:70},{level:2,title:"顶点位置插值(实现渐变色)",slug:"顶点位置插值-实现渐变色",normalizedTitle:"顶点位置插值(实现渐变色)",charIndex:89},{level:2,title:"颜色贴图map(顶点UV坐标)",slug:"颜色贴图map-顶点uv坐标",normalizedTitle:"颜色贴图map(顶点uv坐标)",charIndex:106},{level:2,title:"shader模仿点材质效果(用shader写点材质)",slug:"shader模仿点材质效果-用shader写点材质",normalizedTitle:"shader模仿点材质效果(用shader写点材质)",charIndex:125}],excerpt:"<Boxx/>\n",headersStr:"坐标系 ShaderMaterial着色器材质 uniform变量传值 片元屏幕坐标fragCoord.xy 顶点颜色varying插值计算 顶点位置插值(实现渐变色) 颜色贴图map(顶点UV坐标) shader模仿点材质效果(用shader写点材质)",content:" * 坐标系\n * ShaderMaterial着色器材质\n * uniform变量传值\n * 片元屏幕坐标fragCoord.xy\n * 顶点颜色varying插值计算\n * 顶点位置插值(实现渐变色)\n * 颜色贴图map(顶点UV坐标)\n * shader模仿点材质效果(用shader写点材质)\n\nshader基础语法,用的少,还是用替换比较多.\n\n\n\n\n# 坐标系\n\n局部坐标（模型坐标系）：\n\n顶点最初位于物体自身的坐标系中，这个坐标系被称为局部坐标系或模型坐标系。 世界坐标（观察者坐标系）：\n\n通过模型矩阵（model matrix），局部坐标被转换到世界坐标系。这个坐标系是相对于整个场景的，也称为世界坐标系。 视图坐标（相机坐标系）：\n\n通过视图矩阵（view matrix），世界坐标被转换到视图坐标系。这个坐标系是相对于相机的，观察者（相机）位于坐标原点，观察方向通常是 Z 轴的负方向。 裁剪坐标：\n\n通过投影矩阵（projection matrix），视图坐标最终被转换到裁剪坐标。这个坐标系包含了透视效果或正交投影的效果，用于确定在屏幕上的位置。 所以，整个过程可以表示为：\n\n[ \\text{裁剪坐标} = \\text{projectionMatrix} \\times \\text{viewMatrix} \\times \\text{modelMatrix} \\times \\text{vec4}(\\text{position}, 1.0) ]\n\n这样的变换过程是图形渲染中非常常见的，它将物体从局部坐标系转换到最终在屏幕上呈现的裁剪坐标系。\n\n\n# ShaderMaterial着色器材质\n\nconst vertexShader = `\nvoid main(){\n  // 投影矩阵 * 视图矩阵 * 模型矩阵 * 模型顶点坐标\n  // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 );\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码     \nconst fragmentShader = `\nvoid main() {\n    gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n}\n`\nconst material = new THREE.ShaderMaterial({\n    vertexShader: vertexShader,// 顶点着色器,必须\n    fragmentShader: fragmentShader,// 片元着色器,必须\n    side: THREE.DoubleSide,//双面显示\n    transparent: true,//允许透明,只有打开允许透明才能透明哦\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# uniform变量传值\n\n在fragmentShader中用uniform定义变量,然后在shadermaterial中赋值\n\nconst vertexShader = `\nvoid main(){\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_Position = projectionMatrix*modelViewMatrix*vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nuniform float opacity;//uniform声明变量opacity表示透明度\nuniform vec3 color;//声明一个颜色变量color\nvoid main() {\n    gl_FragColor = vec4(color,opacity);\n}\n`\n//在着色器中定义变量,在material中进行赋值\nconst material = new THREE.ShaderMaterial({\n  uniforms: {\n    // 给透明度uniform变量opacity传值\n    opacity: { value: 0.3 },\n    // 给uniform同名color变量传值\n    color:{value:new THREE.Color(0x00ffff)}\n  },\n  vertexShader: vertexShader,// 顶点着色器\n  fragmentShader: fragmentShader,// 片元着色器\n  side: THREE.DoubleSide,\n  transparent: true,//允许透明\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 片元屏幕坐标fragCoord.xy\n\nconst vertexShader = `\nvoid main(){\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_Position = projectionMatrix*modelViewMatrix*vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvoid main() {\n    //1. 所有片元都是同一种颜色 \n    // gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n\n    //2.根据片元的x坐标，来设置片元的像素值\n    // if(gl_FragCoord.x < 400.0){\n    //   gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n    // }else {\n    //   gl_FragColor = vec4(0.0,0.0,1.0,1.0);\n    // }\n\n    // 3.片元沿着x方向渐变\n     gl_FragColor = vec4(gl_FragCoord.x/800.0*1.0,0.0,0.0,1.0);\n}\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 顶点颜色varying插值计算\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\nconst vertices = new Float32Array([//类型数组创建顶点数据\n50,50,0,\n50,0,0,\n0,0,0,\n0,0,0,\n0,50,0,\n50,50,0\n\n]);\n// 设置几何体attributes属性的位置属性.position\ngeometry.attributes.position = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n\n//类型数组创建顶点颜色color数据\nconst colors = new Float32Array([\n  1, 0, 0, //顶点1颜色 \n  0, 0.33, 0, //顶点3颜色\n  0, 0, 0.66, //顶点2颜色\n  0, 0, 0.66, //顶点2颜色\n  0, 0.33, 0, //顶点3颜色1, 0, 0, //顶点1颜色 \n  1, 0, 0, //顶点1颜色 \n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据RGB\n// Function to generate a random number between 0 and 1\n\n// Function to update the colors array with random values\n// function updateColors() {\n//   for (let i = 0; i < colors.length; i++) {\n//     if(colors[i]==0){\n//       colors[i]=0\n//     }\n//     else if(colors[i]>=1){\n//       colors[i] = 0.01;\n//     }else{\n//       colors[i] += 0.01;\n//   }  \n// }\n\ngeometry.attributes.color = new THREE.BufferAttribute(colors, 3); \n// }\n// Set an interval to update colors every second (1000 milliseconds)\n// setInterval(updateColors, 50);\n\n\n\n// 顶点着色器代码\nconst vertexShader = `\n// attribute vec3 color;//默认提供不用手写\nvarying vec3 vColor;// varying关键字声明一个变量表示顶点颜色插值后的结果\nvoid main(){\n  vColor = color;// 顶点颜色数据进行插值计算\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 0.5 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvarying vec3 vColor;// 顶点片元化后有多少个片元,顶点颜色插值后就有多少个颜色数据\nvoid main() {\n    // gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n    gl_FragColor = vec4(vColor,1.0);\n}\n`\nconst material = new THREE.ShaderMaterial({\n  vertexShader: vertexShader,// 顶点着色器\n  fragmentShader: fragmentShader,// 片元着色器\n  vertexColors:true,//允许设置使用顶点颜色渲染,必须要开允许使用顶点渲染\n  side: THREE.DoubleSide,\n  transparent: true,//允许透明\n});\nconst mesh = new THREE.Mesh(geometry, material);\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 顶点位置插值(实现渐变色)\n\nconst geometry = new THREE.PlaneGeometry(100, 50);\n// 顶点着色器代码\nconst vertexShader = `\nvarying vec3 vPosition;\nvoid main(){\n  vPosition = position;// 顶点位置坐标插值计算,这样写颜色会随着mesh移动\n  //vPosition = vec3(modelMatrix * vec4( position, 1.0 ));这种不会随着mesh移动\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvarying vec3 vPosition;\nvoid main() {\n    float per = (vPosition.y + 25.0)/50.0;\n    // 几何体顶点y坐标25，颜色值：1  0  0(红色)\n    // 几何体顶点y坐标-25，颜色值：0  1  0(绿色)\n    gl_FragColor = vec4(per,1.0-per,0.0,1.0);\n}\n`\n\nconst material = new THREE.ShaderMaterial({\n  vertexShader: vertexShader,// 顶点着色器\n  fragmentShader: fragmentShader,// 片元着色器\n});\n\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 颜色贴图map(顶点UV坐标)\n\n// const geometry = new THREE.PlaneGeometry(100, 50);\n// const geometry = new THREE.BoxGeometry(100, 100, 100); //立方体\nconst geometry = new THREE.SphereGeometry(60, 25, 25); //球体\n// 顶点着色器代码\nconst vertexShader = `\n// attribute vec2 uv;//默认提供,不用自己写\nvarying vec2 vUv;\nvoid main(){\n  vUv = uv;// UV坐标插值计算\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nuniform sampler2D map;//颜色贴图变量\nvarying vec2 vUv;\nvoid main() {\n    // gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n    // 通过几何体的UV坐标从颜色贴图获取像素值\n    gl_FragColor = texture2D( map, vUv );\n}\n`\nconst texture = new THREE.TextureLoader().load('./Earth.png');\nconst material = new THREE.ShaderMaterial({\n  uniforms: {\n    // 给着色器中同名uniform变量map传值\n    map: { value: texture },\n  },\n  vertexShader: vertexShader,// 顶点着色器\n  fragmentShader: fragmentShader,// 片元着色器\n});\n\nconst mesh = new THREE.Mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# shader模仿点材质效果(用shader写点材质)\n\nconst vertexShader = `\nvoid main(){\n  gl_PointSize = 20.0;//设置方形点渲染大小\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvoid main() {\n    gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n}\n`\n\n//一个点根据坐标来渲染\nconst vertexShader = `\nvoid main(){\n  gl_PointSize = 20.0;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvoid main() {\n    if(gl_PointCoord.x<0.5 && gl_PointCoord.y<0.5){\n      gl_FragColor = vec4(1.0,0.0,0.0,1.0);\n    }else{\n      gl_FragColor = vec4(0.0,0.0,1.0,1.0);\n    }\n}\n`\n\n//圆点\nconst vertexShader = `\nvoid main(){\n  gl_PointSize = 20.0;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvoid main() {\n  // vec2(0.5, 0.5)是方形点的圆心\n  //计算当前点到0.5,0.5的距离\n  float r = distance(gl_PointCoord, vec2(0.5, 0.5));\n  if(r < 0.5){\n    // 方形区域片元距离几何中心半径小于0.5，像素颜色设置红色\n    gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n  }else {\n    // 方形区域距离几何中心半径不小于0.5的片元剪裁舍弃掉：\n    discard;\n  }\n}\n`\n\n//不同size的点\nconst sizes = new Float32Array([\n    1.0, //顶点1对应方形点尺寸缩放倍数\n    0.8, //顶点2\n    0.6, //顶点3\n    0.4, //顶点4\n    0.2, //顶点5\n]);\n// 1个数为一组表示对应顶点gl_PointSize的缩放倍数\ngeometry.attributes.size = new THREE.BufferAttribute(sizes, 1);\n\n// 顶点着色器代码\nconst vertexShader = `\nattribute float size;\nvoid main(){\n  gl_PointSize = 20.0 * size;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentShader = `\nvoid main() {\n    gl_FragColor = vec4(0.0,1.0,1.0,1.0);\n}\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n",normalizedContent:" * 坐标系\n * shadermaterial着色器材质\n * uniform变量传值\n * 片元屏幕坐标fragcoord.xy\n * 顶点颜色varying插值计算\n * 顶点位置插值(实现渐变色)\n * 颜色贴图map(顶点uv坐标)\n * shader模仿点材质效果(用shader写点材质)\n\nshader基础语法,用的少,还是用替换比较多.\n\n\n\n\n# 坐标系\n\n局部坐标（模型坐标系）：\n\n顶点最初位于物体自身的坐标系中，这个坐标系被称为局部坐标系或模型坐标系。 世界坐标（观察者坐标系）：\n\n通过模型矩阵（model matrix），局部坐标被转换到世界坐标系。这个坐标系是相对于整个场景的，也称为世界坐标系。 视图坐标（相机坐标系）：\n\n通过视图矩阵（view matrix），世界坐标被转换到视图坐标系。这个坐标系是相对于相机的，观察者（相机）位于坐标原点，观察方向通常是 z 轴的负方向。 裁剪坐标：\n\n通过投影矩阵（projection matrix），视图坐标最终被转换到裁剪坐标。这个坐标系包含了透视效果或正交投影的效果，用于确定在屏幕上的位置。 所以，整个过程可以表示为：\n\n[ \\text{裁剪坐标} = \\text{projectionmatrix} \\times \\text{viewmatrix} \\times \\text{modelmatrix} \\times \\text{vec4}(\\text{position}, 1.0) ]\n\n这样的变换过程是图形渲染中非常常见的，它将物体从局部坐标系转换到最终在屏幕上呈现的裁剪坐标系。\n\n\n# shadermaterial着色器材质\n\nconst vertexshader = `\nvoid main(){\n  // 投影矩阵 * 视图矩阵 * 模型矩阵 * 模型顶点坐标\n  // gl_position = projectionmatrix * viewmatrix * modelmatrix * vec4( position, 1.0 );\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码     \nconst fragmentshader = `\nvoid main() {\n    gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n}\n`\nconst material = new three.shadermaterial({\n    vertexshader: vertexshader,// 顶点着色器,必须\n    fragmentshader: fragmentshader,// 片元着色器,必须\n    side: three.doubleside,//双面显示\n    transparent: true,//允许透明,只有打开允许透明才能透明哦\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# uniform变量传值\n\n在fragmentshader中用uniform定义变量,然后在shadermaterial中赋值\n\nconst vertexshader = `\nvoid main(){\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_position = projectionmatrix*modelviewmatrix*vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nuniform float opacity;//uniform声明变量opacity表示透明度\nuniform vec3 color;//声明一个颜色变量color\nvoid main() {\n    gl_fragcolor = vec4(color,opacity);\n}\n`\n//在着色器中定义变量,在material中进行赋值\nconst material = new three.shadermaterial({\n  uniforms: {\n    // 给透明度uniform变量opacity传值\n    opacity: { value: 0.3 },\n    // 给uniform同名color变量传值\n    color:{value:new three.color(0x00ffff)}\n  },\n  vertexshader: vertexshader,// 顶点着色器\n  fragmentshader: fragmentshader,// 片元着色器\n  side: three.doubleside,\n  transparent: true,//允许透明\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 片元屏幕坐标fragcoord.xy\n\nconst vertexshader = `\nvoid main(){\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_position = projectionmatrix*modelviewmatrix*vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvoid main() {\n    //1. 所有片元都是同一种颜色 \n    // gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n\n    //2.根据片元的x坐标，来设置片元的像素值\n    // if(gl_fragcoord.x < 400.0){\n    //   gl_fragcolor = vec4(1.0,0.0,0.0,1.0);\n    // }else {\n    //   gl_fragcolor = vec4(0.0,0.0,1.0,1.0);\n    // }\n\n    // 3.片元沿着x方向渐变\n     gl_fragcolor = vec4(gl_fragcoord.x/800.0*1.0,0.0,0.0,1.0);\n}\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 顶点颜色varying插值计算\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\nconst vertices = new float32array([//类型数组创建顶点数据\n50,50,0,\n50,0,0,\n0,0,0,\n0,0,0,\n0,50,0,\n50,50,0\n\n]);\n// 设置几何体attributes属性的位置属性.position\ngeometry.attributes.position = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n\n//类型数组创建顶点颜色color数据\nconst colors = new float32array([\n  1, 0, 0, //顶点1颜色 \n  0, 0.33, 0, //顶点3颜色\n  0, 0, 0.66, //顶点2颜色\n  0, 0, 0.66, //顶点2颜色\n  0, 0.33, 0, //顶点3颜色1, 0, 0, //顶点1颜色 \n  1, 0, 0, //顶点1颜色 \n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据rgb\n// function to generate a random number between 0 and 1\n\n// function to update the colors array with random values\n// function updatecolors() {\n//   for (let i = 0; i < colors.length; i++) {\n//     if(colors[i]==0){\n//       colors[i]=0\n//     }\n//     else if(colors[i]>=1){\n//       colors[i] = 0.01;\n//     }else{\n//       colors[i] += 0.01;\n//   }  \n// }\n\ngeometry.attributes.color = new three.bufferattribute(colors, 3); \n// }\n// set an interval to update colors every second (1000 milliseconds)\n// setinterval(updatecolors, 50);\n\n\n\n// 顶点着色器代码\nconst vertexshader = `\n// attribute vec3 color;//默认提供不用手写\nvarying vec3 vcolor;// varying关键字声明一个变量表示顶点颜色插值后的结果\nvoid main(){\n  vcolor = color;// 顶点颜色数据进行插值计算\n  // 投影矩阵 * 模型视图矩阵 * 模型顶点坐标\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 0.5 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvarying vec3 vcolor;// 顶点片元化后有多少个片元,顶点颜色插值后就有多少个颜色数据\nvoid main() {\n    // gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n    gl_fragcolor = vec4(vcolor,1.0);\n}\n`\nconst material = new three.shadermaterial({\n  vertexshader: vertexshader,// 顶点着色器\n  fragmentshader: fragmentshader,// 片元着色器\n  vertexcolors:true,//允许设置使用顶点颜色渲染,必须要开允许使用顶点渲染\n  side: three.doubleside,\n  transparent: true,//允许透明\n});\nconst mesh = new three.mesh(geometry, material);\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 顶点位置插值(实现渐变色)\n\nconst geometry = new three.planegeometry(100, 50);\n// 顶点着色器代码\nconst vertexshader = `\nvarying vec3 vposition;\nvoid main(){\n  vposition = position;// 顶点位置坐标插值计算,这样写颜色会随着mesh移动\n  //vposition = vec3(modelmatrix * vec4( position, 1.0 ));这种不会随着mesh移动\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvarying vec3 vposition;\nvoid main() {\n    float per = (vposition.y + 25.0)/50.0;\n    // 几何体顶点y坐标25，颜色值：1  0  0(红色)\n    // 几何体顶点y坐标-25，颜色值：0  1  0(绿色)\n    gl_fragcolor = vec4(per,1.0-per,0.0,1.0);\n}\n`\n\nconst material = new three.shadermaterial({\n  vertexshader: vertexshader,// 顶点着色器\n  fragmentshader: fragmentshader,// 片元着色器\n});\n\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 颜色贴图map(顶点uv坐标)\n\n// const geometry = new three.planegeometry(100, 50);\n// const geometry = new three.boxgeometry(100, 100, 100); //立方体\nconst geometry = new three.spheregeometry(60, 25, 25); //球体\n// 顶点着色器代码\nconst vertexshader = `\n// attribute vec2 uv;//默认提供,不用自己写\nvarying vec2 vuv;\nvoid main(){\n  vuv = uv;// uv坐标插值计算\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nuniform sampler2d map;//颜色贴图变量\nvarying vec2 vuv;\nvoid main() {\n    // gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n    // 通过几何体的uv坐标从颜色贴图获取像素值\n    gl_fragcolor = texture2d( map, vuv );\n}\n`\nconst texture = new three.textureloader().load('./earth.png');\nconst material = new three.shadermaterial({\n  uniforms: {\n    // 给着色器中同名uniform变量map传值\n    map: { value: texture },\n  },\n  vertexshader: vertexshader,// 顶点着色器\n  fragmentshader: fragmentshader,// 片元着色器\n});\n\nconst mesh = new three.mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# shader模仿点材质效果(用shader写点材质)\n\nconst vertexshader = `\nvoid main(){\n  gl_pointsize = 20.0;//设置方形点渲染大小\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvoid main() {\n    gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n}\n`\n\n//一个点根据坐标来渲染\nconst vertexshader = `\nvoid main(){\n  gl_pointsize = 20.0;\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvoid main() {\n    if(gl_pointcoord.x<0.5 && gl_pointcoord.y<0.5){\n      gl_fragcolor = vec4(1.0,0.0,0.0,1.0);\n    }else{\n      gl_fragcolor = vec4(0.0,0.0,1.0,1.0);\n    }\n}\n`\n\n//圆点\nconst vertexshader = `\nvoid main(){\n  gl_pointsize = 20.0;\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvoid main() {\n  // vec2(0.5, 0.5)是方形点的圆心\n  //计算当前点到0.5,0.5的距离\n  float r = distance(gl_pointcoord, vec2(0.5, 0.5));\n  if(r < 0.5){\n    // 方形区域片元距离几何中心半径小于0.5，像素颜色设置红色\n    gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n  }else {\n    // 方形区域距离几何中心半径不小于0.5的片元剪裁舍弃掉：\n    discard;\n  }\n}\n`\n\n//不同size的点\nconst sizes = new float32array([\n    1.0, //顶点1对应方形点尺寸缩放倍数\n    0.8, //顶点2\n    0.6, //顶点3\n    0.4, //顶点4\n    0.2, //顶点5\n]);\n// 1个数为一组表示对应顶点gl_pointsize的缩放倍数\ngeometry.attributes.size = new three.bufferattribute(sizes, 1);\n\n// 顶点着色器代码\nconst vertexshader = `\nattribute float size;\nvoid main(){\n  gl_pointsize = 20.0 * size;\n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`\n// 片元着色器代码\nconst fragmentshader = `\nvoid main() {\n    gl_fragcolor = vec4(0.0,1.0,1.0,1.0);\n}\n`\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"三维场景标注",frontmatter:{title:"三维场景标注",date:"2023-12-10T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E4%B8%89%E7%BB%B4%E5%9C%BA%E6%99%AF%E6%A0%87%E6%B3%A8.html",relativePath:"views/threejs/三维场景标注.md",key:"v-5139380f",path:"/views/threejs/%E4%B8%89%E7%BB%B4%E5%9C%BA%E6%99%AF%E6%A0%87%E6%B3%A8.html",headers:[{level:2,title:"地面波动光圈",slug:"地面波动光圈",normalizedTitle:"地面波动光圈",charIndex:3},{level:2,title:"棱锥",slug:"棱锥",normalizedTitle:"棱锥",charIndex:13},{level:2,title:"透明棱锥(贴图法)",slug:"透明棱锥-贴图法",normalizedTitle:"透明棱锥(贴图法)",charIndex:19}],excerpt:"<Boxx/>\n",headersStr:"地面波动光圈 棱锥 透明棱锥(贴图法)",content:" * 地面波动光圈\n * 棱锥\n * 透明棱锥(贴图法)\n\n\n\n\n# 地面波动光圈\n\nvar geometry = new THREE.PlaneGeometry(30, 30); //默认在XOY平面上\nvar textureLoader = new THREE.TextureLoader(); // TextureLoader创建一个纹理加载器对象\nvar material = new THREE.MeshBasicMaterial({\n  color: 0x22ffcc, //设置光圈颜色\n  map: textureLoader.load('./scene/标注光圈.png'),\n  transparent: true, //使用背景透明的png贴图，注意开启透明计算      \n  // side: THREE.DoubleSide, //双面可见\n});\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\nmesh.rotateX(-Math.PI/2);\n\n// 波动动画\nvar S= 20;//波动范围倍数设置\nvar _s = 1.0;\nfunction waveAnimation() {\n  _s += 0.4;\n  mesh.scale.set(_s, _s,  _s);\n  if (_s <= S*0.2) {\n      material.opacity = (_s - 1) /(S*0.2-1);//保证透明度在0~1之间变化\n  } else if (_s > S*0.2 && _s <= S) {\n      material.opacity = 1 - (_s - S*0.2) /(S - S*0.2);//保证透明度在0~1之间变化\n  } else {\n      _s = 1.0;\n  }\n  requestAnimationFrame(waveAnimation);\n}\nwaveAnimation();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n\n\n# 棱锥\n\nimport {\n    createWaveMesh\n  } from './WaveMesh.js';\n// size:控制整体大小\nfunction createConeMesh(size) {\n    var height = size * 4; //棱锥高度\n    // 圆锥体几何体API(ConeGeometry)圆周方向四等分实现四棱锥效果\n    var geometry = new THREE.ConeGeometry(size, height, 4);\n    // 可以根据需要旋转到特定角度\n    // geometry.rotateX(Math.PI);\n    geometry.rotateX(-Math.PI / 2);\n    geometry.translate(0, 0, height / 2);\n    // MeshBasicMaterial MeshLambertMaterial\n    var material = new THREE.MeshLambertMaterial({\n        // color: 0xffcc00,\n        color: 0x22ffcc,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n\n    // 棱锥上在叠加一个棱锥\n    var mesh2 = mesh.clone();\n    mesh2.scale.z = 0.5;\n    mesh2.position.z = height * (1 + mesh2.scale.z);\n    mesh2.rotateX(Math.PI);\n    mesh.add(mesh2);\n\n\n    // 棱锥旋转动画\n    function animation() {\n        mesh.rotateZ(0.05);\n        requestAnimationFrame(animation);\n    }\n    animation();\n\n    var WaveMesh =  createWaveMesh(size);\n    WaveMesh.position.z = height;\n    // createWaveMesh(size);\n    mesh.add(WaveMesh);\n\n    return mesh;\n}\nexport {\n    createConeMesh\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 透明棱锥(贴图法)\n\n// 引入three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport {\n    createWaveMesh\n  } from './WaveMesh.js';\n// size:控制整体大小\nfunction createConeMesh(size) {\n    var height = size * 4; //棱锥高度\n    // 圆锥体几何体API(ConeGeometry)圆周方向四等分实现四棱锥效果\n    var geometry = new THREE.ConeGeometry(size, height, 4,1,true);\n    // 可以根据需要旋转到特定角度\n    // geometry.rotateX(Math.PI);\n    geometry.rotateX(-Math.PI / 2);\n    geometry.translate(0, 0, height / 2);\n    var material = new THREE.MeshLambertMaterial({\n        map: new THREE.TextureLoader().load('./scene/渐变3.png'),\n        // color: 0x22ffcc,\n        color: 0xccff22,\n        transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n        // opacity: 0.5,//整体改变透明度\n        side:THREE.DoubleSide,\n        depthTest:false,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n\n    // 棱锥上在叠加一个棱锥\n    var mesh2 = mesh.clone();\n    mesh2.scale.z = 0.5;\n    mesh2.position.z = height * (1 + mesh2.scale.z);\n    mesh2.rotateX(Math.PI);\n    mesh.add(mesh2);\n\n\n    // 棱锥旋转动画\n    function animation() {\n        mesh.rotateZ(0.05);\n        requestAnimationFrame(animation);\n    }\n    animation();\n\n    var WaveMesh =  createWaveMesh(size);\n    WaveMesh.position.z = height;\n    mesh.add(WaveMesh);\n\n    return mesh;\n}\nexport {\n    createConeMesh\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n",normalizedContent:" * 地面波动光圈\n * 棱锥\n * 透明棱锥(贴图法)\n\n\n\n\n# 地面波动光圈\n\nvar geometry = new three.planegeometry(30, 30); //默认在xoy平面上\nvar textureloader = new three.textureloader(); // textureloader创建一个纹理加载器对象\nvar material = new three.meshbasicmaterial({\n  color: 0x22ffcc, //设置光圈颜色\n  map: textureloader.load('./scene/标注光圈.png'),\n  transparent: true, //使用背景透明的png贴图，注意开启透明计算      \n  // side: three.doubleside, //双面可见\n});\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\nmesh.rotatex(-math.pi/2);\n\n// 波动动画\nvar s= 20;//波动范围倍数设置\nvar _s = 1.0;\nfunction waveanimation() {\n  _s += 0.4;\n  mesh.scale.set(_s, _s,  _s);\n  if (_s <= s*0.2) {\n      material.opacity = (_s - 1) /(s*0.2-1);//保证透明度在0~1之间变化\n  } else if (_s > s*0.2 && _s <= s) {\n      material.opacity = 1 - (_s - s*0.2) /(s - s*0.2);//保证透明度在0~1之间变化\n  } else {\n      _s = 1.0;\n  }\n  requestanimationframe(waveanimation);\n}\nwaveanimation();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n\n\n# 棱锥\n\nimport {\n    createwavemesh\n  } from './wavemesh.js';\n// size:控制整体大小\nfunction createconemesh(size) {\n    var height = size * 4; //棱锥高度\n    // 圆锥体几何体api(conegeometry)圆周方向四等分实现四棱锥效果\n    var geometry = new three.conegeometry(size, height, 4);\n    // 可以根据需要旋转到特定角度\n    // geometry.rotatex(math.pi);\n    geometry.rotatex(-math.pi / 2);\n    geometry.translate(0, 0, height / 2);\n    // meshbasicmaterial meshlambertmaterial\n    var material = new three.meshlambertmaterial({\n        // color: 0xffcc00,\n        color: 0x22ffcc,\n    });\n    var mesh = new three.mesh(geometry, material);\n\n    // 棱锥上在叠加一个棱锥\n    var mesh2 = mesh.clone();\n    mesh2.scale.z = 0.5;\n    mesh2.position.z = height * (1 + mesh2.scale.z);\n    mesh2.rotatex(math.pi);\n    mesh.add(mesh2);\n\n\n    // 棱锥旋转动画\n    function animation() {\n        mesh.rotatez(0.05);\n        requestanimationframe(animation);\n    }\n    animation();\n\n    var wavemesh =  createwavemesh(size);\n    wavemesh.position.z = height;\n    // createwavemesh(size);\n    mesh.add(wavemesh);\n\n    return mesh;\n}\nexport {\n    createconemesh\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n\n# 透明棱锥(贴图法)\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport {\n    createwavemesh\n  } from './wavemesh.js';\n// size:控制整体大小\nfunction createconemesh(size) {\n    var height = size * 4; //棱锥高度\n    // 圆锥体几何体api(conegeometry)圆周方向四等分实现四棱锥效果\n    var geometry = new three.conegeometry(size, height, 4,1,true);\n    // 可以根据需要旋转到特定角度\n    // geometry.rotatex(math.pi);\n    geometry.rotatex(-math.pi / 2);\n    geometry.translate(0, 0, height / 2);\n    var material = new three.meshlambertmaterial({\n        map: new three.textureloader().load('./scene/渐变3.png'),\n        // color: 0x22ffcc,\n        color: 0xccff22,\n        transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n        // opacity: 0.5,//整体改变透明度\n        side:three.doubleside,\n        depthtest:false,\n    });\n    var mesh = new three.mesh(geometry, material);\n\n    // 棱锥上在叠加一个棱锥\n    var mesh2 = mesh.clone();\n    mesh2.scale.z = 0.5;\n    mesh2.position.z = height * (1 + mesh2.scale.z);\n    mesh2.rotatex(math.pi);\n    mesh.add(mesh2);\n\n\n    // 棱锥旋转动画\n    function animation() {\n        mesh.rotatez(0.05);\n        requestanimationframe(animation);\n    }\n    animation();\n\n    var wavemesh =  createwavemesh(size);\n    wavemesh.position.z = height;\n    mesh.add(wavemesh);\n\n    return mesh;\n}\nexport {\n    createconemesh\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"信号波",frontmatter:{title:"信号波",date:"2023-12-17T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E4%BF%A1%E5%8F%B7%E6%B3%A2.html",relativePath:"views/threejs/信号波.md",key:"v-2c61bab9",path:"/views/threejs/%E4%BF%A1%E5%8F%B7%E6%B3%A2.html",headers:[{level:2,title:"信号波(贴图)",slug:"信号波-贴图",normalizedTitle:"信号波(贴图)",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"信号波(贴图)",content:" * 信号波(贴图)\n\n\n\n\n# 信号波(贴图)\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new THREE.Group(); //声明一个组对象\n\nvar texLoad = new THREE.TextureLoader();\nvar L = 1;\nvar geometry = new THREE.PlaneGeometry(L, 0.6*L);\ngeometry.translate(-L / 2, 0, 0);\nvar material = new THREE.MeshLambertMaterial({\n  map: texLoad.load('./scene/信号波.png'),\n  color: 0x00ffff, //设置颜色\n  transparent: true, //允许透明计算\n  side: THREE.DoubleSide,\n});\n\nvar plane = new THREE.Mesh(geometry, material);\n// plane.position.z = 0.5\n// plane.position.y = 0.2\n// plane.rotateY(Math.PI / 2)\n// plane.rotateX(Math.PI / 2)\nmodel.add(plane)\n\n// 波动动画\nvar S= 300;//波动范围倍数设置\nvar _s = 1.0;\nfunction animation() {\n  _s += 5;\n  plane.scale.set(_s, _s,  _s);\n  if (_s <= S*0.2) {\n      material.opacity = (_s - 1) /(S*0.2-1);//保证透明度在0~1之间变化\n  } else if (_s > S*0.2 && _s <= S) {\n      material.opacity = 1 - (_s - S*0.2) /(S - S*0.2);//保证透明度在0~1之间变化\n  } else {\n      _s = 1.0;\n  }\n  requestAnimationFrame(animation);\n}\nanimation();\n\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n",normalizedContent:" * 信号波(贴图)\n\n\n\n\n# 信号波(贴图)\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new three.group(); //声明一个组对象\n\nvar texload = new three.textureloader();\nvar l = 1;\nvar geometry = new three.planegeometry(l, 0.6*l);\ngeometry.translate(-l / 2, 0, 0);\nvar material = new three.meshlambertmaterial({\n  map: texload.load('./scene/信号波.png'),\n  color: 0x00ffff, //设置颜色\n  transparent: true, //允许透明计算\n  side: three.doubleside,\n});\n\nvar plane = new three.mesh(geometry, material);\n// plane.position.z = 0.5\n// plane.position.y = 0.2\n// plane.rotatey(math.pi / 2)\n// plane.rotatex(math.pi / 2)\nmodel.add(plane)\n\n// 波动动画\nvar s= 300;//波动范围倍数设置\nvar _s = 1.0;\nfunction animation() {\n  _s += 5;\n  plane.scale.set(_s, _s,  _s);\n  if (_s <= s*0.2) {\n      material.opacity = (_s - 1) /(s*0.2-1);//保证透明度在0~1之间变化\n  } else if (_s > s*0.2 && _s <= s) {\n      material.opacity = 1 - (_s - s*0.2) /(s - s*0.2);//保证透明度在0~1之间变化\n  } else {\n      _s = 1.0;\n  }\n  requestanimationframe(animation);\n}\nanimation();\n\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"飞线",frontmatter:{title:"飞线",date:"2023-12-28T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E4%BF%A1%E5%8F%B7%E9%A3%9E%E7%BA%BF.html",relativePath:"views/threejs/信号飞线.md",key:"v-1addd3e5",path:"/views/threejs/%E4%BF%A1%E5%8F%B7%E9%A3%9E%E7%BA%BF.html",headers:[{level:2,title:"飞线",slug:"飞线",normalizedTitle:"飞线",charIndex:3},{level:2,title:"飞线(模糊版)",slug:"飞线-模糊版",normalizedTitle:"飞线(模糊版)",charIndex:9},{level:2,title:"地铁流线",slug:"地铁流线",normalizedTitle:"地铁流线",charIndex:20},{level:2,title:"不同的样式",slug:"不同的样式",normalizedTitle:"不同的样式",charIndex:28}],excerpt:"<Boxx/>\n",headersStr:"飞线 飞线(模糊版) 地铁流线 不同的样式",content:" * 飞线\n * 飞线(模糊版)\n * 地铁流线\n * 不同的样式\n\n\n\n\n# 飞线\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new THREE.Group(); //声明一个组对象\n/**\n * 创建线条模型\n */\nvar geometry = new THREE.BufferGeometry(); //创建一个缓冲类型几何体\n// 三维样条曲线\nvar curve = new THREE.CatmullRomCurve3([\n  new THREE.Vector3(100, 0, -100),\n  new THREE.Vector3(0, 80, 0),\n  new THREE.Vector3(-100, 0, 100),\n]);\n//曲线上等间距返回多个顶点坐标\nvar points = curve.getSpacedPoints(100); //分段数100，返回101个顶点\n// setFromPoints方法从points中提取数据赋值给attributes.position\ngeometry.setFromPoints(points);\nvar material = new THREE.LineBasicMaterial({\n  color: 0x006666, //轨迹颜色\n});\n//线条模型对象\nvar line = new THREE.Line(geometry, material);\nmodel.add(line);\n\n\nvar index = 20; //取点索引位置\nvar num = 15; //从曲线上获取点数量\nvar points2 = points.slice(index, index + num); //从曲线上获取一段\nvar curve = new THREE.CatmullRomCurve3(points2);\nconsole.log(points2)\nvar newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\nvar geometry2 = new THREE.BufferGeometry();\ngeometry2.setFromPoints(newPoints2);\n// 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\nvar percentArr = []; //attributes.percent的数据\nfor (var i = 0; i < newPoints2.length; i++) {\n  percentArr.push(i / newPoints2.length);\n}\nvar percentAttribue = new THREE.BufferAttribute(new Float32Array(percentArr), 1);\ngeometry2.attributes.percent = percentAttribue;\n// 批量计算所有顶点颜色数据\nvar colorArr = [];\nfor (var i = 0; i < newPoints2.length; i++) {\n  var color1 = new THREE.Color(0x006666); //轨迹线颜色 青色\n  var color2 = new THREE.Color(0xffff00); //黄色\n  var color = color1.lerp(color2, i / newPoints2.length)\n  colorArr.push(color.r, color.g, color.b);\n}\n// 设置几何体顶点颜色数据\ngeometry2.attributes.color = new THREE.BufferAttribute(new Float32Array(colorArr), 3);\n\n// 点模型渲染几何体每个顶点\nvar PointsMaterial = new THREE.PointsMaterial({\n  // color: 0xffff00,\n  size: 5.0, //点大小\n  vertexColors: THREE.VertexColors, //使用顶点颜色渲染\n});\nvar flyPoints = new THREE.Points(geometry2, PointsMaterial);\nmodel.add(flyPoints);\n// 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\nPointsMaterial.onBeforeCompile = function (shader) {\n  // 顶点着色器中声明一个attribute变量:百分比\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    [\n      'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n      'void main() {',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  // 调整点渲染大小计算方式\n  shader.vertexShader = shader.vertexShader.replace(\n    'gl_PointSize = size;',\n    [\n      'gl_PointSize = percent * size;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n};\n// 飞线动画\nvar indexMax = points.length - num; //飞线取点索引范围\nfunction animation() {\n  if (index > indexMax) index = 0;\n  index += 1\n  points2 = points.slice(index, index + num); //从曲线上获取一段\n  var curve = new THREE.CatmullRomCurve3(points2);\n  var newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\n  geometry2.setFromPoints(newPoints2);\n\n  requestAnimationFrame(animation);\n}\nanimation();\n\nplane();//设置一个地面\nfunction plane() {\n    var gridHelper = new THREE.GridHelper(300, 15, 0x003333, 0x003333);\n    model.add(gridHelper);\n    var geometry = new THREE.PlaneGeometry(310, 310); \n    var material = new THREE.MeshLambertMaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: THREE.DoubleSide,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotateX(-Math.PI / 2);\n}\n\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n\n\n\n# 飞线(模糊版)\n\n每个点 像素距离店中心的距离r 来进行透明度渐变\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\n\nvar model = new THREE.Group(); //声明一个组对象\n/**\n * 创建线条模型\n */\nvar geometry = new THREE.BufferGeometry(); //创建一个缓冲类型几何体\n// 三维样条曲线\nvar curve = new THREE.CatmullRomCurve3([\n  new THREE.Vector3(100, 0, -100),\n  new THREE.Vector3(0, 80, 0),\n  new THREE.Vector3(-100, 0, 100),\n]);\n//曲线上等间距返回多个顶点坐标\nvar points = curve.getSpacedPoints(100); //分段数100，返回101个顶点\n// setFromPoints方法从points中提取数据赋值给attributes.position\ngeometry.setFromPoints(points);\nvar material = new THREE.LineBasicMaterial({\n  color: 0x006666, //轨迹颜色\n});\n//线条模型对象\nvar line = new THREE.Line(geometry, material);\nmodel.add(line);\n\n\nvar index = 20; //取点索引位置\nvar num = 15; //从曲线上获取点数量\nvar points2 = points.slice(index, index + num); //从曲线上获取一段\nvar curve = new THREE.CatmullRomCurve3(points2);\nvar newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\nvar geometry2 = new THREE.BufferGeometry();\ngeometry2.setFromPoints(newPoints2);\n// 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\nvar percentArr = []; //attributes.percent的数据\nfor (var i = 0; i < newPoints2.length; i++) {\n  percentArr.push(i / newPoints2.length);\n}\nvar percentAttribue = new THREE.BufferAttribute(new Float32Array(percentArr), 1);\ngeometry2.attributes.percent = percentAttribue;\n// 批量计算所有顶点颜色数据\nvar colorArr = [];\nfor (var i = 0; i < newPoints2.length; i++) {\n  var color1 = new THREE.Color(0x006666); //轨迹线颜色 青色\n  var color2 = new THREE.Color(0xffff00); //黄色\n  var color = color1.lerp(color2, i / newPoints2.length)\n  colorArr.push(color.r, color.g, color.b);\n}\n// 设置几何体顶点颜色数据\ngeometry2.attributes.color = new THREE.BufferAttribute(new Float32Array(colorArr), 3);\n\n// 点模型渲染几何体每个顶点\nvar PointsMaterial = new THREE.PointsMaterial({\n  // color: 0xffff00,\n  size: 5*5.0, //点大小\n  vertexColors: THREE.VertexColors, //使用顶点颜色渲染\n  transparent:true,//开启透明计算\n  depthTest:false,\n});\nvar flyPoints = new THREE.Points(geometry2, PointsMaterial);\nmodel.add(flyPoints);\n// 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\nPointsMaterial.onBeforeCompile = function (shader) {\n  // 顶点着色器中声明一个attribute变量:百分比\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    [\n      'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n      'void main() {',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  // 调整点渲染大小计算方式\n  shader.vertexShader = shader.vertexShader.replace(\n    'gl_PointSize = size;',\n    [\n      'gl_PointSize = percent * size;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\n// 飞线动画\nvar indexMax = points.length - num; //飞线取点索引范围\nfunction animation() {\n  if (index > indexMax) index = 0;\n  index += 1\n  points2 = points.slice(index, index + num); //从曲线上获取一段\n  var curve = new THREE.CatmullRomCurve3(points2);\n  var newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\n  geometry2.setFromPoints(newPoints2);\n\n  requestAnimationFrame(animation);\n}\nanimation();\n\nplane();//设置一个地面\nfunction plane() {\n    var gridHelper = new THREE.GridHelper(300, 15, 0x003333, 0x003333);\n    model.add(gridHelper);\n    var geometry = new THREE.PlaneGeometry(310, 310); \n    var material = new THREE.MeshLambertMaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: THREE.DoubleSide,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotateX(-Math.PI / 2);\n}\n\n\nexport {\n  model\n}\n\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_PointCoord, vec2(0.5, 0.5));\n// diffuseColor.a = diffuseColor.a*(1.0 - r/0.5);//透明度线性变化\ndiffuseColor.a = diffuseColor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_PointSize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n\n\n\n# 地铁流线\n\n\n\n// 引入three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\nimport {\n    lon2xy\n} from './math.js';\nvar lineGroup = new THREE.Group(); //声明一个组对象\nvar loader = new THREE.FileLoader();\nloader.setResponseType('json')\n//轨迹线数据解析W\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.forEach(function (obj) {\n        var pointsArr = [];\n        var flypointsArr = [];\n        obj.coordinates.forEach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0] - 0.0128, coord[1] - 0.0075); //建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsArr.push(xy.x, xy.y, 0);\n            flypointsArr.push([xy.x, xy.y]);\n        })\n        var line = createLine(pointsArr); //创建一条轨迹线\n        lineGroup.add(line);\n        var flyPoints = createfly(flypointsArr); //创建一条流线\n        lineGroup.add(flyPoints);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createLine(pointsArr) {\n    /**\n     * 通过BufferGeometry构建一个几何体，传入顶点数据\n     * 通过Line模型渲染几何体，连点成线\n     */\n    var geometry = new THREE.BufferGeometry(); //创建一个Buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new Float32Array(pointsArr);\n    // 创建属性缓冲区对象\n    var attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new THREE.LineBasicMaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new THREE.Line(geometry, material); //线条模型对象\n    return line;\n}\n\n// 创建流线轨迹\nfunction createfly(flypointsArr) {\n    var v3Arr = [];\n    flypointsArr.forEach(function (coord) {\n        v3Arr.push(new THREE.Vector3(coord[0], coord[1], 0));\n    })\n    // 三维样条曲线\n    var curve = new THREE.CatmullRomCurve3(v3Arr);\n    //曲线上等间距返回多个顶点坐标\n    var points = curve.getSpacedPoints(100); //分段数100，返回101个顶点\n\n\n    var index = 20; //取点索引位置\n    var num = 15; //从曲线上获取点数量\n    var points2 = points.slice(index, index + num); //从曲线上获取一段\n    var curve = new THREE.CatmullRomCurve3(points2);\n    var newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\n    var geometry2 = new THREE.BufferGeometry();\n    geometry2.setFromPoints(newPoints2);\n    // 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\n    var percentArr = []; //attributes.percent的数据\n    for (var i = 0; i < newPoints2.length; i++) {\n        percentArr.push(i / newPoints2.length);\n    }\n    var percentAttribue = new THREE.BufferAttribute(new Float32Array(percentArr), 1);\n    geometry2.attributes.percent = percentAttribue;\n    // 批量计算所有顶点颜色数据\n    var colorArr = [];\n    for (var i = 0; i < newPoints2.length; i++) {\n        var color1 = new THREE.Color(0x006666); //轨迹线颜色 青色\n        var color2 = new THREE.Color(0x00ffff); //更亮青色\n        var color = color1.lerp(color2, i / newPoints2.length)\n        colorArr.push(color.r, color.g, color.b);\n    }\n    // 设置几何体顶点颜色数据\n    geometry2.attributes.color = new THREE.BufferAttribute(new Float32Array(colorArr), 3);\n\n    // 点模型渲染几何体每个顶点\n    var PointsMaterial = new THREE.PointsMaterial({\n        // color: 0xffff00,\n        size: 5*500.0, //点大小 考虑相机渲染范围设置\n        vertexColors: THREE.VertexColors, //使用顶点颜色渲染\n        transparent:true,//开启透明计算\n        depthTest:false,\n    });\n    var flyPoints = new THREE.Points(geometry2, PointsMaterial);\n\n    // 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\n    PointsMaterial.onBeforeCompile = function (shader) {\n        // 顶点着色器中声明一个attribute变量:百分比\n        shader.vertexShader = shader.vertexShader.replace(\n            'void main() {',\n            [\n                'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n                'void main() {',\n            ].join('\\n') // .join()把数组元素合成字符串\n        );\n        // 调整点渲染大小计算方式\n        shader.vertexShader = shader.vertexShader.replace(\n            'gl_PointSize = size;',\n            [\n                'gl_PointSize = percent * size;',\n            ].join('\\n') // .join()把数组元素合成字符串\n        );\n\n        shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n    };\n    // 飞线动画\n    var indexMax = points.length - num; //飞线取点索引范围\n    function animation() {\n        if (index > indexMax) index = 0;\n        index += 1\n        points2 = points.slice(index, index + num); //从曲线上获取一段\n        var curve = new THREE.CatmullRomCurve3(points2);\n        var newPoints2 = curve.getSpacedPoints(100); //获取更多的点数\n        geometry2.setFromPoints(newPoints2);\n\n        requestAnimationFrame(animation);\n    }\n    animation();\n\n\n    return flyPoints\n}\nexport {\n    lineGroup\n};\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_PointCoord, vec2(0.5, 0.5));\n// diffuseColor.a = diffuseColor.a*(1.0 - r/0.5);//透明度线性变化\ndiffuseColor.a = diffuseColor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_PointSize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n\n\n\n# 不同的样式\n\n//中间粗两头小\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_PointCoord, vec2(0.5, 0.5));\n// diffuseColor.a = diffuseColor.a*(1.0 - r/0.5);//透明度线性变化\ndiffuseColor.a = diffuseColor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_PointSize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n//中间粗两头细小—大小非线性渐变\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_PointCoord, vec2(0.5, 0.5));\n// diffuseColor.a = diffuseColor.a*(1.0 - r/0.5);//透明度线性变化\ndiffuseColor.a = diffuseColor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_PointSize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n//颜色黄色\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_PointCoord, vec2(0.5, 0.5));\n// diffuseColor.a = diffuseColor.a*(1.0 - r/0.5);//透明度线性变化\ndiffuseColor.a = diffuseColor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_PointSize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n",normalizedContent:" * 飞线\n * 飞线(模糊版)\n * 地铁流线\n * 不同的样式\n\n\n\n\n# 飞线\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new three.group(); //声明一个组对象\n/**\n * 创建线条模型\n */\nvar geometry = new three.buffergeometry(); //创建一个缓冲类型几何体\n// 三维样条曲线\nvar curve = new three.catmullromcurve3([\n  new three.vector3(100, 0, -100),\n  new three.vector3(0, 80, 0),\n  new three.vector3(-100, 0, 100),\n]);\n//曲线上等间距返回多个顶点坐标\nvar points = curve.getspacedpoints(100); //分段数100，返回101个顶点\n// setfrompoints方法从points中提取数据赋值给attributes.position\ngeometry.setfrompoints(points);\nvar material = new three.linebasicmaterial({\n  color: 0x006666, //轨迹颜色\n});\n//线条模型对象\nvar line = new three.line(geometry, material);\nmodel.add(line);\n\n\nvar index = 20; //取点索引位置\nvar num = 15; //从曲线上获取点数量\nvar points2 = points.slice(index, index + num); //从曲线上获取一段\nvar curve = new three.catmullromcurve3(points2);\nconsole.log(points2)\nvar newpoints2 = curve.getspacedpoints(100); //获取更多的点数\nvar geometry2 = new three.buffergeometry();\ngeometry2.setfrompoints(newpoints2);\n// 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\nvar percentarr = []; //attributes.percent的数据\nfor (var i = 0; i < newpoints2.length; i++) {\n  percentarr.push(i / newpoints2.length);\n}\nvar percentattribue = new three.bufferattribute(new float32array(percentarr), 1);\ngeometry2.attributes.percent = percentattribue;\n// 批量计算所有顶点颜色数据\nvar colorarr = [];\nfor (var i = 0; i < newpoints2.length; i++) {\n  var color1 = new three.color(0x006666); //轨迹线颜色 青色\n  var color2 = new three.color(0xffff00); //黄色\n  var color = color1.lerp(color2, i / newpoints2.length)\n  colorarr.push(color.r, color.g, color.b);\n}\n// 设置几何体顶点颜色数据\ngeometry2.attributes.color = new three.bufferattribute(new float32array(colorarr), 3);\n\n// 点模型渲染几何体每个顶点\nvar pointsmaterial = new three.pointsmaterial({\n  // color: 0xffff00,\n  size: 5.0, //点大小\n  vertexcolors: three.vertexcolors, //使用顶点颜色渲染\n});\nvar flypoints = new three.points(geometry2, pointsmaterial);\nmodel.add(flypoints);\n// 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\npointsmaterial.onbeforecompile = function (shader) {\n  // 顶点着色器中声明一个attribute变量:百分比\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    [\n      'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n      'void main() {',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  // 调整点渲染大小计算方式\n  shader.vertexshader = shader.vertexshader.replace(\n    'gl_pointsize = size;',\n    [\n      'gl_pointsize = percent * size;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n};\n// 飞线动画\nvar indexmax = points.length - num; //飞线取点索引范围\nfunction animation() {\n  if (index > indexmax) index = 0;\n  index += 1\n  points2 = points.slice(index, index + num); //从曲线上获取一段\n  var curve = new three.catmullromcurve3(points2);\n  var newpoints2 = curve.getspacedpoints(100); //获取更多的点数\n  geometry2.setfrompoints(newpoints2);\n\n  requestanimationframe(animation);\n}\nanimation();\n\nplane();//设置一个地面\nfunction plane() {\n    var gridhelper = new three.gridhelper(300, 15, 0x003333, 0x003333);\n    model.add(gridhelper);\n    var geometry = new three.planegeometry(310, 310); \n    var material = new three.meshlambertmaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: three.doubleside,\n    });\n    var mesh = new three.mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotatex(-math.pi / 2);\n}\n\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n\n\n\n# 飞线(模糊版)\n\n每个点 像素距离店中心的距离r 来进行透明度渐变\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\n\nvar model = new three.group(); //声明一个组对象\n/**\n * 创建线条模型\n */\nvar geometry = new three.buffergeometry(); //创建一个缓冲类型几何体\n// 三维样条曲线\nvar curve = new three.catmullromcurve3([\n  new three.vector3(100, 0, -100),\n  new three.vector3(0, 80, 0),\n  new three.vector3(-100, 0, 100),\n]);\n//曲线上等间距返回多个顶点坐标\nvar points = curve.getspacedpoints(100); //分段数100，返回101个顶点\n// setfrompoints方法从points中提取数据赋值给attributes.position\ngeometry.setfrompoints(points);\nvar material = new three.linebasicmaterial({\n  color: 0x006666, //轨迹颜色\n});\n//线条模型对象\nvar line = new three.line(geometry, material);\nmodel.add(line);\n\n\nvar index = 20; //取点索引位置\nvar num = 15; //从曲线上获取点数量\nvar points2 = points.slice(index, index + num); //从曲线上获取一段\nvar curve = new three.catmullromcurve3(points2);\nvar newpoints2 = curve.getspacedpoints(100); //获取更多的点数\nvar geometry2 = new three.buffergeometry();\ngeometry2.setfrompoints(newpoints2);\n// 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\nvar percentarr = []; //attributes.percent的数据\nfor (var i = 0; i < newpoints2.length; i++) {\n  percentarr.push(i / newpoints2.length);\n}\nvar percentattribue = new three.bufferattribute(new float32array(percentarr), 1);\ngeometry2.attributes.percent = percentattribue;\n// 批量计算所有顶点颜色数据\nvar colorarr = [];\nfor (var i = 0; i < newpoints2.length; i++) {\n  var color1 = new three.color(0x006666); //轨迹线颜色 青色\n  var color2 = new three.color(0xffff00); //黄色\n  var color = color1.lerp(color2, i / newpoints2.length)\n  colorarr.push(color.r, color.g, color.b);\n}\n// 设置几何体顶点颜色数据\ngeometry2.attributes.color = new three.bufferattribute(new float32array(colorarr), 3);\n\n// 点模型渲染几何体每个顶点\nvar pointsmaterial = new three.pointsmaterial({\n  // color: 0xffff00,\n  size: 5*5.0, //点大小\n  vertexcolors: three.vertexcolors, //使用顶点颜色渲染\n  transparent:true,//开启透明计算\n  depthtest:false,\n});\nvar flypoints = new three.points(geometry2, pointsmaterial);\nmodel.add(flypoints);\n// 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\npointsmaterial.onbeforecompile = function (shader) {\n  // 顶点着色器中声明一个attribute变量:百分比\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    [\n      'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n      'void main() {',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  // 调整点渲染大小计算方式\n  shader.vertexshader = shader.vertexshader.replace(\n    'gl_pointsize = size;',\n    [\n      'gl_pointsize = percent * size;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\n// 飞线动画\nvar indexmax = points.length - num; //飞线取点索引范围\nfunction animation() {\n  if (index > indexmax) index = 0;\n  index += 1\n  points2 = points.slice(index, index + num); //从曲线上获取一段\n  var curve = new three.catmullromcurve3(points2);\n  var newpoints2 = curve.getspacedpoints(100); //获取更多的点数\n  geometry2.setfrompoints(newpoints2);\n\n  requestanimationframe(animation);\n}\nanimation();\n\nplane();//设置一个地面\nfunction plane() {\n    var gridhelper = new three.gridhelper(300, 15, 0x003333, 0x003333);\n    model.add(gridhelper);\n    var geometry = new three.planegeometry(310, 310); \n    var material = new three.meshlambertmaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: three.doubleside,\n    });\n    var mesh = new three.mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotatex(-math.pi / 2);\n}\n\n\nexport {\n  model\n}\n\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_pointcoord, vec2(0.5, 0.5));\n// diffusecolor.a = diffusecolor.a*(1.0 - r/0.5);//透明度线性变化\ndiffusecolor.a = diffusecolor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_pointsize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n\n\n\n# 地铁流线\n\n\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\nimport {\n    lon2xy\n} from './math.js';\nvar linegroup = new three.group(); //声明一个组对象\nvar loader = new three.fileloader();\nloader.setresponsetype('json')\n//轨迹线数据解析w\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.foreach(function (obj) {\n        var pointsarr = [];\n        var flypointsarr = [];\n        obj.coordinates.foreach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0] - 0.0128, coord[1] - 0.0075); //建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsarr.push(xy.x, xy.y, 0);\n            flypointsarr.push([xy.x, xy.y]);\n        })\n        var line = createline(pointsarr); //创建一条轨迹线\n        linegroup.add(line);\n        var flypoints = createfly(flypointsarr); //创建一条流线\n        linegroup.add(flypoints);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createline(pointsarr) {\n    /**\n     * 通过buffergeometry构建一个几何体，传入顶点数据\n     * 通过line模型渲染几何体，连点成线\n     */\n    var geometry = new three.buffergeometry(); //创建一个buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new float32array(pointsarr);\n    // 创建属性缓冲区对象\n    var attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new three.linebasicmaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new three.line(geometry, material); //线条模型对象\n    return line;\n}\n\n// 创建流线轨迹\nfunction createfly(flypointsarr) {\n    var v3arr = [];\n    flypointsarr.foreach(function (coord) {\n        v3arr.push(new three.vector3(coord[0], coord[1], 0));\n    })\n    // 三维样条曲线\n    var curve = new three.catmullromcurve3(v3arr);\n    //曲线上等间距返回多个顶点坐标\n    var points = curve.getspacedpoints(100); //分段数100，返回101个顶点\n\n\n    var index = 20; //取点索引位置\n    var num = 15; //从曲线上获取点数量\n    var points2 = points.slice(index, index + num); //从曲线上获取一段\n    var curve = new three.catmullromcurve3(points2);\n    var newpoints2 = curve.getspacedpoints(100); //获取更多的点数\n    var geometry2 = new three.buffergeometry();\n    geometry2.setfrompoints(newpoints2);\n    // 每个顶点对应一个百分比数据attributes.percent 用于控制点的渲染大小\n    var percentarr = []; //attributes.percent的数据\n    for (var i = 0; i < newpoints2.length; i++) {\n        percentarr.push(i / newpoints2.length);\n    }\n    var percentattribue = new three.bufferattribute(new float32array(percentarr), 1);\n    geometry2.attributes.percent = percentattribue;\n    // 批量计算所有顶点颜色数据\n    var colorarr = [];\n    for (var i = 0; i < newpoints2.length; i++) {\n        var color1 = new three.color(0x006666); //轨迹线颜色 青色\n        var color2 = new three.color(0x00ffff); //更亮青色\n        var color = color1.lerp(color2, i / newpoints2.length)\n        colorarr.push(color.r, color.g, color.b);\n    }\n    // 设置几何体顶点颜色数据\n    geometry2.attributes.color = new three.bufferattribute(new float32array(colorarr), 3);\n\n    // 点模型渲染几何体每个顶点\n    var pointsmaterial = new three.pointsmaterial({\n        // color: 0xffff00,\n        size: 5*500.0, //点大小 考虑相机渲染范围设置\n        vertexcolors: three.vertexcolors, //使用顶点颜色渲染\n        transparent:true,//开启透明计算\n        depthtest:false,\n    });\n    var flypoints = new three.points(geometry2, pointsmaterial);\n\n    // 修改点材质的着色器源码(注意：不同版本细节可能会稍微会有区别，不过整体思路是一样的)\n    pointsmaterial.onbeforecompile = function (shader) {\n        // 顶点着色器中声明一个attribute变量:百分比\n        shader.vertexshader = shader.vertexshader.replace(\n            'void main() {',\n            [\n                'attribute float percent;', //顶点大小百分比变量，控制点渲染大小\n                'void main() {',\n            ].join('\\n') // .join()把数组元素合成字符串\n        );\n        // 调整点渲染大小计算方式\n        shader.vertexshader = shader.vertexshader.replace(\n            'gl_pointsize = size;',\n            [\n                'gl_pointsize = percent * size;',\n            ].join('\\n') // .join()把数组元素合成字符串\n        );\n\n        shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n    };\n    // 飞线动画\n    var indexmax = points.length - num; //飞线取点索引范围\n    function animation() {\n        if (index > indexmax) index = 0;\n        index += 1\n        points2 = points.slice(index, index + num); //从曲线上获取一段\n        var curve = new three.catmullromcurve3(points2);\n        var newpoints2 = curve.getspacedpoints(100); //获取更多的点数\n        geometry2.setfrompoints(newpoints2);\n\n        requestanimationframe(animation);\n    }\n    animation();\n\n\n    return flypoints\n}\nexport {\n    linegroup\n};\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_pointcoord, vec2(0.5, 0.5));\n// diffusecolor.a = diffusecolor.a*(1.0 - r/0.5);//透明度线性变化\ndiffusecolor.a = diffusecolor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_pointsize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n\n\n\n# 不同的样式\n\n//中间粗两头小\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_pointcoord, vec2(0.5, 0.5));\n// diffusecolor.a = diffusecolor.a*(1.0 - r/0.5);//透明度线性变化\ndiffusecolor.a = diffusecolor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_pointsize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n//中间粗两头细小—大小非线性渐变\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_pointcoord, vec2(0.5, 0.5));\n// diffusecolor.a = diffusecolor.a*(1.0 - r/0.5);//透明度线性变化\ndiffusecolor.a = diffusecolor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_pointsize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n//颜色黄色\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 设置透明度变化\nfloat r = distance(gl_pointcoord, vec2(0.5, 0.5));\n// diffusecolor.a = diffusecolor.a*(1.0 - r/0.5);//透明度线性变化\ndiffusecolor.a = diffusecolor.a*pow( 1.0 - r/0.5, 6.0 );//透明度非线性变化  参数2越大，gl_pointsize要更大，可以直接设置着色器代码，可以设置材质size属性\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"光源和阴影",frontmatter:{title:"光源和阴影",date:"2023-11-28T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%85%89%E6%BA%90%E5%92%8C%E9%98%B4%E5%BD%B1.html",relativePath:"views/threejs/光源和阴影.md",key:"v-ee91e7fe",path:"/views/threejs/%E5%85%89%E6%BA%90%E5%92%8C%E9%98%B4%E5%BD%B1.html",headers:[{level:2,title:"平行光阴影计算",slug:"平行光阴影计算",normalizedTitle:"平行光阴影计算",charIndex:3},{level:2,title:"阴影.mapSize和.radius",slug:"阴影-mapsize和-radius",normalizedTitle:"阴影.mapsize和.radius",charIndex:14},{level:2,title:"案例",slug:"案例",normalizedTitle:"案例",charIndex:36}],excerpt:"<Boxx/>\n",headersStr:"平行光阴影计算 阴影.mapSize和.radius 案例",content:" * 平行光阴影计算\n * 阴影.mapSize和.radius\n * 案例\n\n\n\n\n# 平行光阴影计算\n\n// 设置产生投影的网格模型\nmesh.castShadow = true;\n// 设置接收阴影的投影面\nplaneMesh.receiveShadow = true;\n//先设置产生投影的模型和接受投影的平面\n\n// 设置产生阴影的光源对象,开启光源阴影的计算功能\ndirectionalLight.castShadow = true;\n\n// console.log('阴影相机属性',directionalLight.shadow.camera);\n// 设置三维场景计算阴影的范围 \n//阴影相机默认和光源在一个位置,在这个盒子里面的物理能产生阴影\ndirectionalLight.shadow.camera.left = -50;\ndirectionalLight.shadow.camera.right = 50;\ndirectionalLight.shadow.camera.top = 200;\ndirectionalLight.shadow.camera.bottom = -100;\ndirectionalLight.shadow.camera.near = 0.5;\ndirectionalLight.shadow.camera.far = 400;\n\n\n// 可视化平行光阴影对应的正投影相机对象\nconst cameraHelper = new THREE.CameraHelper(directionalLight.shadow.camera);\nscene.add(cameraHelper);\n\n// 设置渲染器，允许光源阴影渲染\nrenderer.shadowMap.enabled = true;\n// 模型表面产生条纹影响渲染效果，可以改变.shadowMap.type默认值优化\nrenderer.shadowMap.type = THREE.VSMShadowMap; \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 阴影.mapSize和.radius\n\n// 打印平行光阴影贴图的默认大小，默认情况下是512x512像素\nconsole.log('阴影默认像素', directionalLight.shadow.mapSize);\n\n// 将平行光阴影贴图的大小设置为2048x2048像素。增加阴影贴图的分辨率可以提高阴影的细节和质量。\ndirectionalLight.shadow.mapSize.set(2048, 2048);\n\n// 创建一个平行光的辅助对象，用于可视化光源的方向。第二个参数是辅助对象的尺寸，第三个参数是辅助对象的颜色。\nconst helper = new THREE.DirectionalLightHelper(directionalLight, 5, 0x00ff);\n\n// 打印辅助对象的信息，包括位置、方向等。\nconsole.log(helper);\n\n// 设置平行光阴影的模糊强度。这可以用来减弱阴影的锯齿感，使阴影边缘更加平滑。值越大，模糊强度越高。\ndirectionalLight.shadow.radius = 3;\n\n// 创建一个相机辅助对象，用于可视化平行光阴影对应的正投影相机的位置和方向。\nconst cameraHelper = new THREE.CameraHelper(directionalLight.shadow.camera);\n\n// 将相机辅助对象添加到场景中，以便在渲染时可视化平行光阴影对应的正投影相机。\nscene.add(cameraHelper);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 案例\n\n// 引入Three.js\nimport * as THREE from 'three';\n// 引入gltf模型加载库GLTFLoader.js\nimport {\n    GLTFLoader\n} from 'three/addons/loaders/GLTFLoader.js';\nimport gui from './gui.js';\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\nconst textureCube = new THREE.CubeTextureLoader()\n    .setPath('./环境贴图/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\ntextureCube.encoding = THREE.sRGBEncoding; //和renderer.outputEncoding一致\n\nloader.load(\"../../工厂.glb\", function (gltf) { //gltf加载成功后返回一个对象\n    // console.log('控制台查看gltf对象结构', gltf);\n    gltf.scene.traverse(function (obj) {\n        if (obj.isMesh) { //判断是否是网格模型\n            obj.material.envMap = textureCube; //设置环境贴图\n            // envMapIntensity：控制环境贴图对mesh表面影响程度\n            obj.material.envMapIntensity = 1.0; //默认值1, 设置为0.0,相当于没有环境贴图\n            // 批量设置所有Mesh都可以产生阴影和接收阴影\n            obj.castShadow = true;\n            // 设置接收阴影的投影面\n            obj.receiveShadow = true;\n        }\n    });\n    model.add(gltf.scene); //三维场景添加到model组对象中\n\n    const obj = {\n        envMapIntensity: 1.0,\n    }\n    gui.add(obj, 'envMapIntensity', 0, 2).onChange(function (value) {\n        gltf.scene.traverse(function (obj) {\n            if (obj.isMesh) {\n                obj.material.envMapIntensity = value;\n            }\n        });\n    })\n\n\n})\n\n\n\n\n//光源\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 1);\ndirectionalLight.position.set(100, 60, 0);\nscene.add(directionalLight);\nconst ambient = new THREE.AmbientLight(0xffffff, 0.4);\nscene.add(ambient);\n\n// gui控制环境光光照强度`.intensity`\ngui.add(ambient, 'intensity', 0, 2).name('环境光.intensity');\n\nconst dirHelper = new THREE.DirectionalLightHelper( directionalLight, 5);\nscene.add( dirHelper );\n// 平行光子菜单\nconst dirFolder = gui.addFolder('平行光');\ndirFolder.add(directionalLight, 'intensity', 0, 2);\ndirFolder.add(directionalLight.position, 'y', 0, 300).onChange(function(value){\n    dirHelper.update();\n});\nconst obj = {\n    R: 100,\n    angle: 0,\n};\ndirFolder.add(obj, 'R', 0, 300).onChange(function(value){\n    directionalLight.position.x = value * Math.cos(obj.angle);\n    directionalLight.position.z = value * Math.sin(obj.angle);\n    dirHelper.update();\n});\ndirFolder.add(obj, 'angle', 0, Math.PI*2).onChange(function(value){\n    directionalLight.position.x = obj.R * Math.cos(value);\n    directionalLight.position.z = obj.R * Math.sin(value);\n    dirHelper.update();\n});\n\n\n// 设置产生阴影的光源对象,开启光源阴影的计算功能\ndirectionalLight.castShadow = true;\n// 设置三维场景计算阴影的范围\ndirectionalLight.shadow.camera.left = -100;\ndirectionalLight.shadow.camera.right = 100;\ndirectionalLight.shadow.camera.top = 100;\ndirectionalLight.shadow.camera.bottom = -100;\ndirectionalLight.shadow.camera.near = 0.5;\ndirectionalLight.shadow.camera.far = 100*3;\n\n//  如果阴影边缘锯齿感的时候，可以适当提升像素\ndirectionalLight.shadow.mapSize.set(2048,2048);\n//  模糊弱化阴影边缘\ndirectionalLight.shadow.radius = 3;\n\n\n// 可视化平行光阴影对应的正投影相机对象\nconst cameraHelper = new THREE.CameraHelper(directionalLight.shadow.camera);\nscene.add(cameraHelper);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n",normalizedContent:" * 平行光阴影计算\n * 阴影.mapsize和.radius\n * 案例\n\n\n\n\n# 平行光阴影计算\n\n// 设置产生投影的网格模型\nmesh.castshadow = true;\n// 设置接收阴影的投影面\nplanemesh.receiveshadow = true;\n//先设置产生投影的模型和接受投影的平面\n\n// 设置产生阴影的光源对象,开启光源阴影的计算功能\ndirectionallight.castshadow = true;\n\n// console.log('阴影相机属性',directionallight.shadow.camera);\n// 设置三维场景计算阴影的范围 \n//阴影相机默认和光源在一个位置,在这个盒子里面的物理能产生阴影\ndirectionallight.shadow.camera.left = -50;\ndirectionallight.shadow.camera.right = 50;\ndirectionallight.shadow.camera.top = 200;\ndirectionallight.shadow.camera.bottom = -100;\ndirectionallight.shadow.camera.near = 0.5;\ndirectionallight.shadow.camera.far = 400;\n\n\n// 可视化平行光阴影对应的正投影相机对象\nconst camerahelper = new three.camerahelper(directionallight.shadow.camera);\nscene.add(camerahelper);\n\n// 设置渲染器，允许光源阴影渲染\nrenderer.shadowmap.enabled = true;\n// 模型表面产生条纹影响渲染效果，可以改变.shadowmap.type默认值优化\nrenderer.shadowmap.type = three.vsmshadowmap; \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n\n# 阴影.mapsize和.radius\n\n// 打印平行光阴影贴图的默认大小，默认情况下是512x512像素\nconsole.log('阴影默认像素', directionallight.shadow.mapsize);\n\n// 将平行光阴影贴图的大小设置为2048x2048像素。增加阴影贴图的分辨率可以提高阴影的细节和质量。\ndirectionallight.shadow.mapsize.set(2048, 2048);\n\n// 创建一个平行光的辅助对象，用于可视化光源的方向。第二个参数是辅助对象的尺寸，第三个参数是辅助对象的颜色。\nconst helper = new three.directionallighthelper(directionallight, 5, 0x00ff);\n\n// 打印辅助对象的信息，包括位置、方向等。\nconsole.log(helper);\n\n// 设置平行光阴影的模糊强度。这可以用来减弱阴影的锯齿感，使阴影边缘更加平滑。值越大，模糊强度越高。\ndirectionallight.shadow.radius = 3;\n\n// 创建一个相机辅助对象，用于可视化平行光阴影对应的正投影相机的位置和方向。\nconst camerahelper = new three.camerahelper(directionallight.shadow.camera);\n\n// 将相机辅助对象添加到场景中，以便在渲染时可视化平行光阴影对应的正投影相机。\nscene.add(camerahelper);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 案例\n\n// 引入three.js\nimport * as three from 'three';\n// 引入gltf模型加载库gltfloader.js\nimport {\n    gltfloader\n} from 'three/addons/loaders/gltfloader.js';\nimport gui from './gui.js';\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\nconst texturecube = new three.cubetextureloader()\n    .setpath('./环境贴图/')\n    .load(['px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg']);\ntexturecube.encoding = three.srgbencoding; //和renderer.outputencoding一致\n\nloader.load(\"../../工厂.glb\", function (gltf) { //gltf加载成功后返回一个对象\n    // console.log('控制台查看gltf对象结构', gltf);\n    gltf.scene.traverse(function (obj) {\n        if (obj.ismesh) { //判断是否是网格模型\n            obj.material.envmap = texturecube; //设置环境贴图\n            // envmapintensity：控制环境贴图对mesh表面影响程度\n            obj.material.envmapintensity = 1.0; //默认值1, 设置为0.0,相当于没有环境贴图\n            // 批量设置所有mesh都可以产生阴影和接收阴影\n            obj.castshadow = true;\n            // 设置接收阴影的投影面\n            obj.receiveshadow = true;\n        }\n    });\n    model.add(gltf.scene); //三维场景添加到model组对象中\n\n    const obj = {\n        envmapintensity: 1.0,\n    }\n    gui.add(obj, 'envmapintensity', 0, 2).onchange(function (value) {\n        gltf.scene.traverse(function (obj) {\n            if (obj.ismesh) {\n                obj.material.envmapintensity = value;\n            }\n        });\n    })\n\n\n})\n\n\n\n\n//光源\nconst directionallight = new three.directionallight(0xffffff, 1);\ndirectionallight.position.set(100, 60, 0);\nscene.add(directionallight);\nconst ambient = new three.ambientlight(0xffffff, 0.4);\nscene.add(ambient);\n\n// gui控制环境光光照强度`.intensity`\ngui.add(ambient, 'intensity', 0, 2).name('环境光.intensity');\n\nconst dirhelper = new three.directionallighthelper( directionallight, 5);\nscene.add( dirhelper );\n// 平行光子菜单\nconst dirfolder = gui.addfolder('平行光');\ndirfolder.add(directionallight, 'intensity', 0, 2);\ndirfolder.add(directionallight.position, 'y', 0, 300).onchange(function(value){\n    dirhelper.update();\n});\nconst obj = {\n    r: 100,\n    angle: 0,\n};\ndirfolder.add(obj, 'r', 0, 300).onchange(function(value){\n    directionallight.position.x = value * math.cos(obj.angle);\n    directionallight.position.z = value * math.sin(obj.angle);\n    dirhelper.update();\n});\ndirfolder.add(obj, 'angle', 0, math.pi*2).onchange(function(value){\n    directionallight.position.x = obj.r * math.cos(value);\n    directionallight.position.z = obj.r * math.sin(value);\n    dirhelper.update();\n});\n\n\n// 设置产生阴影的光源对象,开启光源阴影的计算功能\ndirectionallight.castshadow = true;\n// 设置三维场景计算阴影的范围\ndirectionallight.shadow.camera.left = -100;\ndirectionallight.shadow.camera.right = 100;\ndirectionallight.shadow.camera.top = 100;\ndirectionallight.shadow.camera.bottom = -100;\ndirectionallight.shadow.camera.near = 0.5;\ndirectionallight.shadow.camera.far = 100*3;\n\n//  如果阴影边缘锯齿感的时候，可以适当提升像素\ndirectionallight.shadow.mapsize.set(2048,2048);\n//  模糊弱化阴影边缘\ndirectionallight.shadow.radius = 3;\n\n\n// 可视化平行光阴影对应的正投影相机对象\nconst camerahelper = new three.camerahelper(directionallight.shadow.camera);\nscene.add(camerahelper);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"八叉树Octree碰撞检测",frontmatter:{title:"八叉树Octree碰撞检测",date:"2023-11-20T00:00:00.000Z",tags:["math"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%85%AB%E5%8F%89%E6%A0%91.html",relativePath:"views/threejs/八叉树.md",key:"v-0b025a8a",path:"/views/threejs/%E5%85%AB%E5%8F%89%E6%A0%91.html",headers:[{level:2,title:"八叉树模型",slug:"八叉树模型",normalizedTitle:"八叉树模型",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"八叉树模型",content:" * 八叉树模型\n\n\n\n\n# 八叉树模型\n\n八叉树（Octree）是一种数据结构，用于在三维空间中对物体进行分割和组织。它将空间递归地划分为八个子立方体，每个子立方体又可以进一步划分，形成一个树状结构。每个节点代表一个立方体，而叶子节点通常包含实际的物体或数据。这种结构的名称来源于每个节点有八个子节点的特性。\n\n八叉树的主要用途包括：\n\n空间分割： 八叉树通过递归地将空间划分为子空间，可以有效地对三维空间进行分割。这使得在大规模三维场景中，例如游戏场景或模拟环境中，能够快速地定位和管理物体。\n\n碰撞检测： 八叉树可用于加速碰撞检测算法。通过将物体存储在八叉树的叶子节点中，可以快速确定哪些物体位于特定区域内，从而减少需要检测的物体数量。\n\n视锥体裁剪： 在图形学中，八叉树可用于加速视锥体裁剪。通过检查八叉树节点与视锥体的相交关系，可以确定需要在渲染中考虑哪些物体，提高渲染效率。\n\n空间索引： 对于空间中的大量数据，八叉树可以作为一种空间索引结构，提高查询效率。例如，在地理信息系统中，可以使用八叉树来组织地理数据。\n\n物体管理： 在计算机图形学和游戏开发中，八叉树可用于管理场景中的物体。这包括快速查找相邻物体、进行可见性测试等。\n\n光照计算： 在光线追踪等图形渲染领域，八叉树可以用于加速光照计算，提高渲染性能。\n\n总体而言，八叉树是一种高效的空间分割和组织结构，适用于需要处理大规模三维空间数据的应用场景。它通过空间的层次性划分，提供了对空间和物体的高效管理和查询机制。\n\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\n// 引入/examples/jsm/math/目录下八叉树扩展库\nimport { Octree } from 'three/addons/math/Octree.js';\nimport { OctreeHelper } from 'three/addons/helpers/OctreeHelper.js';\n\nconst loader = new GLTFLoader(); \n\nconst model = new THREE.Group();\n\n\n\nconst gltf = await loader.loadAsync(\"../地形.glb\");\nmodel.add(gltf.scene); \n\n// 创建八叉树\nconst worldOctree = new Octree();\n// 分割模型，生成八叉树的子节点\nworldOctree.fromGraphNode(gltf.scene);\n\nconsole.log('查看八叉树结构', worldOctree);\n\n// 可视化八叉树\nconst helper = new OctreeHelper(worldOctree);\nmodel.add(helper);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n",normalizedContent:" * 八叉树模型\n\n\n\n\n# 八叉树模型\n\n八叉树（octree）是一种数据结构，用于在三维空间中对物体进行分割和组织。它将空间递归地划分为八个子立方体，每个子立方体又可以进一步划分，形成一个树状结构。每个节点代表一个立方体，而叶子节点通常包含实际的物体或数据。这种结构的名称来源于每个节点有八个子节点的特性。\n\n八叉树的主要用途包括：\n\n空间分割： 八叉树通过递归地将空间划分为子空间，可以有效地对三维空间进行分割。这使得在大规模三维场景中，例如游戏场景或模拟环境中，能够快速地定位和管理物体。\n\n碰撞检测： 八叉树可用于加速碰撞检测算法。通过将物体存储在八叉树的叶子节点中，可以快速确定哪些物体位于特定区域内，从而减少需要检测的物体数量。\n\n视锥体裁剪： 在图形学中，八叉树可用于加速视锥体裁剪。通过检查八叉树节点与视锥体的相交关系，可以确定需要在渲染中考虑哪些物体，提高渲染效率。\n\n空间索引： 对于空间中的大量数据，八叉树可以作为一种空间索引结构，提高查询效率。例如，在地理信息系统中，可以使用八叉树来组织地理数据。\n\n物体管理： 在计算机图形学和游戏开发中，八叉树可用于管理场景中的物体。这包括快速查找相邻物体、进行可见性测试等。\n\n光照计算： 在光线追踪等图形渲染领域，八叉树可以用于加速光照计算，提高渲染性能。\n\n总体而言，八叉树是一种高效的空间分割和组织结构，适用于需要处理大规模三维空间数据的应用场景。它通过空间的层次性划分，提供了对空间和物体的高效管理和查询机制。\n\nimport * as three from 'three';\nimport { gltfloader } from 'three/addons/loaders/gltfloader.js';\n// 引入/examples/jsm/math/目录下八叉树扩展库\nimport { octree } from 'three/addons/math/octree.js';\nimport { octreehelper } from 'three/addons/helpers/octreehelper.js';\n\nconst loader = new gltfloader(); \n\nconst model = new three.group();\n\n\n\nconst gltf = await loader.loadasync(\"../地形.glb\");\nmodel.add(gltf.scene); \n\n// 创建八叉树\nconst worldoctree = new octree();\n// 分割模型，生成八叉树的子节点\nworldoctree.fromgraphnode(gltf.scene);\n\nconsole.log('查看八叉树结构', worldoctree);\n\n// 可视化八叉树\nconst helper = new octreehelper(worldoctree);\nmodel.add(helper);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{frontmatter:{title:null,date:"2023-11-30T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html",relativePath:"views/threejs/关键帧动画.md",key:"v-39a30a51",path:"/views/threejs/%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BB.html",headers:[{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:2,title:"导出放在循环函数",slug:"导出放在循环函数",normalizedTitle:"导出放在循环函数",charIndex:7},{level:2,title:"动画播放(暂停、倍速、循环)",slug:"动画播放-暂停、倍速、循环",normalizedTitle:"动画播放(暂停、倍速、循环)",charIndex:19},{level:2,title:"外部模型关键帧",slug:"外部模型关键帧",normalizedTitle:"外部模型关键帧",charIndex:37},{level:2,title:"动画案例",slug:"动画案例",normalizedTitle:"动画案例",charIndex:48},{level:2,title:"变形动画1",slug:"变形动画1",normalizedTitle:"变形动画1",charIndex:56},{level:2,title:"变形动画2",slug:"变形动画2",normalizedTitle:"变形动画2",charIndex:65},{level:2,title:"人物胖瘦",slug:"人物胖瘦",normalizedTitle:"人物胖瘦",charIndex:74},{level:2,title:"代码批量设置GUI拖动条",slug:"代码批量设置gui拖动条",normalizedTitle:"代码批量设置gui拖动条",charIndex:82},{level:2,title:"外部模型人物",slug:"外部模型人物",normalizedTitle:"外部模型人物",charIndex:98}],excerpt:"<Boxx/>\n",headersStr:" 导出放在循环函数 动画播放(暂停、倍速、循环) 外部模型关键帧 动画案例 变形动画1 变形动画2 人物胖瘦 代码批量设置GUI拖动条 外部模型人物",content:" * \n * 导出放在循环函数\n * 动画播放(暂停、倍速、循环)\n * 外部模型关键帧\n * 动画案例\n * 变形动画1\n * 变形动画2\n * 人物胖瘦\n * 代码批量设置GUI拖动条\n * 外部模型人物\n\n\n\n\n#\n\n// 1. 第1步创建一个关键动画AnimationClip\n\n// 1.1 给需要设置关键帧动画的模型命名\nmesh.name = \"Box\";\n\n// 1.2 给名为Box的模型对象的设置关键帧数据KeyframeTrack\nconst times = [0, 3, 6]; //时间轴上，设置三个时刻0、3、6秒\n// times中三个不同时间点，物体分别对应values中的三个xyz坐标\nconst values = [0, 0, 0, 100, 0, 0, 0, 0, 100];\n// 创建关键帧，把模型位置和时间对应起来\n// 0~3秒，物体从(0,0,0)逐渐移动到(100,0,0),3~6秒逐渐从(100,0,0)移动到(0,0,100)\nconst posKF = new THREE.KeyframeTrack('Box.position', times, values);\n// 时间轴上选择两个时刻2秒、5秒，分别对应物体两个颜色值(1, 0, 0)、(0, 0, 1)\n// 从2秒到5秒，物体从红色逐渐变化为蓝色\nconst colorKF = new THREE.KeyframeTrack('Box.material.color', [2, 5], [1, 0, 0, 0, 0, 1]);\n\n// 上面是在时间轴上，随机编辑了两个关键帧posKF、colorKF，你可以根据需要随意改变场景中物体位置、颜色、角度等属性\n\n// 1.3 AnimationClip表示一个关键帧动画，可以基于关键帧数据产生动画效果\n// 创建一个clip关键帧动画对象，命名\"test\"，动画持续时间6s\n// AnimationClip包含的所有关键帧数据都放到参数3数组中即可\nconst clip = new THREE.AnimationClip(\"test\",6,[posKF]);\n\n\n// 2. 第2步播放关键帧动画AnimationClip\n\n//2.1 动画播放器AnimationMixer播放关键帧动画AnimationClip\n//包含关键帧动画的模型对象作为AnimationMixer的参数创建一个播放器mixer\nconst mixer = new THREE.AnimationMixer(mesh);\n//AnimationMixer的`.clipAction()`返回一个AnimationAction对象\nconst clipAction = mixer.clipAction(clip); \n//.play()控制动画播放，默认循环播放\nclipAction.play(); \n\n// 2.2 如果想播放动画开始变化,需要周期性执行`mixer.update()`更新AnimationMixer时间数据\n// 你可以通过requestAnimationFrame提供一个周期性执行的函数\nconst clock = new THREE.Clock();//辅助获取时间数据\nfunction loop() {\n    requestAnimationFrame(loop);\n    //clock.getDelta()方法获得loop()两次执行时间间隔\n    const frameT = clock.getDelta();\n    // 更新播放器相关的时间\n    mixer.update(frameT);\n}\nloop();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# 导出放在循环函数\n\nexport {mesh,mixer};\n\n// 渲染循环\nconst clock = new THREE.Clock(); //辅助获取时间数据\nfunction render() {\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n    //clock.getDelta()方法获得loop()两次执行时间间隔\n    const frameT = clock.getDelta();\n    // 更新播放器相关的时间\n    mixer.update(frameT);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 动画播放(暂停、倍速、循环)\n\n//只播放一次\n// AnimationAction对象用来控制播放规则\nclipAction.loop = THREE.LoopOnce; //不循环播放\nconsole.log(clipAction)\n// 物体状态停留在动画结束的时候\nclipAction.clampWhenFinished=true \n \n//按钮操控是否停止\ndocument.getElementById('stop').addEventListener('click',function(){\n  clipAction.stop();//动画停止结束，回到开始状态\n})\ndocument.getElementById('play').addEventListener('click',function(){\n  clipAction.play();//播放动画\n})\n\n//暂停\nconst bu = document.getElementById('bu');\n\nbu.addEventListener('click',function(){\n  // AnimationAction.paused默认值false，设置为true，可以临时暂停动画\n  if (clipAction.paused) {//暂停状态\n      clipAction.paused = false;//切换为播放状态\n      bu.innerHTML='暂停';// 如果改变为播放状态，按钮文字设置为“暂停”\n    } else {//播放状态\n      clipAction.paused = true;//切换为暂停状态\n      bu.innerHTML='继续';// 如果改变为暂停状态，按钮文字设置为“继续”\n    }\n})\n\n//倍速\nclipAction.timeScale = 1;//默认\nclipAction.timeScale = 2;//2倍速\n\n//选择特定时间播放\n// 从时间轴上选择时间段播放动画，开始时刻`clipAction.time`，结束时刻`clip.duration`。\nclipAction.time = 1; //AnimationAction设置开始播放时间：从1秒时刻对应动画开始播放\nclip.duration = 5;//AnimationClip设置播放结束时间：到5秒时刻对应的动画状态停止\n\n//查看任意时间点状态\n//在暂停情况下，设置.time属性,把动画定位在任意时刻\nclipAction.paused = true;\n// clipAction.time = 1;//物体状态为动画1秒对应状态\nclipAction.time = 3;//物体状态为动画3秒对应状态\n\n//动画下一步\nbu.addEventListener('click', function () {\n  clipAction.time+=0.1;\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 外部模型关键帧\n\nloader.load(\"../工厂.glb\", function (gltf) { \n    console.log('控制台查看gltf对象结构', gltf);\n    // console.log('动画数据', gltf.animations);\n    model.add(gltf.scene); \n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new THREE.AnimationMixer(gltf.scene);\n    //  获取gltf.animations[0]的第一个clip动画对象\n    const clipAction = mixer.clipAction(gltf.animations[0]); //创建动画clipAction对象\n    clipAction.play(); //播放动画\n\n    // 如果想播放动画,需要周期性执行`mixer.update()`更新AnimationMixer时间数据\n    const clock = new THREE.Clock();\n    function loop() {\n        requestAnimationFrame(loop);\n        //clock.getDelta()方法获得loop()两次执行时间间隔\n        const frameT = clock.getDelta();\n        // 更新播放器相关的时间\n        mixer.update(frameT);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 动画案例\n\nloader.load(\"../机械装配动画.glb\", function (gltf) {\n    gltf.scene.traverse(function (obj) {\n        if (obj.isMesh) {\n            obj.material.metalness = 1.0;\n            obj.material.roughness = 0.35;\n            obj.material.envMap = textureCube;\n            obj.material.envMapIntensity = 0.5;\n        }\n    });\n    model.add(gltf.scene);\n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new THREE.AnimationMixer(gltf.scene);\n    //  获取gltf.animations[0]的第一个clip动画对象\n    const clip = gltf.animations[0];\n    const duration = clip.duration;//默认持续时间\n    const clipAction = mixer.clipAction(clip); //创建动画clipAction对象\n    clipAction.play(); //播放动画\n    clipAction.paused = true; //暂停状态\n\n\n    clipAction.loop = THREE.LoopOnce; //不循环播放\n\n\n    let state = '播放'; //动画正常播放和拖动条定位两种状态\n    const bu = document.getElementById('bu');\n    bu.addEventListener('click', function () {\n        // AnimationAction.paused默认值false，设置为true，可以临时暂停动画\n        if (clipAction.paused) { //暂停状态\n            if (state == '拖动') {\n                state = '播放';\n                clipAction.time = 0; //如果被拖动条改变，恢复默认设置\n            }\n            clipAction.paused = false; //切换为播放状态\n            bu.innerHTML = '暂停'; // 如果改变为播放状态，按钮文字设置为“暂停”\n        } else { //播放状态\n            clipAction.paused = true; //切换为暂停状态\n            bu.innerHTML = '播放'; // 如果改变为暂停状态，按钮文字设置为“播放”\n\n        }\n    })\n    // 动画播放完成事件\n    mixer.addEventListener('finished', function () {\n        bu.innerHTML = '播放';//播放完成，按钮显示为“播放”\n        clipAction.reset(); //重新开始新的动画播放\n        clipAction.paused = true; //切换为暂停状态\n    });\n    const gui = new GUI(); //创建GUI对象\n    // 0~2倍速之间调节\n    gui.add(clipAction, 'timeScale', 0, 2).step(0.1).name('倍速');\n\n    // 拖动条查看动画任何时刻模型状态\n    gui.add(clipAction, 'time', 0, duration).step(0.1).name('拖动').onChange(function (v) {\n        if (state == '播放') {\n            \n            clipAction.paused = true; //暂停状态\n            state = '拖动';\n            bu.innerHTML = '播放';\n        }\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# 变形动画1\n\n//几何体两组顶点一一对应，位置不同，然后通过权重系数，可以控制模型形状在两组顶点之间变化\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\n// 为geometry提供变形目标的顶点数据(注意和原始geometry顶点数量一致)\nconst target1 = new THREE.BoxGeometry(50, 200, 50).attributes.position;//变高\nconst target2 = new THREE.BoxGeometry(10, 50, 10).attributes.position;//变细\n// 几何体顶点变形目标数据，可以设置1组或多组\ngeometry.morphAttributes.position = [target1, target2];\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n//1. 设置变形目标影响权重，范围一般0~1\n// mesh在geometry原始形状和变形目标1顶点对应形状之Z间变化\nmesh.morphTargetInfluences[0] = 0.0;//权重0：物体形状对应geometry.attributes.position表示形状\nmesh.morphTargetInfluences[0] = 1.0;//权重1：物体形状对应target1表示形状\nmesh.morphTargetInfluences[0] = 0.5;//权重0.5：物体形状对应geometry和target1变形中间状态\n\n// 2. mesh在geometry原始形状和变形目标2顶点对应形状之间变化\nmesh.morphTargetInfluences[1] = 0.5;\n\n// 3. 两个变形目标同时影响模型形状\nmesh.morphTargetInfluences[1] = 0.5;\nmesh.morphTargetInfluences[0] = 0.5;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 变形动画2\n\n//几何体两组顶点一一对应，位置不同，然后通过权重系数，可以控制模型形状在两组顶点之间变化\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\n// 为geometry提供变形目标的顶点数据(注意和原始geometry顶点数量一致)\nconst target1 = new THREE.BoxGeometry(50, 200, 50).attributes.position; //变高\nconst target2 = new THREE.BoxGeometry(10, 50, 10).attributes.position; //变细\n// 几何体顶点变形目标数据，可以设置1组或多组\ngeometry.morphAttributes.position = [target1, target2];\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n// 创建变形动画权重系数的关键帧数据\nmesh.name = \"Box\";//关键帧动画控制的模型对象命名\n// 设置变形目标1对应权重随着时间的变化\nconst KF1 = new THREE.KeyframeTrack('Box.morphTargetInfluences[0]', [0, 5], [0, 1]);\n// 设置变形目标2对应权重随着时间的变化\nconst KF2 = new THREE.KeyframeTrack('Box.morphTargetInfluences[1]', [5, 10], [0, 1]);\n// 创建一个剪辑clip对象\nconst clip = new THREE.AnimationClip(\"t\", 10, [KF1, KF2]);\n\n\n// 播放变形动画\nconst mixer = new THREE.AnimationMixer(mesh);\nconst clipAction = mixer.clipAction(clip);\nclipAction.play();\nclipAction.loop = THREE.LoopOnce; //不循环播放\nclipAction.clampWhenFinished = true // 物体状态停留在动画结束的时候\n\nconst clock = new THREE.Clock();\n\nfunction loop() {\n    requestAnimationFrame(loop);\n    const frameT = clock.getDelta();\n    // 更新播放器时间\n    mixer.update(frameT);\n}\nloop();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# 人物胖瘦\n\n\nconst loader = new GLTFLoader();\nconst model = new THREE.Group();\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0]; // 访问人体网格模型\n    // 获取所有变形目标的顶点数据\n    const tArr = mesh.geometry.morphAttributes.position\n    // console.log('所有变形目标', tArr);\n    // console.log('所有权重', mesh.morphTargetInfluences);\n    // 每个变形目标对应的含义(注意和变形目标对应起来)\n    const nameArr = ['变胖', '丰乳肥臀', '增肌', '年龄', '变瘦'];\n    // GUI拖动条可视化改变变形目标权重系数\n    const obj = {\n        t0: 0,\n        t1: 0,\n    }\n    const gui = new GUI();\n    gui.add(obj, 't0', 0, 1).name('变胖').onChange(function (v) {\n        mesh.morphTargetInfluences[0] = v;\n    });\n    gui.add(obj, 't1', 0, 1).name('丰乳肥臀').onChange(function (v) {\n        mesh.morphTargetInfluences[1] = v;\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 代码批量设置GUI拖动条\n\nconst loader = new GLTFLoader();\nconst model = new THREE.Group();\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0]; // 访问人体网格模型\n    // 获取所有变形目标的顶点数据\n    const tArr = mesh.geometry.morphAttributes.position\n    // console.log('所有变形目标', tArr);\n    // console.log('所有权重', mesh.morphTargetInfluences);\n    // 每个变形目标对应的含义(注意和变形目标对应起来)\n    const nameArr = ['变胖', '丰乳肥臀', '增肌', '年龄', '变瘦'];\n    // GUI拖动条可视化改变变形目标权重系数\n    const obj = {};\n    const gui = new GUI();\n    for (let i = 0; i < tArr.length; i++) {\n        obj['t' + i] = 0;//obj批量定义一个属性表示变性目标的权重系数\n        // 批量设置要改变的obj属性，对应name名字，和对应权重\n        gui.add(obj, 't' + i, 0, 1).name(nameArr[i]).onChange(function (v) {\n            mesh.morphTargetInfluences[i] = v;\n        });\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 外部模型人物\n\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0];\n    // 创建变形动画权重系数的关键帧数据\n    mesh.name = \"per\"; //关键帧动画控制的模型对象命名\n    // 设置变形目标1对应权重随着时间的变化\n    const KF1 = new THREE.KeyframeTrack('per.morphTargetInfluences[0]', [0, 5], [0, 1]);\n    const clip = new THREE.AnimationClip(\"t\", 5, [KF1]);\n\n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new THREE.AnimationMixer(gltf.scene);\n    const clipAction = mixer.clipAction(clip);\n    clipAction.play();\n\n    const clock = new THREE.Clock();\n    function loop() {\n        requestAnimationFrame(loop);\n        const frameT = clock.getDelta();\n        // 更新播放器相关的时间\n        mixer.update(frameT);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",normalizedContent:" * \n * 导出放在循环函数\n * 动画播放(暂停、倍速、循环)\n * 外部模型关键帧\n * 动画案例\n * 变形动画1\n * 变形动画2\n * 人物胖瘦\n * 代码批量设置gui拖动条\n * 外部模型人物\n\n\n\n\n#\n\n// 1. 第1步创建一个关键动画animationclip\n\n// 1.1 给需要设置关键帧动画的模型命名\nmesh.name = \"box\";\n\n// 1.2 给名为box的模型对象的设置关键帧数据keyframetrack\nconst times = [0, 3, 6]; //时间轴上，设置三个时刻0、3、6秒\n// times中三个不同时间点，物体分别对应values中的三个xyz坐标\nconst values = [0, 0, 0, 100, 0, 0, 0, 0, 100];\n// 创建关键帧，把模型位置和时间对应起来\n// 0~3秒，物体从(0,0,0)逐渐移动到(100,0,0),3~6秒逐渐从(100,0,0)移动到(0,0,100)\nconst poskf = new three.keyframetrack('box.position', times, values);\n// 时间轴上选择两个时刻2秒、5秒，分别对应物体两个颜色值(1, 0, 0)、(0, 0, 1)\n// 从2秒到5秒，物体从红色逐渐变化为蓝色\nconst colorkf = new three.keyframetrack('box.material.color', [2, 5], [1, 0, 0, 0, 0, 1]);\n\n// 上面是在时间轴上，随机编辑了两个关键帧poskf、colorkf，你可以根据需要随意改变场景中物体位置、颜色、角度等属性\n\n// 1.3 animationclip表示一个关键帧动画，可以基于关键帧数据产生动画效果\n// 创建一个clip关键帧动画对象，命名\"test\"，动画持续时间6s\n// animationclip包含的所有关键帧数据都放到参数3数组中即可\nconst clip = new three.animationclip(\"test\",6,[poskf]);\n\n\n// 2. 第2步播放关键帧动画animationclip\n\n//2.1 动画播放器animationmixer播放关键帧动画animationclip\n//包含关键帧动画的模型对象作为animationmixer的参数创建一个播放器mixer\nconst mixer = new three.animationmixer(mesh);\n//animationmixer的`.clipaction()`返回一个animationaction对象\nconst clipaction = mixer.clipaction(clip); \n//.play()控制动画播放，默认循环播放\nclipaction.play(); \n\n// 2.2 如果想播放动画开始变化,需要周期性执行`mixer.update()`更新animationmixer时间数据\n// 你可以通过requestanimationframe提供一个周期性执行的函数\nconst clock = new three.clock();//辅助获取时间数据\nfunction loop() {\n    requestanimationframe(loop);\n    //clock.getdelta()方法获得loop()两次执行时间间隔\n    const framet = clock.getdelta();\n    // 更新播放器相关的时间\n    mixer.update(framet);\n}\nloop();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# 导出放在循环函数\n\nexport {mesh,mixer};\n\n// 渲染循环\nconst clock = new three.clock(); //辅助获取时间数据\nfunction render() {\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n    //clock.getdelta()方法获得loop()两次执行时间间隔\n    const framet = clock.getdelta();\n    // 更新播放器相关的时间\n    mixer.update(framet);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 动画播放(暂停、倍速、循环)\n\n//只播放一次\n// animationaction对象用来控制播放规则\nclipaction.loop = three.looponce; //不循环播放\nconsole.log(clipaction)\n// 物体状态停留在动画结束的时候\nclipaction.clampwhenfinished=true \n \n//按钮操控是否停止\ndocument.getelementbyid('stop').addeventlistener('click',function(){\n  clipaction.stop();//动画停止结束，回到开始状态\n})\ndocument.getelementbyid('play').addeventlistener('click',function(){\n  clipaction.play();//播放动画\n})\n\n//暂停\nconst bu = document.getelementbyid('bu');\n\nbu.addeventlistener('click',function(){\n  // animationaction.paused默认值false，设置为true，可以临时暂停动画\n  if (clipaction.paused) {//暂停状态\n      clipaction.paused = false;//切换为播放状态\n      bu.innerhtml='暂停';// 如果改变为播放状态，按钮文字设置为“暂停”\n    } else {//播放状态\n      clipaction.paused = true;//切换为暂停状态\n      bu.innerhtml='继续';// 如果改变为暂停状态，按钮文字设置为“继续”\n    }\n})\n\n//倍速\nclipaction.timescale = 1;//默认\nclipaction.timescale = 2;//2倍速\n\n//选择特定时间播放\n// 从时间轴上选择时间段播放动画，开始时刻`clipaction.time`，结束时刻`clip.duration`。\nclipaction.time = 1; //animationaction设置开始播放时间：从1秒时刻对应动画开始播放\nclip.duration = 5;//animationclip设置播放结束时间：到5秒时刻对应的动画状态停止\n\n//查看任意时间点状态\n//在暂停情况下，设置.time属性,把动画定位在任意时刻\nclipaction.paused = true;\n// clipaction.time = 1;//物体状态为动画1秒对应状态\nclipaction.time = 3;//物体状态为动画3秒对应状态\n\n//动画下一步\nbu.addeventlistener('click', function () {\n  clipaction.time+=0.1;\n})\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n\n\n\n# 外部模型关键帧\n\nloader.load(\"../工厂.glb\", function (gltf) { \n    console.log('控制台查看gltf对象结构', gltf);\n    // console.log('动画数据', gltf.animations);\n    model.add(gltf.scene); \n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new three.animationmixer(gltf.scene);\n    //  获取gltf.animations[0]的第一个clip动画对象\n    const clipaction = mixer.clipaction(gltf.animations[0]); //创建动画clipaction对象\n    clipaction.play(); //播放动画\n\n    // 如果想播放动画,需要周期性执行`mixer.update()`更新animationmixer时间数据\n    const clock = new three.clock();\n    function loop() {\n        requestanimationframe(loop);\n        //clock.getdelta()方法获得loop()两次执行时间间隔\n        const framet = clock.getdelta();\n        // 更新播放器相关的时间\n        mixer.update(framet);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 动画案例\n\nloader.load(\"../机械装配动画.glb\", function (gltf) {\n    gltf.scene.traverse(function (obj) {\n        if (obj.ismesh) {\n            obj.material.metalness = 1.0;\n            obj.material.roughness = 0.35;\n            obj.material.envmap = texturecube;\n            obj.material.envmapintensity = 0.5;\n        }\n    });\n    model.add(gltf.scene);\n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new three.animationmixer(gltf.scene);\n    //  获取gltf.animations[0]的第一个clip动画对象\n    const clip = gltf.animations[0];\n    const duration = clip.duration;//默认持续时间\n    const clipaction = mixer.clipaction(clip); //创建动画clipaction对象\n    clipaction.play(); //播放动画\n    clipaction.paused = true; //暂停状态\n\n\n    clipaction.loop = three.looponce; //不循环播放\n\n\n    let state = '播放'; //动画正常播放和拖动条定位两种状态\n    const bu = document.getelementbyid('bu');\n    bu.addeventlistener('click', function () {\n        // animationaction.paused默认值false，设置为true，可以临时暂停动画\n        if (clipaction.paused) { //暂停状态\n            if (state == '拖动') {\n                state = '播放';\n                clipaction.time = 0; //如果被拖动条改变，恢复默认设置\n            }\n            clipaction.paused = false; //切换为播放状态\n            bu.innerhtml = '暂停'; // 如果改变为播放状态，按钮文字设置为“暂停”\n        } else { //播放状态\n            clipaction.paused = true; //切换为暂停状态\n            bu.innerhtml = '播放'; // 如果改变为暂停状态，按钮文字设置为“播放”\n\n        }\n    })\n    // 动画播放完成事件\n    mixer.addeventlistener('finished', function () {\n        bu.innerhtml = '播放';//播放完成，按钮显示为“播放”\n        clipaction.reset(); //重新开始新的动画播放\n        clipaction.paused = true; //切换为暂停状态\n    });\n    const gui = new gui(); //创建gui对象\n    // 0~2倍速之间调节\n    gui.add(clipaction, 'timescale', 0, 2).step(0.1).name('倍速');\n\n    // 拖动条查看动画任何时刻模型状态\n    gui.add(clipaction, 'time', 0, duration).step(0.1).name('拖动').onchange(function (v) {\n        if (state == '播放') {\n            \n            clipaction.paused = true; //暂停状态\n            state = '拖动';\n            bu.innerhtml = '播放';\n        }\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n\n\n\n# 变形动画1\n\n//几何体两组顶点一一对应，位置不同，然后通过权重系数，可以控制模型形状在两组顶点之间变化\nconst geometry = new three.boxgeometry(50, 50, 50);\n// 为geometry提供变形目标的顶点数据(注意和原始geometry顶点数量一致)\nconst target1 = new three.boxgeometry(50, 200, 50).attributes.position;//变高\nconst target2 = new three.boxgeometry(10, 50, 10).attributes.position;//变细\n// 几何体顶点变形目标数据，可以设置1组或多组\ngeometry.morphattributes.position = [target1, target2];\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff\n});\nconst mesh = new three.mesh(geometry, material);\n\n//1. 设置变形目标影响权重，范围一般0~1\n// mesh在geometry原始形状和变形目标1顶点对应形状之z间变化\nmesh.morphtargetinfluences[0] = 0.0;//权重0：物体形状对应geometry.attributes.position表示形状\nmesh.morphtargetinfluences[0] = 1.0;//权重1：物体形状对应target1表示形状\nmesh.morphtargetinfluences[0] = 0.5;//权重0.5：物体形状对应geometry和target1变形中间状态\n\n// 2. mesh在geometry原始形状和变形目标2顶点对应形状之间变化\nmesh.morphtargetinfluences[1] = 0.5;\n\n// 3. 两个变形目标同时影响模型形状\nmesh.morphtargetinfluences[1] = 0.5;\nmesh.morphtargetinfluences[0] = 0.5;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 变形动画2\n\n//几何体两组顶点一一对应，位置不同，然后通过权重系数，可以控制模型形状在两组顶点之间变化\nconst geometry = new three.boxgeometry(50, 50, 50);\n// 为geometry提供变形目标的顶点数据(注意和原始geometry顶点数量一致)\nconst target1 = new three.boxgeometry(50, 200, 50).attributes.position; //变高\nconst target2 = new three.boxgeometry(10, 50, 10).attributes.position; //变细\n// 几何体顶点变形目标数据，可以设置1组或多组\ngeometry.morphattributes.position = [target1, target2];\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n// 创建变形动画权重系数的关键帧数据\nmesh.name = \"box\";//关键帧动画控制的模型对象命名\n// 设置变形目标1对应权重随着时间的变化\nconst kf1 = new three.keyframetrack('box.morphtargetinfluences[0]', [0, 5], [0, 1]);\n// 设置变形目标2对应权重随着时间的变化\nconst kf2 = new three.keyframetrack('box.morphtargetinfluences[1]', [5, 10], [0, 1]);\n// 创建一个剪辑clip对象\nconst clip = new three.animationclip(\"t\", 10, [kf1, kf2]);\n\n\n// 播放变形动画\nconst mixer = new three.animationmixer(mesh);\nconst clipaction = mixer.clipaction(clip);\nclipaction.play();\nclipaction.loop = three.looponce; //不循环播放\nclipaction.clampwhenfinished = true // 物体状态停留在动画结束的时候\n\nconst clock = new three.clock();\n\nfunction loop() {\n    requestanimationframe(loop);\n    const framet = clock.getdelta();\n    // 更新播放器时间\n    mixer.update(framet);\n}\nloop();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# 人物胖瘦\n\n\nconst loader = new gltfloader();\nconst model = new three.group();\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0]; // 访问人体网格模型\n    // 获取所有变形目标的顶点数据\n    const tarr = mesh.geometry.morphattributes.position\n    // console.log('所有变形目标', tarr);\n    // console.log('所有权重', mesh.morphtargetinfluences);\n    // 每个变形目标对应的含义(注意和变形目标对应起来)\n    const namearr = ['变胖', '丰乳肥臀', '增肌', '年龄', '变瘦'];\n    // gui拖动条可视化改变变形目标权重系数\n    const obj = {\n        t0: 0,\n        t1: 0,\n    }\n    const gui = new gui();\n    gui.add(obj, 't0', 0, 1).name('变胖').onchange(function (v) {\n        mesh.morphtargetinfluences[0] = v;\n    });\n    gui.add(obj, 't1', 0, 1).name('丰乳肥臀').onchange(function (v) {\n        mesh.morphtargetinfluences[1] = v;\n    });\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 代码批量设置gui拖动条\n\nconst loader = new gltfloader();\nconst model = new three.group();\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0]; // 访问人体网格模型\n    // 获取所有变形目标的顶点数据\n    const tarr = mesh.geometry.morphattributes.position\n    // console.log('所有变形目标', tarr);\n    // console.log('所有权重', mesh.morphtargetinfluences);\n    // 每个变形目标对应的含义(注意和变形目标对应起来)\n    const namearr = ['变胖', '丰乳肥臀', '增肌', '年龄', '变瘦'];\n    // gui拖动条可视化改变变形目标权重系数\n    const obj = {};\n    const gui = new gui();\n    for (let i = 0; i < tarr.length; i++) {\n        obj['t' + i] = 0;//obj批量定义一个属性表示变性目标的权重系数\n        // 批量设置要改变的obj属性，对应name名字，和对应权重\n        gui.add(obj, 't' + i, 0, 1).name(namearr[i]).onchange(function (v) {\n            mesh.morphtargetinfluences[i] = v;\n        });\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 外部模型人物\n\nloader.load(\"../人.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n    const mesh = gltf.scene.children[0];\n    // 创建变形动画权重系数的关键帧数据\n    mesh.name = \"per\"; //关键帧动画控制的模型对象命名\n    // 设置变形目标1对应权重随着时间的变化\n    const kf1 = new three.keyframetrack('per.morphtargetinfluences[0]', [0, 5], [0, 1]);\n    const clip = new three.animationclip(\"t\", 5, [kf1]);\n\n\n    //包含关键帧动画的模型作为参数创建一个播放器\n    const mixer = new three.animationmixer(gltf.scene);\n    const clipaction = mixer.clipaction(clip);\n    clipaction.play();\n\n    const clock = new three.clock();\n    function loop() {\n        requestanimationframe(loop);\n        const framet = clock.getdelta();\n        // 更新播放器相关的时间\n        mixer.update(framet);\n    }\n    loop();\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"缓冲几何体BufferGeometry",frontmatter:{title:"缓冲几何体BufferGeometry",date:"2023-12-01T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93BufferGeometry%E9%A1%B6%E7%82%B9.html",relativePath:"views/threejs/几何体BufferGeometry顶点.md",key:"v-05d728ce",path:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93BufferGeometry%E9%A1%B6%E7%82%B9.html",headers:[{level:2,title:"tip",slug:"tip",normalizedTitle:"tip",charIndex:3},{level:2,title:"画几个点",slug:"画几个点",normalizedTitle:"画几个点",charIndex:10},{level:2,title:"画一条线",slug:"画一条线",normalizedTitle:"画一条线",charIndex:18},{level:2,title:"画一个网格模型",slug:"画一个网格模型",normalizedTitle:"画一个网格模型",charIndex:26},{level:2,title:"index画",slug:"index画",normalizedTitle:"index画",charIndex:37},{level:2,title:"顶点法线",slug:"顶点法线",normalizedTitle:"顶点法线",charIndex:47}],excerpt:"<Boxx/>\n",headersStr:"tip 画几个点 画一条线 画一个网格模型 index画 顶点法线",content:" * tip\n * 画几个点\n * 画一条线\n * 画一个网格模型\n * index画\n * 顶点法线\n\n\n\n\n# tip\n\n-缓冲几何体 缓冲几何体本来没有固定形状,靠你自己去构造 -Float32Array Float32Array 是 JavaScript 中的一种类型化数组（Typed Array），用于表示一个由 32 位浮点数组成的数组。它是 ECMAScript 2015（ES6）引入的一项特性，用于更有效地处理二进制数据。\n\nFloat32Array 对象创建的是一个固定长度的数组，每个元素都是 32 位浮点数。这种类型的数组对于处理图形、音频、网络数据等涉及到二进制数据的任务非常有用，因为它提供了直接的内存访问和更高效的数学运算。 就是一个浮点数的数组,就是数组\n\n\n# 画几个点\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 100, 0, //顶点3坐标\n    0, 0, 10, //顶点4坐标\n    0, 0, 100, //顶点5坐标\n    50, 0, 10, //顶点6坐标\n]);\nconsole.log('vertices',vertices)\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\nconsole.log('attribue',attribue)\ngeometry.attributes.position = attribue;\n// 点渲染模式\nconst material = new THREE.PointsMaterial({\n    color: 0xffff00,\n    size: 10.0 //点对象像素尺寸\n}); \nconst points = new THREE.Points(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 画一条线\n\n\n// 线条渲染模式\nconst material = new THREE.LineBasicMaterial({\n    color: 0xffff00 //线条颜色\n}); //材质对象\n// 创建线模型对象   构造函数：Line、LineLoop、LineSegments\nconst line = new THREE.Line(geometry, material); //线条模型对象\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 画一个网格模型\n\n注意逆时针画,对着你的是正面.\n\nconst material = new THREE.MeshBasicMaterial({\n    color: 0x00ffff, //材质颜色\n    // side: THREE.FrontSide, //默认只有正面可见\n    // side: THREE.BackSide, //设置只有背面可见\n    side: THREE.DoubleSide, //两面可见\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new THREE.Mesh(geometry, material); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# index画\n\nimport * as THREE from 'three';\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    80, 0, 0, //顶点2坐标\n    80, 80, 0, //顶点3坐标\n    0, 80, 0, //顶点4坐标\n    0, 0, 80, //顶点5坐标\n    80, 0, 80, //顶点6坐标\n    80, 80, 80, //顶点7坐标\n    0, 80, 80, //顶点8坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// Uint16Array类型数组创建顶点索引数据\nconst indexes = new Uint16Array([\n    0, 1, 2, 0, 2, 3,6,2,1,6,1,5,4,5,6,6,4,7,4,7,0,0,3,7\n])\n// BufferAttribute表示顶点索引属性的值\ngeometry.index = new THREE.BufferAttribute(indexes, 1); //1个为一组\n// 索引数据赋值给几何体的index属性\nconst material = new THREE.MeshBasicMaterial({\n    color: 0x00ffff, \n    // side: THREE.FrontSide, //默认只有正面可见\n    // side: THREE.BackSide, //设置只有背面可见\n    side: THREE.DoubleSide, //两面可见\n     //wireframe:true,//线条模式渲染mesh对应的三角形数据\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new THREE.Mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# 顶点法线\n\n写法向量才可以显示光照效果\n\nimport * as THREE from 'three';\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    80, 0, 0, //顶点2坐标\n    80, 80, 0, //顶点3坐标\n    0, 0, 0, //顶点4坐标   和顶点1位置相同\n    80, 80, 0, //顶点5坐标  和顶点3位置相同\n    0, 80, 0, //顶点6坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// 每个顶点的法线数据和顶点位置数据一一对应\nconst normals = new Float32Array([\n    0, 0, 1, //顶点1法线( 法向量 )\n    0, 0, 1, //顶点2法线\n    0, 0, 1, //顶点3法线\n    0, 0, 1, //顶点4法线\n    0, 0, 1, //顶点5法线\n    0, 0, 1, //顶点6法线\n]);\n// 设置几何体的顶点法线属性.attributes.normal\ngeometry.attributes.normal = new THREE.BufferAttribute(normals, 3); //3个为一组,表示一个顶点的法线数据\n\n// MeshBasicMaterial不受光照影响\n// 使用受光照影响的材质，Geometry几何体需要定义顶点法线数据\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x0000ff, \n    side: THREE.DoubleSide, //两面可见\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new THREE.Mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n",normalizedContent:" * tip\n * 画几个点\n * 画一条线\n * 画一个网格模型\n * index画\n * 顶点法线\n\n\n\n\n# tip\n\n-缓冲几何体 缓冲几何体本来没有固定形状,靠你自己去构造 -float32array float32array 是 javascript 中的一种类型化数组（typed array），用于表示一个由 32 位浮点数组成的数组。它是 ecmascript 2015（es6）引入的一项特性，用于更有效地处理二进制数据。\n\nfloat32array 对象创建的是一个固定长度的数组，每个元素都是 32 位浮点数。这种类型的数组对于处理图形、音频、网络数据等涉及到二进制数据的任务非常有用，因为它提供了直接的内存访问和更高效的数学运算。 就是一个浮点数的数组,就是数组\n\n\n# 画几个点\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 100, 0, //顶点3坐标\n    0, 0, 10, //顶点4坐标\n    0, 0, 100, //顶点5坐标\n    50, 0, 10, //顶点6坐标\n]);\nconsole.log('vertices',vertices)\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\nconsole.log('attribue',attribue)\ngeometry.attributes.position = attribue;\n// 点渲染模式\nconst material = new three.pointsmaterial({\n    color: 0xffff00,\n    size: 10.0 //点对象像素尺寸\n}); \nconst points = new three.points(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# 画一条线\n\n\n// 线条渲染模式\nconst material = new three.linebasicmaterial({\n    color: 0xffff00 //线条颜色\n}); //材质对象\n// 创建线模型对象   构造函数：line、lineloop、linesegments\nconst line = new three.line(geometry, material); //线条模型对象\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n\n# 画一个网格模型\n\n注意逆时针画,对着你的是正面.\n\nconst material = new three.meshbasicmaterial({\n    color: 0x00ffff, //材质颜色\n    // side: three.frontside, //默认只有正面可见\n    // side: three.backside, //设置只有背面可见\n    side: three.doubleside, //两面可见\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new three.mesh(geometry, material); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# index画\n\nimport * as three from 'three';\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    80, 0, 0, //顶点2坐标\n    80, 80, 0, //顶点3坐标\n    0, 80, 0, //顶点4坐标\n    0, 0, 80, //顶点5坐标\n    80, 0, 80, //顶点6坐标\n    80, 80, 80, //顶点7坐标\n    0, 80, 80, //顶点8坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// uint16array类型数组创建顶点索引数据\nconst indexes = new uint16array([\n    0, 1, 2, 0, 2, 3,6,2,1,6,1,5,4,5,6,6,4,7,4,7,0,0,3,7\n])\n// bufferattribute表示顶点索引属性的值\ngeometry.index = new three.bufferattribute(indexes, 1); //1个为一组\n// 索引数据赋值给几何体的index属性\nconst material = new three.meshbasicmaterial({\n    color: 0x00ffff, \n    // side: three.frontside, //默认只有正面可见\n    // side: three.backside, //设置只有背面可见\n    side: three.doubleside, //两面可见\n     //wireframe:true,//线条模式渲染mesh对应的三角形数据\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new three.mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# 顶点法线\n\n写法向量才可以显示光照效果\n\nimport * as three from 'three';\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    80, 0, 0, //顶点2坐标\n    80, 80, 0, //顶点3坐标\n    0, 0, 0, //顶点4坐标   和顶点1位置相同\n    80, 80, 0, //顶点5坐标  和顶点3位置相同\n    0, 80, 0, //顶点6坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n// 每个顶点的法线数据和顶点位置数据一一对应\nconst normals = new float32array([\n    0, 0, 1, //顶点1法线( 法向量 )\n    0, 0, 1, //顶点2法线\n    0, 0, 1, //顶点3法线\n    0, 0, 1, //顶点4法线\n    0, 0, 1, //顶点5法线\n    0, 0, 1, //顶点6法线\n]);\n// 设置几何体的顶点法线属性.attributes.normal\ngeometry.attributes.normal = new three.bufferattribute(normals, 3); //3个为一组,表示一个顶点的法线数据\n\n// meshbasicmaterial不受光照影响\n// 使用受光照影响的材质，geometry几何体需要定义顶点法线数据\nconst material = new three.meshlambertmaterial({\n    color: 0x0000ff, \n    side: three.doubleside, //两面可见\n});\n// 网格模型本质：一个一个三角形(面)构成\nconst mesh = new three.mesh(geometry, material);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"颜色插值(非GLSL版)",frontmatter:{title:"颜色插值(非GLSL版)",date:"2023-11-30T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E6%95%B0%E6%95%B0%E6%8D%AE.html",relativePath:"views/threejs/几何体顶点颜色数数据.md",key:"v-0e681fea",path:"/views/threejs/%E5%87%A0%E4%BD%95%E4%BD%93%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E6%95%B0%E6%95%B0%E6%8D%AE.html",headers:[{level:2,title:"几何体顶点颜色数数据",slug:"几何体顶点颜色数数据",normalizedTitle:"几何体顶点颜色数数据",charIndex:3},{level:2,title:"曲线颜色渐变",slug:"曲线颜色渐变",normalizedTitle:"曲线颜色渐变",charIndex:17}],excerpt:"<Boxx/>\n",headersStr:"几何体顶点颜色数数据 曲线颜色渐变",content:" * 几何体顶点颜色数数据\n * 曲线颜色渐变\n\n\n\n\n# 几何体顶点颜色数数据\n\n//line\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 25, 0, //顶点3坐标\n]);\n// 顶点位置数据\ngeometry.attributes.position = new THREE.BufferAttribute(vertices, 3);\n\n//类型数组创建顶点颜色color数据\nconst colors = new Float32Array([\n    1, 0, 0, //顶点1颜色 \n    0, 0, 1, //顶点2颜色\n    0, 1, 0, //顶点3颜色\n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据RGB\ngeometry.attributes.color = new THREE.BufferAttribute(colors, 3); \n\n\n// 线模型渲染几何体顶点颜色，可以看到直线颜色渐变效果\nconst material = new THREE.LineBasicMaterial({\n    vertexColors:true,//默认false，设置为true表示使用顶点颜色渲染\n});\nconst line = new THREE.Line(geometry, material);\n\n\n//mesh\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new Float32Array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 25, 0, //顶点3坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n\n//类型数组创建顶点颜色color数据\nconst colors = new Float32Array([\n    1, 0, 0, //顶点1颜色 \n    0, 0, 1, //顶点2颜色\n    0, 1, 0, //顶点3颜色\n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据RGB\ngeometry.attributes.color = new THREE.BufferAttribute(colors, 3); \n\n// 定义好几何体顶点颜色，使用Mesh渲染，Mesh产生颜色渐变效果\nconst material = new THREE.MeshBasicMaterial({\n    // color: 0x333333,//使用顶点颜色数据，color属性可以不用设置\n    vertexColors:true,//默认false，设置为true表示使用顶点颜色渲染\n    side: THREE.DoubleSide, //两面可见\n});\nconst mesh = new THREE.Mesh(geometry, material); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n\n# 曲线颜色渐变\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n// 三维样条曲线\nconst curve = new THREE.CatmullRomCurve3([\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(70, 0, 80)\n]);\nconst pointsArr = curve.getSpacedPoints(100); //曲线取点      \ngeometry.setFromPoints(pointsArr); //pointsArr赋值给顶点位置属性     \n\n\nconst pos = geometry.attributes.position;\nconst count = pos.count; //顶点数量\n// 计算每个顶点的颜色值\nconst colorsArr = [];\nfor (let i = 0; i < count; i++) {\n    const percent = i / count; //点索引值相对所有点数量的百分比\n    //根据顶点位置顺序大小设置颜色渐变\n    // 红色分量从0到1变化，蓝色分量从1到0变化\n    colorsArr.push(percent, 0, 1 - percent); //蓝色到红色渐变色\n}\n\n//类型数组创建顶点颜色color数据\nconst colors = new Float32Array(colorsArr);\n// 设置几何体attributes属性的颜色color属性\ngeometry.attributes.color = new THREE.BufferAttribute(colors, 3);\n\n\nconst material = new THREE.LineBasicMaterial({\n    vertexColors: true, //使用顶点颜色渲染\n});\nconst line = new THREE.Line(geometry, material);\n\n\n\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\n// 三维样条曲线\nconst curve = new THREE.CatmullRomCurve3([\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(70, 0, 80)\n]);\nconst pointsArr = curve.getSpacedPoints(100); //曲线取点      \ngeometry.setFromPoints(pointsArr); //pointsArr赋值给顶点位置属性     \n\n\nconst pos = geometry.attributes.position;\nconst count = pos.count; //顶点数量\n// 计算每个顶点的颜色值\nconst colorsArr = [];\n// 根据顶点距离起点远近进行颜色插值计算\nconst c1 = new THREE.Color(0x00ffff); //曲线起点颜色 青色\nconst c2 = new THREE.Color(0xffff00); //曲线结束点颜色 黄色\nfor (let i = 0; i < count; i++) {\n    const percent = i / count; //点索引值相对所有点数量的百分比\n    //根据顶点位置顺序大小设置颜色渐变\n    const c = c1.clone().lerp(c2, percent);//颜色插值计算\n    colorsArr.push(c.r, c.g, c.b); \n}\n\n//类型数组创建顶点颜色color数据\nconst colors = new Float32Array(colorsArr);\n// 设置几何体attributes属性的颜色color属性\ngeometry.attributes.color = new THREE.BufferAttribute(colors, 3);\n\n\nconst material = new THREE.LineBasicMaterial({\n    vertexColors: true, //使用顶点颜色渲染\n});\nconst line = new THREE.Line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n",normalizedContent:" * 几何体顶点颜色数数据\n * 曲线颜色渐变\n\n\n\n\n# 几何体顶点颜色数数据\n\n//line\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 25, 0, //顶点3坐标\n]);\n// 顶点位置数据\ngeometry.attributes.position = new three.bufferattribute(vertices, 3);\n\n//类型数组创建顶点颜色color数据\nconst colors = new float32array([\n    1, 0, 0, //顶点1颜色 \n    0, 0, 1, //顶点2颜色\n    0, 1, 0, //顶点3颜色\n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据rgb\ngeometry.attributes.color = new three.bufferattribute(colors, 3); \n\n\n// 线模型渲染几何体顶点颜色，可以看到直线颜色渐变效果\nconst material = new three.linebasicmaterial({\n    vertexcolors:true,//默认false，设置为true表示使用顶点颜色渲染\n});\nconst line = new three.line(geometry, material);\n\n\n//mesh\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n//类型数组创建顶点数据\nconst vertices = new float32array([\n    0, 0, 0, //顶点1坐标\n    50, 0, 0, //顶点2坐标\n    0, 25, 0, //顶点3坐标\n]);\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n\n//类型数组创建顶点颜色color数据\nconst colors = new float32array([\n    1, 0, 0, //顶点1颜色 \n    0, 0, 1, //顶点2颜色\n    0, 1, 0, //顶点3颜色\n]);\n// 设置几何体attributes属性的颜色color属性\n//3个为一组,表示一个顶点的颜色数据rgb\ngeometry.attributes.color = new three.bufferattribute(colors, 3); \n\n// 定义好几何体顶点颜色，使用mesh渲染，mesh产生颜色渐变效果\nconst material = new three.meshbasicmaterial({\n    // color: 0x333333,//使用顶点颜色数据，color属性可以不用设置\n    vertexcolors:true,//默认false，设置为true表示使用顶点颜色渲染\n    side: three.doubleside, //两面可见\n});\nconst mesh = new three.mesh(geometry, material); \n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n\n\n\n# 曲线颜色渐变\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n// 三维样条曲线\nconst curve = new three.catmullromcurve3([\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(70, 0, 80)\n]);\nconst pointsarr = curve.getspacedpoints(100); //曲线取点      \ngeometry.setfrompoints(pointsarr); //pointsarr赋值给顶点位置属性     \n\n\nconst pos = geometry.attributes.position;\nconst count = pos.count; //顶点数量\n// 计算每个顶点的颜色值\nconst colorsarr = [];\nfor (let i = 0; i < count; i++) {\n    const percent = i / count; //点索引值相对所有点数量的百分比\n    //根据顶点位置顺序大小设置颜色渐变\n    // 红色分量从0到1变化，蓝色分量从1到0变化\n    colorsarr.push(percent, 0, 1 - percent); //蓝色到红色渐变色\n}\n\n//类型数组创建顶点颜色color数据\nconst colors = new float32array(colorsarr);\n// 设置几何体attributes属性的颜色color属性\ngeometry.attributes.color = new three.bufferattribute(colors, 3);\n\n\nconst material = new three.linebasicmaterial({\n    vertexcolors: true, //使用顶点颜色渲染\n});\nconst line = new three.line(geometry, material);\n\n\n\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\n// 三维样条曲线\nconst curve = new three.catmullromcurve3([\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(70, 0, 80)\n]);\nconst pointsarr = curve.getspacedpoints(100); //曲线取点      \ngeometry.setfrompoints(pointsarr); //pointsarr赋值给顶点位置属性     \n\n\nconst pos = geometry.attributes.position;\nconst count = pos.count; //顶点数量\n// 计算每个顶点的颜色值\nconst colorsarr = [];\n// 根据顶点距离起点远近进行颜色插值计算\nconst c1 = new three.color(0x00ffff); //曲线起点颜色 青色\nconst c2 = new three.color(0xffff00); //曲线结束点颜色 黄色\nfor (let i = 0; i < count; i++) {\n    const percent = i / count; //点索引值相对所有点数量的百分比\n    //根据顶点位置顺序大小设置颜色渐变\n    const c = c1.clone().lerp(c2, percent);//颜色插值计算\n    colorsarr.push(c.r, c.g, c.b); \n}\n\n//类型数组创建顶点颜色color数据\nconst colors = new float32array(colorsarr);\n// 设置几何体attributes属性的颜色color属性\ngeometry.attributes.color = new three.bufferattribute(colors, 3);\n\n\nconst material = new three.linebasicmaterial({\n    vertexcolors: true, //使用顶点颜色渲染\n});\nconst line = new three.line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"加载外部三维模型(gltf)",frontmatter:{title:"加载外部三维模型(gltf)",date:"2023-12-02T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E4%B8%89%E7%BB%B4%E6%A8%A1%E5%9E%8B(gltf).html",relativePath:"views/threejs/加载外部三维模型(gltf).md",key:"v-017fb0e8",path:"/views/threejs/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E4%B8%89%E7%BB%B4%E6%A8%A1%E5%9E%8B(gltf).html",headers:[{level:2,title:"加载模型",slug:"加载模型",normalizedTitle:"加载模型",charIndex:3},{level:2,title:"相机设置",slug:"相机设置",normalizedTitle:"相机设置",charIndex:11},{level:2,title:"模型命名(程序与美术协作)—层级模型节点选择",slug:"模型命名-程序与美术协作-层级模型节点选择",normalizedTitle:"模型命名(程序与美术协作)—层级模型节点选择",charIndex:19},{level:2,title:"递归遍历层级模型修改材质",slug:"递归遍历层级模型修改材质",normalizedTitle:"递归遍历层级模型修改材质",charIndex:45},{level:2,title:"外部模型材质共享和解决方法",slug:"外部模型材质共享和解决方法",normalizedTitle:"外部模型材质共享和解决方法",charIndex:61},{level:2,title:"纹理.encoding和渲染器.outputEncoding",slug:"纹理-encoding和渲染器-outputencoding",normalizedTitle:"纹理.encoding和渲染器.outputencoding",charIndex:78},{level:2,title:"手机模型更改贴图",slug:"手机模型更改贴图",normalizedTitle:"手机模型更改贴图",charIndex:112}],excerpt:"<Boxx/>\n",headersStr:"加载模型 相机设置 模型命名(程序与美术协作)—层级模型节点选择 递归遍历层级模型修改材质 外部模型材质共享和解决方法 纹理.encoding和渲染器.outputEncoding 手机模型更改贴图",content:" * 加载模型\n * 相机设置\n * 模型命名(程序与美术协作)—层级模型节点选择\n * 递归遍历层级模型修改材质\n * 外部模型材质共享和解决方法\n * 纹理.encoding和渲染器.outputEncoding\n * 手机模型更改贴图\n\n\n\n\n# 加载模型\n\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\n\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"../../工厂.gltf\", function (gltf) { //gltf加载成功后返回一个对象\n    // console.log('控制台查看gltf对象结构', gltf);\n    // console.log('场景3D模型数据', gltf.scene);\n    model.add(gltf.scene); //三维场景添加到model组对象中\n})\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 相机设置\n\n//解决加载gltf格式模型颜色偏差问题\nrenderer.outputEncoding = THREE.sRGBEncoding;\n\n// 设置相机控件轨道控制器OrbitControls\nconst controls = new OrbitControls(camera, renderer.domElement);\n// 相机控件.target属性在OrbitControls.js内部表示相机目标观察点，默认0,0,0\n// console.log('controls.target', controls.target);\ncontrols.target.set(x, y, z); //与lookAt参数保持一致\ncontrols.update(); //update()函数内会执行camera.lookAt(controls.target)\n\n\n// 渲染循环\nfunction render() {\n    // 渲染循环中不停地打印相机的位置属性，你可以通过相机控件旋转或缩放三维场景，同时通过浏览器控制台观察相机位置变化。\n    console.log('camera.position', camera.position);\n    // 浏览器控制台查看controls.target变化，辅助设置lookAt参数\n    console.log('controls.target', controls.target);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 模型命名(程序与美术协作)—层级模型节点选择\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"./简易小区.glb\", function (gltf) {\n    // console.log('控制台查看gltf对象结构', gltf);\n    console.log('场景3D模型树结构', gltf.scene);\n\n\n    // 返回名.name为\"1号楼\"对应的对象\n    const nameNode = gltf.scene.getObjectByName(\"1号楼\");\n    nameNode.material.color.set(0xff0000);//改变1号楼Mesh材质颜色\n\n   //获得所有'洋房'房子的父对象\n    const obj = gltf.scene.getObjectByName('洋房');\n    console.log('obj', obj); //控制台查看返回结果\n    console.log('obj.children', obj.children); \n    // obj的所有子对象.children都是Mesh，改变Mesh对应颜色\n    obj.children.forEach(function (mesh) {\n        mesh.material.color.set(0xffff00);\n    })\n        model.add(gltf.scene); //三维场景添加到model组对象中\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 递归遍历层级模型修改材质\n\nloader.load(\"../../工厂.glb\", function (gltf) { \n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.isMesh) {//判断是否是网格模型\n            // 重新设置材质\n            obj.material = new THREE.MeshLambertMaterial({\n                color:0xffffff,\n            });\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 外部模型材质共享和解决方法\n\n// 引入Three.js\nimport * as THREE from 'three';\n// 引入gltf模型加载库GLTFLoader.js\nimport {\n    GLTFLoader\n} from 'three/addons/loaders/GLTFLoader.js';\n\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\n\nconst model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"./简易小区-共享材质.glb\", function (gltf) {\n    const mesh1 = gltf.scene.getObjectByName(\"1号楼\");\n    //1. 改变1号楼Mesh材质颜色\n    // 由于不同的Mesh共享了1号楼Mesh的材质，当你mesh1.material改变mesh1材质，本质上是改变所有楼Mesh的材质\n    // mesh1.material.color.set(0xff0000);\n\n    //2. 通过.name标记材质，测试mesh1和mesh2是否共享了材质\n    mesh1.material.name = '楼房材质';//通过name标记mesh1对应材质\n    const mesh2 = gltf.scene.getObjectByName(\"2号楼\");\n    //通过name相同，可以判断mesh1.material和mesh2.material共享了同一个材质对象\n    console.log('mesh2.material.name', mesh2.material.name);\n\n    //3. 用代码方式解决mesh共享材质问题\n    gltf.scene.getObjectByName(\"小区房子\").traverse(function (obj) {\n        if (obj.isMesh) {\n            // .material.clone()返回一个新材质对象，和原来一样，重新赋值给.material属性\n            obj.material = obj.material.clone();\n        }\n    });\n    mesh1.material.color.set(0xffff00);\n    mesh2.material.color.set(0x00ff00);\n\n    model.add(gltf.scene);\n})\n\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 纹理.encoding和渲染器.outputEncoding\n\n//解决加载gltf格式模型颜色偏差问题\nrenderer.outputEncoding = THREE.sRGBEncoding;\ntexture.encoding = THREE.sRGBEncoding; //和渲染器.outputEncoding一样值\n\n\n1\n2\n3\n\n\n\n# 手机模型更改贴图\n\nconst texLoader = new THREE.TextureLoader();\nconst texture = texLoader.load('./黑色.png');// 加载手机mesh另一个颜色贴图\ntexture.encoding = THREE.sRGBEncoding; //和渲染器.outputEncoding一样值\n\n// 纹理对象texture.flipY默认值\nconsole.log('texture.flipY', texture.flipY);\ntexture.flipY = false;//是否翻转纹理贴图\n\n\nloader.load(\"../手机模型.glb\", function (gltf) {\n    // console.log('gltf.scene',gltf.scene);\n    const mesh = gltf.scene.children[0]; //获取Mesh\n    // 查看gltf里面Mesh颜色贴图的.flipY值\n    console.log('.flipY', mesh.material.map.flipY);\n\n    mesh.material.map = texture; //更换不同风格的颜色贴图\n\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n",normalizedContent:" * 加载模型\n * 相机设置\n * 模型命名(程序与美术协作)—层级模型节点选择\n * 递归遍历层级模型修改材质\n * 外部模型材质共享和解决方法\n * 纹理.encoding和渲染器.outputencoding\n * 手机模型更改贴图\n\n\n\n\n# 加载模型\n\nimport { gltfloader } from 'three/addons/loaders/gltfloader.js';\n\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"../../工厂.gltf\", function (gltf) { //gltf加载成功后返回一个对象\n    // console.log('控制台查看gltf对象结构', gltf);\n    // console.log('场景3d模型数据', gltf.scene);\n    model.add(gltf.scene); //三维场景添加到model组对象中\n})\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 相机设置\n\n//解决加载gltf格式模型颜色偏差问题\nrenderer.outputencoding = three.srgbencoding;\n\n// 设置相机控件轨道控制器orbitcontrols\nconst controls = new orbitcontrols(camera, renderer.domelement);\n// 相机控件.target属性在orbitcontrols.js内部表示相机目标观察点，默认0,0,0\n// console.log('controls.target', controls.target);\ncontrols.target.set(x, y, z); //与lookat参数保持一致\ncontrols.update(); //update()函数内会执行camera.lookat(controls.target)\n\n\n// 渲染循环\nfunction render() {\n    // 渲染循环中不停地打印相机的位置属性，你可以通过相机控件旋转或缩放三维场景，同时通过浏览器控制台观察相机位置变化。\n    console.log('camera.position', camera.position);\n    // 浏览器控制台查看controls.target变化，辅助设置lookat参数\n    console.log('controls.target', controls.target);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n\n# 模型命名(程序与美术协作)—层级模型节点选择\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"./简易小区.glb\", function (gltf) {\n    // console.log('控制台查看gltf对象结构', gltf);\n    console.log('场景3d模型树结构', gltf.scene);\n\n\n    // 返回名.name为\"1号楼\"对应的对象\n    const namenode = gltf.scene.getobjectbyname(\"1号楼\");\n    namenode.material.color.set(0xff0000);//改变1号楼mesh材质颜色\n\n   //获得所有'洋房'房子的父对象\n    const obj = gltf.scene.getobjectbyname('洋房');\n    console.log('obj', obj); //控制台查看返回结果\n    console.log('obj.children', obj.children); \n    // obj的所有子对象.children都是mesh，改变mesh对应颜色\n    obj.children.foreach(function (mesh) {\n        mesh.material.color.set(0xffff00);\n    })\n        model.add(gltf.scene); //三维场景添加到model组对象中\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 递归遍历层级模型修改材质\n\nloader.load(\"../../工厂.glb\", function (gltf) { \n    // 递归遍历所有模型节点批量修改材质\n    gltf.scene.traverse(function(obj) {\n        if (obj.ismesh) {//判断是否是网格模型\n            // 重新设置材质\n            obj.material = new three.meshlambertmaterial({\n                color:0xffffff,\n            });\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n\n# 外部模型材质共享和解决方法\n\n// 引入three.js\nimport * as three from 'three';\n// 引入gltf模型加载库gltfloader.js\nimport {\n    gltfloader\n} from 'three/addons/loaders/gltfloader.js';\n\n\nconst loader = new gltfloader(); //创建一个gltf加载器\n\nconst model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\nloader.load(\"./简易小区-共享材质.glb\", function (gltf) {\n    const mesh1 = gltf.scene.getobjectbyname(\"1号楼\");\n    //1. 改变1号楼mesh材质颜色\n    // 由于不同的mesh共享了1号楼mesh的材质，当你mesh1.material改变mesh1材质，本质上是改变所有楼mesh的材质\n    // mesh1.material.color.set(0xff0000);\n\n    //2. 通过.name标记材质，测试mesh1和mesh2是否共享了材质\n    mesh1.material.name = '楼房材质';//通过name标记mesh1对应材质\n    const mesh2 = gltf.scene.getobjectbyname(\"2号楼\");\n    //通过name相同，可以判断mesh1.material和mesh2.material共享了同一个材质对象\n    console.log('mesh2.material.name', mesh2.material.name);\n\n    //3. 用代码方式解决mesh共享材质问题\n    gltf.scene.getobjectbyname(\"小区房子\").traverse(function (obj) {\n        if (obj.ismesh) {\n            // .material.clone()返回一个新材质对象，和原来一样，重新赋值给.material属性\n            obj.material = obj.material.clone();\n        }\n    });\n    mesh1.material.color.set(0xffff00);\n    mesh2.material.color.set(0x00ff00);\n\n    model.add(gltf.scene);\n})\n\nexport default model;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 纹理.encoding和渲染器.outputencoding\n\n//解决加载gltf格式模型颜色偏差问题\nrenderer.outputencoding = three.srgbencoding;\ntexture.encoding = three.srgbencoding; //和渲染器.outputencoding一样值\n\n\n1\n2\n3\n\n\n\n# 手机模型更改贴图\n\nconst texloader = new three.textureloader();\nconst texture = texloader.load('./黑色.png');// 加载手机mesh另一个颜色贴图\ntexture.encoding = three.srgbencoding; //和渲染器.outputencoding一样值\n\n// 纹理对象texture.flipy默认值\nconsole.log('texture.flipy', texture.flipy);\ntexture.flipy = false;//是否翻转纹理贴图\n\n\nloader.load(\"../手机模型.glb\", function (gltf) {\n    // console.log('gltf.scene',gltf.scene);\n    const mesh = gltf.scene.children[0]; //获取mesh\n    // 查看gltf里面mesh颜色贴图的.flipy值\n    console.log('.flipy', mesh.material.map.flipy);\n\n    mesh.material.map = texture; //更换不同风格的颜色贴图\n\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"动画库tween.js",frontmatter:{title:"动画库tween.js",date:"2023-11-24T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%8A%A8%E7%94%BB%E5%BA%93tween.js.html",relativePath:"views/threejs/动画库tween.js.md",key:"v-644a41e0",path:"/views/threejs/%E5%8A%A8%E7%94%BB%E5%BA%93tween.js.html",headers:[{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:2,title:"相机飞行",slug:"相机飞行",normalizedTitle:"相机飞行",charIndex:7},{level:2,title:"整体代码",slug:"整体代码",normalizedTitle:"整体代码",charIndex:15},{level:2,title:"改为射线拾取目标",slug:"改为射线拾取目标",normalizedTitle:"改为射线拾取目标",charIndex:23},{level:2,title:"缓动算法.easing(地球渐入相机动画)",slug:"缓动算法-easing-地球渐入相机动画",normalizedTitle:"缓动算法.easing(地球渐入相机动画)",charIndex:35},{level:2,title:"模型或标签淡入淡出",slug:"模型或标签淡入淡出",normalizedTitle:"模型或标签淡入淡出",charIndex:60},{level:2,title:"标签淡入淡出",slug:"标签淡入淡出",normalizedTitle:"标签淡入淡出",charIndex:63}],excerpt:"<Boxx/>\n",headersStr:" 相机飞行 整体代码 改为射线拾取目标 缓动算法.easing(地球渐入相机动画) 模型或标签淡入淡出 标签淡入淡出",content:" * \n * 相机飞行\n * 整体代码\n * 改为射线拾取目标\n * 缓动算法.easing(地球渐入相机动画)\n * 模型或标签淡入淡出\n * 标签淡入淡出\n\n\n\n\n#\n\n\n\n//创建一段mesh平移的动画\nconst tween = new TWEEN.Tween(mesh.position);\n//经过2000毫秒，pos对象的x和y属性分别从零变化为100、50\ntween.to({x: 100,y: 50}, 2000);\n//tween动画开始执行\ntween.start();\n\n// 更简洁书写形式\n// const tween = new TWEEN.Tween(mesh.position)\n// .to({x: 100,y: 50}, 2000)\n// .start();\n\n// // 缩放动画\n// new TWEEN.Tween(mesh.scale).to({\n//     x: 100,\n//     y: 50\n// }, 2000).start();\n\nfunction render() {\n    TWEEN.update();\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 相机飞行\n\n//直线\n// 相机动画:从一个点移动到另一个点\nnew TWEEN.Tween(camera.position)\n.to({x: 180,y: 100,z: 50}, 3000)\n.start()\n\n// 只改变相机位置，默认方向保持不变，如果你想重新计算计算视线方向，可以执行lookAt()\n// new TWEEN.Tween(camera.position)\n// .to({x: 180,y: 100,z: -350}, 3000)\n// // tweenjs改变参数对象的过程中，.onUpdate方法会被重复调用执行\n// .onUpdate(function(){\n//     camera.lookAt(0, 0, 0);\n// })\n// .start()\n\n\n//圆周\nconst R = 100; //相机圆周运动的半径\nnew TWEEN.Tween({angle:0})\n.to({angle: Math.PI*2}, 16000)\n.onUpdate(function(obj){\n    camera.position.x = R * Math.cos(obj.angle);\n    camera.position.z = R * Math.sin(obj.angle);\n    camera.lookAt(0, 0, 0);\n})\n.start()\n\n\n//点击按钮，相机靠近观察设备\n// 切换到设备A预览状态\ndocument.getElementById('A').addEventListener('click', function () {\n    const A = model.getObjectByName('设备A标注');\n    const pos = new THREE.Vector3();\n    A.getWorldPosition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addScalar(30);//向量的x、y、z坐标分别在pos基础上增加30\n    // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n    new TWEEN.Tween({\n            // 相机开始坐标\n            x: camera.position.x,\n            y: camera.position.y,\n            z: camera.position.z,\n            // 相机开始指向的目标观察点\n            tx: 0,\n            ty: 0,\n            tz: 0,\n        })\n        .to({\n            // 相机结束坐标\n            x: pos2.x,\n            y: pos2.y,\n            z: pos2.z,\n            // 相机结束指向的目标观察点\n            tx: pos.x,\n            ty: pos.y,\n            tz: pos.z,\n        }, 2000)\n        .onUpdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            camera.lookAt(obj.tx, obj.ty, obj.tz);\n        })\n        .start();\n\n        //考虑到考虑OrbitControls的影响,改写成下面\n        .onUpdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            // camera.lookAt(obj.tx, obj.ty, obj.tz);\n            // 方式2\n            controls.target.set(obj.tx, obj.ty, obj.tz);\n            controls.update();\n        })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n# 整体代码\n\n// 切换到设备A预览状态\ndocument.getElementById('A').addEventListener('click', function () {\n    const A = model.getObjectByName('设备A标注');\n    const pos = new THREE.Vector3();\n    A.getWorldPosition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addScalar(30);\n    createCameraTween(pos2, pos)\n})\n// 切换到设备B的预览状态\ndocument.getElementById('B').addEventListener('click', function () {\n    const B = model.getObjectByName('设备B标注');\n    const pos = new THREE.Vector3();\n    B.getWorldPosition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addScalar(30);\n    // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n    createCameraTween(pos2, pos)\n})\n// 切换到设备停车场的预览状态\ndocument.getElementById('car').addEventListener('click', function () {\n    const car = model.getObjectByName('停车场标注');\n    const pos = new THREE.Vector3();\n    //获取三维场景中某个对象世界坐标\n    car.getWorldPosition(pos);\n    // 向量的x、y、z坐标分别在pos基础上增加30\n    const pos2 = pos.clone().addScalar(30);\n    createCameraTween(pos2,pos)\n})\n\n\n// 相机整体预览对应的位置和观察目标\nconst cameraPos0 = new THREE.Vector3(202, 123, 125) \nconst target0 = new THREE.Vector3(0, 0, 0);\n// 切换整体预览状态\ndocument.getElementById('all').addEventListener('click', function () {\n    // 相机从当前位置camera.position回到整体预览状态\n    createCameraTween(cameraPos0, target0)\n})\n\n// 相机动画函数，从A点飞行到B点，A点表示相机当前所处状态\n// pos: 三维向量Vector3，表示动画结束相机位置\n// target: 三维向量Vector3，表示相机动画结束lookAt指向的目标观察点\nfunction createCameraTween(endPos,endTarget){\n    new TWEEN.Tween({\n        // 不管相机此刻处于什么状态，直接读取当前的位置和目标观察点\n        x: camera.position.x,\n        y: camera.position.y,\n        z: camera.position.z,\n        tx: controls.target.x,\n        ty: controls.target.y,\n        tz: controls.target.z,\n    })\n    .to({\n        // 动画结束相机位置坐标\n        x: endPos.x,\n        y: endPos.y,\n        z: endPos.z,\n        // 动画结束相机指向的目标观察点\n        tx: endTarget.x,\n        ty: endTarget.y,\n        tz: endTarget.z,\n    }, 2000)\n    .onUpdate(function (obj) {\n        // 动态改变相机位置\n        camera.position.set(obj.x, obj.y, obj.z);\n        // 动态计算相机视线\n        // camera.lookAt(obj.tx, obj.ty, obj.tz);\n        controls.target.set(obj.tx, obj.ty, obj.tz);\n        controls.update();//内部会执行.lookAt()\n    })\n    .start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 改为射线拾取目标\n\nconst span = document.getElementById('name');\nlet chooseObj = null;\nrenderer.domElement.addEventListener('click', function (event) {\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()在点击位置生成raycaster的射线ray\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    const cunchu = model.getObjectByName('存储罐');\n    // 射线拾取模型对象(包含多个Mesh)\n    // 可以给待选对象的所有子孙后代Mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseObj，并给chooseObj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.isMesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinePass.selectedObjects = [intersects[0].object.ancestors];\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseObj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getObjectByName(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseObj = obj;\n        span.innerHTML = intersects[0].object.ancestors.name; //修改标签数据\n        \n        const pos = new THREE.Vector3();\n        chooseObj.getWorldPosition(pos); //获取三维场景中某个对象世界坐标\n        // model.getObjectByName(chooseObj.name+'标注').getWorldPosition(pos); //获取三维场景中某个对象世界坐标\n        // 相机飞行到的位置和观察目标拉开一定的距离\n        const pos2 = pos.clone().addScalar(30);\n        // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n        createCameraTween(pos2, pos)\n    } else {\n        // if (chooseObj) {//把原来选中模型对应的标签和发光描边隐藏\n        //     outlinePass.selectedObjects = []; //无发光描边\n        //     chooseObj.remove(tag); //从场景移除\n        // }\n    }\n})\n\n\n\n\n// 相机整体预览对应的位置和观察目标\nconst cameraPos0 = new THREE.Vector3(202, 123, 125)\nconst target0 = new THREE.Vector3(0, 0, 0);\n// 鼠标单击按钮，关闭HTML标签\ndocument.getElementById('close').addEventListener('click', function () {\n    if (chooseObj) { //把原来选中模型对应的标签和发光描边隐藏\n        outlinePass.selectedObjects = []; //无发光描边\n        chooseObj.remove(tag); //从场景移除\n        // 相机从当前位置camera.position回到整体预览状态\n        createCameraTween(cameraPos0, target0)\n    }\n})\n\n\n\n\n// 相机动画函数，从A点飞行到B点，A点表示相机当前所处状态\n// pos: 三维向量Vector3，表示动画结束相机位置\n// target: 三维向量Vector3，表示相机动画结束lookAt指向的目标观察点\nfunction createCameraTween(endPos, endTarget) {\n    new TWEEN.Tween({\n            // 不管相机此刻处于什么状态，直接读取当前的位置和目标观察点\n            x: camera.position.x,\n            y: camera.position.y,\n            z: camera.position.z,\n            tx: controls.target.x,\n            ty: controls.target.y,\n            tz: controls.target.z,\n        })\n        .to({\n            // 动画结束相机位置坐标\n            x: endPos.x,\n            y: endPos.y,\n            z: endPos.z,\n            // 动画结束相机指向的目标观察点\n            tx: endTarget.x,\n            ty: endTarget.y,\n            tz: endTarget.z,\n        }, 2000)\n        .onUpdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            // camera.lookAt(obj.tx, obj.ty, obj.tz);\n            controls.target.set(obj.tx, obj.ty, obj.tz);\n            controls.update(); //内部会执行.lookAt()\n        })\n        .start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n\n\n\n# 缓动算法.easing(地球渐入相机动画)\n\n相机接近物体时,速度变慢\n\nnew TWEEN.Tween(camera.position)\n.to({x: 300,y: 300,z: 300}, 3000)\n.start()\n.easing(TWEEN.Easing.Quadratic.Out);//使用二次缓动函数\n\n\n1\n2\n3\n4\n\n\n\n# 模型或标签淡入淡出\n\n// 模型淡入\nmaterial.transparent = true;//开启透明计算\nmaterial.opacity = 0.0;//完全透明\n\n// new TWEEN.Tween(material)\nnew TWEEN.Tween({opacity:material.opacity})\n.to({opacity:1.0}, 3000)\n.onUpdate(function(obj){\n    material.opacity = obj.opacity\n})\n.onComplete(function(){\n    //动画结束：关闭允许透明，恢复到模型原来状态\n    material.transparent = false;\n})\n.start();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 标签淡入淡出\n\n\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseObj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getObjectByName(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseObj = obj;\n        span.innerHTML = intersects[0].object.ancestors.name; //修改标签数据\n\n        new TWEEN.Tween({opacity: 0})\n            .to({opacity: 1.0}, 1000)\n            .onUpdate(function (obj) {\n                //动态更新div元素透明度\n                divTag.style.opacity = obj.opacity;\n            })\n            .start();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n",normalizedContent:" * \n * 相机飞行\n * 整体代码\n * 改为射线拾取目标\n * 缓动算法.easing(地球渐入相机动画)\n * 模型或标签淡入淡出\n * 标签淡入淡出\n\n\n\n\n#\n\n\n\n//创建一段mesh平移的动画\nconst tween = new tween.tween(mesh.position);\n//经过2000毫秒，pos对象的x和y属性分别从零变化为100、50\ntween.to({x: 100,y: 50}, 2000);\n//tween动画开始执行\ntween.start();\n\n// 更简洁书写形式\n// const tween = new tween.tween(mesh.position)\n// .to({x: 100,y: 50}, 2000)\n// .start();\n\n// // 缩放动画\n// new tween.tween(mesh.scale).to({\n//     x: 100,\n//     y: 50\n// }, 2000).start();\n\nfunction render() {\n    tween.update();\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# 相机飞行\n\n//直线\n// 相机动画:从一个点移动到另一个点\nnew tween.tween(camera.position)\n.to({x: 180,y: 100,z: 50}, 3000)\n.start()\n\n// 只改变相机位置，默认方向保持不变，如果你想重新计算计算视线方向，可以执行lookat()\n// new tween.tween(camera.position)\n// .to({x: 180,y: 100,z: -350}, 3000)\n// // tweenjs改变参数对象的过程中，.onupdate方法会被重复调用执行\n// .onupdate(function(){\n//     camera.lookat(0, 0, 0);\n// })\n// .start()\n\n\n//圆周\nconst r = 100; //相机圆周运动的半径\nnew tween.tween({angle:0})\n.to({angle: math.pi*2}, 16000)\n.onupdate(function(obj){\n    camera.position.x = r * math.cos(obj.angle);\n    camera.position.z = r * math.sin(obj.angle);\n    camera.lookat(0, 0, 0);\n})\n.start()\n\n\n//点击按钮，相机靠近观察设备\n// 切换到设备a预览状态\ndocument.getelementbyid('a').addeventlistener('click', function () {\n    const a = model.getobjectbyname('设备a标注');\n    const pos = new three.vector3();\n    a.getworldposition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addscalar(30);//向量的x、y、z坐标分别在pos基础上增加30\n    // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n    new tween.tween({\n            // 相机开始坐标\n            x: camera.position.x,\n            y: camera.position.y,\n            z: camera.position.z,\n            // 相机开始指向的目标观察点\n            tx: 0,\n            ty: 0,\n            tz: 0,\n        })\n        .to({\n            // 相机结束坐标\n            x: pos2.x,\n            y: pos2.y,\n            z: pos2.z,\n            // 相机结束指向的目标观察点\n            tx: pos.x,\n            ty: pos.y,\n            tz: pos.z,\n        }, 2000)\n        .onupdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            camera.lookat(obj.tx, obj.ty, obj.tz);\n        })\n        .start();\n\n        //考虑到考虑orbitcontrols的影响,改写成下面\n        .onupdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            // camera.lookat(obj.tx, obj.ty, obj.tz);\n            // 方式2\n            controls.target.set(obj.tx, obj.ty, obj.tz);\n            controls.update();\n        })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n\n\n\n# 整体代码\n\n// 切换到设备a预览状态\ndocument.getelementbyid('a').addeventlistener('click', function () {\n    const a = model.getobjectbyname('设备a标注');\n    const pos = new three.vector3();\n    a.getworldposition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addscalar(30);\n    createcameratween(pos2, pos)\n})\n// 切换到设备b的预览状态\ndocument.getelementbyid('b').addeventlistener('click', function () {\n    const b = model.getobjectbyname('设备b标注');\n    const pos = new three.vector3();\n    b.getworldposition(pos); //获取三维场景中某个对象世界坐标\n    // 相机飞行到的位置和观察目标拉开一定的距离\n    const pos2 = pos.clone().addscalar(30);\n    // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n    createcameratween(pos2, pos)\n})\n// 切换到设备停车场的预览状态\ndocument.getelementbyid('car').addeventlistener('click', function () {\n    const car = model.getobjectbyname('停车场标注');\n    const pos = new three.vector3();\n    //获取三维场景中某个对象世界坐标\n    car.getworldposition(pos);\n    // 向量的x、y、z坐标分别在pos基础上增加30\n    const pos2 = pos.clone().addscalar(30);\n    createcameratween(pos2,pos)\n})\n\n\n// 相机整体预览对应的位置和观察目标\nconst camerapos0 = new three.vector3(202, 123, 125) \nconst target0 = new three.vector3(0, 0, 0);\n// 切换整体预览状态\ndocument.getelementbyid('all').addeventlistener('click', function () {\n    // 相机从当前位置camera.position回到整体预览状态\n    createcameratween(camerapos0, target0)\n})\n\n// 相机动画函数，从a点飞行到b点，a点表示相机当前所处状态\n// pos: 三维向量vector3，表示动画结束相机位置\n// target: 三维向量vector3，表示相机动画结束lookat指向的目标观察点\nfunction createcameratween(endpos,endtarget){\n    new tween.tween({\n        // 不管相机此刻处于什么状态，直接读取当前的位置和目标观察点\n        x: camera.position.x,\n        y: camera.position.y,\n        z: camera.position.z,\n        tx: controls.target.x,\n        ty: controls.target.y,\n        tz: controls.target.z,\n    })\n    .to({\n        // 动画结束相机位置坐标\n        x: endpos.x,\n        y: endpos.y,\n        z: endpos.z,\n        // 动画结束相机指向的目标观察点\n        tx: endtarget.x,\n        ty: endtarget.y,\n        tz: endtarget.z,\n    }, 2000)\n    .onupdate(function (obj) {\n        // 动态改变相机位置\n        camera.position.set(obj.x, obj.y, obj.z);\n        // 动态计算相机视线\n        // camera.lookat(obj.tx, obj.ty, obj.tz);\n        controls.target.set(obj.tx, obj.ty, obj.tz);\n        controls.update();//内部会执行.lookat()\n    })\n    .start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n# 改为射线拾取目标\n\nconst span = document.getelementbyid('name');\nlet chooseobj = null;\nrenderer.domelement.addeventlistener('click', function (event) {\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    const raycaster = new three.raycaster();\n    //.setfromcamera()在点击位置生成raycaster的射线ray\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    const cunchu = model.getobjectbyname('存储罐');\n    // 射线拾取模型对象(包含多个mesh)\n    // 可以给待选对象的所有子孙后代mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseobj，并给chooseobj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.ismesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinepass.selectedobjects = [intersects[0].object.ancestors];\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseobj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getobjectbyname(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseobj = obj;\n        span.innerhtml = intersects[0].object.ancestors.name; //修改标签数据\n        \n        const pos = new three.vector3();\n        chooseobj.getworldposition(pos); //获取三维场景中某个对象世界坐标\n        // model.getobjectbyname(chooseobj.name+'标注').getworldposition(pos); //获取三维场景中某个对象世界坐标\n        // 相机飞行到的位置和观察目标拉开一定的距离\n        const pos2 = pos.clone().addscalar(30);\n        // 相机从当前位置camera.position飞行三维场景中某个世界坐标附近\n        createcameratween(pos2, pos)\n    } else {\n        // if (chooseobj) {//把原来选中模型对应的标签和发光描边隐藏\n        //     outlinepass.selectedobjects = []; //无发光描边\n        //     chooseobj.remove(tag); //从场景移除\n        // }\n    }\n})\n\n\n\n\n// 相机整体预览对应的位置和观察目标\nconst camerapos0 = new three.vector3(202, 123, 125)\nconst target0 = new three.vector3(0, 0, 0);\n// 鼠标单击按钮，关闭html标签\ndocument.getelementbyid('close').addeventlistener('click', function () {\n    if (chooseobj) { //把原来选中模型对应的标签和发光描边隐藏\n        outlinepass.selectedobjects = []; //无发光描边\n        chooseobj.remove(tag); //从场景移除\n        // 相机从当前位置camera.position回到整体预览状态\n        createcameratween(camerapos0, target0)\n    }\n})\n\n\n\n\n// 相机动画函数，从a点飞行到b点，a点表示相机当前所处状态\n// pos: 三维向量vector3，表示动画结束相机位置\n// target: 三维向量vector3，表示相机动画结束lookat指向的目标观察点\nfunction createcameratween(endpos, endtarget) {\n    new tween.tween({\n            // 不管相机此刻处于什么状态，直接读取当前的位置和目标观察点\n            x: camera.position.x,\n            y: camera.position.y,\n            z: camera.position.z,\n            tx: controls.target.x,\n            ty: controls.target.y,\n            tz: controls.target.z,\n        })\n        .to({\n            // 动画结束相机位置坐标\n            x: endpos.x,\n            y: endpos.y,\n            z: endpos.z,\n            // 动画结束相机指向的目标观察点\n            tx: endtarget.x,\n            ty: endtarget.y,\n            tz: endtarget.z,\n        }, 2000)\n        .onupdate(function (obj) {\n            // 动态改变相机位置\n            camera.position.set(obj.x, obj.y, obj.z);\n            // 动态计算相机视线\n            // camera.lookat(obj.tx, obj.ty, obj.tz);\n            controls.target.set(obj.tx, obj.ty, obj.tz);\n            controls.update(); //内部会执行.lookat()\n        })\n        .start();\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n\n\n\n# 缓动算法.easing(地球渐入相机动画)\n\n相机接近物体时,速度变慢\n\nnew tween.tween(camera.position)\n.to({x: 300,y: 300,z: 300}, 3000)\n.start()\n.easing(tween.easing.quadratic.out);//使用二次缓动函数\n\n\n1\n2\n3\n4\n\n\n\n# 模型或标签淡入淡出\n\n// 模型淡入\nmaterial.transparent = true;//开启透明计算\nmaterial.opacity = 0.0;//完全透明\n\n// new tween.tween(material)\nnew tween.tween({opacity:material.opacity})\n.to({opacity:1.0}, 3000)\n.onupdate(function(obj){\n    material.opacity = obj.opacity\n})\n.oncomplete(function(){\n    //动画结束：关闭允许透明，恢复到模型原来状态\n    material.transparent = false;\n})\n.start();\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 标签淡入淡出\n\n\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseobj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getobjectbyname(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseobj = obj;\n        span.innerhtml = intersects[0].object.ancestors.name; //修改标签数据\n\n        new tween.tween({opacity: 0})\n            .to({opacity: 1.0}, 1000)\n            .onupdate(function (obj) {\n                //动态更新div元素透明度\n                divtag.style.opacity = obj.opacity;\n            })\n            .start();\n    }\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"发光小球",frontmatter:{title:"发光小球",date:"2023-11-25T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%8F%91%E5%85%89%E7%90%83%E4%BD%93.html",relativePath:"views/threejs/发光球体.md",key:"v-54b1986e",path:"/views/threejs/%E5%8F%91%E5%85%89%E7%90%83%E4%BD%93.html",headers:[{level:2,title:"发光小球",slug:"发光小球",normalizedTitle:"发光小球",charIndex:3},{level:2,title:"半球",slug:"半球",normalizedTitle:"半球",charIndex:11}],excerpt:"<Boxx/>\n",headersStr:"发光小球 半球",content:" * 发光小球\n * 半球\n\n\n\n\n# 发光小球\n\nvar geometry = new THREE.SphereGeometry(25, 30,30);\nvar material = new THREE.ShaderMaterial({\n  vertexShader:   vertexShader,\n  fragmentShader: fragmentShader,\n  transparent: true\n})\n\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar S = 2; //波动范围设置\nvar _s = 1.0;\n\nfunction waveAnimation() {\n  _s += 0.015;\n  mesh.scale.set(_s, _s, _s);\n  if (_s > S) _s = 1.0;\n  requestAnimationFrame(waveAnimation);\n}\nwaveAnimation();\n\n// vertexShader,\nexport default /* glsl */`\nvarying vec3 vNormal;\nvoid main() \n{\n  // normal：对应geometry.attributes.normal数据\n  // 相机视图矩阵和模型自身的矩阵变换都会影响模型表面某位置法线相对视线夹角发生改变\n  // 法线矩阵normalMatrix是通过模型的模型矩阵和视图矩阵变换而来\n  // three.js内部normalMatrix表示顶点法线的变换矩阵\n  vNormal = normalize( normalMatrix * normal ); \n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\n\n// fragmentShader,\nexport default /* glsl */ `\nvarying vec3 vNormal;\nvoid main() \n{\n  // \n  vec3 z = vec3(0.0,0.0,1.0);//z轴方向单位向量\n  //两个向量夹角余弦值dot(vNormal, z)范围[-1,1]\n  float x = abs(dot(vNormal, z));//点乘结果余弦值绝对值范围[0,1]\n  //透明度渐变模拟一种透明发光的感觉\n  // 夹角零度 余弦值1  夹角90度余弦值0   \n  // 对于球体而言：夹角90度的边缘部分最亮或说不透明 中间完全透明\n  //float alpha = 1.0-x;//透明度随着余弦值线性变化\n    float alpha = pow( 1.0 - x, 3.0 );//透明度随着余弦值非线性变化  比如二次方  三次方 渲染不同的效果\n    gl_FragColor = vec4( vec3(0.0,1.0,1.0), alpha );\n}\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# 半球\n\n// 创建一个半球\nvar geometry = new THREE.SphereGeometry(25, 30,30,0,Math.PI*2,0,Math.PI/2);\n\n\nvar material = new THREE.ShaderMaterial({\n  vertexShader:   vertexShader,\n  fragmentShader: fragmentShader,\n  transparent: true\n})\n\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar S = 2; //波动范围设置\nvar _s = 1.0;\n\nfunction waveAnimation() {\n  _s += 0.02;\n  mesh.scale.set(_s, _s, _s);\n  if (_s > S) _s = 1.0;\n  requestAnimationFrame(waveAnimation);\n}\nwaveAnimation();\n\n//light_fragment.glsl\nexport default /* glsl */ `\nvarying vec3 vNormal;\nvoid main() \n{\n  vec3 z = vec3(0.0,0.0,1.0);//z轴方向单位向量\n  //两个向量夹角余弦值dot(vNormal, z)范围[-1,1]\n  float x = abs(dot(vNormal, z));//点乘结果余弦值绝对值范围[0,1]\n  //透明度渐变模拟一种透明发光的感觉\n  // 夹角零度 余弦值1  夹角90度余弦值0   \n  // 对于球体而言：夹角90度的边缘部分最亮或说不透明 中间完全透明\n  //float alpha = 1.0-x;//透明度随着余弦值线性变化\n  float alpha = pow( 1.0 - x, 2.0 );//透明度随着余弦值非线性变化  比如二次方  三次方 渲染不同的效果\n  gl_FragColor = vec4( vec3(0.0,1.0,1.0), alpha );\n}\n`;\n//light_vertex.glsl\nexport default /* glsl */`\nvarying vec3 vNormal;\nvoid main() \n{\n  // normal：对应geometry.attributes.normal数据\n  // 相机视图矩阵和模型自身的矩阵变换都会影响模型表面某位置法线相对视线夹角发生改变\n  // 法线矩阵normalMatrix是通过模型的模型矩阵和视图矩阵变换而来\n  // three.js内部normalMatrix表示顶点法线的变换矩阵\n  vNormal = normalize( normalMatrix * normal ); \n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n",normalizedContent:" * 发光小球\n * 半球\n\n\n\n\n# 发光小球\n\nvar geometry = new three.spheregeometry(25, 30,30);\nvar material = new three.shadermaterial({\n  vertexshader:   vertexshader,\n  fragmentshader: fragmentshader,\n  transparent: true\n})\n\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar s = 2; //波动范围设置\nvar _s = 1.0;\n\nfunction waveanimation() {\n  _s += 0.015;\n  mesh.scale.set(_s, _s, _s);\n  if (_s > s) _s = 1.0;\n  requestanimationframe(waveanimation);\n}\nwaveanimation();\n\n// vertexshader,\nexport default /* glsl */`\nvarying vec3 vnormal;\nvoid main() \n{\n  // normal：对应geometry.attributes.normal数据\n  // 相机视图矩阵和模型自身的矩阵变换都会影响模型表面某位置法线相对视线夹角发生改变\n  // 法线矩阵normalmatrix是通过模型的模型矩阵和视图矩阵变换而来\n  // three.js内部normalmatrix表示顶点法线的变换矩阵\n  vnormal = normalize( normalmatrix * normal ); \n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`;\n\n// fragmentshader,\nexport default /* glsl */ `\nvarying vec3 vnormal;\nvoid main() \n{\n  // \n  vec3 z = vec3(0.0,0.0,1.0);//z轴方向单位向量\n  //两个向量夹角余弦值dot(vnormal, z)范围[-1,1]\n  float x = abs(dot(vnormal, z));//点乘结果余弦值绝对值范围[0,1]\n  //透明度渐变模拟一种透明发光的感觉\n  // 夹角零度 余弦值1  夹角90度余弦值0   \n  // 对于球体而言：夹角90度的边缘部分最亮或说不透明 中间完全透明\n  //float alpha = 1.0-x;//透明度随着余弦值线性变化\n    float alpha = pow( 1.0 - x, 3.0 );//透明度随着余弦值非线性变化  比如二次方  三次方 渲染不同的效果\n    gl_fragcolor = vec4( vec3(0.0,1.0,1.0), alpha );\n}\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n\n# 半球\n\n// 创建一个半球\nvar geometry = new three.spheregeometry(25, 30,30,0,math.pi*2,0,math.pi/2);\n\n\nvar material = new three.shadermaterial({\n  vertexshader:   vertexshader,\n  fragmentshader: fragmentshader,\n  transparent: true\n})\n\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar s = 2; //波动范围设置\nvar _s = 1.0;\n\nfunction waveanimation() {\n  _s += 0.02;\n  mesh.scale.set(_s, _s, _s);\n  if (_s > s) _s = 1.0;\n  requestanimationframe(waveanimation);\n}\nwaveanimation();\n\n//light_fragment.glsl\nexport default /* glsl */ `\nvarying vec3 vnormal;\nvoid main() \n{\n  vec3 z = vec3(0.0,0.0,1.0);//z轴方向单位向量\n  //两个向量夹角余弦值dot(vnormal, z)范围[-1,1]\n  float x = abs(dot(vnormal, z));//点乘结果余弦值绝对值范围[0,1]\n  //透明度渐变模拟一种透明发光的感觉\n  // 夹角零度 余弦值1  夹角90度余弦值0   \n  // 对于球体而言：夹角90度的边缘部分最亮或说不透明 中间完全透明\n  //float alpha = 1.0-x;//透明度随着余弦值线性变化\n  float alpha = pow( 1.0 - x, 2.0 );//透明度随着余弦值非线性变化  比如二次方  三次方 渲染不同的效果\n  gl_fragcolor = vec4( vec3(0.0,1.0,1.0), alpha );\n}\n`;\n//light_vertex.glsl\nexport default /* glsl */`\nvarying vec3 vnormal;\nvoid main() \n{\n  // normal：对应geometry.attributes.normal数据\n  // 相机视图矩阵和模型自身的矩阵变换都会影响模型表面某位置法线相对视线夹角发生改变\n  // 法线矩阵normalmatrix是通过模型的模型矩阵和视图矩阵变换而来\n  // three.js内部normalmatrix表示顶点法线的变换矩阵\n  vnormal = normalize( normalmatrix * normal ); \n  gl_position = projectionmatrix * modelviewmatrix * vec4( position, 1.0 );\n}\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"后期处理EffectComposer",frontmatter:{title:"后期处理EffectComposer",date:"2023-11-29T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%90%8E%E6%9C%9F%E5%A4%84%E7%90%86EffectComposer.html",relativePath:"views/threejs/后期处理EffectComposer.md",key:"v-2b3d4044",path:"/views/threejs/%E5%90%8E%E6%9C%9F%E5%A4%84%E7%90%86EffectComposer.html",headers:[{level:2,title:"后处理(高亮发光描边OutlinePass)",slug:"后处理-高亮发光描边outlinepass",normalizedTitle:"后处理(高亮发光描边outlinepass)",charIndex:3},{level:2,title:"颜色设置",slug:"颜色设置",normalizedTitle:"颜色设置",charIndex:29},{level:2,title:"Bloom发光通道",slug:"bloom发光通道",normalizedTitle:"bloom发光通道",charIndex:37},{level:2,title:"GlitchPass闪屏特效",slug:"glitchpass闪屏特效",normalizedTitle:"glitchpass闪屏特效",charIndex:50},{level:2,title:"多通道",slug:"多通道",normalizedTitle:"多通道",charIndex:68},{level:2,title:"按钮操控后期特效",slug:"按钮操控后期特效",normalizedTitle:"按钮操控后期特效",charIndex:75},{level:2,title:"抗锯齿后处理",slug:"抗锯齿后处理",normalizedTitle:"抗锯齿后处理",charIndex:87}],excerpt:"<Boxx/>\n",headersStr:"后处理(高亮发光描边OutlinePass) 颜色设置 Bloom发光通道 GlitchPass闪屏特效 多通道 按钮操控后期特效 抗锯齿后处理",content:" * 后处理(高亮发光描边OutlinePass)\n * 颜色设置\n * Bloom发光通道\n * GlitchPass闪屏特效\n * 多通道\n * 按钮操控后期特效\n * 抗锯齿后处理\n\n炫酷的后期特效\n\n\n\n\n# 后处理(高亮发光描边OutlinePass)\n\n// 引入后处理扩展库EffectComposer.js\nimport { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';\n// 引入渲染器通道RenderPass\nimport { RenderPass } from 'three/addons/postprocessing/RenderPass.js';\n// 引入OutlinePass通道\nimport { OutlinePass } from 'three/addons/postprocessing/OutlinePass.js';\n\nimport {model,mesh} from './model.js'; //模型对象\n\n// 创建后处理对象EffectComposer，WebGL渲染器作为参数\nconst composer = new EffectComposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderPass = new RenderPass(scene, camera);\n// 设置renderPass通道\ncomposer.addPass(renderPass);\n\n// 创建OutlinePass通道,显示模型外轮廓边框\nconst v2 = new THREE.Vector2(window.innerWidth, window.innerWidth);\n// outlinePass第一个参数v2的尺寸和canvas画布保持一致\nconst outlinePass = new OutlinePass(v2, scene, camera);\n//设置需要高亮发光描边的模型对象\noutlinePass.selectedObjects = [mesh];\n// 设置OutlinePass通道\ncomposer.addPass(outlinePass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 颜色设置\n\n//高亮发光描边外观样式设置\noutlinePass.visibleEdgeColor.set(0xffff00); //模型描边颜色，默认白色         \noutlinePass.edgeThickness = 4; //高亮发光描边厚度\nconsole.log('edgeStrength',outlinePass.edgeStrength);\noutlinePass.edgeStrength = 6; //高亮描边发光强度\n// outlinePass.pulsePeriod = 2; //模型闪烁频率控制，默认0不闪烁\n// 设置OutlinePass通道\ncomposer.addPass(outlinePass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# Bloom发光通道\n\n物体整个发光\n\n// 创建后处理对象EffectComposer，WebGL渲染器作为参数\nconst composer = new EffectComposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderPass = new RenderPass(scene, camera);\n// 设置renderPass通道\ncomposer.addPass(renderPass);\n\n\n// UnrealBloomPass第一个参数是一个二维向量，xy分量和canvas画布宽高度保持一致\nconst bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight));\nconsole.log('发光强度',bloomPass.strength);\nbloomPass.strength = 0.5;//bloom发光强度\n// 设置bloomPass通道\ncomposer.addPass(bloomPass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# GlitchPass闪屏特效\n\n不用选择固定的mesh\n\n// 创建后处理对象EffectComposer，WebGL渲染器作为参数\nconst composer = new EffectComposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderPass = new RenderPass(scene, camera);\n// 设置renderPass通道\ncomposer.addPass(renderPass);\n\nconst glitchPass = new GlitchPass();\n// 设置glitchPass通道\ncomposer.addPass(glitchPass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 多通道\n\n// 创建后处理对象EffectComposer，WebGL渲染器作为参数\nconst composer = new EffectComposer(renderer);\n// 1. 创建一个渲染器通道，场景和相机作为参数\nconst renderPass = new RenderPass(scene, camera);\n// 设置renderPass通道\ncomposer.addPass(renderPass);\n\n// 2. 创建OutlinePass通道\nconst v2 = new THREE.Vector2(window.innerWidth, window.innerWidth);\nconst outlinePass = new OutlinePass(v2, scene, camera);\noutlinePass.selectedObjects = [mesh];\noutlinePass.edgeThickness = 4;\noutlinePass.edgeStrength = 6;\ncomposer.addPass(outlinePass);\n\n// 3. 设置glitchPass通道\nconst glitchPass = new GlitchPass();\ncomposer.addPass(glitchPass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 按钮操控后期特效\n\ndocument.getElementById('A').addEventListener('click',function(){\n    const A = model.getObjectByName ('设备A');\n    outlinePass.selectedObjects = [A];\n})\ndocument.getElementById('B').addEventListener('click',function(){\n    const B = model.getObjectByName ('设备B');\n    outlinePass.selectedObjects = [B];\n})\n\n//gltf后处理颜色异常(伽马校正) \n\n// 创建伽马校正通道\nconst gammaPass= new ShaderPass(GammaCorrectionShader);\ncomposer.addPass(gammaPass);\n// console.log('GammaCorrectionShader',GammaCorrectionShader);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 抗锯齿后处理\n\n// FAXX抗锯齿通道\nconst FXAAPass = new ShaderPass( FXAAShader );\n// `.getPixelRatio()`获取`renderer.setPixelRatio()`设置的值\nconst pixelRatio = renderer.getPixelRatio();//获取设备像素比 \n// width、height是canva画布的宽高度\nFXAAPass.uniforms.resolution.value.x = 1 /(width*pixelRatio);\nFXAAPass.uniforms.resolution.value.y = 1 /(height*pixelRatio);\ncomposer.addPass( FXAAPass );\n//获取.setPixelRatio()设置的设备像素比\nconst pixelRatio = renderer.getPixelRatio();\n\n\n\n// 创建SMAAPass抗锯齿通道\n// width、height是canva画布的宽高度\nconst smaaPass = new SMAAPass(width * pixelRatio, height * pixelRatio);\ncomposer.addPass(smaaPass);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",normalizedContent:" * 后处理(高亮发光描边outlinepass)\n * 颜色设置\n * bloom发光通道\n * glitchpass闪屏特效\n * 多通道\n * 按钮操控后期特效\n * 抗锯齿后处理\n\n炫酷的后期特效\n\n\n\n\n# 后处理(高亮发光描边outlinepass)\n\n// 引入后处理扩展库effectcomposer.js\nimport { effectcomposer } from 'three/addons/postprocessing/effectcomposer.js';\n// 引入渲染器通道renderpass\nimport { renderpass } from 'three/addons/postprocessing/renderpass.js';\n// 引入outlinepass通道\nimport { outlinepass } from 'three/addons/postprocessing/outlinepass.js';\n\nimport {model,mesh} from './model.js'; //模型对象\n\n// 创建后处理对象effectcomposer，webgl渲染器作为参数\nconst composer = new effectcomposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderpass = new renderpass(scene, camera);\n// 设置renderpass通道\ncomposer.addpass(renderpass);\n\n// 创建outlinepass通道,显示模型外轮廓边框\nconst v2 = new three.vector2(window.innerwidth, window.innerwidth);\n// outlinepass第一个参数v2的尺寸和canvas画布保持一致\nconst outlinepass = new outlinepass(v2, scene, camera);\n//设置需要高亮发光描边的模型对象\noutlinepass.selectedobjects = [mesh];\n// 设置outlinepass通道\ncomposer.addpass(outlinepass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 颜色设置\n\n//高亮发光描边外观样式设置\noutlinepass.visibleedgecolor.set(0xffff00); //模型描边颜色，默认白色         \noutlinepass.edgethickness = 4; //高亮发光描边厚度\nconsole.log('edgestrength',outlinepass.edgestrength);\noutlinepass.edgestrength = 6; //高亮描边发光强度\n// outlinepass.pulseperiod = 2; //模型闪烁频率控制，默认0不闪烁\n// 设置outlinepass通道\ncomposer.addpass(outlinepass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n\n# bloom发光通道\n\n物体整个发光\n\n// 创建后处理对象effectcomposer，webgl渲染器作为参数\nconst composer = new effectcomposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderpass = new renderpass(scene, camera);\n// 设置renderpass通道\ncomposer.addpass(renderpass);\n\n\n// unrealbloompass第一个参数是一个二维向量，xy分量和canvas画布宽高度保持一致\nconst bloompass = new unrealbloompass(new three.vector2(window.innerwidth, window.innerheight));\nconsole.log('发光强度',bloompass.strength);\nbloompass.strength = 0.5;//bloom发光强度\n// 设置bloompass通道\ncomposer.addpass(bloompass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# glitchpass闪屏特效\n\n不用选择固定的mesh\n\n// 创建后处理对象effectcomposer，webgl渲染器作为参数\nconst composer = new effectcomposer(renderer);\n// 创建一个渲染器通道，场景和相机作为参数\nconst renderpass = new renderpass(scene, camera);\n// 设置renderpass通道\ncomposer.addpass(renderpass);\n\nconst glitchpass = new glitchpass();\n// 设置glitchpass通道\ncomposer.addpass(glitchpass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 多通道\n\n// 创建后处理对象effectcomposer，webgl渲染器作为参数\nconst composer = new effectcomposer(renderer);\n// 1. 创建一个渲染器通道，场景和相机作为参数\nconst renderpass = new renderpass(scene, camera);\n// 设置renderpass通道\ncomposer.addpass(renderpass);\n\n// 2. 创建outlinepass通道\nconst v2 = new three.vector2(window.innerwidth, window.innerwidth);\nconst outlinepass = new outlinepass(v2, scene, camera);\noutlinepass.selectedobjects = [mesh];\noutlinepass.edgethickness = 4;\noutlinepass.edgestrength = 6;\ncomposer.addpass(outlinepass);\n\n// 3. 设置glitchpass通道\nconst glitchpass = new glitchpass();\ncomposer.addpass(glitchpass);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 按钮操控后期特效\n\ndocument.getelementbyid('a').addeventlistener('click',function(){\n    const a = model.getobjectbyname ('设备a');\n    outlinepass.selectedobjects = [a];\n})\ndocument.getelementbyid('b').addeventlistener('click',function(){\n    const b = model.getobjectbyname ('设备b');\n    outlinepass.selectedobjects = [b];\n})\n\n//gltf后处理颜色异常(伽马校正) \n\n// 创建伽马校正通道\nconst gammapass= new shaderpass(gammacorrectionshader);\ncomposer.addpass(gammapass);\n// console.log('gammacorrectionshader',gammacorrectionshader);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 抗锯齿后处理\n\n// faxx抗锯齿通道\nconst fxaapass = new shaderpass( fxaashader );\n// `.getpixelratio()`获取`renderer.setpixelratio()`设置的值\nconst pixelratio = renderer.getpixelratio();//获取设备像素比 \n// width、height是canva画布的宽高度\nfxaapass.uniforms.resolution.value.x = 1 /(width*pixelratio);\nfxaapass.uniforms.resolution.value.y = 1 /(height*pixelratio);\ncomposer.addpass( fxaapass );\n//获取.setpixelratio()设置的设备像素比\nconst pixelratio = renderer.getpixelratio();\n\n\n\n// 创建smaapass抗锯齿通道\n// width、height是canva画布的宽高度\nconst smaapass = new smaapass(width * pixelratio, height * pixelratio);\ncomposer.addpass(smaapass);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"射线拾取模型",frontmatter:{title:"射线拾取模型",date:"2023-12-13T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%B0%84%E7%BA%BF%E6%8B%BE%E5%8F%96%E6%A8%A1%E5%9E%8B.html",relativePath:"views/threejs/射线拾取模型.md",key:"v-ee8e7f9c",path:"/views/threejs/%E5%B0%84%E7%BA%BF%E6%8B%BE%E5%8F%96%E6%A8%A1%E5%9E%8B.html",headers:[{level:2,title:"射线基础",slug:"射线基础",normalizedTitle:"射线基础",charIndex:3},{level:2,title:"鼠标选中模型(!)",slug:"鼠标选中模型",normalizedTitle:"鼠标选中模型(!)",charIndex:11},{level:2,title:"屏幕坐标转webgl坐标",slug:"屏幕坐标转webgl坐标",normalizedTitle:"屏幕坐标转webgl坐标",charIndex:24},{level:2,title:"Canvas尺寸变化(射线坐标计算)",slug:"canvas尺寸变化-射线坐标计算",normalizedTitle:"canvas尺寸变化(射线坐标计算)",charIndex:40},{level:2,title:"射线选中加后期",slug:"射线选中加后期",normalizedTitle:"射线选中加后期",charIndex:62},{level:2,title:"选中精灵模型",slug:"选中精灵模型",normalizedTitle:"选中精灵模型",charIndex:73}],excerpt:"<Boxx/>\n",headersStr:"射线基础 鼠标选中模型(!) 屏幕坐标转webgl坐标 Canvas尺寸变化(射线坐标计算) 射线选中加后期 选中精灵模型",content:" * 射线基础\n * 鼠标选中模型(!)\n * 屏幕坐标转webgl坐标\n * Canvas尺寸变化(射线坐标计算)\n * 射线选中加后期\n * 选中精灵模型\n\n\n\n\n# 射线基础\n\n// 创建射线对象Ray\nconst ray = new THREE.Ray()\n// 设置射线起点\nray.origin = new THREE.Vector3(0,0,0);\n// 设置射线方向射线方向沿着x轴\nray.direction = new THREE.Vector3(1,0,0).normalize();\n\n\n// 三角形三个点坐标\nconst p1 = new THREE.Vector3(100, 25, 0);\nconst p2 = new THREE.Vector3(100, -25, 25);\nconst p3 = new THREE.Vector3(100, -25, -25);\nconst point = new THREE.Vector3();//用来记录射线和三角形的交叉点\n// `.intersectTriangle()`计算射线和三角形是否相交叉，相交返回交点，不相交返回null\n// 参数4表示是否进行背面剔除\n// p1,p2,p3理解为一个三角形，有正反两面，一面是正面，一面是反面，关于三角形正反面可以参考2.3节讲解。\n//在一面观察p1,p2,p3是逆时针方向，表示正面，另一面p1,p2,p3就是顺时针方向，表示背面\nconst result = ray.intersectTriangle(p1,p2,p3,false,point);\nconsole.log('交叉点坐标', point);\nconsole.log('查看是否相交', result);\n\n// 参数4设为true，进行背面剔除，返回值null，虽然交叉，但背面对着射线，视为无效\nconst r = ray.intersectTriangle(p1,p2,p3,true,point);\nconsole.log('查看是否相交', r);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 鼠标选中模型(!)\n\n比较的重要\n\nrenderer.domElement.addEventListener('click', function (event) {\n    // .offsetY、.offsetX以canvas画布左上角为坐标原点,单位px\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标px、py转WebGL标准设备坐标x、y\n    //width、height表示canvas画布宽高度\n    const x = (px / width) * 2 - 1;\n    const y = -(py / height) * 2 + 1;\n    //创建一个射线投射器`Raycaster`\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()计算射线投射器`Raycaster`的射线属性.ray\n    // 形象点说就是在点击位置创建一条射线，用来选中拾取模型对象\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    //.intersectObjects([mesh1, mesh2, mesh3])对参数中的网格模型对象进行射线交叉计算\n    // 未选中对象返回空数组[],选中一个对象，数组1个元素，选中多个对象，数组多个元素\n    const intersects = raycaster.intersectObjects([mesh1, mesh2, mesh3]);\n    console.log(\"射线器返回的对象\", intersects);\n    // intersects.length大于0说明，说明选中了模型\n    if (intersects.length > 0) {\n        // console.log(\"交叉点\", intersects[0].point);\n        // console.log(\"交叉对象\",intersects[0].object)\n        // 选中模型的第一个模型，设置为红色\n        intersects[0].object.material.color.set(0xff0000);\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 屏幕坐标转webgl坐标\n\naddEventListener('click',function(event){\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标px、py转WebGL标准设备坐标x、y\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    console.log('x',x);\n})\n\n\n// canvas距离顶部和左侧距离均为0px,.clientX和.offsetX等价\naddEventListener('click',function(event){\n    const px = event.clientX;\n    const py = event.clientY;\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    console.log('x',x);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# Canvas尺寸变化(射线坐标计算)\n\n当canvas尺寸变化时候,需要重新计算webgl坐标系. 注意下面两段代码的顺序就好\n\n// 画布跟随窗口变化\nwindow.onresize = function () {\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    camera.aspect = window.innerWidth / window.innerHeight;\n    camera.updateProjectionMatrix();\n};\n\nrenderer.domElement.addEventListener('click', function (event) {\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标转WebGL标准设备坐标\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()在点击位置生成射线ray\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects([mesh1, mesh2, mesh3]);\n    if (intersects.length > 0) {\n        // 选中模型的第一个模型，设置为红色\n        intersects[0].object.material.color.set(0xff0000);\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 射线选中加后期\n\naddEventListener('click', function (event) {\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()在点击位置生成raycaster的射线ray\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    const cunchu = model.getObjectByName('存储罐');\n    console.log('children',cunchu.children[0].children)\n    // 射线拾取模型对象(包含多个Mesh)\n    // 可以给待选对象的所有子孙后代Mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseObj，并给chooseObj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.isMesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinePass.selectedObjects = [intersects[0].object.ancestors];\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 选中精灵模型\n\n// 精灵模型1\nconst texture = new THREE.TextureLoader().load(\"./光点.png\");\nconst spriteMaterial = new THREE.SpriteMaterial({\n  map: texture, //设置精灵纹理贴图\n});\nconst sprite = new THREE.Sprite(spriteMaterial);\nsprite.scale.set(10, 10, 1); \nsprite.position.set(0, 100 + 10/2, -15);\nmodel.add(sprite);\n// 精灵模型2\nconst sprite2 = sprite.clone();\nsprite2.material = sprite2.material.clone();\nsprite2.material.color.set(0xffff00);\nsprite2.position.z=15;\n// 功能按钮：精灵模型sprite，sprite2\nmodel.add(sprite,sprite2);\n\n\nsprite.change = function(){\n  mesh.material.color.set(0xffffff);\n}\nsprite.name1 = 'liuyuhao'\nsprite2.change = function(){\n  mesh.material.color.set(0xffff00);\n}\n\nrenderer.domElement.addEventListener('click', function (event) {\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()在点击位置生成raycaster的射线ray\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects([sprite,sprite2]);\n    if (intersects.length > 0) {\n        intersects[0].object.change();//执行选中sprite绑定的change函数\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",normalizedContent:" * 射线基础\n * 鼠标选中模型(!)\n * 屏幕坐标转webgl坐标\n * canvas尺寸变化(射线坐标计算)\n * 射线选中加后期\n * 选中精灵模型\n\n\n\n\n# 射线基础\n\n// 创建射线对象ray\nconst ray = new three.ray()\n// 设置射线起点\nray.origin = new three.vector3(0,0,0);\n// 设置射线方向射线方向沿着x轴\nray.direction = new three.vector3(1,0,0).normalize();\n\n\n// 三角形三个点坐标\nconst p1 = new three.vector3(100, 25, 0);\nconst p2 = new three.vector3(100, -25, 25);\nconst p3 = new three.vector3(100, -25, -25);\nconst point = new three.vector3();//用来记录射线和三角形的交叉点\n// `.intersecttriangle()`计算射线和三角形是否相交叉，相交返回交点，不相交返回null\n// 参数4表示是否进行背面剔除\n// p1,p2,p3理解为一个三角形，有正反两面，一面是正面，一面是反面，关于三角形正反面可以参考2.3节讲解。\n//在一面观察p1,p2,p3是逆时针方向，表示正面，另一面p1,p2,p3就是顺时针方向，表示背面\nconst result = ray.intersecttriangle(p1,p2,p3,false,point);\nconsole.log('交叉点坐标', point);\nconsole.log('查看是否相交', result);\n\n// 参数4设为true，进行背面剔除，返回值null，虽然交叉，但背面对着射线，视为无效\nconst r = ray.intersecttriangle(p1,p2,p3,true,point);\nconsole.log('查看是否相交', r);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 鼠标选中模型(!)\n\n比较的重要\n\nrenderer.domelement.addeventlistener('click', function (event) {\n    // .offsety、.offsetx以canvas画布左上角为坐标原点,单位px\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标px、py转webgl标准设备坐标x、y\n    //width、height表示canvas画布宽高度\n    const x = (px / width) * 2 - 1;\n    const y = -(py / height) * 2 + 1;\n    //创建一个射线投射器`raycaster`\n    const raycaster = new three.raycaster();\n    //.setfromcamera()计算射线投射器`raycaster`的射线属性.ray\n    // 形象点说就是在点击位置创建一条射线，用来选中拾取模型对象\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    //.intersectobjects([mesh1, mesh2, mesh3])对参数中的网格模型对象进行射线交叉计算\n    // 未选中对象返回空数组[],选中一个对象，数组1个元素，选中多个对象，数组多个元素\n    const intersects = raycaster.intersectobjects([mesh1, mesh2, mesh3]);\n    console.log(\"射线器返回的对象\", intersects);\n    // intersects.length大于0说明，说明选中了模型\n    if (intersects.length > 0) {\n        // console.log(\"交叉点\", intersects[0].point);\n        // console.log(\"交叉对象\",intersects[0].object)\n        // 选中模型的第一个模型，设置为红色\n        intersects[0].object.material.color.set(0xff0000);\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 屏幕坐标转webgl坐标\n\naddeventlistener('click',function(event){\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标px、py转webgl标准设备坐标x、y\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    console.log('x',x);\n})\n\n\n// canvas距离顶部和左侧距离均为0px,.clientx和.offsetx等价\naddeventlistener('click',function(event){\n    const px = event.clientx;\n    const py = event.clienty;\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    console.log('x',x);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# canvas尺寸变化(射线坐标计算)\n\n当canvas尺寸变化时候,需要重新计算webgl坐标系. 注意下面两段代码的顺序就好\n\n// 画布跟随窗口变化\nwindow.onresize = function () {\n    renderer.setsize(window.innerwidth, window.innerheight);\n    camera.aspect = window.innerwidth / window.innerheight;\n    camera.updateprojectionmatrix();\n};\n\nrenderer.domelement.addeventlistener('click', function (event) {\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标转webgl标准设备坐标\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    const raycaster = new three.raycaster();\n    //.setfromcamera()在点击位置生成射线ray\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects([mesh1, mesh2, mesh3]);\n    if (intersects.length > 0) {\n        // 选中模型的第一个模型，设置为红色\n        intersects[0].object.material.color.set(0xff0000);\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 射线选中加后期\n\naddeventlistener('click', function (event) {\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    const raycaster = new three.raycaster();\n    //.setfromcamera()在点击位置生成raycaster的射线ray\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    const cunchu = model.getobjectbyname('存储罐');\n    console.log('children',cunchu.children[0].children)\n    // 射线拾取模型对象(包含多个mesh)\n    // 可以给待选对象的所有子孙后代mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseobj，并给chooseobj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.ismesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinepass.selectedobjects = [intersects[0].object.ancestors];\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 选中精灵模型\n\n// 精灵模型1\nconst texture = new three.textureloader().load(\"./光点.png\");\nconst spritematerial = new three.spritematerial({\n  map: texture, //设置精灵纹理贴图\n});\nconst sprite = new three.sprite(spritematerial);\nsprite.scale.set(10, 10, 1); \nsprite.position.set(0, 100 + 10/2, -15);\nmodel.add(sprite);\n// 精灵模型2\nconst sprite2 = sprite.clone();\nsprite2.material = sprite2.material.clone();\nsprite2.material.color.set(0xffff00);\nsprite2.position.z=15;\n// 功能按钮：精灵模型sprite，sprite2\nmodel.add(sprite,sprite2);\n\n\nsprite.change = function(){\n  mesh.material.color.set(0xffffff);\n}\nsprite.name1 = 'liuyuhao'\nsprite2.change = function(){\n  mesh.material.color.set(0xffff00);\n}\n\nrenderer.domelement.addeventlistener('click', function (event) {\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    const raycaster = new three.raycaster();\n    //.setfromcamera()在点击位置生成raycaster的射线ray\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects([sprite,sprite2]);\n    if (intersects.length > 0) {\n        intersects[0].object.change();//执行选中sprite绑定的change函数\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"常见几何体",frontmatter:{title:"常见几何体",date:"2023-11-23T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%B8%B8%E8%A7%81%E5%87%A0%E4%BD%95%E4%BD%93.html",relativePath:"views/threejs/常见几何体.md",key:"v-e88b1782",path:"/views/threejs/%E5%B8%B8%E8%A7%81%E5%87%A0%E4%BD%95%E4%BD%93.html",headers:[{level:2,title:"示例代码",slug:"示例代码",normalizedTitle:"示例代码",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"示例代码",content:" * 示例代码\n\n\n\n\n# 示例代码\n\n//BoxGeometry：长方体\nconst geometry = new THREE.BoxGeometry(100, 100, 100);\n// SphereGeometry：球体\nconst geometry = new THREE.SphereGeometry(50);\n// CylinderGeometry：圆柱\nconst geometry = new THREE.CylinderGeometry(50,50,100);\n// PlaneGeometry：矩形平面\nconst geometry = new THREE.PlaneGeometry(100,50);\n// CircleGeometry：圆形平面\nconst geometry = new THREE.CircleGeometry(50);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n详情可以查询手册:threejs.org",normalizedContent:" * 示例代码\n\n\n\n\n# 示例代码\n\n//boxgeometry：长方体\nconst geometry = new three.boxgeometry(100, 100, 100);\n// spheregeometry：球体\nconst geometry = new three.spheregeometry(50);\n// cylindergeometry：圆柱\nconst geometry = new three.cylindergeometry(50,50,100);\n// planegeometry：矩形平面\nconst geometry = new three.planegeometry(100,50);\n// circlegeometry：圆形平面\nconst geometry = new three.circlegeometry(50);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n详情可以查询手册:threejs.org",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"层级模型",frontmatter:{title:"层级模型",date:"2023-11-22T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!0},regularPath:"/views/threejs/%E5%B1%82%E7%BA%A7%E6%A8%A1%E5%9E%8B.html",relativePath:"views/threejs/层级模型.md",key:"v-59497900",path:"/views/threejs/%E5%B1%82%E7%BA%A7%E6%A8%A1%E5%9E%8B.html",headers:[{level:2,title:"Group",slug:"group",normalizedTitle:"group",charIndex:3},{level:2,title:"traverse遍历",slug:"traverse遍历",normalizedTitle:"traverse遍历",charIndex:12},{level:2,title:"本地坐标和世界坐标",slug:"本地坐标和世界坐标",normalizedTitle:"本地坐标和世界坐标",charIndex:26},{level:2,title:"remove",slug:"remove",normalizedTitle:"remove",charIndex:39},{level:2,title:"隐藏和显示",slug:"隐藏和显示",normalizedTitle:"隐藏和显示",charIndex:49}],excerpt:"<Boxx/>\n",headersStr:"Group traverse遍历 本地坐标和世界坐标 remove 隐藏和显示",content:" * Group\n * traverse遍历\n * 本地坐标和世界坐标\n * remove\n * 隐藏和显示\n\n\n\n\n# Group\n\n// 引入three.js\nimport * as THREE from 'three';\n// 创建一个层级模型对象\n//创建两个网格模型mesh1、mesh2\nconst geometry = new THREE.BoxGeometry(20, 20, 20);\nconst material = new THREE.MeshLambertMaterial({color: 0x00ffff});\nconst group = new THREE.Group();\nconst mesh1 = new THREE.Mesh(geometry, material);\nconst mesh2 = new THREE.Mesh(geometry, material);\nmesh2.translateX(25);\n//把mesh1型插入到组group中，mesh1作为group的子对象\ngroup.add(mesh1);\n//把mesh2型插入到组group中，mesh2作为group的子对象\ngroup.add(mesh2);\n//沿着Y轴平移mesh1和mesh2的父对象，mesh1和mesh2跟着平移\ngroup.translateY(100);\n//父对象缩放，子对象跟着缩放\ngroup.scale.set(4,4,4);\n//父对象旋转，子对象跟着旋转\ngroup.rotateY(Math.PI/6)\n// group也会作为场景scene的子对象插入到场景中\nexport default group;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# traverse遍历\n\nmodel.traverse(function(obj) {\n    console.log('所有模型节点的名称',obj.name);\n    // obj.isMesh：if判断模型对象obj是不是网格模型'Mesh'\n    if (obj.isMesh) {//判断条件也可以是obj.type === 'Mesh'\n        obj.material.color.set(0xffff00);\n    }\n});\n// .getObjectByName()根据名字选择模型节点\nconst mesh = model.getObjectByName('2号楼');\nmesh.material.color.set(0xff0000);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 本地坐标和世界坐标\n\nimport * as THREE from 'three';\n\nconst geometry = new THREE.BoxGeometry(20, 20, 20); \nconst material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff\n}); \nconst mesh = new THREE.Mesh(geometry, material); \nmesh.position.set(50, 0, 0);\nconst group = new THREE.Group();\ngroup.add(mesh); //网格模型添加到组中\ngroup.position.set(50, 0, 0);\n// 声明一个三维向量用来表示某个坐标\nconst worldPosition = new THREE.Vector3();\n// 获取mesh的世界坐标，你会发现mesh的世界坐标受到父对象group的.position影响\nmesh.getWorldPosition(worldPosition)\nconsole.log('世界坐标',worldPosition);\nconsole.log('本地坐标',mesh.position);\n//可视化mesh的局部坐标系\nconst meshAxesHelper = new THREE.AxesHelper(50);\nmesh.add(meshAxesHelper);\n\nexport default group;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# remove\n\ngroup.add(mesh1);\n\n// 删除父对象group的子对象网格模型mesh1\ngroup.remove(mesh1);\n\n\n1\n2\n3\n4\n\n\n\n# 隐藏和显示\n\nmesh.visible =false;\n\n\n\n1\n2\n",normalizedContent:" * group\n * traverse遍历\n * 本地坐标和世界坐标\n * remove\n * 隐藏和显示\n\n\n\n\n# group\n\n// 引入three.js\nimport * as three from 'three';\n// 创建一个层级模型对象\n//创建两个网格模型mesh1、mesh2\nconst geometry = new three.boxgeometry(20, 20, 20);\nconst material = new three.meshlambertmaterial({color: 0x00ffff});\nconst group = new three.group();\nconst mesh1 = new three.mesh(geometry, material);\nconst mesh2 = new three.mesh(geometry, material);\nmesh2.translatex(25);\n//把mesh1型插入到组group中，mesh1作为group的子对象\ngroup.add(mesh1);\n//把mesh2型插入到组group中，mesh2作为group的子对象\ngroup.add(mesh2);\n//沿着y轴平移mesh1和mesh2的父对象，mesh1和mesh2跟着平移\ngroup.translatey(100);\n//父对象缩放，子对象跟着缩放\ngroup.scale.set(4,4,4);\n//父对象旋转，子对象跟着旋转\ngroup.rotatey(math.pi/6)\n// group也会作为场景scene的子对象插入到场景中\nexport default group;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# traverse遍历\n\nmodel.traverse(function(obj) {\n    console.log('所有模型节点的名称',obj.name);\n    // obj.ismesh：if判断模型对象obj是不是网格模型'mesh'\n    if (obj.ismesh) {//判断条件也可以是obj.type === 'mesh'\n        obj.material.color.set(0xffff00);\n    }\n});\n// .getobjectbyname()根据名字选择模型节点\nconst mesh = model.getobjectbyname('2号楼');\nmesh.material.color.set(0xff0000);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 本地坐标和世界坐标\n\nimport * as three from 'three';\n\nconst geometry = new three.boxgeometry(20, 20, 20); \nconst material = new three.meshlambertmaterial({\n  color: 0x00ffff\n}); \nconst mesh = new three.mesh(geometry, material); \nmesh.position.set(50, 0, 0);\nconst group = new three.group();\ngroup.add(mesh); //网格模型添加到组中\ngroup.position.set(50, 0, 0);\n// 声明一个三维向量用来表示某个坐标\nconst worldposition = new three.vector3();\n// 获取mesh的世界坐标，你会发现mesh的世界坐标受到父对象group的.position影响\nmesh.getworldposition(worldposition)\nconsole.log('世界坐标',worldposition);\nconsole.log('本地坐标',mesh.position);\n//可视化mesh的局部坐标系\nconst meshaxeshelper = new three.axeshelper(50);\nmesh.add(meshaxeshelper);\n\nexport default group;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n\n# remove\n\ngroup.add(mesh1);\n\n// 删除父对象group的子对象网格模型mesh1\ngroup.remove(mesh1);\n\n\n1\n2\n3\n4\n\n\n\n# 隐藏和显示\n\nmesh.visible =false;\n\n\n\n1\n2\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"序列帧动画",frontmatter:{title:"序列帧动画",date:"2023-12-19T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB.html",relativePath:"views/threejs/序列帧动画.md",key:"v-3c4eca5a",path:"/views/threejs/%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB.html",headers:[{level:2,title:"火焰序列帧",slug:"火焰序列帧",normalizedTitle:"火焰序列帧",charIndex:3},{level:2,title:"平行光",slug:"平行光",normalizedTitle:"平行光",charIndex:12}],excerpt:"<Boxx/>\n",headersStr:"火焰序列帧 平行光",content:" * 火焰序列帧\n * 平行光\n\n\n\n\n# 火焰序列帧\n\n把很多的图片形成一张图片,从左到右依次播放\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport {\n  tag\n} from './messageTag.js'; //HTML标签相关代码\n// 创建一个火焰动画\nfunction createFlame() {\n  // 矩形平面网格模型，用来渲染火焰的动画效果\n  var w = 25; //火焰宽度  通过参数w可以快速调节火焰大小，以便于适应对应的三维场景\n  var h = 1.6 * w; //火焰高度\n  var geometry = new THREE.PlaneGeometry(w, h); //矩形平面\n  geometry.translate(0, h / 2, 0); //火焰底部中点和局部坐标系坐标原点重合\n\n  var textureLoader = new THREE.TextureLoader(); //纹理贴图加载器\n  var texture = textureLoader.load('./scene/火焰.png'); //创建一个纹理对象\n  var num = 15; //火焰多少帧图\n  // .repeat方法设置uv两个方向纹理重复数量\n  texture.repeat.set(1 / num, 1); // 1/num：从图像上截图一帧火焰\n  // texture.offset.x = 0 / num;//选择第1帧火焰\n  // texture.offset.x = 1 / num;//选择第2帧火焰\n  // texture.offset.x = (num-1) / num;//选择第一帧火焰\n  var material = new THREE.MeshBasicMaterial({\n    map: texture,\n    transparent: true,\n    opacity: 0.4, //整体调节透明度 和三维场景相融合\n    side: THREE.DoubleSide, //双面可见\n    depthWrite: false, //是否对深度缓冲区有任何的影响\n  });\n  var mesh = new THREE.Mesh(geometry, material); // 火焰网格模型\n  var flame = new THREE.Group(); //火焰组对象\n  // 两个火焰mesh交叉叠加\n  // flame.add(mesh, mesh.clone().rotateY(Math.PI / 2))\n  // 四个火焰mesh交叉叠加\n  flame.add(mesh, mesh.clone().rotateY(Math.PI / 2), mesh.clone().rotateY(Math.PI / 4), mesh.clone().rotateY(Math.PI / 4 * 3))\n\n\n  var t = 0;\n  var stopAnimationFrame = null;\n  // 火焰动画生成\n  function UpdateLoop() {\n    t += 0.1; //调节火焰切换速度\n    if (t > num) t = 0;\n    //  Math.floor(t)取整 保证一帧一帧切换\n    texture.offset.x = Math.floor(t) / num; // 动态更新纹理偏移 播放关键帧动画 产生火焰然后效果\n    stopAnimationFrame = window.requestAnimationFrame(UpdateLoop); //请求再次执行函数UpdateLoop\n  }\n  UpdateLoop();\n\n  // 火焰动画停止\n  flame.stop = function () {\n    window.cancelAnimationFrame(stopAnimationFrame); //取消动画\n  }\n  // flame.stop()\n\n  // 火焰上方标签\n  var messageTag = tag(\"某地失火了 ！！！\");\n  flame.add(messageTag); //id\"messageTag\"对应的HTML元素作为three.js标签\n  messageTag.position.y += h; //考虑火焰高度 向上适当偏移\n\n\n  return flame;\n}\nexport {\n  createFlame\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n\n\n\n# 平行光\n\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 0.7); // 颜色、强度\ndirectionalLight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionalLight);\n\n\n1\n2\n3\n",normalizedContent:" * 火焰序列帧\n * 平行光\n\n\n\n\n# 火焰序列帧\n\n把很多的图片形成一张图片,从左到右依次播放\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport {\n  tag\n} from './messagetag.js'; //html标签相关代码\n// 创建一个火焰动画\nfunction createflame() {\n  // 矩形平面网格模型，用来渲染火焰的动画效果\n  var w = 25; //火焰宽度  通过参数w可以快速调节火焰大小，以便于适应对应的三维场景\n  var h = 1.6 * w; //火焰高度\n  var geometry = new three.planegeometry(w, h); //矩形平面\n  geometry.translate(0, h / 2, 0); //火焰底部中点和局部坐标系坐标原点重合\n\n  var textureloader = new three.textureloader(); //纹理贴图加载器\n  var texture = textureloader.load('./scene/火焰.png'); //创建一个纹理对象\n  var num = 15; //火焰多少帧图\n  // .repeat方法设置uv两个方向纹理重复数量\n  texture.repeat.set(1 / num, 1); // 1/num：从图像上截图一帧火焰\n  // texture.offset.x = 0 / num;//选择第1帧火焰\n  // texture.offset.x = 1 / num;//选择第2帧火焰\n  // texture.offset.x = (num-1) / num;//选择第一帧火焰\n  var material = new three.meshbasicmaterial({\n    map: texture,\n    transparent: true,\n    opacity: 0.4, //整体调节透明度 和三维场景相融合\n    side: three.doubleside, //双面可见\n    depthwrite: false, //是否对深度缓冲区有任何的影响\n  });\n  var mesh = new three.mesh(geometry, material); // 火焰网格模型\n  var flame = new three.group(); //火焰组对象\n  // 两个火焰mesh交叉叠加\n  // flame.add(mesh, mesh.clone().rotatey(math.pi / 2))\n  // 四个火焰mesh交叉叠加\n  flame.add(mesh, mesh.clone().rotatey(math.pi / 2), mesh.clone().rotatey(math.pi / 4), mesh.clone().rotatey(math.pi / 4 * 3))\n\n\n  var t = 0;\n  var stopanimationframe = null;\n  // 火焰动画生成\n  function updateloop() {\n    t += 0.1; //调节火焰切换速度\n    if (t > num) t = 0;\n    //  math.floor(t)取整 保证一帧一帧切换\n    texture.offset.x = math.floor(t) / num; // 动态更新纹理偏移 播放关键帧动画 产生火焰然后效果\n    stopanimationframe = window.requestanimationframe(updateloop); //请求再次执行函数updateloop\n  }\n  updateloop();\n\n  // 火焰动画停止\n  flame.stop = function () {\n    window.cancelanimationframe(stopanimationframe); //取消动画\n  }\n  // flame.stop()\n\n  // 火焰上方标签\n  var messagetag = tag(\"某地失火了 ！！！\");\n  flame.add(messagetag); //id\"messagetag\"对应的html元素作为three.js标签\n  messagetag.position.y += h; //考虑火焰高度 向上适当偏移\n\n\n  return flame;\n}\nexport {\n  createflame\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n\n\n\n# 平行光\n\nconst directionallight = new three.directionallight(0xffffff, 0.7); // 颜色、强度\ndirectionallight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionallight);\n\n\n1\n2\n3\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"抗锯齿",frontmatter:{title:"抗锯齿",date:"2023-12-06T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%8A%97%E9%94%AF%E9%BD%BF.html",relativePath:"views/threejs/抗锯齿.md",key:"v-6b29a2eb",path:"/views/threejs/%E6%8A%97%E9%94%AF%E9%BD%BF.html",headers:[{level:2,title:"示例代码",slug:"示例代码",normalizedTitle:"示例代码",charIndex:17}],excerpt:"<Boxx/>\n<p>抗锯齿,开了会好一点</p>\n",headersStr:"示例代码",content:"抗锯齿,开了会好一点\n\n\n\n * 示例代码\n\n\n\n\n# 示例代码\n\nconst renderer = new THREE.WebGLRenderer({\n    antialias:true,//开启优化锯齿\n});\n\n\n1\n2\n3\n",normalizedContent:"抗锯齿,开了会好一点\n\n\n\n * 示例代码\n\n\n\n\n# 示例代码\n\nconst renderer = new three.webglrenderer({\n    antialias:true,//开启优化锯齿\n});\n\n\n1\n2\n3\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"建筑渲染(光环光带)",frontmatter:{title:"建筑渲染(光环光带)",date:"2023-12-03T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E5%BB%BA%E7%AD%91%E6%B8%B2%E6%9F%93.html",relativePath:"views/threejs/建筑渲染.md",key:"v-124f99fe",path:"/views/threejs/%E5%BB%BA%E7%AD%91%E6%B8%B2%E6%9F%93.html",headers:[{level:2,title:"建筑随着高度透明",slug:"建筑随着高度透明",normalizedTitle:"建筑随着高度透明",charIndex:3},{level:2,title:"雾",slug:"雾",normalizedTitle:"雾",charIndex:15},{level:2,title:"点阵(模拟地面)",slug:"点阵-模拟地面",normalizedTitle:"点阵(模拟地面)",charIndex:20},{level:2,title:"模型线框",slug:"模型线框",normalizedTitle:"模型线框",charIndex:32},{level:2,title:"扫光(光带)",slug:"扫光-光带",normalizedTitle:"扫光(光带)",charIndex:40},{level:2,title:"扫光(光环)",slug:"扫光-光环",normalizedTitle:"扫光(光环)",charIndex:50}],excerpt:"<Boxx/>\n",headersStr:"建筑随着高度透明 雾 点阵(模拟地面) 模型线框 扫光(光带) 扫光(光环)",content:" * 建筑随着高度透明\n * 雾\n * 点阵(模拟地面)\n * 模型线框\n * 扫光(光带)\n * 扫光(光环)\n\n\n\n\n# 建筑随着高度透明\n\nmaterial.onBeforeCompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n      'vPosition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vPosition.z/354.0);\n\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节,插值函数\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vPosition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变   (避免模型材质color属性影响渐变色，设置为默认的纯白色即可)\noutgoingLight = outgoingLight*gradient;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n// 不考虑漫反射材质光照计算的影响 不同面没有明暗变化  没有棱角感\n// gl_FragColor = vec4( gradient, 1.0);\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# 雾\n\n最好把最景色设置为和雾一样的颜色\n\nscene.fog = new THREE.Fog(0xcccccc, 10, 12000);\n\n\n1\n\n\n\n# 点阵(模拟地面)\n\nvar GroundGrid = CreateGroundGrid(100, 80, 0x004444, 0.05, 0x00aaaa)\nGroundGrid.position.z = -0.1;\n\n// 封装一个函数，几何相关参数尽量参数化，方便快速调整尺寸改变渲染效果\n// rangeSize：地面网格尺寸\n// divisions:地面网格细分数\n// color：网格线颜色\n// R:圆点半径\n// RColor：原点颜色\nfunction CreateGroundGrid(rangeSize, divisions, color, R, RColor) {\n  var group = new THREE.Group();\n  var gridHelper = new THREE.GridHelper(rangeSize, divisions, color, color);\n  group.add(gridHelper);\n  // console.log('gridHelper',gridHelper)\n  gridHelper.material.depthWrite = false;\n  gridHelper.renderOrder = -2;\n  // CircleGeometry圆形平面几何体\n  var geometry = new THREE.CircleGeometry(R, 20, 20);\n  geometry.rotateX(Math.PI / 2); //从XOY平面旋转到XOZ平面\n  // 可以选择基础网格材质，基础网格材质不受光照影响，和其它场景配合，颜色更稳定，而且节约渲染资源\n  var material = new THREE.MeshBasicMaterial({\n    color: RColor,\n    side: THREE.DoubleSide,\n    depthWrite: false,\n  });\n  // 共享材质和几何体数据，批量创建圆点mesh\n  var 间距 = rangeSize / divisions\n  var 范围一半 = rangeSize / 2\n  for (let i = 0; i < divisions; i++) {\n    for (let j = 0; j < divisions; j++) {\n      var mesh = new THREE.Mesh(geometry, material);\n      mesh.renderOrder = -1;\n      mesh.translateX(-范围一半 + i * 间距);\n      mesh.translateZ(-范围一半 + j * 间距);\n      group.add(mesh)\n    }\n  }\n  return group\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# 模型线框\n\nimport {\n  GLTFLoader\n} from '../../../../three.js-r133/examples/jsm/loaders/GLTFLoader.js';\nvar model = new THREE.Group(); //声明一个组对象，用来添加城市三场场景的模型对象\n\nvar loader = new GLTFLoader(); //创建一个GLTF加载器\nloader.load(\"./scene/上海外滩.glb\", function (gltf) { //gltf加载成功后返回一个对象\n  console.log('控制台查看gltf对象结构', gltf);\n  // 设置地面材质\n  var Floor = gltf.scene.getObjectByName('地面');\n  Floor.material = new THREE.MeshLambertMaterial({\n    color: 0x001111,\n  });\n  // 设置河面材质\n  var River = gltf.scene.getObjectByName('河面');\n  River.material = new THREE.MeshLambertMaterial({\n    color: 0x001f1c,\n  });\n  // 所有建筑物递归遍历批量设置材质\n  gltf.scene.getObjectByName('楼房').traverse(function (child) {\n    if (child.isMesh) {\n      child.material = new THREE.MeshLambertMaterial({\n        // color: 0x1A92C6,//场景小对应颜色  可以亮一些\n        color: 0x001111, //场景大可以暗一些  要不然整个屏幕太亮\n        transparent: true, //允许透明计算\n        opacity: 0.7, //半透明设置\n      });\n      // 设置模型边线\n      var edges = new THREE.EdgesGeometry(child.geometry, 1);\n      var edgesMaterial = new THREE.LineBasicMaterial({\n        // color: 0x31DEEF,\n        color: 0x006666,\n      });\n      var line = new THREE.LineSegments(edges, edgesMaterial);\n      child.add(line);\n    }\n  });\n\n\n\n  // 单独设置东方明珠材质\n  var dongfang = gltf.scene.getObjectByName('东方明珠');\n  dongfang.material = new THREE.MeshLambertMaterial({\n    color: 0x1A92C6, //需要突出的模型可以更加亮一些\n    // color: 0x001111,//场景大可以暗一些  要不然整个屏幕太亮\n    transparent: true, //允许透明计算\n    opacity: 0.7, //半透明设置\n  });\n  // 设置模型边线\n  var edges = new THREE.EdgesGeometry(dongfang.geometry, 1);\n  var edgesMaterial = new THREE.LineBasicMaterial({\n    color: 0x31DEEF,\n    // color: 0x006666,\n  });\n  var line = new THREE.LineSegments(edges, edgesMaterial);\n  dongfang.add(line);\n\n\n\n  //把gltf.scene中的所有模型添加到model组对象中\n  model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n\n\n# 扫光(光带)\n\nimport output_fragment from './output_fragment.glsl.js'\n// MeshBasicMaterial:不受光照影响\n// MeshLambertMaterial：几何体表面和光线角度不同，明暗不同\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x003333, //颜色\n});\n// GPU执行material对应的着色器代码前，通过.onBeforeCompile()插入新的代码，修改已有的代码\nvar materialShader = null;\nmaterial.onBeforeCompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  materialShader = shader;\n  shader.uniforms.time = {\n    value: 0.0,\n  };\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n      'vPosition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'uniform float time;',\n      'void main() {',\n    ].join('\\n')\n  );\n\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\n\n// 创建一个时钟对象Clock\nvar clock = new THREE.Clock();\n\nfunction scanAnimation() {\n  // 获得两次scanAnimation执行的时间间隔deltaTime\n  var deltaTime = clock.getDelta();\n  // console.log(deltaTime)\n  // 更新uniforms中时间，这样就可以更新着色器中time变量的值\n  if (materialShader) {\n    materialShader.uniforms.time.value += deltaTime;\n    if(materialShader.uniforms.time.value>6)materialShader.uniforms.time.value = 0;\n  }\n\n  requestAnimationFrame(scanAnimation);\n}\nscanAnimation();\n//output_fragment.glsl\nexport default /* glsl */ `\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n\n\nfloat x0 = 13520747.0+time*1200.0;\nfloat w = 100.0;//光带宽度一半，单位米\n\nif(vPosition.x>x0&&vPosition.x<x0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(vPosition.x<x0+w){\n        per = (vPosition.x-x0)/w;\n        outgoingLight = mix( outgoingLight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (vPosition.x-x0-w)/w;\n        outgoingLight = mix( vec3(1.0,1.0,1.0),outgoingLight,per);\n    }\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n//渐变光带\nexport default /* glsl */ `\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vPosition.z/354.0);\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vPosition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变\noutgoingLight = outgoingLight*gradient;\n\n\nfloat x0 = 13520747.0+time*1200.0;\nfloat w = 100.0;//光带宽度一半，单位米\n\nif(vPosition.x>x0&&vPosition.x<x0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(vPosition.x<x0+w){\n        per = (vPosition.x-x0)/w;\n        outgoingLight = mix( outgoingLight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (vPosition.x-x0-w)/w;\n        outgoingLight = mix( vec3(1.0,1.0,1.0),outgoingLight,per);\n    }\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n`;\n\n\n//渐变雾化:\n//加上雾就行了\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n\n\n\n\n\n# 扫光(光环)\n\nimport output_fragment from './output_fragment.glsl.js'\n// MeshBasicMaterial:不受光照影响\n// MeshLambertMaterial：几何体表面和光线角度不同，明暗不同\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff, //颜色\n});\n// GPU执行material对应的着色器代码前，通过.onBeforeCompile()插入新的代码，修改已有的代码\nvar materialShader = null;\nmaterial.onBeforeCompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  materialShader = shader;\n  shader.uniforms.time = {\n    value: 0.0,\n  };\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n      'vPosition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'uniform float time;',\n      'void main() {',\n    ].join('\\n')\n  );\n\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\n\n//glsl\nexport default /* glsl */ `\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vPosition.z/354.0);\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vPosition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变\noutgoingLight = outgoingLight*gradient;\n\n\nfloat r0 = 10.0+time*1200.0;\nfloat w = 100.0;//光环宽度一半，单位米\nvec2 center = vec2(13524782.0,3664189.75);//几何中心坐标坐标\nfloat L = distance(vPosition.xy,center);//距离圆心距离center\nif(L > r0 && L < r0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(L<r0+w){\n        per = (L-r0)/w;\n        outgoingLight = mix( outgoingLight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (L-r0-w)/w;\n        outgoingLight = mix( vec3(1.0,1.0,1.0),outgoingLight,per);\n    }\n}\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n`;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n",normalizedContent:" * 建筑随着高度透明\n * 雾\n * 点阵(模拟地面)\n * 模型线框\n * 扫光(光带)\n * 扫光(光环)\n\n\n\n\n# 建筑随着高度透明\n\nmaterial.onbeforecompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n      'vposition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vposition.z/354.0);\n\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节,插值函数\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vposition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变   (避免模型材质color属性影响渐变色，设置为默认的纯白色即可)\noutgoinglight = outgoinglight*gradient;\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n\n// 不考虑漫反射材质光照计算的影响 不同面没有明暗变化  没有棱角感\n// gl_fragcolor = vec4( gradient, 1.0);\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n\n# 雾\n\n最好把最景色设置为和雾一样的颜色\n\nscene.fog = new three.fog(0xcccccc, 10, 12000);\n\n\n1\n\n\n\n# 点阵(模拟地面)\n\nvar groundgrid = creategroundgrid(100, 80, 0x004444, 0.05, 0x00aaaa)\ngroundgrid.position.z = -0.1;\n\n// 封装一个函数，几何相关参数尽量参数化，方便快速调整尺寸改变渲染效果\n// rangesize：地面网格尺寸\n// divisions:地面网格细分数\n// color：网格线颜色\n// r:圆点半径\n// rcolor：原点颜色\nfunction creategroundgrid(rangesize, divisions, color, r, rcolor) {\n  var group = new three.group();\n  var gridhelper = new three.gridhelper(rangesize, divisions, color, color);\n  group.add(gridhelper);\n  // console.log('gridhelper',gridhelper)\n  gridhelper.material.depthwrite = false;\n  gridhelper.renderorder = -2;\n  // circlegeometry圆形平面几何体\n  var geometry = new three.circlegeometry(r, 20, 20);\n  geometry.rotatex(math.pi / 2); //从xoy平面旋转到xoz平面\n  // 可以选择基础网格材质，基础网格材质不受光照影响，和其它场景配合，颜色更稳定，而且节约渲染资源\n  var material = new three.meshbasicmaterial({\n    color: rcolor,\n    side: three.doubleside,\n    depthwrite: false,\n  });\n  // 共享材质和几何体数据，批量创建圆点mesh\n  var 间距 = rangesize / divisions\n  var 范围一半 = rangesize / 2\n  for (let i = 0; i < divisions; i++) {\n    for (let j = 0; j < divisions; j++) {\n      var mesh = new three.mesh(geometry, material);\n      mesh.renderorder = -1;\n      mesh.translatex(-范围一半 + i * 间距);\n      mesh.translatez(-范围一半 + j * 间距);\n      group.add(mesh)\n    }\n  }\n  return group\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n\n# 模型线框\n\nimport {\n  gltfloader\n} from '../../../../three.js-r133/examples/jsm/loaders/gltfloader.js';\nvar model = new three.group(); //声明一个组对象，用来添加城市三场场景的模型对象\n\nvar loader = new gltfloader(); //创建一个gltf加载器\nloader.load(\"./scene/上海外滩.glb\", function (gltf) { //gltf加载成功后返回一个对象\n  console.log('控制台查看gltf对象结构', gltf);\n  // 设置地面材质\n  var floor = gltf.scene.getobjectbyname('地面');\n  floor.material = new three.meshlambertmaterial({\n    color: 0x001111,\n  });\n  // 设置河面材质\n  var river = gltf.scene.getobjectbyname('河面');\n  river.material = new three.meshlambertmaterial({\n    color: 0x001f1c,\n  });\n  // 所有建筑物递归遍历批量设置材质\n  gltf.scene.getobjectbyname('楼房').traverse(function (child) {\n    if (child.ismesh) {\n      child.material = new three.meshlambertmaterial({\n        // color: 0x1a92c6,//场景小对应颜色  可以亮一些\n        color: 0x001111, //场景大可以暗一些  要不然整个屏幕太亮\n        transparent: true, //允许透明计算\n        opacity: 0.7, //半透明设置\n      });\n      // 设置模型边线\n      var edges = new three.edgesgeometry(child.geometry, 1);\n      var edgesmaterial = new three.linebasicmaterial({\n        // color: 0x31deef,\n        color: 0x006666,\n      });\n      var line = new three.linesegments(edges, edgesmaterial);\n      child.add(line);\n    }\n  });\n\n\n\n  // 单独设置东方明珠材质\n  var dongfang = gltf.scene.getobjectbyname('东方明珠');\n  dongfang.material = new three.meshlambertmaterial({\n    color: 0x1a92c6, //需要突出的模型可以更加亮一些\n    // color: 0x001111,//场景大可以暗一些  要不然整个屏幕太亮\n    transparent: true, //允许透明计算\n    opacity: 0.7, //半透明设置\n  });\n  // 设置模型边线\n  var edges = new three.edgesgeometry(dongfang.geometry, 1);\n  var edgesmaterial = new three.linebasicmaterial({\n    color: 0x31deef,\n    // color: 0x006666,\n  });\n  var line = new three.linesegments(edges, edgesmaterial);\n  dongfang.add(line);\n\n\n\n  //把gltf.scene中的所有模型添加到model组对象中\n  model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n\n\n# 扫光(光带)\n\nimport output_fragment from './output_fragment.glsl.js'\n// meshbasicmaterial:不受光照影响\n// meshlambertmaterial：几何体表面和光线角度不同，明暗不同\nvar material = new three.meshlambertmaterial({\n  color: 0x003333, //颜色\n});\n// gpu执行material对应的着色器代码前，通过.onbeforecompile()插入新的代码，修改已有的代码\nvar materialshader = null;\nmaterial.onbeforecompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  materialshader = shader;\n  shader.uniforms.time = {\n    value: 0.0,\n  };\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n      'vposition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'uniform float time;',\n      'void main() {',\n    ].join('\\n')\n  );\n\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\n\n// 创建一个时钟对象clock\nvar clock = new three.clock();\n\nfunction scananimation() {\n  // 获得两次scananimation执行的时间间隔deltatime\n  var deltatime = clock.getdelta();\n  // console.log(deltatime)\n  // 更新uniforms中时间，这样就可以更新着色器中time变量的值\n  if (materialshader) {\n    materialshader.uniforms.time.value += deltatime;\n    if(materialshader.uniforms.time.value>6)materialshader.uniforms.time.value = 0;\n  }\n\n  requestanimationframe(scananimation);\n}\nscananimation();\n//output_fragment.glsl\nexport default /* glsl */ `\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n\n\nfloat x0 = 13520747.0+time*1200.0;\nfloat w = 100.0;//光带宽度一半，单位米\n\nif(vposition.x>x0&&vposition.x<x0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(vposition.x<x0+w){\n        per = (vposition.x-x0)/w;\n        outgoinglight = mix( outgoinglight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (vposition.x-x0-w)/w;\n        outgoinglight = mix( vec3(1.0,1.0,1.0),outgoinglight,per);\n    }\n}\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n//渐变光带\nexport default /* glsl */ `\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vposition.z/354.0);\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vposition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变\noutgoinglight = outgoinglight*gradient;\n\n\nfloat x0 = 13520747.0+time*1200.0;\nfloat w = 100.0;//光带宽度一半，单位米\n\nif(vposition.x>x0&&vposition.x<x0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(vposition.x<x0+w){\n        per = (vposition.x-x0)/w;\n        outgoinglight = mix( outgoinglight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (vposition.x-x0-w)/w;\n        outgoinglight = mix( vec3(1.0,1.0,1.0),outgoinglight,per);\n    }\n}\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n\n`;\n\n\n//渐变雾化:\n//加上雾就行了\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n\n\n\n\n\n# 扫光(光环)\n\nimport output_fragment from './output_fragment.glsl.js'\n// meshbasicmaterial:不受光照影响\n// meshlambertmaterial：几何体表面和光线角度不同，明暗不同\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff, //颜色\n});\n// gpu执行material对应的着色器代码前，通过.onbeforecompile()插入新的代码，修改已有的代码\nvar materialshader = null;\nmaterial.onbeforecompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  materialshader = shader;\n  shader.uniforms.time = {\n    value: 0.0,\n  };\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n      'vposition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'uniform float time;',\n      'void main() {',\n    ].join('\\n')\n  );\n\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\n\n//glsl\nexport default /* glsl */ `\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n// 楼高范围[0,354]\n// 线性渐变\n// vec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), vposition.z/354.0);\n// 非线性渐变  小部分楼层太高，不同高度矮楼层颜色对比不明显,可以采用非线性渐变方式调节\nvec3 gradient = mix(vec3(0.0,0.1,0.1), vec3(0.0,1.0,1.0), sqrt(vposition.z/354.0));\n\n// 在光照影响明暗的基础上，设置渐变\noutgoinglight = outgoinglight*gradient;\n\n\nfloat r0 = 10.0+time*1200.0;\nfloat w = 100.0;//光环宽度一半，单位米\nvec2 center = vec2(13524782.0,3664189.75);//几何中心坐标坐标\nfloat l = distance(vposition.xy,center);//距离圆心距离center\nif(l > r0 && l < r0+2.0*w){\n    // 渐变色光带\n    float per = 0.0;\n    if(l<r0+w){\n        per = (l-r0)/w;\n        outgoinglight = mix( outgoinglight, vec3(1.0,1.0,1.0),per);\n    }else{\n        per = (l-r0-w)/w;\n        outgoinglight = mix( vec3(1.0,1.0,1.0),outgoinglight,per);\n    }\n}\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n\n`;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"旋转缩放平移",frontmatter:{title:"旋转缩放平移",date:"2023-12-20T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%97%8B%E8%BD%AC%E7%BC%A9%E6%94%BE%E5%B9%B3%E7%A7%BB.html",relativePath:"views/threejs/旋转缩放平移.md",key:"v-bc8a07aa",path:"/views/threejs/%E6%97%8B%E8%BD%AC%E7%BC%A9%E6%94%BE%E5%B9%B3%E7%A7%BB.html",headers:[{level:2,title:"平移",slug:"平移",normalizedTitle:"平移",charIndex:12},{level:2,title:"缩放",slug:"缩放",normalizedTitle:"缩放",charIndex:42},{level:2,title:"旋转",slug:"旋转",normalizedTitle:"旋转",charIndex:48}],excerpt:"<Boxx/>\n<p>格外要注意是局部坐标系在平移,还是物体相对于局部坐标系平移</p>\n",headersStr:"平移 缩放 旋转",content:'格外要注意是局部坐标系在平移,还是物体相对于局部坐标系平移\n\n\n\n * 平移\n * 缩放\n * 旋转\n\n\n\n\n# 平移\n\nmesh.position.x +=1//会把局部坐标系进行平移 \nmesh.translateX(10) //相对局部坐标进行平移\n// 获取 mesh 在本地坐标系中的位置\nconst localPosition = mesh.position;\n\n// 获取 mesh 在世界坐标系中的位置\nconst worldPosition = new THREE.Vector3();\nmesh.getWorldPosition(worldPosition);\n\nconsole.log("Local Position:", localPosition);\nconsole.log("World Position:", worldPosition);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 缩放\n\n// 几何体xyz三个方向都放大2倍\ngeometry.scale(2, 2, 2);\n\n\n1\n2\n\n\n\n# 旋转\n\ngeometry.rotateX(Math.PI / 4);//弧度\ngeometry.rotateX(THREE.MathUtils.degToRad(45));//角度\n\n\n1\n2\n',normalizedContent:'格外要注意是局部坐标系在平移,还是物体相对于局部坐标系平移\n\n\n\n * 平移\n * 缩放\n * 旋转\n\n\n\n\n# 平移\n\nmesh.position.x +=1//会把局部坐标系进行平移 \nmesh.translatex(10) //相对局部坐标进行平移\n// 获取 mesh 在本地坐标系中的位置\nconst localposition = mesh.position;\n\n// 获取 mesh 在世界坐标系中的位置\nconst worldposition = new three.vector3();\nmesh.getworldposition(worldposition);\n\nconsole.log("local position:", localposition);\nconsole.log("world position:", worldposition);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 缩放\n\n// 几何体xyz三个方向都放大2倍\ngeometry.scale(2, 2, 2);\n\n\n1\n2\n\n\n\n# 旋转\n\ngeometry.rotatex(math.pi / 4);//弧度\ngeometry.rotatex(three.mathutils.degtorad(45));//角度\n\n\n1\n2\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"无人机",frontmatter:{title:"无人机",date:"2023-12-14T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%97%A0%E4%BA%BA%E6%9C%BA.html",relativePath:"views/threejs/无人机.md",key:"v-4e1e3529",path:"/views/threejs/%E6%97%A0%E4%BA%BA%E6%9C%BA.html",headers:[{level:2,title:"添加无人机",slug:"添加无人机",normalizedTitle:"添加无人机",charIndex:3},{level:2,title:"无人机巡航",slug:"无人机巡航",normalizedTitle:"无人机巡航",charIndex:12}],excerpt:"<Boxx/>\n",headersStr:"添加无人机 无人机巡航",content:" * 添加无人机\n * 无人机巡航\n\n\n\n\n# 添加无人机\n\n\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport { GLTFLoader } from '../../../../three.js-r133/examples/jsm/loaders/GLTFLoader.js';\nimport {\n    lon2xy\n  } from './math.js';\n\nvar flyGroup = new THREE.Group()// 一架无人机\nvar mixer = null; //声明一个混合器变量\nvar loader = new GLTFLoader();\nloader.load('./scene/fly.glb', function (gltf) {\n    var fly = gltf.scene;\n    \n    // 三维场景默认单位是米，美术导出模型单位是厘米，需要缩小数字尺寸\n    // fly.scale.set(0.01,0.01,0.01);\n    fly.scale.set(4,4,4);//根据需要放大无人机\n    fly.position.x = -28*4;//如果美术导出的模型不居中，需要代码调整\n    // console.log('gltf', gltf);\n    flyGroup.add(fly);\n    fly.traverse(function (child) {\n        if (child.isMesh) {\n            var material = child.material\n            child.material = new THREE.MeshLambertMaterial({\n                color: material.color,\n            })\n        }\n    });\n    // obj作为混合器的参数，可以播放obj包含的帧动画数据\n    mixer = new THREE.AnimationMixer(fly);\n    // console.log('gltf.animations[0]', gltf.animations);\n    // obj.animations[0]：获得剪辑clip对象\n    var AnimationAction = mixer.clipAction(gltf.animations[0]);\n    AnimationAction.timeScale = 15; //默认1，可以调节播放速度\n    // AnimationAction.loop = THREE.LoopOnce; //不循环播放\n    // AnimationAction.clampWhenFinished=true;//暂停在最后一帧播放的状态\n    AnimationAction.play();\n})\n\nvar clock = new THREE.Clock();\nfunction UpdateLoop() {\n    if (mixer !== null) {\n        //clock.getDelta()方法获得两帧的时间间隔\n        mixer.update(clock.getDelta());\n    }\n    requestAnimationFrame(UpdateLoop);\n}\nUpdateLoop();\n\n// 一直无人机数据：经纬度和高度\nvar height = 300;//无人机飞行高度300米\nvar E = 121.49526536464691; //无人机经纬度坐标\nvar N = 31.24189350905988;\nvar xy = lon2xy(E, N);\nvar x = xy.x;\nvar y = xy.y;\n// 设置无人机坐标\nflyGroup.position.set(x, y, height);\n\n// 姿态调整\nflyGroup.rotateX(Math.PI/2);\n\nexport { flyGroup };\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# 无人机巡航\n\n\n\n\n1\n",normalizedContent:" * 添加无人机\n * 无人机巡航\n\n\n\n\n# 添加无人机\n\n\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport { gltfloader } from '../../../../three.js-r133/examples/jsm/loaders/gltfloader.js';\nimport {\n    lon2xy\n  } from './math.js';\n\nvar flygroup = new three.group()// 一架无人机\nvar mixer = null; //声明一个混合器变量\nvar loader = new gltfloader();\nloader.load('./scene/fly.glb', function (gltf) {\n    var fly = gltf.scene;\n    \n    // 三维场景默认单位是米，美术导出模型单位是厘米，需要缩小数字尺寸\n    // fly.scale.set(0.01,0.01,0.01);\n    fly.scale.set(4,4,4);//根据需要放大无人机\n    fly.position.x = -28*4;//如果美术导出的模型不居中，需要代码调整\n    // console.log('gltf', gltf);\n    flygroup.add(fly);\n    fly.traverse(function (child) {\n        if (child.ismesh) {\n            var material = child.material\n            child.material = new three.meshlambertmaterial({\n                color: material.color,\n            })\n        }\n    });\n    // obj作为混合器的参数，可以播放obj包含的帧动画数据\n    mixer = new three.animationmixer(fly);\n    // console.log('gltf.animations[0]', gltf.animations);\n    // obj.animations[0]：获得剪辑clip对象\n    var animationaction = mixer.clipaction(gltf.animations[0]);\n    animationaction.timescale = 15; //默认1，可以调节播放速度\n    // animationaction.loop = three.looponce; //不循环播放\n    // animationaction.clampwhenfinished=true;//暂停在最后一帧播放的状态\n    animationaction.play();\n})\n\nvar clock = new three.clock();\nfunction updateloop() {\n    if (mixer !== null) {\n        //clock.getdelta()方法获得两帧的时间间隔\n        mixer.update(clock.getdelta());\n    }\n    requestanimationframe(updateloop);\n}\nupdateloop();\n\n// 一直无人机数据：经纬度和高度\nvar height = 300;//无人机飞行高度300米\nvar e = 121.49526536464691; //无人机经纬度坐标\nvar n = 31.24189350905988;\nvar xy = lon2xy(e, n);\nvar x = xy.x;\nvar y = xy.y;\n// 设置无人机坐标\nflygroup.position.set(x, y, height);\n\n// 姿态调整\nflygroup.rotatex(math.pi/2);\n\nexport { flygroup };\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n\n# 无人机巡航\n\n\n\n\n1\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"模型对象、材质",frontmatter:{title:"模型对象、材质",date:"2023-12-07T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E6%9D%90%E8%B4%A8.html",relativePath:"views/threejs/模型对象、材质.md",key:"v-1cc674d5",path:"/views/threejs/%E6%A8%A1%E5%9E%8B%E5%AF%B9%E8%B1%A1%E3%80%81%E6%9D%90%E8%B4%A8.html",headers:[{level:2,title:"欧拉角",slug:"欧拉角",normalizedTitle:"欧拉角",charIndex:3},{level:2,title:"材质颜色",slug:"材质颜色",normalizedTitle:"材质颜色",charIndex:10},{level:2,title:"克隆.clone()和复制.copy()",slug:"克隆-clone-和复制-copy",normalizedTitle:"克隆.clone()和复制.copy()",charIndex:18}],excerpt:"<Boxx/>\n",headersStr:"欧拉角 材质颜色 克隆.clone()和复制.copy()",content:" * 欧拉角\n * 材质颜色\n * 克隆.clone()和复制.copy()\n\n\n\n\n# 欧拉角\n\nimport * as THREE from 'three';\n\n\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n// 角度属性.rotation使用threejs欧拉对象Euler表示的\nconsole.log('模型角度属性.rotation的值', mesh.rotation);\n\n// 创建一个欧拉对象，表示绕着x、y、z轴分别旋转45度，0度，90度\n// const Euler = new THREE.Euler( Math.PI/4,0, Math.PI/2);\nconst Euler = new THREE.Euler();\n// 通过xyz分量属性定义和参数一样\nEuler.x = Math.PI/4;\nEuler.y = 0;\nEuler.z = Math.PI/2;\n\n//绕y轴的角度设置为60度\nmesh.rotation.y += Math.PI/3;\n//绕y轴的角度增加60度\nmesh.rotation.y += Math.PI/3;\n//绕y轴的角度减去60度\nmesh.rotation.y -= Math.PI/3;\n\n// 通过模型的旋转方法，也可以改变角度属性.rotation\nmesh.rotateY(Math.PI / 2);// 绕着Y轴旋转90度\n//控制台查看：旋转方法，改变了rotation属性\nconsole.log('mesh.rotation',mesh.rotation);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# 材质颜色\n\n// 浏览器控制台查看材质颜色属性的属性值\nconsole.log('material.color',material.color);\n\n// 十六进制颜色\nmaterial.color.set(0x00ff00);\n\n// 前端CSS风格颜色值：'#00ff00'、'rgb(0,255,0)'等形式\n// material.color.set('#00ff00');\n// material.color.set('rgb(0,255,0)');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 克隆.clone()和复制.copy()\n\nimport * as THREE from 'three';\n\n\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\nconst v1 = new THREE.Vector3(1, 2, 3);\nconsole.log('v1',v1);\n//v2是一个新的Vector3对象，和v1的.x、.y、.z属性值一样\nconst v2 = v1.clone();\nconsole.log('v2',v2);\n\nconst v3 = new THREE.Vector3(4, 5, 6);\n//读取v1.x、v1.y、v1.z的赋值给v3.x、v3.y、v3.z\nv3.copy(v1);\n\n// const mesh2 = new THREE.Mesh(geometry, material);\n// mesh2.position.x = 100;\n\n// 通过mesh克隆.clone()一个和mesh一样的新模型对象mesh2\nconst mesh2 = mesh.clone();\nmesh2.position.x = 100;\n\n// 通过克隆.clone()获得的新模型和原来的模型共享材质和几何体\n//改变材质颜色，或者说改变mesh2颜色，mesh和mesh2颜色都会改变\n// material.color.set(0xffff00);\nmesh2.material.color.set(0xffff00);\n\n// 克隆几何体和材质，重新设置mesh2的材质和几何体属性\nmesh2.geometry = mesh.geometry.clone();\nmesh2.material = mesh.material.clone();\n// 改变mesh2颜色，不会改变mesh的颜色\nmesh2.material.color.set(0xff0000);\n\n// 改变mesh的位置，使之位于mesh2的正上方(y)，距离100。\nmesh.position.copy(mesh2.position);//1. 第1步位置重合\nmesh.position.y += 100;//1. 第2步mesh在原来y的基础上增加100\n\nexport {mesh,mesh2};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n",normalizedContent:" * 欧拉角\n * 材质颜色\n * 克隆.clone()和复制.copy()\n\n\n\n\n# 欧拉角\n\nimport * as three from 'three';\n\n\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n\n// 角度属性.rotation使用threejs欧拉对象euler表示的\nconsole.log('模型角度属性.rotation的值', mesh.rotation);\n\n// 创建一个欧拉对象，表示绕着x、y、z轴分别旋转45度，0度，90度\n// const euler = new three.euler( math.pi/4,0, math.pi/2);\nconst euler = new three.euler();\n// 通过xyz分量属性定义和参数一样\neuler.x = math.pi/4;\neuler.y = 0;\neuler.z = math.pi/2;\n\n//绕y轴的角度设置为60度\nmesh.rotation.y += math.pi/3;\n//绕y轴的角度增加60度\nmesh.rotation.y += math.pi/3;\n//绕y轴的角度减去60度\nmesh.rotation.y -= math.pi/3;\n\n// 通过模型的旋转方法，也可以改变角度属性.rotation\nmesh.rotatey(math.pi / 2);// 绕着y轴旋转90度\n//控制台查看：旋转方法，改变了rotation属性\nconsole.log('mesh.rotation',mesh.rotation);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\n\n# 材质颜色\n\n// 浏览器控制台查看材质颜色属性的属性值\nconsole.log('material.color',material.color);\n\n// 十六进制颜色\nmaterial.color.set(0x00ff00);\n\n// 前端css风格颜色值：'#00ff00'、'rgb(0,255,0)'等形式\n// material.color.set('#00ff00');\n// material.color.set('rgb(0,255,0)');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n\n# 克隆.clone()和复制.copy()\n\nimport * as three from 'three';\n\n\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n\nconst v1 = new three.vector3(1, 2, 3);\nconsole.log('v1',v1);\n//v2是一个新的vector3对象，和v1的.x、.y、.z属性值一样\nconst v2 = v1.clone();\nconsole.log('v2',v2);\n\nconst v3 = new three.vector3(4, 5, 6);\n//读取v1.x、v1.y、v1.z的赋值给v3.x、v3.y、v3.z\nv3.copy(v1);\n\n// const mesh2 = new three.mesh(geometry, material);\n// mesh2.position.x = 100;\n\n// 通过mesh克隆.clone()一个和mesh一样的新模型对象mesh2\nconst mesh2 = mesh.clone();\nmesh2.position.x = 100;\n\n// 通过克隆.clone()获得的新模型和原来的模型共享材质和几何体\n//改变材质颜色，或者说改变mesh2颜色，mesh和mesh2颜色都会改变\n// material.color.set(0xffff00);\nmesh2.material.color.set(0xffff00);\n\n// 克隆几何体和材质，重新设置mesh2的材质和几何体属性\nmesh2.geometry = mesh.geometry.clone();\nmesh2.material = mesh.material.clone();\n// 改变mesh2颜色，不会改变mesh的颜色\nmesh2.material.color.set(0xff0000);\n\n// 改变mesh的位置，使之位于mesh2的正上方(y)，距离100。\nmesh.position.copy(mesh2.position);//1. 第1步位置重合\nmesh.position.y += 100;//1. 第2步mesh在原来y的基础上增加100\n\nexport {mesh,mesh2};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"曲线与几何体",frontmatter:{title:"曲线与几何体",date:"2023-12-09T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%9B%B2%E7%BA%BF%E4%B8%8E%E5%87%A0%E4%BD%95%E4%BD%93.html",relativePath:"views/threejs/曲线与几何体.md",key:"v-5067e626",path:"/views/threejs/%E6%9B%B2%E7%BA%BF%E4%B8%8E%E5%87%A0%E4%BD%95%E4%BD%93.html",headers:[{level:2,title:"数学方法生成圆弧",slug:"数学方法生成圆弧",normalizedTitle:"数学方法生成圆弧",charIndex:3},{level:2,title:"圆与椭圆API",slug:"圆与椭圆api",normalizedTitle:"圆与椭圆api",charIndex:15},{level:2,title:"样条曲线",slug:"样条曲线",normalizedTitle:"样条曲线",charIndex:26},{level:2,title:"贝塞尔曲线",slug:"贝塞尔曲线",normalizedTitle:"贝塞尔曲线",charIndex:34},{level:2,title:"曲线拼接",slug:"曲线拼接",normalizedTitle:"曲线拼接",charIndex:43},{level:2,title:"曲线管道",slug:"曲线管道",normalizedTitle:"曲线管道",charIndex:51}],excerpt:"<Boxx/>\n",headersStr:"数学方法生成圆弧 圆与椭圆API 样条曲线 贝塞尔曲线 曲线拼接 曲线管道",content:' * 数学方法生成圆弧\n * 圆与椭圆API\n * 样条曲线\n * 贝塞尔曲线\n * 曲线拼接\n * 曲线管道\n\n\n\n\n# 数学方法生成圆弧\n\nconst geometry = new THREE.BufferGeometry(); //创建一个几何体对象\nconst R = 100; //圆弧半径\nconst N = 50; //分段数量\n// 批量生成圆弧上的顶点数据\nconst arr = [];\nconst sp = 2 * Math.PI / N;//两个相邻点间隔弧度\n// const sp = 1 * Math.PI / N;//半圆弧\nfor (let i = 0; i < N + 1; i++) {\n    const angle =  sp * i;\n    // 以坐标原点为中心，在XOY平面上生成圆弧上的顶点数据\n    const x = R * Math.cos(angle);\n    const y = R * Math.sin(angle);\n    arr.push(x, y, 0);\n}\nconst vertices = new Float32Array(arr);\n// 创建属性缓冲区对象\nconst attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 圆与椭圆API\n\n// 参数1和2表示椭圆中心坐标  参数3和4表示x和y方向半径\n// const arc = new THREE.EllipseCurve(0, 0, 120, 50);\n// const arc = new THREE.EllipseCurve(0, 0, 50, 50);//x和y方向半径相同就是圆形效果\n// 圆弧，参数3表示半径\n// const arc = new THREE.ArcCurve(0, 0, 60);\n\n// 逆时针绘制圆弧，参数5默认false，就是逆时针\nconst arc = new THREE.ArcCurve(0, 0, 100, 0, 2*Math.PI,false);\n// 顺时针绘制圆弧\n// const arc = new THREE.ArcCurve(0, 0, 100, 0, Math.PI/2,true);\n\n//曲线上取点，参数表示取点细分精度\nconst pointsArr = arc.getPoints(50); //分段数50，返回51个顶点\n// const pointsArr = arc.getPoints(10);//取点数比较少，圆弧线不那么光滑\n\nconst geometry = new THREE.BufferGeometry();\n// 把数组pointsArr里面的坐标数据提取出来，赋值给`geometry.attributes.position`属性\ngeometry.setFromPoints(pointsArr);\n\n// 线材质\nconst material = new THREE.LineBasicMaterial({\n    color: 0x00fffff\n});\n// 线模型\nconst line = new THREE.Line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 样条曲线\n\n样条曲线是一种通过一系列给定点的数学曲线。它的主要特点是曲线在给定点处平滑且具有连续的导数。样条曲线通常用于图形设计、计算机图形学、工程和其他领域，以在离散点之间创建平滑的曲线。 常见的样条曲线包括自然样条和B样条。自然样条是通过插值的方式生成曲线，确保曲线在给定点处经过。B样条（B-spline）是一种基于局部控制点的曲线表示方法，它可以通过调整控制点的权重来改变曲线的形状，具有更灵活的控制性质。 样条曲线的名称来自于曲线的形状，类似于用来连接骨头的"样条"。这种曲线的优点之一是能够在离散的数据点之间生成平滑的曲线，避免了插值过程中的尖锐变化。这使得样条曲线在曲线建模和图形设计中得到广泛应用。\n\n// 三维向量Vector3创建一组顶点坐标\nconst arr = [\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(70, 0, 80)\n]\n// 三维样条曲线\nconst curve = new THREE.CatmullRomCurve3(arr);\n\n// // 二维向量Vector2创建一组顶点坐标\n// const arr = [\n//     new THREE.Vector2(-100, 0),\n//     new THREE.Vector2(0, 30),\n//     new THREE.Vector2(100, 0),\n// ];\n// // 二维样条曲线\n// const curve = new THREE.SplineCurve(arr);\n\nconst pointsArr = curve.getPoints(100); //曲线上获取点\nconst geometry = new THREE.BufferGeometry();\ngeometry.setFromPoints(pointsArr); //读取坐标数据赋值给几何体顶点\n\n// 线材质\nconst material = new THREE.LineBasicMaterial({\n    color: 0x00fffff\n});\n// 线模型\nconst line = new THREE.Line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 贝塞尔曲线\n\n贝塞尔曲线是一种数学曲线，以法国数学家皮埃尔·贝塞尔（Pierre Bézier）的名字命名。它是通过定义一组控制点来生成平滑曲线的方法。贝塞尔曲线常用于计算机图形学、计算机辅助设计（CAD）和计算机艺术等领域。\n\n贝塞尔曲线的一般形式取决于控制点的数量。最常见的是二次贝塞尔曲线和三次贝塞尔曲线。\n\n二次贝塞尔曲线：\n\n由三个控制点定义，通常写作P0、P1、P2。 曲线起点是P0，终点是P2，P1是控制点，影响曲线的形状。 三次贝塞尔曲线：\n\n由四个控制点定义，通常写作P0、P1、P2、P3。 曲线起点是P0，终点是P3，P1和P2是中间的控制点。 这些曲线的优势在于能够通过调整控制点的位置来精确地定义曲线的形状。它们广泛应用于以下领域：\n\n计算机图形学： 用于生成平滑的曲线和曲面，如在三维建模中。\n\n计算机辅助设计（CAD）： 用于绘制曲线和曲面，方便设计师进行准确的几何建模。\n\n字体设计： 字体的曲线和轮廓通常使用贝塞尔曲线表示，以实现平滑的字形。\n\n动画制作： 在计算机动画中，贝塞尔曲线被用于定义运动轨迹。\n\n贝塞尔曲线的灵活性和数学性质使它成为计算机图形学和设计领域中的重要工具。\n\n//二次贝塞尔\n// 二维向量Vector2创建一组顶点坐标\nconst arr = [\n    new THREE.Vector2(-100, 0),\n    new THREE.Vector2(0, 30),\n    new THREE.Vector2(100, 0),\n];\n// 二维样条曲线\nconst curve = new THREE.SplineCurve(arr);\n\n//三维样条曲线\nconst arr = [\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(70, 0, 80)\n]\n// 三维样条曲线\nconst curve = new THREE.CatmullRomCurve3(arr);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 曲线拼接\n\n我的理解就是,画几种辅助曲线,然后打碎,再形成缓冲集合体\n\nconst R = 80;//圆弧半径\nconst H = 200;//直线部分高度\n// 直线1\nconst line1 = new THREE.LineCurve(new THREE.Vector2(R, H), new THREE.Vector2(R, 0));\n// 圆弧\nconst arc = new THREE.ArcCurve(0, 0, R, 0, Math.PI, true);\n// 直线2\nconst line2 = new THREE.LineCurve(new THREE.Vector2(-R, 0), new THREE.Vector2(-R, H));\n\n// CurvePath创建一个组合曲线对象\nconst CurvePath = new THREE.CurvePath();\n//line1, arc, line2拼接出来一个U型轮廓曲线，注意顺序\nCurvePath.curves.push(line1, arc, line2);\n\n// 执行.getPoints()，直线部分不会像曲线返回中间多余点，只需要起始点即可。\nconst pointsArr = CurvePath.getPoints(32); //曲线上获取点\nconst geometry = new THREE.BufferGeometry();\ngeometry.setFromPoints(pointsArr);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 曲线管道\n\nconst path = new THREE.CatmullRomCurve3([\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(70, 0, 80)\n]);\n\n// LineCurve3创建直线段路径\n// const path = new THREE.LineCurve3(new THREE.Vector3(0, 100, 0), new THREE.Vector3(0, 0, 0));\n\n// path:路径   40：沿着轨迹细分数  2：管道半径   25：管道截面圆细分数\nconst geometry = new THREE.TubeGeometry(path, 40, 2, 25);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n    side: THREE.DoubleSide, //双面显示看到管道内壁\n    //  wireframe: true,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',normalizedContent:' * 数学方法生成圆弧\n * 圆与椭圆api\n * 样条曲线\n * 贝塞尔曲线\n * 曲线拼接\n * 曲线管道\n\n\n\n\n# 数学方法生成圆弧\n\nconst geometry = new three.buffergeometry(); //创建一个几何体对象\nconst r = 100; //圆弧半径\nconst n = 50; //分段数量\n// 批量生成圆弧上的顶点数据\nconst arr = [];\nconst sp = 2 * math.pi / n;//两个相邻点间隔弧度\n// const sp = 1 * math.pi / n;//半圆弧\nfor (let i = 0; i < n + 1; i++) {\n    const angle =  sp * i;\n    // 以坐标原点为中心，在xoy平面上生成圆弧上的顶点数据\n    const x = r * math.cos(angle);\n    const y = r * math.sin(angle);\n    arr.push(x, y, 0);\n}\nconst vertices = new float32array(arr);\n// 创建属性缓冲区对象\nconst attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n// 设置几何体attributes属性的位置属性\ngeometry.attributes.position = attribue;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 圆与椭圆api\n\n// 参数1和2表示椭圆中心坐标  参数3和4表示x和y方向半径\n// const arc = new three.ellipsecurve(0, 0, 120, 50);\n// const arc = new three.ellipsecurve(0, 0, 50, 50);//x和y方向半径相同就是圆形效果\n// 圆弧，参数3表示半径\n// const arc = new three.arccurve(0, 0, 60);\n\n// 逆时针绘制圆弧，参数5默认false，就是逆时针\nconst arc = new three.arccurve(0, 0, 100, 0, 2*math.pi,false);\n// 顺时针绘制圆弧\n// const arc = new three.arccurve(0, 0, 100, 0, math.pi/2,true);\n\n//曲线上取点，参数表示取点细分精度\nconst pointsarr = arc.getpoints(50); //分段数50，返回51个顶点\n// const pointsarr = arc.getpoints(10);//取点数比较少，圆弧线不那么光滑\n\nconst geometry = new three.buffergeometry();\n// 把数组pointsarr里面的坐标数据提取出来，赋值给`geometry.attributes.position`属性\ngeometry.setfrompoints(pointsarr);\n\n// 线材质\nconst material = new three.linebasicmaterial({\n    color: 0x00fffff\n});\n// 线模型\nconst line = new three.line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 样条曲线\n\n样条曲线是一种通过一系列给定点的数学曲线。它的主要特点是曲线在给定点处平滑且具有连续的导数。样条曲线通常用于图形设计、计算机图形学、工程和其他领域，以在离散点之间创建平滑的曲线。 常见的样条曲线包括自然样条和b样条。自然样条是通过插值的方式生成曲线，确保曲线在给定点处经过。b样条（b-spline）是一种基于局部控制点的曲线表示方法，它可以通过调整控制点的权重来改变曲线的形状，具有更灵活的控制性质。 样条曲线的名称来自于曲线的形状，类似于用来连接骨头的"样条"。这种曲线的优点之一是能够在离散的数据点之间生成平滑的曲线，避免了插值过程中的尖锐变化。这使得样条曲线在曲线建模和图形设计中得到广泛应用。\n\n// 三维向量vector3创建一组顶点坐标\nconst arr = [\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(70, 0, 80)\n]\n// 三维样条曲线\nconst curve = new three.catmullromcurve3(arr);\n\n// // 二维向量vector2创建一组顶点坐标\n// const arr = [\n//     new three.vector2(-100, 0),\n//     new three.vector2(0, 30),\n//     new three.vector2(100, 0),\n// ];\n// // 二维样条曲线\n// const curve = new three.splinecurve(arr);\n\nconst pointsarr = curve.getpoints(100); //曲线上获取点\nconst geometry = new three.buffergeometry();\ngeometry.setfrompoints(pointsarr); //读取坐标数据赋值给几何体顶点\n\n// 线材质\nconst material = new three.linebasicmaterial({\n    color: 0x00fffff\n});\n// 线模型\nconst line = new three.line(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 贝塞尔曲线\n\n贝塞尔曲线是一种数学曲线，以法国数学家皮埃尔·贝塞尔（pierre bezier）的名字命名。它是通过定义一组控制点来生成平滑曲线的方法。贝塞尔曲线常用于计算机图形学、计算机辅助设计（cad）和计算机艺术等领域。\n\n贝塞尔曲线的一般形式取决于控制点的数量。最常见的是二次贝塞尔曲线和三次贝塞尔曲线。\n\n二次贝塞尔曲线：\n\n由三个控制点定义，通常写作p0、p1、p2。 曲线起点是p0，终点是p2，p1是控制点，影响曲线的形状。 三次贝塞尔曲线：\n\n由四个控制点定义，通常写作p0、p1、p2、p3。 曲线起点是p0，终点是p3，p1和p2是中间的控制点。 这些曲线的优势在于能够通过调整控制点的位置来精确地定义曲线的形状。它们广泛应用于以下领域：\n\n计算机图形学： 用于生成平滑的曲线和曲面，如在三维建模中。\n\n计算机辅助设计（cad）： 用于绘制曲线和曲面，方便设计师进行准确的几何建模。\n\n字体设计： 字体的曲线和轮廓通常使用贝塞尔曲线表示，以实现平滑的字形。\n\n动画制作： 在计算机动画中，贝塞尔曲线被用于定义运动轨迹。\n\n贝塞尔曲线的灵活性和数学性质使它成为计算机图形学和设计领域中的重要工具。\n\n//二次贝塞尔\n// 二维向量vector2创建一组顶点坐标\nconst arr = [\n    new three.vector2(-100, 0),\n    new three.vector2(0, 30),\n    new three.vector2(100, 0),\n];\n// 二维样条曲线\nconst curve = new three.splinecurve(arr);\n\n//三维样条曲线\nconst arr = [\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(70, 0, 80)\n]\n// 三维样条曲线\nconst curve = new three.catmullromcurve3(arr);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n\n# 曲线拼接\n\n我的理解就是,画几种辅助曲线,然后打碎,再形成缓冲集合体\n\nconst r = 80;//圆弧半径\nconst h = 200;//直线部分高度\n// 直线1\nconst line1 = new three.linecurve(new three.vector2(r, h), new three.vector2(r, 0));\n// 圆弧\nconst arc = new three.arccurve(0, 0, r, 0, math.pi, true);\n// 直线2\nconst line2 = new three.linecurve(new three.vector2(-r, 0), new three.vector2(-r, h));\n\n// curvepath创建一个组合曲线对象\nconst curvepath = new three.curvepath();\n//line1, arc, line2拼接出来一个u型轮廓曲线，注意顺序\ncurvepath.curves.push(line1, arc, line2);\n\n// 执行.getpoints()，直线部分不会像曲线返回中间多余点，只需要起始点即可。\nconst pointsarr = curvepath.getpoints(32); //曲线上获取点\nconst geometry = new three.buffergeometry();\ngeometry.setfrompoints(pointsarr);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n\n# 曲线管道\n\nconst path = new three.catmullromcurve3([\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(70, 0, 80)\n]);\n\n// linecurve3创建直线段路径\n// const path = new three.linecurve3(new three.vector3(0, 100, 0), new three.vector3(0, 0, 0));\n\n// path:路径   40：沿着轨迹细分数  2：管道半径   25：管道截面圆细分数\nconst geometry = new three.tubegeometry(path, 40, 2, 25);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n    side: three.doubleside, //双面显示看到管道内壁\n    //  wireframe: true,\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"欧拉角",frontmatter:{title:"欧拉角",date:"2023-12-08T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%AC%A7%E6%8B%89%E8%A7%92.html",relativePath:"views/threejs/欧拉角.md",key:"v-2e3d05c2",path:"/views/threejs/%E6%AC%A7%E6%8B%89%E8%A7%92.html",headers:[{level:2,title:"欧拉角",slug:"欧拉角",normalizedTitle:"欧拉角",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"欧拉角",content:" * 欧拉角\n\n\n\n\n# 欧拉角\n\nrotation就是一个欧拉角\n\nimport * as THREE from 'three';\n\n\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n// 角度属性.rotation使用threejs欧拉对象Euler表示的\nconsole.log('模型角度属性.rotation的值', mesh.rotation);\n\n// 创建一个欧拉对象，表示绕着x、y、z轴分别旋转45度，0度，90度\n// const Euler = new THREE.Euler( Math.PI/4,0, Math.PI/2);\nconst Euler = new THREE.Euler();\n// 通过xyz分量属性定义和参数一样\nEuler.x = Math.PI/4;\nEuler.y = 0;\nEuler.z = Math.PI/2;\n\n//绕y轴的角度设置为60度\nmesh.rotation.y += Math.PI/3;\n//绕y轴的角度增加60度\nmesh.rotation.y += Math.PI/3;\n//绕y轴的角度减去60度\nmesh.rotation.y -= Math.PI/3;\n\n// 通过模型的旋转方法，也可以改变角度属性.rotation\nmesh.rotateY(Math.PI / 2);// 绕着Y轴旋转90度\n//控制台查看：旋转方法，改变了rotation属性\nconsole.log('mesh.rotation',mesh.rotation);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n",normalizedContent:" * 欧拉角\n\n\n\n\n# 欧拉角\n\nrotation就是一个欧拉角\n\nimport * as three from 'three';\n\n\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n\n// 角度属性.rotation使用threejs欧拉对象euler表示的\nconsole.log('模型角度属性.rotation的值', mesh.rotation);\n\n// 创建一个欧拉对象，表示绕着x、y、z轴分别旋转45度，0度，90度\n// const euler = new three.euler( math.pi/4,0, math.pi/2);\nconst euler = new three.euler();\n// 通过xyz分量属性定义和参数一样\neuler.x = math.pi/4;\neuler.y = 0;\neuler.z = math.pi/2;\n\n//绕y轴的角度设置为60度\nmesh.rotation.y += math.pi/3;\n//绕y轴的角度增加60度\nmesh.rotation.y += math.pi/3;\n//绕y轴的角度减去60度\nmesh.rotation.y -= math.pi/3;\n\n// 通过模型的旋转方法，也可以改变角度属性.rotation\nmesh.rotatey(math.pi / 2);// 绕着y轴旋转90度\n//控制台查看：旋转方法，改变了rotation属性\nconsole.log('mesh.rotation',mesh.rotation);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"标签",frontmatter:{title:"标签",date:"2023-11-21T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%A0%87%E7%AD%BE.html",relativePath:"views/threejs/标签.md",key:"v-6c5e788e",path:"/views/threejs/%E6%A0%87%E7%AD%BE.html",headers:[{level:2,title:"CSS2DRenderer(2D标签)",slug:"css2drenderer-2d标签",normalizedTitle:"css2drenderer(2d标签)",charIndex:3},{level:2,title:"随屏幕变化",slug:"随屏幕变化",normalizedTitle:"随屏幕变化",charIndex:26},{level:2,title:"渲染前tag隐藏",slug:"渲染前tag隐藏",normalizedTitle:"渲染前tag隐藏",charIndex:35},{level:2,title:"ray选中弹出标签",slug:"ray选中弹出标签",normalizedTitle:"ray选中弹出标签",charIndex:47},{level:2,title:"CSS3DRenderer",slug:"css3drenderer",normalizedTitle:"css3drenderer",charIndex:60},{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0}],excerpt:"<Boxx/>\n",headersStr:"CSS2DRenderer(2D标签) 随屏幕变化 渲染前tag隐藏 ray选中弹出标签 CSS3DRenderer ",content:" * CSS2DRenderer(2D标签)\n * 随屏幕变化\n * 渲染前tag隐藏\n * ray选中弹出标签\n * CSS3DRenderer\n * \n\n\n\n\n# CSS2DRenderer(2D标签)\n\n把标签添加到mesh中去,然后局部坐标调整位置\n\n// 标注三维场景\nconst div = document.getElementById('tag');\n// HTML元素转化为threejs的CSS2模型对象\nconst tag = new CSS2DObject(div);\ntag.position.set(50,0,50);\n\nconst group = new THREE.Group();\ngroup.add(mesh);\ngroup.add(tag);\n\n// 创建一个CSS2渲染器CSS2DRenderer\nconst css2Renderer = new CSS2DRenderer();\ncss2Renderer.setSize(width, height);\ndocument.body.appendChild(css2Renderer.domElement);\n\n// HTML标签<div id=\"tag\"></div>外面父元素叠加到canvas画布上且重合\n// 注意canvas网布布局方式不同，CSS相关代码写法也可能不同，不过你只要能让标签父元素叠加到canvas画布上上面且重合就行\ncss2Renderer.domElement.style.position = 'absolute';\ncss2Renderer.domElement.style.top = '0px';\n\n// 改变canvas画布在网页位置，标签父元素css2Renderer.domElement也要重新定位\n// renderer.domElement.style.marginTop = '200px';\n// css2Renderer.domElement.style.top = '200px';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 随屏幕变化\n\n// 画布跟随窗口变化\nwindow.onresize = function () {\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    // cnavas画布宽高度重新设置\n    renderer.setSize(width,height);\n    // HTML标签css2Renderer.domElement尺寸重新设置\n    css2Renderer.setSize(width,height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 渲染前tag隐藏\n\n \x3c!-- CSS布局方式写法很多，不一定和课程一致 --\x3e\n    \x3c!-- CSS2渲染器渲染器之前，display: none;隐藏标签 --\x3e\n    <div id=\"tag\" style=\"display: none;\">\n\n\n1\n2\n3\n\n\n\n# ray选中弹出标签\n\naddEventListener('click', function (event) {\n    const px = event.offsetX;\n    const py = event.offsetY;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerWidth) * 2 - 1;\n    const y = -(py / window.innerHeight) * 2 + 1;\n    const raycaster = new THREE.Raycaster();\n    //.setFromCamera()在点击位置生成raycaster的射线ray\n    raycaster.setFromCamera(new THREE.Vector2(x, y), camera);\n    const cunchu = model.getObjectByName('存储罐');\n    // 射线拾取模型对象(包含多个Mesh)\n    // 可以给待选对象的所有子孙后代Mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseObj，并给chooseObj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.isMesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectObjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinePass.selectedObjects = [intersects[0].object.ancestors];\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseObj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getObjectByName(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseObj = obj;\n        span.innerHTML = intersects[0].object.ancestors.name;//修改标签数据\n    } else {\n        if (chooseObj) {//把原来选中模型对应的标签和发光描边隐藏\n            outlinePass.selectedObjects = []; //无发光描边\n            chooseObj.remove(tag); //从场景移除\n        }\n    }\n})\n//close\n// 鼠标单击按钮，关闭HTML标签\ndocument.getElementById('close').addEventListener('click',function(){\n    if (chooseObj) {//把原来选中模型对应的标签和发光描边隐藏\n        outlinePass.selectedObjects = []; //无发光描边\n        chooseObj.remove(tag); //从场景移除\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# CSS3DRenderer\n\n//CSS3普通模型,会随着模型旋转\nimport {\n    CSS3DObject\n} from 'three/addons/renderers/CSS3DRenderer.js';\n\nconst geometry = new THREE.ConeGeometry(25, 80);\ngeometry.translate(0, 40, 0); //y轴正方向，平移高度一半\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.position.set(50, 0, 50);\n\n// 可视化模型的局部坐标系\nconst axesHelper = new THREE.AxesHelper(100);\nmesh.add(axesHelper);\n\nconst div = document.getElementById('tag');\n// HTML元素转化为threejs的CSS3模型对象\nconst tag = new CSS3DObject(div);\n//标签tag作为mesh子对象，默认受到父对象位置影响\nmesh.add(tag);\ntag.position.y += 80; //圆锥mesh局部坐标系原点在自己底部时候，标签需要向上偏移圆锥自身高度\nconst group = new THREE.Group();\ngroup.add(mesh);\n\ntag.scale.set(0.5,0.5,1);//缩放标签尺寸\ntag.position.y += 10;//累加标签高度一半，标签底部和圆锥顶部标注位置重合\n\nexport default group;\n\n// 创建一个CSS3渲染器CSS3DRenderer\nconst css3Renderer = new CSS3DRenderer();\ncss3Renderer.setSize(width, height);\n// HTML标签<div id=\"tag\"></div>外面父元素叠加到canvas画布上且重合\ncss3Renderer.domElement.style.position = 'absolute';\ncss3Renderer.domElement.style.top = '0px';//具体值根据canvas画布位置来定\n//设置.pointerEvents=none，解决HTML元素标签对threejs canvas画布鼠标事件的遮挡\ncss3Renderer.domElement.style.pointerEvents = 'none';\ndocument.body.appendChild(css3Renderer.domElement);\n\n//css3精灵模型\nimport {\n    CSS3DSprite\n} from 'three/addons/renderers/CSS3DRenderer.js';\n\nconst geometry = new THREE.ConeGeometry(25, 80);\ngeometry.translate(0, 40, 0); //y轴正方向，平移高度一半\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\nmesh.position.set(50, 0, 50);\n\n\n// 可视化模型的局部坐标系\nconst axesHelper = new THREE.AxesHelper(100);\nmesh.add(axesHelper);\n\nconst div = document.getElementById('tag');\n// HTML元素转化为threejs的CSS3精灵模型`CSS3DSprite`\nconst tag = new CSS3DSprite(div);\n//标签tag作为mesh子对象，默认受到父对象位置影响\nmesh.add(tag);\ntag.position.y += 80; //圆锥mesh局部坐标系原点在自己底部时候，标签需要向上偏移圆锥自身高度\nconst group = new THREE.Group();\ngroup.add(mesh);\n\ntag.scale.set(0.5,0.5,1);//缩放标签尺寸\ntag.position.y += 10;//累加标签高度一半，标签底部和圆锥顶部标注位置重合\n\nexport default group;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n#\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    model.add(gltf.scene);\n\n    //需要批量标注的标签数据arr\n    const arr = ['设备A','设备B','停车场'];\n    for (let i = 0; i < arr.length; i++) {\n        // 注意是多个标签，需要克隆复制一份\n        const div = document.getElementById('tag').cloneNode();\n        div.innerHTML = arr[i];//标签数据填写\n        // HTML元素转化为threejs的CSS3对象\n        // const tag = new CSS3DObject(div);\n        const tag = new CSS3DSprite(div);\n        div.style.pointerEvents = 'none'; //避免标签遮挡canvas鼠标事件\n        // obj是建模软件中创建的一个空对象\n        const obj = gltf.scene.getObjectByName(arr[i]+'标注');\n        //tag会标注在空对象obj对应的位置\n        obj.add(tag);\n    \n        tag.scale.set(0.1,0.1,1);//适当缩放模型标签\n        tag.position.y = 40/2*0.1;//标签底部箭头和空对象标注点重合：偏移高度像素值一半*缩放比例\n    }\n    \n})\n\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    model.add(gltf.scene);\n    const texLoader= new THREE.TextureLoader();\n    const texture = texLoader.load(\"./警告.png\");\n    const spriteMaterial = new THREE.SpriteMaterial({\n      map: texture,\n    });\n    const sprite = new THREE.Sprite(spriteMaterial);\n    // 控制精灵大小\n    sprite.scale.set(5, 5, 1);\n    sprite.position.y = 5 / 2; //标签底部箭头和空对象标注点重合  \n    const obj = gltf.scene.getObjectByName('设备A标注');// obj是建模软件中创建的一个空对象\n    obj.add(sprite);//tag会标注在空对象obj对应的位置\n})\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",normalizedContent:" * css2drenderer(2d标签)\n * 随屏幕变化\n * 渲染前tag隐藏\n * ray选中弹出标签\n * css3drenderer\n * \n\n\n\n\n# css2drenderer(2d标签)\n\n把标签添加到mesh中去,然后局部坐标调整位置\n\n// 标注三维场景\nconst div = document.getelementbyid('tag');\n// html元素转化为threejs的css2模型对象\nconst tag = new css2dobject(div);\ntag.position.set(50,0,50);\n\nconst group = new three.group();\ngroup.add(mesh);\ngroup.add(tag);\n\n// 创建一个css2渲染器css2drenderer\nconst css2renderer = new css2drenderer();\ncss2renderer.setsize(width, height);\ndocument.body.appendchild(css2renderer.domelement);\n\n// html标签<div id=\"tag\"></div>外面父元素叠加到canvas画布上且重合\n// 注意canvas网布布局方式不同，css相关代码写法也可能不同，不过你只要能让标签父元素叠加到canvas画布上上面且重合就行\ncss2renderer.domelement.style.position = 'absolute';\ncss2renderer.domelement.style.top = '0px';\n\n// 改变canvas画布在网页位置，标签父元素css2renderer.domelement也要重新定位\n// renderer.domelement.style.margintop = '200px';\n// css2renderer.domelement.style.top = '200px';\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 随屏幕变化\n\n// 画布跟随窗口变化\nwindow.onresize = function () {\n    const width = window.innerwidth;\n    const height = window.innerheight;\n    // cnavas画布宽高度重新设置\n    renderer.setsize(width,height);\n    // html标签css2renderer.domelement尺寸重新设置\n    css2renderer.setsize(width,height);\n    camera.aspect = width / height;\n    camera.updateprojectionmatrix();\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 渲染前tag隐藏\n\n \x3c!-- css布局方式写法很多，不一定和课程一致 --\x3e\n    \x3c!-- css2渲染器渲染器之前，display: none;隐藏标签 --\x3e\n    <div id=\"tag\" style=\"display: none;\">\n\n\n1\n2\n3\n\n\n\n# ray选中弹出标签\n\naddeventlistener('click', function (event) {\n    const px = event.offsetx;\n    const py = event.offsety;\n    //屏幕坐标转标准设备坐标\n    const x = (px / window.innerwidth) * 2 - 1;\n    const y = -(py / window.innerheight) * 2 + 1;\n    const raycaster = new three.raycaster();\n    //.setfromcamera()在点击位置生成raycaster的射线ray\n    raycaster.setfromcamera(new three.vector2(x, y), camera);\n    const cunchu = model.getobjectbyname('存储罐');\n    // 射线拾取模型对象(包含多个mesh)\n    // 可以给待选对象的所有子孙后代mesh，设置一个祖先属性ancestors,值指向祖先(待选对象)    \n    for (let i = 0; i < cunchu.children.length; i++) {\n        const group = cunchu.children[i];\n        //递归遍历chooseobj，并给chooseobj的所有子孙后代设置一个ancestors属性指向自己\n        group.traverse(function (obj) {\n            if (obj.ismesh) {\n                obj.ancestors = group;\n            }\n        })\n    }\n    // 射线交叉计算拾取模型\n    const intersects = raycaster.intersectobjects(cunchu.children);\n    console.log('intersects', intersects);\n    if (intersects.length > 0) {\n        // 通过.ancestors属性判断那个模型对象被选中了\n        outlinepass.selectedobjects = [intersects[0].object.ancestors];\n        //tag会标注在intersects[0].object.ancestors模型的局部坐标系原点位置\n        intersects[0].object.ancestors.add(tag);\n        chooseobj = intersects[0].object.ancestors;\n        // 获取模型对象对应的标注点\n        // console.log('intersects[0].object.ancestors.name', intersects[0].object.ancestors.name);\n        // const obj = model.getobjectbyname(intersects[0].object.ancestors.name + '标注');\n        // //tag会标注在空对象obj对应的位置\n        // obj.add(tag);\n        // chooseobj = obj;\n        span.innerhtml = intersects[0].object.ancestors.name;//修改标签数据\n    } else {\n        if (chooseobj) {//把原来选中模型对应的标签和发光描边隐藏\n            outlinepass.selectedobjects = []; //无发光描边\n            chooseobj.remove(tag); //从场景移除\n        }\n    }\n})\n//close\n// 鼠标单击按钮，关闭html标签\ndocument.getelementbyid('close').addeventlistener('click',function(){\n    if (chooseobj) {//把原来选中模型对应的标签和发光描边隐藏\n        outlinepass.selectedobjects = []; //无发光描边\n        chooseobj.remove(tag); //从场景移除\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n\n# css3drenderer\n\n//css3普通模型,会随着模型旋转\nimport {\n    css3dobject\n} from 'three/addons/renderers/css3drenderer.js';\n\nconst geometry = new three.conegeometry(25, 80);\ngeometry.translate(0, 40, 0); //y轴正方向，平移高度一半\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.position.set(50, 0, 50);\n\n// 可视化模型的局部坐标系\nconst axeshelper = new three.axeshelper(100);\nmesh.add(axeshelper);\n\nconst div = document.getelementbyid('tag');\n// html元素转化为threejs的css3模型对象\nconst tag = new css3dobject(div);\n//标签tag作为mesh子对象，默认受到父对象位置影响\nmesh.add(tag);\ntag.position.y += 80; //圆锥mesh局部坐标系原点在自己底部时候，标签需要向上偏移圆锥自身高度\nconst group = new three.group();\ngroup.add(mesh);\n\ntag.scale.set(0.5,0.5,1);//缩放标签尺寸\ntag.position.y += 10;//累加标签高度一半，标签底部和圆锥顶部标注位置重合\n\nexport default group;\n\n// 创建一个css3渲染器css3drenderer\nconst css3renderer = new css3drenderer();\ncss3renderer.setsize(width, height);\n// html标签<div id=\"tag\"></div>外面父元素叠加到canvas画布上且重合\ncss3renderer.domelement.style.position = 'absolute';\ncss3renderer.domelement.style.top = '0px';//具体值根据canvas画布位置来定\n//设置.pointerevents=none，解决html元素标签对threejs canvas画布鼠标事件的遮挡\ncss3renderer.domelement.style.pointerevents = 'none';\ndocument.body.appendchild(css3renderer.domelement);\n\n//css3精灵模型\nimport {\n    css3dsprite\n} from 'three/addons/renderers/css3drenderer.js';\n\nconst geometry = new three.conegeometry(25, 80);\ngeometry.translate(0, 40, 0); //y轴正方向，平移高度一半\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\nmesh.position.set(50, 0, 50);\n\n\n// 可视化模型的局部坐标系\nconst axeshelper = new three.axeshelper(100);\nmesh.add(axeshelper);\n\nconst div = document.getelementbyid('tag');\n// html元素转化为threejs的css3精灵模型`css3dsprite`\nconst tag = new css3dsprite(div);\n//标签tag作为mesh子对象，默认受到父对象位置影响\nmesh.add(tag);\ntag.position.y += 80; //圆锥mesh局部坐标系原点在自己底部时候，标签需要向上偏移圆锥自身高度\nconst group = new three.group();\ngroup.add(mesh);\n\ntag.scale.set(0.5,0.5,1);//缩放标签尺寸\ntag.position.y += 10;//累加标签高度一半，标签底部和圆锥顶部标注位置重合\n\nexport default group;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n\n\n\n#\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    model.add(gltf.scene);\n\n    //需要批量标注的标签数据arr\n    const arr = ['设备a','设备b','停车场'];\n    for (let i = 0; i < arr.length; i++) {\n        // 注意是多个标签，需要克隆复制一份\n        const div = document.getelementbyid('tag').clonenode();\n        div.innerhtml = arr[i];//标签数据填写\n        // html元素转化为threejs的css3对象\n        // const tag = new css3dobject(div);\n        const tag = new css3dsprite(div);\n        div.style.pointerevents = 'none'; //避免标签遮挡canvas鼠标事件\n        // obj是建模软件中创建的一个空对象\n        const obj = gltf.scene.getobjectbyname(arr[i]+'标注');\n        //tag会标注在空对象obj对应的位置\n        obj.add(tag);\n    \n        tag.scale.set(0.1,0.1,1);//适当缩放模型标签\n        tag.position.y = 40/2*0.1;//标签底部箭头和空对象标注点重合：偏移高度像素值一半*缩放比例\n    }\n    \n})\n\n\nloader.load(\"../工厂.glb\", function (gltf) {\n    model.add(gltf.scene);\n    const texloader= new three.textureloader();\n    const texture = texloader.load(\"./警告.png\");\n    const spritematerial = new three.spritematerial({\n      map: texture,\n    });\n    const sprite = new three.sprite(spritematerial);\n    // 控制精灵大小\n    sprite.scale.set(5, 5, 1);\n    sprite.position.y = 5 / 2; //标签底部箭头和空对象标注点重合  \n    const obj = gltf.scene.getobjectbyname('设备a标注');// obj是建模软件中创建的一个空对象\n    obj.add(sprite);//tag会标注在空对象obj对应的位置\n})\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"渲染器和前端UI界面",frontmatter:{title:"渲染器和前端UI界面",date:"2023-12-21T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%89%8D%E7%AB%AFUI%E7%95%8C%E9%9D%A2.html",relativePath:"views/threejs/渲染器和前端UI界面.md",key:"v-e62abbcc",path:"/views/threejs/%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%89%8D%E7%AB%AFUI%E7%95%8C%E9%9D%A2.html",headers:[{level:2,title:"UI交互",slug:"ui交互",normalizedTitle:"ui交互",charIndex:3},{level:2,title:"页面背景的透明度和颜色",slug:"页面背景的透明度和颜色",normalizedTitle:"页面背景的透明度和颜色",charIndex:11},{level:2,title:"canvas输出为图片",slug:"canvas输出为图片",normalizedTitle:"canvas输出为图片",charIndex:26},{level:2,title:"深度冲突 闪屏 闪烁",slug:"深度冲突-闪屏-闪烁",normalizedTitle:"深度冲突 闪屏 闪烁",charIndex:41},{level:2,title:"加载进度条(难点)",slug:"加载进度条-难点",normalizedTitle:"加载进度条(难点)",charIndex:55}],excerpt:"<Boxx/>\n",headersStr:"UI交互 页面背景的透明度和颜色 canvas输出为图片 深度冲突 闪屏 闪烁 加载进度条(难点)",content:' * UI交互\n * 页面背景的透明度和颜色\n * canvas输出为图片\n * 深度冲突 闪屏 闪烁\n * 加载进度条(难点)\n\n\n\n\n# UI交互\n\ndocument.getElementById(\'red\').addEventListener(\'click\',function(){\n    mesh.material.color.set(0xff0000);\n})\ndocument.getElementById(\'green\').addEventListener(\'click\',function(){\n    mesh.material.color.set(0x00ff00);\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 页面背景的透明度和颜色\n\n renderer.setClearColor(0xff0000, 0.2); //设置背景颜色和透明度\n renderer.setClearAlpha(0.5);// 改变背景透明度值\n\n\n1\n2\n\n\n\n# canvas输出为图片\n\n// 鼠标单击id为download的HTML元素，threejs渲染结果以图片形式下载到本地\ndocument.getElementById(\'download\').addEventListener(\'click\',function(){\n    // 创建一个超链接元素，用来下载保存数据的文件\n    const link = document.createElement(\'a\');\n    // 通过超链接herf属性，设置要保存到文件中的数据\n    const canvas = renderer.domElement; //获取canvas对象\n    link.href = canvas.toDataURL("image/png");\n    link.download = \'threejs.png\'; //下载文件名\n    link.click(); //js代码触发超链接元素a的鼠标点击事件，开始下载文件到本地\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 深度冲突 闪屏 闪烁\n\n// 在使用透视投影相机渲染的时候，两个模型距离很近，如果距离相机比较远，也可能出现闪烁\nmesh2.position.z = 0.1;\n\n// 当两个mesh间隙过小，或者重合，你设置webgl渲染器对数深度缓冲区也是无效的。\n// mesh2.position.z = 0.00001;\n\n\n1\n2\n3\n4\n5\n\n\n\n# 加载进度条(难点)\n\nconst percentDiv = document.getElementById("per"); // 获取进度条元素\nloader.load("../工厂.glb", function (gltf) {\n    model.add(gltf.scene);\n    // 加载完成，隐藏进度条\n    // document.getElementById("container").style.visibility =\'hidden\';\n    document.getElementById("container").style.display = \'none\';\n}, function (xhr) {\n    // 控制台查看加载进度xhr\n    // 通过加载进度xhr可以控制前端进度条进度   \n    const percent = xhr.loaded / xhr.total;\n    console.log(\'加载进度\' + percent);\n     \n   \n    percentDiv.style.width = percent * 400 + "px"; //进度条元素长度\n    percentDiv.style.textIndent = percent * 400 + 5 + "px"; //缩进元素中的首行文本\n    // Math.floor:小数加载进度取整\n    percentDiv.innerHTML = Math.floor(percent * 100) + \'%\'; //进度百分比\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n原生HTML,CSS进度条,直接用\n\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>Three.js中文网：http://www.webgl3d.cn/</title>\n    <style>\n        body {\n            margin: 0;\n            overflow: hidden;\n        }\n        /* 进度条css样式 */\n        #container {\n            position: absolute;\n            width: 400px;\n            height: 16px;\n            top: 50%;\n            left:50%;\n            margin-left: -200px;\n            margin-top: -8px;\n            border-radius: 8px;           \n            border: 1px solid #009999;          \n            overflow: hidden;\n        }\n        #per {\n            height: 100%;\n            width: 0px;\n            background: #00ffff;\n            color: #00ffff;\n            line-height: 15px;          \n        }\n    </style>\n</head>\n\n<body style="background-color: #001111;">\n    <div id="container">\n        \x3c!-- 进度条 --\x3e\n        <div id="per"> </div>\n    </div>\n    <script>        \n        const percentDiv = document.getElementById("per");// 获取进度条元素\n        percentDiv.style.width = 0.8*400 + "px";//进度条元素长度\n        percentDiv.style.textIndent = 0.8*400 + 5 +"px";//缩进元素中的首行文本\n        percentDiv.innerHTML =  "80%";//进度百分比\n    <\/script>\n</body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n',normalizedContent:' * ui交互\n * 页面背景的透明度和颜色\n * canvas输出为图片\n * 深度冲突 闪屏 闪烁\n * 加载进度条(难点)\n\n\n\n\n# ui交互\n\ndocument.getelementbyid(\'red\').addeventlistener(\'click\',function(){\n    mesh.material.color.set(0xff0000);\n})\ndocument.getelementbyid(\'green\').addeventlistener(\'click\',function(){\n    mesh.material.color.set(0x00ff00);\n})\n\n\n1\n2\n3\n4\n5\n6\n\n\n\n# 页面背景的透明度和颜色\n\n renderer.setclearcolor(0xff0000, 0.2); //设置背景颜色和透明度\n renderer.setclearalpha(0.5);// 改变背景透明度值\n\n\n1\n2\n\n\n\n# canvas输出为图片\n\n// 鼠标单击id为download的html元素，threejs渲染结果以图片形式下载到本地\ndocument.getelementbyid(\'download\').addeventlistener(\'click\',function(){\n    // 创建一个超链接元素，用来下载保存数据的文件\n    const link = document.createelement(\'a\');\n    // 通过超链接herf属性，设置要保存到文件中的数据\n    const canvas = renderer.domelement; //获取canvas对象\n    link.href = canvas.todataurl("image/png");\n    link.download = \'threejs.png\'; //下载文件名\n    link.click(); //js代码触发超链接元素a的鼠标点击事件，开始下载文件到本地\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n\n# 深度冲突 闪屏 闪烁\n\n// 在使用透视投影相机渲染的时候，两个模型距离很近，如果距离相机比较远，也可能出现闪烁\nmesh2.position.z = 0.1;\n\n// 当两个mesh间隙过小，或者重合，你设置webgl渲染器对数深度缓冲区也是无效的。\n// mesh2.position.z = 0.00001;\n\n\n1\n2\n3\n4\n5\n\n\n\n# 加载进度条(难点)\n\nconst percentdiv = document.getelementbyid("per"); // 获取进度条元素\nloader.load("../工厂.glb", function (gltf) {\n    model.add(gltf.scene);\n    // 加载完成，隐藏进度条\n    // document.getelementbyid("container").style.visibility =\'hidden\';\n    document.getelementbyid("container").style.display = \'none\';\n}, function (xhr) {\n    // 控制台查看加载进度xhr\n    // 通过加载进度xhr可以控制前端进度条进度   \n    const percent = xhr.loaded / xhr.total;\n    console.log(\'加载进度\' + percent);\n     \n   \n    percentdiv.style.width = percent * 400 + "px"; //进度条元素长度\n    percentdiv.style.textindent = percent * 400 + 5 + "px"; //缩进元素中的首行文本\n    // math.floor:小数加载进度取整\n    percentdiv.innerhtml = math.floor(percent * 100) + \'%\'; //进度百分比\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n原生html,css进度条,直接用\n\n<!doctype html>\n<html lang="en">\n\n<head>\n    <meta charset="utf-8">\n    <title>three.js中文网：http://www.webgl3d.cn/</title>\n    <style>\n        body {\n            margin: 0;\n            overflow: hidden;\n        }\n        /* 进度条css样式 */\n        #container {\n            position: absolute;\n            width: 400px;\n            height: 16px;\n            top: 50%;\n            left:50%;\n            margin-left: -200px;\n            margin-top: -8px;\n            border-radius: 8px;           \n            border: 1px solid #009999;          \n            overflow: hidden;\n        }\n        #per {\n            height: 100%;\n            width: 0px;\n            background: #00ffff;\n            color: #00ffff;\n            line-height: 15px;          \n        }\n    </style>\n</head>\n\n<body style="background-color: #001111;">\n    <div id="container">\n        \x3c!-- 进度条 --\x3e\n        <div id="per"> </div>\n    </div>\n    <script>        \n        const percentdiv = document.getelementbyid("per");// 获取进度条元素\n        percentdiv.style.width = 0.8*400 + "px";//进度条元素长度\n        percentdiv.style.textindent = 0.8*400 + 5 +"px";//缩进元素中的首行文本\n        percentdiv.innerhtml =  "80%";//进度百分比\n    <\/script>\n</body>\n\n</html>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n',charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"精灵模型Sprite",frontmatter:{title:"精灵模型Sprite",date:"2023-12-05T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8BSprite.html",relativePath:"views/threejs/精灵模型Sprite.md",key:"v-6c559c8b",path:"/views/threejs/%E7%B2%BE%E7%81%B5%E6%A8%A1%E5%9E%8BSprite.html",headers:[{level:2,title:"精灵模型Sprite",slug:"精灵模型sprite",normalizedTitle:"精灵模型sprite",charIndex:3},{level:2,title:"精灵模型标注场景(贴图)",slug:"精灵模型标注场景-贴图",normalizedTitle:"精灵模型标注场景(贴图)",charIndex:17}],excerpt:"<Boxx/>\n",headersStr:"精灵模型Sprite 精灵模型标注场景(贴图)",content:" * 精灵模型Sprite\n * 精灵模型标注场景(贴图)\n\n\n\n\n# 精灵模型Sprite\n\nimport * as THREE from 'three';\n\n// 创建精灵材质对象SpriteMaterial\nconst spriteMaterial = new THREE.SpriteMaterial({\n  color:0x00ffff,//设置颜色\n});\n// 创建精灵模型对象，不需要几何体geometry参数\nconst sprite = new THREE.Sprite(spriteMaterial);\n\n// 设置精灵模型在三维空间中的位置坐标\nsprite.position.set(0,50,0);\n// 控制精灵大小\nsprite.scale.set(50, 25, 1); //只需要设置x、y两个分量就可以\n\nexport default sprite;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 精灵模型标注场景(贴图)\n\nconst texture = new THREE.TextureLoader().load(\"./光点.png\");\nconst spriteMaterial = new THREE.SpriteMaterial({\n  // color:0x00ffff,//设置颜色\n  map: texture, //设置精灵纹理贴图\n  // transparent:true,//SpriteMaterial默认是true\n});\nconst sprite = new THREE.Sprite(spriteMaterial);\n// 控制精灵大小\nsprite.scale.set(10, 10, 1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:" * 精灵模型sprite\n * 精灵模型标注场景(贴图)\n\n\n\n\n# 精灵模型sprite\n\nimport * as three from 'three';\n\n// 创建精灵材质对象spritematerial\nconst spritematerial = new three.spritematerial({\n  color:0x00ffff,//设置颜色\n});\n// 创建精灵模型对象，不需要几何体geometry参数\nconst sprite = new three.sprite(spritematerial);\n\n// 设置精灵模型在三维空间中的位置坐标\nsprite.position.set(0,50,0);\n// 控制精灵大小\nsprite.scale.set(50, 25, 1); //只需要设置x、y两个分量就可以\n\nexport default sprite;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n\n# 精灵模型标注场景(贴图)\n\nconst texture = new three.textureloader().load(\"./光点.png\");\nconst spritematerial = new three.spritematerial({\n  // color:0x00ffff,//设置颜色\n  map: texture, //设置精灵纹理贴图\n  // transparent:true,//spritematerial默认是true\n});\nconst sprite = new three.sprite(spritematerial);\n// 控制精灵大小\nsprite.scale.set(10, 10, 1);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"地铁线路",frontmatter:{title:"地铁线路",date:"2023-12-15T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E7%BA%BF%E8%B7%AF.html",relativePath:"views/threejs/线路.md",key:"v-62d23476",path:"/views/threejs/%E7%BA%BF%E8%B7%AF.html",headers:[{level:2,title:"地铁线路",slug:"地铁线路",normalizedTitle:"地铁线路",charIndex:3},{level:2,title:"加入点模型",slug:"加入点模型",normalizedTitle:"加入点模型",charIndex:11}],excerpt:"<Boxx/>\n",headersStr:"地铁线路 加入点模型",content:" * 地铁线路\n * 加入点模型\n\n\n\n\n# 地铁线路\n\n// 引入three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport {\n    lon2xy\n} from './math.js';\nvar lineGroup = new THREE.Group(); //声明一个组对象\nvar loader = new THREE.FileLoader();\nloader.setResponseType('json')\n//轨迹线数据解析W\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.forEach(function (obj) {\n        var pointsArr = []\n        obj.coordinates.forEach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0]-0.0128, coord[1]-0.0075);//建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsArr.push(xy.x, xy.y, 0);\n        })\n        var line = createLine(pointsArr); //创建一条轨迹线\n        lineGroup.add(line);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createLine(pointsArr) {\n    /**\n     * 通过BufferGeometry构建一个几何体，传入顶点数据\n     * 通过Line模型渲染几何体，连点成线\n     */\n    var geometry = new THREE.BufferGeometry(); //创建一个Buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new Float32Array(pointsArr);\n    // 创建属性缓冲区对象\n    var attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new THREE.LineBasicMaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new THREE.Line(geometry, material); //线条模型对象\n    return line;\n}\nexport {\n    lineGroup\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# 加入点模型\n\n// 引入three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport {\n    lon2xy\n} from './math.js';\nvar lineGroup = new THREE.Group(); //声明一个组对象\nvar loader = new THREE.FileLoader();\nloader.setResponseType('json')\n//轨迹线数据解析W\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.forEach(function (obj) {\n        var pointsArr = []\n        obj.coordinates.forEach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0]-0.0128, coord[1]-0.0075);//建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsArr.push(xy.x, xy.y, 0);\n        })\n        var line = createLine(pointsArr); //创建一条轨迹线\n        lineGroup.add(line);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createLine(pointsArr) {\n    /**\n     * 通过BufferGeometry构建一个几何体，传入顶点数据\n     * 通过Line模型渲染几何体，连点成线\n     */\n    var geometry = new THREE.BufferGeometry(); //创建一个Buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new Float32Array(pointsArr);\n    // 创建属性缓冲区对象\n    var attribue = new THREE.BufferAttribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new THREE.LineBasicMaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new THREE.Line(geometry, material); //线条模型对象\n\n    var PointsMaterial = new THREE.PointsMaterial({\n        color: 0xffff00,\n        size: 300 //点对象像素尺寸  相机渲染范围越大，设置的值越大\n      }); //材质对象\n      var points = new THREE.Points(geometry, PointsMaterial); //点模型对象\n      line.add(points);\n\n    return line;\n}\nexport {\n    lineGroup\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n",normalizedContent:" * 地铁线路\n * 加入点模型\n\n\n\n\n# 地铁线路\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport {\n    lon2xy\n} from './math.js';\nvar linegroup = new three.group(); //声明一个组对象\nvar loader = new three.fileloader();\nloader.setresponsetype('json')\n//轨迹线数据解析w\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.foreach(function (obj) {\n        var pointsarr = []\n        obj.coordinates.foreach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0]-0.0128, coord[1]-0.0075);//建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsarr.push(xy.x, xy.y, 0);\n        })\n        var line = createline(pointsarr); //创建一条轨迹线\n        linegroup.add(line);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createline(pointsarr) {\n    /**\n     * 通过buffergeometry构建一个几何体，传入顶点数据\n     * 通过line模型渲染几何体，连点成线\n     */\n    var geometry = new three.buffergeometry(); //创建一个buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new float32array(pointsarr);\n    // 创建属性缓冲区对象\n    var attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new three.linebasicmaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new three.line(geometry, material); //线条模型对象\n    return line;\n}\nexport {\n    linegroup\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n\n\n\n# 加入点模型\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport {\n    lon2xy\n} from './math.js';\nvar linegroup = new three.group(); //声明一个组对象\nvar loader = new three.fileloader();\nloader.setresponsetype('json')\n//轨迹线数据解析w\nloader.load('./scene/地铁.json', function (data) {\n\n    data.geometries.foreach(function (obj) {\n        var pointsarr = []\n        obj.coordinates.foreach(function (coord) {\n            // var xy = lon2xy(coord[0], coord[1]);//经纬度转墨卡托\n            var xy = lon2xy(coord[0]-0.0128, coord[1]-0.0075);//建筑物和地铁经纬度数据来源不同，适当偏移\n            pointsarr.push(xy.x, xy.y, 0);\n        })\n        var line = createline(pointsarr); //创建一条轨迹线\n        linegroup.add(line);\n    })\n\n});\n\n// 通过一系列坐标点生成一条轨迹线\nfunction createline(pointsarr) {\n    /**\n     * 通过buffergeometry构建一个几何体，传入顶点数据\n     * 通过line模型渲染几何体，连点成线\n     */\n    var geometry = new three.buffergeometry(); //创建一个buffer类型几何体对象\n    //类型数组创建顶点数据\n    var vertices = new float32array(pointsarr);\n    // 创建属性缓冲区对象\n    var attribue = new three.bufferattribute(vertices, 3); //3个为一组，表示一个顶点的xyz坐标\n    // 设置几何体attributes属性的位置属性\n    geometry.attributes.position = attribue;\n    // 线条渲染几何体顶点数据\n    var material = new three.linebasicmaterial({\n        color: 0x006666 //线条颜色\n    }); //材质对象\n    var line = new three.line(geometry, material); //线条模型对象\n\n    var pointsmaterial = new three.pointsmaterial({\n        color: 0xffff00,\n        size: 300 //点对象像素尺寸  相机渲染范围越大，设置的值越大\n      }); //材质对象\n      var points = new three.points(geometry, pointsmaterial); //点模型对象\n      line.add(points);\n\n    return line;\n}\nexport {\n    linegroup\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"经纬度转墨卡托",frontmatter:{title:"经纬度转墨卡托",date:"2023-12-04T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%A2%A8%E5%8D%A1%E6%89%98.html",relativePath:"views/threejs/经纬度转墨卡托.md",key:"v-1cc8cfa2",path:"/views/threejs/%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%A2%A8%E5%8D%A1%E6%89%98.html",headers:[{level:2,title:"坐标系转换",slug:"坐标系转换",normalizedTitle:"坐标系转换",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"坐标系转换",content:" * 坐标系转换\n\n\n\n\n# 坐标系转换\n\nfunction lon2xy(longitude, latitude) {\n    var E = longitude;\n    var N = latitude;\n    var x = E * 20037508.34 / 180;\n    var y = Math.log(Math.tan((90 + N) * Math.PI / 360)) / (Math.PI / 180);\n    y = y * 20037508.34 / 180;\n    return {\n        x: x, //墨卡托x坐标——对应经度\n        y: y, //墨卡托y坐标——对应维度\n    }\n}\n\n\n\n\n//形成平面\nimport {\n  lon2xy\n} from './math.js';\n// pointsArrs：多个多边形轮廓\nfunction ShapeMesh(pointsArrs) {\n  var shapeArr = []; //轮廓形状Shape集合\n  pointsArrs.forEach(pointsArr => {\n    var vector2Arr = [];\n    // 转化为Vector2构成的顶点数组\n    pointsArr[0].forEach(elem => {\n      var xy = lon2xy(elem[0],elem[1]);//经纬度转墨卡托坐标\n      vector2Arr.push(new THREE.Vector2(xy.x, xy.y));\n    });\n    var shape = new THREE.Shape(vector2Arr);\n    shapeArr.push(shape);\n  });\n  var geometry = new THREE.ShapeGeometry( //填充多边形\n    shapeArr,\n  );\n  var material = new THREE.MeshLambertMaterial({\n    color: 0x009999,\n  }); //材质对象\n  var mesh = new THREE.Mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",normalizedContent:" * 坐标系转换\n\n\n\n\n# 坐标系转换\n\nfunction lon2xy(longitude, latitude) {\n    var e = longitude;\n    var n = latitude;\n    var x = e * 20037508.34 / 180;\n    var y = math.log(math.tan((90 + n) * math.pi / 360)) / (math.pi / 180);\n    y = y * 20037508.34 / 180;\n    return {\n        x: x, //墨卡托x坐标——对应经度\n        y: y, //墨卡托y坐标——对应维度\n    }\n}\n\n\n\n\n//形成平面\nimport {\n  lon2xy\n} from './math.js';\n// pointsarrs：多个多边形轮廓\nfunction shapemesh(pointsarrs) {\n  var shapearr = []; //轮廓形状shape集合\n  pointsarrs.foreach(pointsarr => {\n    var vector2arr = [];\n    // 转化为vector2构成的顶点数组\n    pointsarr[0].foreach(elem => {\n      var xy = lon2xy(elem[0],elem[1]);//经纬度转墨卡托坐标\n      vector2arr.push(new three.vector2(xy.x, xy.y));\n    });\n    var shape = new three.shape(vector2arr);\n    shapearr.push(shape);\n  });\n  var geometry = new three.shapegeometry( //填充多边形\n    shapearr,\n  );\n  var material = new three.meshlambertmaterial({\n    color: 0x009999,\n  }); //材质对象\n  var mesh = new three.mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"相机基础",frontmatter:{title:"相机基础",date:"2023-12-16T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80.html",relativePath:"views/threejs/相机基础.md",key:"v-70759a5a",path:"/views/threejs/%E7%9B%B8%E6%9C%BA%E5%9F%BA%E7%A1%80.html",headers:[{level:2,title:"正投影相机",slug:"正投影相机",normalizedTitle:"正投影相机",charIndex:3},{level:2,title:"正投影的canvas设置",slug:"正投影的canvas设置",normalizedTitle:"正投影的canvas设置",charIndex:12},{level:2,title:"包围盒",slug:"包围盒",normalizedTitle:"包围盒",charIndex:28},{level:2,title:"相机圆周运动",slug:"相机圆周运动",normalizedTitle:"相机圆周运动",charIndex:35},{level:2,title:"相机上方向",slug:"相机上方向",normalizedTitle:"相机上方向",charIndex:45},{level:2,title:"管道漫游",slug:"管道漫游",normalizedTitle:"管道漫游",charIndex:54},{level:2,title:"OrbitControls旋转缩放限制",slug:"orbitcontrols旋转缩放限制",normalizedTitle:"orbitcontrols旋转缩放限制",charIndex:62},{level:2,title:"相机控件MapControls",slug:"相机控件mapcontrols",normalizedTitle:"相机控件mapcontrols",charIndex:85}],excerpt:"<Boxx/>\n",headersStr:"正投影相机 正投影的canvas设置 包围盒 相机圆周运动 相机上方向 管道漫游 OrbitControls旋转缩放限制 相机控件MapControls",content:" * 正投影相机\n * 正投影的canvas设置\n * 包围盒\n * 相机圆周运动\n * 相机上方向\n * 管道漫游\n * OrbitControls旋转缩放限制\n * 相机控件MapControls\n\n\n\n\n# 正投影相机\n\n正投影相机（Orthographic Camera）是计算机图形学中一种用于渲染的相机类型。与透视相机不同，正投影相机在观察物体时没有透视效果，即远近物体的大小在投影中是一样的。这种相机产生的投影是平行的，不会因为物体的距离而有大小的差异，因此也被称为平行投影。\n\n正投影相机通常用于需要以等比例方式呈现场景中物体的情况，例如建筑渲染、工程图、CAD（计算机辅助设计）等。正投影相机的投影矩阵是一个简单的矩阵，不包含透视变换。\n\n// 正投影相机\nconst width = window.innerWidth; //canvas画布宽度\nconst height = window.innerHeight; //canvas画布高度\nconst k = width / height; //canvas画布宽高比\nconst s = 600;//控制left, right, top, bottom范围大小\nconst camera = new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 8000);\n// const orthoCamera = new THREE.OrthographicCamera(\n//   width / -2,  // 左侧边界\n//   width / 2,   // 右侧边界\n//   height / 2,  // 顶部边界\n//   height / -2, // 底部边界\n//   near,        // 近裁剪面\n//   far          // 远裁剪面\n// );\ncamera.position.set(0, 2000, 0);//相机放在了y轴上\ncamera.lookAt(0, 0, 0);//指向坐标原点\n\n\n//透视投影相机\n// const width = window.innerWidth;\n// const height = window.innerHeight;\n// const camera = new THREE.PerspectiveCamera(45, width / height, 1, 8000);\n// camera.position.set(800, 800, 800);\n// camera.lookAt(0, 0, 0);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 正投影的canvas设置\n\n// Canvas画布跟随窗口变化\nwindow.onresize = function () {\n    const width = window.innerWidth; //canvas画布宽度\n    const height = window.innerHeight; //canvas画布高度\n    // 1. WebGL渲染器渲染的Cnavas画布尺寸更新\n    renderer.setSize(width, height);\n    // 2.1.更新相机参数\n    //canvas画布宽高比会影响left, right需要跟着更新\n    const k = width / height; //canvas画布宽高比\n    camera.left = -s*k;\n    camera.right = s*k;\n    // 2.2.相机的left, right等属性变化了，通知threejs系统\n    camera.updateProjectionMatrix();\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 包围盒\n\n计算模型的大小和中心位置\n\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n// mesh.position.set(50,0,0);\n\n// 包围盒计算模型对象的大小和位置\nconst box3 = new THREE.Box3();\nbox3.expandByObject(mesh); // 计算模型包围盒\nconsole.log('查看包围盒',box3);\nconst size = new THREE.Vector3();\nbox3.getSize(size); // 计算包围盒尺寸\nconsole.log('模型包围盒尺寸',size);\nconst center = new THREE.Vector3();\nbox3.getCenter(center); // 计算包围盒中心坐标\nconsole.log('模型中心坐标',center);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 相机圆周运动\n\nlet angle = 0; //用于圆周运动计算的角度值\nconst R = 100; //相机圆周运动的半径\nfunction render() {\n    angle += 0.01;\n    // 相机y坐标不变，在XOZ平面上做圆周运动\n    camera.position.x = R * Math.cos(angle);\n    camera.position.z = R * Math.sin(angle);\n    // 相机圆周运动过程，如果希望视线始终指向圆心，位置改变后必须重新执行lookAt指向圆心\n    camera.lookAt(0,0,0);\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 相机上方向\n\n就是相机的头部的指向的单位向量设定\n\n//相机\nconst width = window.innerWidth;\nconst height = window.innerHeight;\nconst camera = new THREE.PerspectiveCamera(30, width / height, 1, 3000);\ncamera.position.set(600, 600, 600);\nconsole.log('.up默认值',camera.up);\n// 你可以看到模型在canvas画布上掉头显示  y坐标轴朝下\ncamera.up.set(0,-1,0)\n// camera.up.set(1, 0, 0);//渲染效果：红色x轴向上\n// camera.up.set(0, 0, 1);//渲染效果：蓝色z轴向上\ncamera.lookAt(0, 0, 0);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 管道漫游\n\n// 三维样条曲线\nconst path = new THREE.CatmullRomCurve3([\n    new THREE.Vector3(-50, 20, 90),\n    new THREE.Vector3(-10, 40, 40),\n    new THREE.Vector3(0, 0, 0),\n    new THREE.Vector3(60, -60, 0),\n    new THREE.Vector3(90, -40, 60),\n    new THREE.Vector3(120, 30, 30),\n]);\n// 样条曲线path作为TubeGeometry参数生成管道\nconst geometry = new THREE.TubeGeometry(path, 200, 5, 30);\nconst texLoader = new THREE.TextureLoader(); \nconst texture = texLoader.load('./diffuse.jpg');//纹理贴图\ntexture.wrapS = THREE.RepeatWrapping;//UV坐标U方向阵列模式\ntexture.repeat.x = 10;//纹理沿着管道方向阵列(UV坐标U方向)\nconst material = new THREE.MeshLambertMaterial({\n    map:texture,\n    side: THREE.DoubleSide, //双面显示看到管道内壁\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n// 从曲线轨迹线上等间距获取一定数量点坐标\nconst pointsArr = path.getSpacedPoints(500);\n\nexport {mesh,pointsArr};\n\n\n//相机位置\n// 渲染循环\nlet i = 0; //在渲染循环中累加变化\nfunction render() {\n    if (i < pointsArr.length - 1) {\n        // 相机位置设置在当前点位置\n        camera.position.copy(pointsArr[i]);\n        // 曲线上当前点pointsArr[i]和下一个点pointsArr[i+1]近似模拟当前点曲线切线\n        // 设置相机观察点为当前点的下一个点，相机视线和当前点曲线切线重合\n        camera.lookAt(pointsArr[i + 1]);\n        i += 1; //调节速度\n    } else {\n        i = 0\n    }\n    renderer.render(scene, camera);\n    requestAnimationFrame(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# OrbitControls旋转缩放限制\n\nconst controls = new OrbitControls(camera, renderer.domElement);\ncontrols.enablePan = true; //禁止右键拖拽\n// controls.enableZoom = false;//禁止缩放\n// controls.enableRotate = false; //禁止旋转\n\n//透视投影相机：相机距离目标观察点距离越远，工厂模型显示越小，距离越近显示越大\n\n//相机距离观察目标点最小值\ncontrols.minDistance = 200;\n//相机距离观察目标点最大值\ncontrols.maxDistance = 500;\n\n// 通过.getDistance()+浏览器控制台可视化设置minDistance和maxDistance\ncontrols.addEventListener('change',function(){\n    const dis = controls.getDistance();//相机位置与目标观察点距离\n    console.log('dis',dis);\n})\n\n\n// 上下旋转范围\n// controls.minPolarAngle = 0;//默认0\n//设置为90度，这样不能看到工厂模型底部\ncontrols.maxPolarAngle = Math.PI/2;//默认Math.PI\n\n// // 左右旋转范围\n// controls.minAzimuthAngle = -Math.PI/2;\n// controls.maxAzimuthAngle = Math.PI/2;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 相机控件MapControls\n\n// const controls = new OrbitControls(camera, renderer.domElement);\nconst controls = new MapControls(camera, renderer.domElement);\n\ncontrols.addEventListener('change', function () {\n    // 鼠标右键旋转时候，查看.position变化\n    // 鼠标左键拖动的时候，查看.position、.target的位置会变化\n    console.log('camera.position',camera.position);\n    console.log('controls.target',controls.target);\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",normalizedContent:" * 正投影相机\n * 正投影的canvas设置\n * 包围盒\n * 相机圆周运动\n * 相机上方向\n * 管道漫游\n * orbitcontrols旋转缩放限制\n * 相机控件mapcontrols\n\n\n\n\n# 正投影相机\n\n正投影相机（orthographic camera）是计算机图形学中一种用于渲染的相机类型。与透视相机不同，正投影相机在观察物体时没有透视效果，即远近物体的大小在投影中是一样的。这种相机产生的投影是平行的，不会因为物体的距离而有大小的差异，因此也被称为平行投影。\n\n正投影相机通常用于需要以等比例方式呈现场景中物体的情况，例如建筑渲染、工程图、cad（计算机辅助设计）等。正投影相机的投影矩阵是一个简单的矩阵，不包含透视变换。\n\n// 正投影相机\nconst width = window.innerwidth; //canvas画布宽度\nconst height = window.innerheight; //canvas画布高度\nconst k = width / height; //canvas画布宽高比\nconst s = 600;//控制left, right, top, bottom范围大小\nconst camera = new three.orthographiccamera(-s * k, s * k, s, -s, 1, 8000);\n// const orthocamera = new three.orthographiccamera(\n//   width / -2,  // 左侧边界\n//   width / 2,   // 右侧边界\n//   height / 2,  // 顶部边界\n//   height / -2, // 底部边界\n//   near,        // 近裁剪面\n//   far          // 远裁剪面\n// );\ncamera.position.set(0, 2000, 0);//相机放在了y轴上\ncamera.lookat(0, 0, 0);//指向坐标原点\n\n\n//透视投影相机\n// const width = window.innerwidth;\n// const height = window.innerheight;\n// const camera = new three.perspectivecamera(45, width / height, 1, 8000);\n// camera.position.set(800, 800, 800);\n// camera.lookat(0, 0, 0);\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n\n# 正投影的canvas设置\n\n// canvas画布跟随窗口变化\nwindow.onresize = function () {\n    const width = window.innerwidth; //canvas画布宽度\n    const height = window.innerheight; //canvas画布高度\n    // 1. webgl渲染器渲染的cnavas画布尺寸更新\n    renderer.setsize(width, height);\n    // 2.1.更新相机参数\n    //canvas画布宽高比会影响left, right需要跟着更新\n    const k = width / height; //canvas画布宽高比\n    camera.left = -s*k;\n    camera.right = s*k;\n    // 2.2.相机的left, right等属性变化了，通知threejs系统\n    camera.updateprojectionmatrix();\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 包围盒\n\n计算模型的大小和中心位置\n\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n// mesh.position.set(50,0,0);\n\n// 包围盒计算模型对象的大小和位置\nconst box3 = new three.box3();\nbox3.expandbyobject(mesh); // 计算模型包围盒\nconsole.log('查看包围盒',box3);\nconst size = new three.vector3();\nbox3.getsize(size); // 计算包围盒尺寸\nconsole.log('模型包围盒尺寸',size);\nconst center = new three.vector3();\nbox3.getcenter(center); // 计算包围盒中心坐标\nconsole.log('模型中心坐标',center);\n\nexport default mesh;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n\n# 相机圆周运动\n\nlet angle = 0; //用于圆周运动计算的角度值\nconst r = 100; //相机圆周运动的半径\nfunction render() {\n    angle += 0.01;\n    // 相机y坐标不变，在xoz平面上做圆周运动\n    camera.position.x = r * math.cos(angle);\n    camera.position.z = r * math.sin(angle);\n    // 相机圆周运动过程，如果希望视线始终指向圆心，位置改变后必须重新执行lookat指向圆心\n    camera.lookat(0,0,0);\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 相机上方向\n\n就是相机的头部的指向的单位向量设定\n\n//相机\nconst width = window.innerwidth;\nconst height = window.innerheight;\nconst camera = new three.perspectivecamera(30, width / height, 1, 3000);\ncamera.position.set(600, 600, 600);\nconsole.log('.up默认值',camera.up);\n// 你可以看到模型在canvas画布上掉头显示  y坐标轴朝下\ncamera.up.set(0,-1,0)\n// camera.up.set(1, 0, 0);//渲染效果：红色x轴向上\n// camera.up.set(0, 0, 1);//渲染效果：蓝色z轴向上\ncamera.lookat(0, 0, 0);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n\n# 管道漫游\n\n// 三维样条曲线\nconst path = new three.catmullromcurve3([\n    new three.vector3(-50, 20, 90),\n    new three.vector3(-10, 40, 40),\n    new three.vector3(0, 0, 0),\n    new three.vector3(60, -60, 0),\n    new three.vector3(90, -40, 60),\n    new three.vector3(120, 30, 30),\n]);\n// 样条曲线path作为tubegeometry参数生成管道\nconst geometry = new three.tubegeometry(path, 200, 5, 30);\nconst texloader = new three.textureloader(); \nconst texture = texloader.load('./diffuse.jpg');//纹理贴图\ntexture.wraps = three.repeatwrapping;//uv坐标u方向阵列模式\ntexture.repeat.x = 10;//纹理沿着管道方向阵列(uv坐标u方向)\nconst material = new three.meshlambertmaterial({\n    map:texture,\n    side: three.doubleside, //双面显示看到管道内壁\n});\nconst mesh = new three.mesh(geometry, material);\n\n// 从曲线轨迹线上等间距获取一定数量点坐标\nconst pointsarr = path.getspacedpoints(500);\n\nexport {mesh,pointsarr};\n\n\n//相机位置\n// 渲染循环\nlet i = 0; //在渲染循环中累加变化\nfunction render() {\n    if (i < pointsarr.length - 1) {\n        // 相机位置设置在当前点位置\n        camera.position.copy(pointsarr[i]);\n        // 曲线上当前点pointsarr[i]和下一个点pointsarr[i+1]近似模拟当前点曲线切线\n        // 设置相机观察点为当前点的下一个点，相机视线和当前点曲线切线重合\n        camera.lookat(pointsarr[i + 1]);\n        i += 1; //调节速度\n    } else {\n        i = 0\n    }\n    renderer.render(scene, camera);\n    requestanimationframe(render);\n}\nrender();\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n\n# orbitcontrols旋转缩放限制\n\nconst controls = new orbitcontrols(camera, renderer.domelement);\ncontrols.enablepan = true; //禁止右键拖拽\n// controls.enablezoom = false;//禁止缩放\n// controls.enablerotate = false; //禁止旋转\n\n//透视投影相机：相机距离目标观察点距离越远，工厂模型显示越小，距离越近显示越大\n\n//相机距离观察目标点最小值\ncontrols.mindistance = 200;\n//相机距离观察目标点最大值\ncontrols.maxdistance = 500;\n\n// 通过.getdistance()+浏览器控制台可视化设置mindistance和maxdistance\ncontrols.addeventlistener('change',function(){\n    const dis = controls.getdistance();//相机位置与目标观察点距离\n    console.log('dis',dis);\n})\n\n\n// 上下旋转范围\n// controls.minpolarangle = 0;//默认0\n//设置为90度，这样不能看到工厂模型底部\ncontrols.maxpolarangle = math.pi/2;//默认math.pi\n\n// // 左右旋转范围\n// controls.minazimuthangle = -math.pi/2;\n// controls.maxazimuthangle = math.pi/2;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 相机控件mapcontrols\n\n// const controls = new orbitcontrols(camera, renderer.domelement);\nconst controls = new mapcontrols(camera, renderer.domelement);\n\ncontrols.addeventlistener('change', function () {\n    // 鼠标右键旋转时候，查看.position变化\n    // 鼠标左键拖动的时候，查看.position、.target的位置会变化\n    console.log('camera.position',camera.position);\n    console.log('controls.target',controls.target);\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"创造多边形",frontmatter:{title:"创造多边形",date:"2023-12-23T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E8%87%AA%E5%BB%BA%E5%A4%9A%E8%BE%B9%E5%BD%A2.html",relativePath:"views/threejs/自建多边形.md",key:"v-6f4db01a",path:"/views/threejs/%E8%87%AA%E5%BB%BA%E5%A4%9A%E8%BE%B9%E5%BD%A2.html",headers:[{level:2,title:"旋转成型",slug:"旋转成型",normalizedTitle:"旋转成型",charIndex:3},{level:2,title:"12.拉伸ExtrudeGeometry",slug:"_12-拉伸extrudegeometry",normalizedTitle:"12.拉伸extrudegeometry",charIndex:11},{level:2,title:"13.扫描ExtrudeGeometry",slug:"_13-扫描extrudegeometry",normalizedTitle:"13.扫描extrudegeometry",charIndex:35},{level:2,title:"绘制平面",slug:"绘制平面",normalizedTitle:"绘制平面",charIndex:59},{level:2,title:"多边形打孔",slug:"多边形打孔",normalizedTitle:"多边形打孔",charIndex:67},{level:2,title:"模型边界线EdgesGeometry",slug:"模型边界线edgesgeometry",normalizedTitle:"模型边界线edgesgeometry",charIndex:76}],excerpt:"<Boxx/>\n",headersStr:"旋转成型 12.拉伸ExtrudeGeometry 13.扫描ExtrudeGeometry 绘制平面 多边形打孔 模型边界线EdgesGeometry",content:" * 旋转成型\n * 12.拉伸ExtrudeGeometry\n * 13.扫描ExtrudeGeometry\n * 绘制平面\n * 多边形打孔\n * 模型边界线EdgesGeometry\n\n\n\n\n# 旋转成型\n\n曲线旋转成面\n\n// 通过三个点定义一个二维样条曲线\nconst curve = new THREE.SplineCurve([\n    new THREE.Vector2(50, 60),\n    new THREE.Vector2(25, 0),\n    new THREE.Vector2(50, -60)\n]);\n//曲线上获取点,作为旋转几何体的旋转轮廓\nconst pointsArr = curve.getPoints(50); \n// console.log('旋转轮廓数据',pointsArr);\n// LatheGeometry：pointsArr轮廓绕y轴旋转生成几何体曲面\nconst geometry = new THREE.LatheGeometry(pointsArr, 30);\n\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n    side: THREE.DoubleSide //两面可见\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 12.拉伸ExtrudeGeometry\n\n平面拉伸成体,可以倒角\n\n// Shape表示一个平面多边形轮廓\nconst shape = new THREE.Shape([\n    // 按照特定顺序，依次书写多边形顶点坐标\n    new THREE.Vector2(-50, -50), //多边形起点\n    new THREE.Vector2(-50, 50),\n    new THREE.Vector2(50, 50),\n    new THREE.Vector2(50, -50),\n]);\n\n//拉伸造型\nconst geometry = new THREE.ExtrudeGeometry(\n    shape, //二维轮廓\n    {\n        depth: 20, //拉伸长度\n        bevelThickness: 5, //倒角尺寸:拉伸方向\n        bevelSize: 5, //倒角尺寸:垂直拉伸方向\n        bevelSegments: 20, //倒圆角：倒角细分精度，默认3\n        bevelSegments: 1, //倒直角\n        bevelEnabled: true, //禁止倒角,默认true,这里true是允许倒角\n    }\n);\n\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n    // wireframe:true,\n});\nconst mesh = new THREE.Mesh(geometry, material)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 13.扫描ExtrudeGeometry\n\n平面随着路径拉伸\n\n// 1.扫描轮廓：Shape表示一个平面多边形轮廓\nconst shape = new THREE.Shape([\n    // 按照特定顺序，依次书写多边形顶点坐标\n    new THREE.Vector2(10,0), //多边形起点\n    new THREE.Vector2(0,10),\n    new THREE.Vector2(-10,0)\n\n]);\n\n// 2.扫描轨迹：创建轮廓的扫描轨迹(3D样条曲线)\nconst curve = new THREE.CatmullRomCurve3([\n    new THREE.Vector3( -10, -50, -50 ),\n    new THREE.Vector3( 10, 0, 0 ),\n    new THREE.Vector3( 8, 50, 50 ),\n    new THREE.Vector3( -5, 0, 100)\n]);\n\n//3.扫描造型：扫描默认没有倒角\nconst geometry = new THREE.ExtrudeGeometry(\n    shape, //扫描轮廓\n    {\n        extrudePath:curve,//扫描轨迹\n        steps:100//沿着路径细分精度，越大越光滑\n    }\n);\n\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n    // wireframe:true,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 绘制平面\n\n通过一个点的移动来形成一个平面,再拉伸\n\nconst shape = new THREE.Shape();\n// console.log('currentPoint',shape.currentPoint);\nshape.moveTo(10, 0); //.currentPoint变为(10,0)\n// 绘制直线线段，起点(10,0)，结束点(100,0)\nshape.lineTo(100, 0);//.currentPoint变为(100, 0)\nshape.lineTo(100, 100);//.currentPoint变为(100, 100)\nshape.lineTo(10, 100);//.currentPoint变为(10, 100)\n\n// ShapeGeometry填充Shape获得一个平面几何体\n// const geometry = new THREE.ShapeGeometry(shape);\n// ExtrudeGeometry拉伸Shape获得一个长方体几何体\nconst geometry = new THREE.ExtrudeGeometry(shape, {\n    depth:20,//拉伸长度\n    bevelEnabled:false,//禁止倒角\n});\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n    // wireframe:true\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n//怎么移动点形成圆弧\n\n// 下面代码绘制了一个矩形+扇形的轮廓，圆心在(100, 0),半径50。\nconst shape = new THREE.Shape();\nshape.lineTo(100, 0); //.currentPoint变为(100,0)\n// 圆弧.arc参数的圆心0,0坐标是相对当前.currentPoint而言，而不是坐标原点\nshape.arc(0,0,50,-Math.PI/2,Math.PI/2); //.currentPoint变为圆弧线结束点坐标\nconsole.log('currentPoint',shape.currentPoint);\n// 绘制直线，直线起点：圆弧绘制结束的点  直线结束点：(0, 0)\nshape.lineTo(-100, 50);\nshape.lineTo(-100, 0);\nshape.arc(0,0,50,Math.PI/2,Math.PI*2*3/4);\nshape.lineTo(100, -50);\nshape.lineTo(100, 0);\n// shape:填充轮廓  shape有直线之外的曲线，如果默认渲染不光滑，可以设置参数2提升\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# 多边形打孔\n\n// Shape外轮廓：矩形\nconst shape = new THREE.Shape();\n// 绘制直线线段，线段起点：.currentPoint，线段结束点：(100,0)\nshape.arc(0,0,50,0,Math.PI*2)\n// shape.lineTo(100, 0);//.currentPoint变为(100, 0)\n// shape.lineTo(100, 100);//.currentPoint变为(100, 100)\n// shape.lineTo(0, 100);//.currentPoint变为(0, 100)\n\n//Shape内孔轮廓\nconst path1 = new THREE.Path();// 圆孔1\npath1.absarc(25, 25, 10);\nconst path2 = new THREE.Path();// 圆孔2\npath2.absarc(-25, 25, 10);\nconst path3 = new THREE.Path();// 方形孔\npath3.absarc(0, 0, 5);\nconst path4 = new THREE.Path();\npath4.moveTo(14,-18)\npath4.lineTo(-14,-18)\npath4.lineTo(-14,-32)\npath4.lineTo(14,-32)\n\n// path3.lineTo(80, 80);\n// path3.lineTo(50, 80);\n//三个内孔轮廓分别插入到holes属性中\nshape.holes.push(path1, path2,path3,path4);\n\n\n// const geometry = new THREE.ShapeGeometry(shape);\n\nconst geometry = new THREE.ExtrudeGeometry(shape, {\n    depth:20,//拉伸长度\n    bevelEnabled:false,//禁止倒角\n    curveSegments:50,\n});\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 模型边界线EdgesGeometry\n\n * Wireframe:\n\nWireframe 是一种材质属性，可以直接应用于物体的材质中。 当你为一个物体的材质设置 wireframe 属性为 true 时，整个物体将以线框的形式进行渲染，而不是实心的表面。 这是一种在渲染时控制整个物体显示为线框的简便方法。\n\n * EdgesGeometry:\n\nEdgesGeometry 则是一种几何体的类型，用于创建一个新的几何体，该几何体包含原始几何体的边。 你可以使用这个新的几何体创建线段对象，然后将线段对象添加到场景中，以显示原始几何体的线框。 这种方式更为灵活，因为你可以单独控制线框的样式、颜色等属性。\n\n\nconst geometry = new THREE.BoxGeometry(50, 50, 50);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x004444,\n    transparent:true,\n    opacity:0.8,\n});\nconst mesh = new THREE.Mesh(geometry, material);\n\n\n// 长方体作为EdgesGeometry参数创建一个新的几何体\nconst edges = new THREE.EdgesGeometry(geometry);\nconst edgesMaterial = new THREE.LineBasicMaterial({\n  color: 0x00ffff,\n})\nconst mesh1 = new THREE.LineSegments(edges, edgesMaterial);\n// mesh.add(line);\n\n\n//边框化外部模型\n\n// 引入gltf模型加载库GLTFLoader.js\nimport {\n    GLTFLoader\n} from 'three/addons/loaders/GLTFLoader.js';\n\n\nconst loader = new GLTFLoader(); //创建一个GLTF加载器\nconst model = new THREE.Group();\n\nloader.load(\"../建筑模型.gltf\", function (gltf) {\n    // 递归遍历设置每个模型的材质，同时设置每个模型的边线\n    gltf.scene.traverse(function (obj) {\n        if (obj.isMesh) {\n            // 模型材质重新设置\n            obj.material = new THREE.MeshLambertMaterial({\n                color: 0x004444,\n                transparent: true,\n                opacity: 0.5,\n            });\n            // 模型边线设置\n            const edges = new THREE.EdgesGeometry(obj.geometry);\n            const edgesMaterial = new THREE.LineBasicMaterial({\n                color: 0x00ffff,\n            })\n            const line = new THREE.LineSegments(edges, edgesMaterial);\n            obj.add(line);\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n",normalizedContent:" * 旋转成型\n * 12.拉伸extrudegeometry\n * 13.扫描extrudegeometry\n * 绘制平面\n * 多边形打孔\n * 模型边界线edgesgeometry\n\n\n\n\n# 旋转成型\n\n曲线旋转成面\n\n// 通过三个点定义一个二维样条曲线\nconst curve = new three.splinecurve([\n    new three.vector2(50, 60),\n    new three.vector2(25, 0),\n    new three.vector2(50, -60)\n]);\n//曲线上获取点,作为旋转几何体的旋转轮廓\nconst pointsarr = curve.getpoints(50); \n// console.log('旋转轮廓数据',pointsarr);\n// lathegeometry：pointsarr轮廓绕y轴旋转生成几何体曲面\nconst geometry = new three.lathegeometry(pointsarr, 30);\n\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n    side: three.doubleside //两面可见\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 12.拉伸extrudegeometry\n\n平面拉伸成体,可以倒角\n\n// shape表示一个平面多边形轮廓\nconst shape = new three.shape([\n    // 按照特定顺序，依次书写多边形顶点坐标\n    new three.vector2(-50, -50), //多边形起点\n    new three.vector2(-50, 50),\n    new three.vector2(50, 50),\n    new three.vector2(50, -50),\n]);\n\n//拉伸造型\nconst geometry = new three.extrudegeometry(\n    shape, //二维轮廓\n    {\n        depth: 20, //拉伸长度\n        bevelthickness: 5, //倒角尺寸:拉伸方向\n        bevelsize: 5, //倒角尺寸:垂直拉伸方向\n        bevelsegments: 20, //倒圆角：倒角细分精度，默认3\n        bevelsegments: 1, //倒直角\n        bevelenabled: true, //禁止倒角,默认true,这里true是允许倒角\n    }\n);\n\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n    // wireframe:true,\n});\nconst mesh = new three.mesh(geometry, material)\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n\n# 13.扫描extrudegeometry\n\n平面随着路径拉伸\n\n// 1.扫描轮廓：shape表示一个平面多边形轮廓\nconst shape = new three.shape([\n    // 按照特定顺序，依次书写多边形顶点坐标\n    new three.vector2(10,0), //多边形起点\n    new three.vector2(0,10),\n    new three.vector2(-10,0)\n\n]);\n\n// 2.扫描轨迹：创建轮廓的扫描轨迹(3d样条曲线)\nconst curve = new three.catmullromcurve3([\n    new three.vector3( -10, -50, -50 ),\n    new three.vector3( 10, 0, 0 ),\n    new three.vector3( 8, 50, 50 ),\n    new three.vector3( -5, 0, 100)\n]);\n\n//3.扫描造型：扫描默认没有倒角\nconst geometry = new three.extrudegeometry(\n    shape, //扫描轮廓\n    {\n        extrudepath:curve,//扫描轨迹\n        steps:100//沿着路径细分精度，越大越光滑\n    }\n);\n\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n    // wireframe:true,\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n\n# 绘制平面\n\n通过一个点的移动来形成一个平面,再拉伸\n\nconst shape = new three.shape();\n// console.log('currentpoint',shape.currentpoint);\nshape.moveto(10, 0); //.currentpoint变为(10,0)\n// 绘制直线线段，起点(10,0)，结束点(100,0)\nshape.lineto(100, 0);//.currentpoint变为(100, 0)\nshape.lineto(100, 100);//.currentpoint变为(100, 100)\nshape.lineto(10, 100);//.currentpoint变为(10, 100)\n\n// shapegeometry填充shape获得一个平面几何体\n// const geometry = new three.shapegeometry(shape);\n// extrudegeometry拉伸shape获得一个长方体几何体\nconst geometry = new three.extrudegeometry(shape, {\n    depth:20,//拉伸长度\n    bevelenabled:false,//禁止倒角\n});\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n    // wireframe:true\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n//怎么移动点形成圆弧\n\n// 下面代码绘制了一个矩形+扇形的轮廓，圆心在(100, 0),半径50。\nconst shape = new three.shape();\nshape.lineto(100, 0); //.currentpoint变为(100,0)\n// 圆弧.arc参数的圆心0,0坐标是相对当前.currentpoint而言，而不是坐标原点\nshape.arc(0,0,50,-math.pi/2,math.pi/2); //.currentpoint变为圆弧线结束点坐标\nconsole.log('currentpoint',shape.currentpoint);\n// 绘制直线，直线起点：圆弧绘制结束的点  直线结束点：(0, 0)\nshape.lineto(-100, 50);\nshape.lineto(-100, 0);\nshape.arc(0,0,50,math.pi/2,math.pi*2*3/4);\nshape.lineto(100, -50);\nshape.lineto(100, 0);\n// shape:填充轮廓  shape有直线之外的曲线，如果默认渲染不光滑，可以设置参数2提升\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# 多边形打孔\n\n// shape外轮廓：矩形\nconst shape = new three.shape();\n// 绘制直线线段，线段起点：.currentpoint，线段结束点：(100,0)\nshape.arc(0,0,50,0,math.pi*2)\n// shape.lineto(100, 0);//.currentpoint变为(100, 0)\n// shape.lineto(100, 100);//.currentpoint变为(100, 100)\n// shape.lineto(0, 100);//.currentpoint变为(0, 100)\n\n//shape内孔轮廓\nconst path1 = new three.path();// 圆孔1\npath1.absarc(25, 25, 10);\nconst path2 = new three.path();// 圆孔2\npath2.absarc(-25, 25, 10);\nconst path3 = new three.path();// 方形孔\npath3.absarc(0, 0, 5);\nconst path4 = new three.path();\npath4.moveto(14,-18)\npath4.lineto(-14,-18)\npath4.lineto(-14,-32)\npath4.lineto(14,-32)\n\n// path3.lineto(80, 80);\n// path3.lineto(50, 80);\n//三个内孔轮廓分别插入到holes属性中\nshape.holes.push(path1, path2,path3,path4);\n\n\n// const geometry = new three.shapegeometry(shape);\n\nconst geometry = new three.extrudegeometry(shape, {\n    depth:20,//拉伸长度\n    bevelenabled:false,//禁止倒角\n    curvesegments:50,\n});\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff,\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n\n# 模型边界线edgesgeometry\n\n * wireframe:\n\nwireframe 是一种材质属性，可以直接应用于物体的材质中。 当你为一个物体的材质设置 wireframe 属性为 true 时，整个物体将以线框的形式进行渲染，而不是实心的表面。 这是一种在渲染时控制整个物体显示为线框的简便方法。\n\n * edgesgeometry:\n\nedgesgeometry 则是一种几何体的类型，用于创建一个新的几何体，该几何体包含原始几何体的边。 你可以使用这个新的几何体创建线段对象，然后将线段对象添加到场景中，以显示原始几何体的线框。 这种方式更为灵活，因为你可以单独控制线框的样式、颜色等属性。\n\n\nconst geometry = new three.boxgeometry(50, 50, 50);\nconst material = new three.meshlambertmaterial({\n    color: 0x004444,\n    transparent:true,\n    opacity:0.8,\n});\nconst mesh = new three.mesh(geometry, material);\n\n\n// 长方体作为edgesgeometry参数创建一个新的几何体\nconst edges = new three.edgesgeometry(geometry);\nconst edgesmaterial = new three.linebasicmaterial({\n  color: 0x00ffff,\n})\nconst mesh1 = new three.linesegments(edges, edgesmaterial);\n// mesh.add(line);\n\n\n//边框化外部模型\n\n// 引入gltf模型加载库gltfloader.js\nimport {\n    gltfloader\n} from 'three/addons/loaders/gltfloader.js';\n\n\nconst loader = new gltfloader(); //创建一个gltf加载器\nconst model = new three.group();\n\nloader.load(\"../建筑模型.gltf\", function (gltf) {\n    // 递归遍历设置每个模型的材质，同时设置每个模型的边线\n    gltf.scene.traverse(function (obj) {\n        if (obj.ismesh) {\n            // 模型材质重新设置\n            obj.material = new three.meshlambertmaterial({\n                color: 0x004444,\n                transparent: true,\n                opacity: 0.5,\n            });\n            // 模型边线设置\n            const edges = new three.edgesgeometry(obj.geometry);\n            const edgesmaterial = new three.linebasicmaterial({\n                color: 0x00ffff,\n            })\n            const line = new three.linesegments(edges, edgesmaterial);\n            obj.add(line);\n        }\n    });\n    model.add(gltf.scene);\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"设置动画和特效(围墙)",frontmatter:{title:"设置动画和特效(围墙)",date:"2023-12-11T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9B%B4%E5%A2%99).html",relativePath:"views/threejs/设置动画和特效(围墙).md",key:"v-6cedb8c7",path:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9B%B4%E5%A2%99).html",headers:[{level:2,title:"设置一个地面",slug:"设置一个地面",normalizedTitle:"设置一个地面",charIndex:3},{level:2,title:"创建一个墙",slug:"创建一个墙",normalizedTitle:"创建一个墙",charIndex:13},{level:2,title:"围墙透明度渐变发光shader-自定义高度相关顶点数据",slug:"围墙透明度渐变发光shader-自定义高度相关顶点数据",normalizedTitle:"围墙透明度渐变发光shader-自定义高度相关顶点数据",charIndex:22},{level:2,title:"围墙透明度渐变发光shader - 使用position控制渐变",slug:"围墙透明度渐变发光shader-使用position控制渐变",normalizedTitle:"围墙透明度渐变发光shader - 使用position控制渐变",charIndex:53},{level:2,title:"围墙geometry UV坐标生成(比shader简单点)",slug:"围墙geometry-uv坐标生成-比shader简单点",normalizedTitle:"围墙geometry uv坐标生成(比shader简单点)",charIndex:89},{level:2,title:"流动特效(贴图滚动)",slug:"流动特效-贴图滚动",normalizedTitle:"流动特效(贴图滚动)",charIndex:122},{level:2,title:"流光特效",slug:"流光特效",normalizedTitle:"流光特效",charIndex:136},{level:2,title:"水面纹理(贴图)",slug:"水面纹理-贴图",normalizedTitle:"水面纹理(贴图)",charIndex:144}],excerpt:"<Boxx/>\n",headersStr:"设置一个地面 创建一个墙 围墙透明度渐变发光shader-自定义高度相关顶点数据 围墙透明度渐变发光shader - 使用position控制渐变 围墙geometry UV坐标生成(比shader简单点) 流动特效(贴图滚动) 流光特效 水面纹理(贴图)",content:" * 设置一个地面\n * 创建一个墙\n * 围墙透明度渐变发光shader-自定义高度相关顶点数据\n * 围墙透明度渐变发光shader - 使用position控制渐变\n * 围墙geometry UV坐标生成(比shader简单点)\n * 流动特效(贴图滚动)\n * 流光特效\n * 水面纹理(贴图)\n\n\n\n\n# 设置一个地面\n\nfunction plane() {\n    var gridHelper = new THREE.GridHelper(300, 15, 0x003333, 0x003333);\n    model.add(gridHelper);\n    var geometry = new THREE.PlaneGeometry(310, 310); \n    var material = new THREE.MeshLambertMaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: THREE.DoubleSide,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotateX(-Math.PI / 2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 创建一个墙\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\nvar posArr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n}\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);\ngeometry.computeVertexNormals();\nvar material = new THREE.MeshLambertMaterial({\n  color: 0xffff00, //三角面颜色\n  side: THREE.DoubleSide, //两面可见\n  // wireframe:true,//查看三角形结构\n});\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI/2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 围墙透明度渐变发光shader-自定义高度相关顶点数据\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\nvar posArr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n}\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);\ngeometry.computeVertexNormals()\nvar material = new THREE.MeshLambertMaterial({\n  color: 0xffff00, //三角面颜色\n  side: THREE.DoubleSide, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthTest: false,\n});\n\nvar posAtt = geometry.attributes.position; //几何体顶点位置缓冲对象\nvar num = geometry.attributes.position.count;//几何体顶点数量\nvar alphaArr = []; //每个顶点创建一个透明度数据(随着高度渐变)\nfor (var i = 0; i < num; i++) {\n  // 线性渐变\n  alphaArr.push(1 - posAtt.getZ(i) / h);\n}\n// BufferGeometory自定义一个.attributes.alpha属性,类比.attributes.position\n// 几何体的属性.alpha和顶点着色器变量alpha是对应的\ngeometry.setAttribute('alpha', new THREE.BufferAttribute(new Float32Array(alphaArr), 1));\n\n// GPU执行material对应的着色器代码前，通过.onBeforeCompile()插入新的代码，修改已有的代码\nmaterial.onBeforeCompile = function (shader) {\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  // 插入代码：在顶点着色器主函数'void main() {'前面插入alpha变量的声明代码\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    `\n    attribute float alpha;//透明度分量\n      varying float vAlpha;\n      void main() {\n      vAlpha = alpha; // 顶点透明度进行插值计算\n    `\n  );\n  // 插入代码：片元着色器主函数前面插入`varying float vAlpha;`\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying float vAlpha;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI/2);\nmodel.add(mesh);\n\n//output_fragment.glsl\n\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n// gl_FragColor = vec4( outgoingLight, diffuseColor.a );\ngl_FragColor = vec4( outgoingLight, diffuseColor.a*vAlpha  );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n\n\n\n# 围墙透明度渐变发光shader - 使用position控制渐变\n\nmaterial.onBeforeCompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n      'vPosition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI/2);\nmodel.add(mesh);\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n//z的坐标区间[0,20] ，围墙高度是20\ndiffuseColor.a = diffuseColor.a*mix(1.0, 0.0, vPosition.z/20.0);\n\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 围墙geometry UV坐标生成(比shader简单点)\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\nvar posArr = [];\nvar uvrr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n\n  // 注意顺序问题，和顶点位置坐标对应\n  uvrr.push(0, 0, 1, 0, 1, 1);\n  uvrr.push(0, 0, 1, 1, 0, 1);\n}\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new THREE.BufferAttribute(new Float32Array(uvrr), 2);\ngeometry.computeVertexNormals()\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff, \n  map: new THREE.TextureLoader().load('./scene/渐变.png'),\n  side: THREE.DoubleSide, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  // opacity: 0.5,//整体改变透明度\n  depthTest: false,\n});\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n\n\n# 流动特效(贴图滚动)\n\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new THREE.BufferAttribute(new Float32Array(uvrr), 2);\ngeometry.computeVertexNormals()\nvar texture = new THREE.TextureLoader().load('./scene/流动.png');\n// 设置阵列模式为 RepeatWrapping\ntexture.wrapS = THREE.RepeatWrapping\ntexture.wrapT = THREE.RepeatWrapping\n\n\nfunction flowAnimation() {\n  requestAnimationFrame(flowAnimation);\n  // 使用加减法可以设置不同的运动方向\n  // 设置纹理偏移\n  // y方向流量  光带流动效果\n  //texture.offset.y -= 0.06;\n   texture.offset.x -= 0.06;\n}\nflowAnimation();\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff,\n  map: texture,\n  side: THREE.DoubleSide, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  // opacity: 0.5,//整体改变透明度\n  depthTest: false,\n});\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 流光特效\n\nvar model = new THREE.Group(); //声明一个组对象，用来添加加载成功的三维场景\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\nvar posArr = [];\nvar uvrr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 围墙多边形上两个点构成一个直线扫描出来一个高度为h的矩形\n  // 矩形的三角形1\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 矩形的三角形2\n  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n\n  // 注意顺序问题，和顶点位置坐标对应\n  // uvrr.push(0, 0, 1, 0, 1, 1);\n  // uvrr.push(0, 0, 1, 1, 0, 1);\n  // 所有点展开  x方向从零到1   所有点生成的矩形铺满一张纹理贴图\n  uvrr.push(i / c.length, 0, i / c.length + 2 / c.length, 0, i / c.length + 2 / c.length, 1);\n  uvrr.push(i / c.length, 0, i / c.length + 2 / c.length, 1, i / c.length, 1);\n}\nvar geometry = new THREE.BufferGeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new THREE.BufferAttribute(new Float32Array(uvrr), 2);\ngeometry.computeVertexNormals()\nvar texture = new THREE.TextureLoader().load('./scene/流光.png');\n// 设置阵列模式为 RepeatWrapping\ntexture.wrapS = THREE.RepeatWrapping\ntexture.wrapT = THREE.RepeatWrapping\ntexture.repeat.x = 3;// x方向阵列\ntexture.repeat.y = 3;// y方向阵列\nfunction flowAnimation() {\n  requestAnimationFrame(flowAnimation);\n  // texture.offset.y -= 0.02;\n  texture.offset.x -= 0.02;\n}\nflowAnimation();\n\nvar material = new THREE.MeshLambertMaterial({\n  color: 0xffff00,\n  map: texture,\n  side: THREE.DoubleSide, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  depthTest: false,\n});\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmesh.rotateX(-Math.PI / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# 水面纹理(贴图)\n\nimport {\n  lon2xy\n} from './math.js';\n// 水面颜色贴图\nvar texture = new THREE.TextureLoader().load('./scene/水面.jpg');\n// 水面法线贴图\nvar normalTexture = new THREE.TextureLoader().load('./scene/normal.jpg');\n// 设置阵列模式为 RepeatWrapping\ntexture.wrapS = THREE.RepeatWrapping\ntexture.wrapT = THREE.RepeatWrapping\n// 水面区域比较大的话，纹理贴图不能无限大，一般可以通过阵列解决。\ntexture.repeat.set(20, 20); // x和y方向阵列纹理贴图\nnormalTexture.wrapS = THREE.RepeatWrapping\nnormalTexture.wrapT = THREE.RepeatWrapping\nnormalTexture.repeat.set(20, 20);\n// 流动动画 最简单方式就是使用texture的offset属性实现  也可以用更麻烦的shader实现\nvar t = 0;\n\nfunction flowAnimation() {\n  requestAnimationFrame(flowAnimation);\n  t += 0.02;\n  var y = 0.05 * Math.sin(t);\n  texture.offset.x = y;\n  texture.offset.y = y;\n}\nflowAnimation();\n// lambert不支持法线 使用高光材质Phong\nvar material = new THREE.MeshPhongMaterial({\n  // color: 0x0099ff,\n  map: texture,\n  normalMap: normalTexture,\n  normalScale: new THREE.Vector2(5, 5)\n}); //材质对象\n\n\n// pointsArrs：多个多边形轮廓\nfunction WaterShapeMesh(pointsArrs) {\n  var shapeArr = []; //轮廓形状Shape集合\n  pointsArrs.forEach(pointsArr => {\n    var vector2Arr = [];\n    // 转化为Vector2构成的顶点数组\n    pointsArr[0].forEach(elem => {\n      var xy = lon2xy(elem[0], elem[1]); //经纬度转墨卡托坐标\n      vector2Arr.push(new THREE.Vector2(xy.x, xy.y));\n    });\n    var shape = new THREE.Shape(vector2Arr);\n    shapeArr.push(shape);\n  });\n  var geometry = new THREE.ShapeGeometry( //填充多边形\n    shapeArr,\n  );\n  // 把UV坐标范围控制在[0,1]范围\n\n  var pos = geometry.attributes.position; //顶点位置坐标\n  var uv = geometry.attributes.uv; //顶点UV坐标\n  var count = pos.count; //顶点数量\n  var xArr = []; //多边形polygon的所有x坐标\n  var yArr = []; //多边形polygon的所有y坐标\n  for (var i = 0; i < count; i++) {\n    xArr.push(pos.getX(i));\n    yArr.push(pos.getY(i));\n  }\n  // minMax()计算polygon所有坐标,返回的极大值、极小值\n  var [xMin, xMax] = minMax(xArr);\n  var [yMin, yMax] = minMax(yArr);\n  var xL = xMax - xMin;\n  var yL = yMax - yMin;\n  // 根据多边形顶点坐标与最小值差值占最大值百分比，设置UV坐标大小 把UV坐标范围控制在[0,1]范围\n  for (var i = 0; i < count; i++) {\n    var uvx = (pos.getX(i) - xMin) / xL;\n    var uvy = (pos.getY(i) - yMin) / yL;\n    uv.setXY(i, uvx, uvy)\n  }\n  console.log('控制台查看修改后的UV坐标', geometry.attributes.uv.array)\n\n  //   多边形坐标进行排序\n  function minMax(arr) {\n    // 数组元素排序\n    arr.sort(compareNum);\n    // 返回极小值和极大值\n    return [arr[0], arr[arr.length - 1]]\n  }\n  // 数组排序规则\n  function compareNum(num1, num2) {\n    if (num1 < num2) {\n      return -1;\n    } else if (num1 > num2) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n\n  var mesh = new THREE.Mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n",normalizedContent:" * 设置一个地面\n * 创建一个墙\n * 围墙透明度渐变发光shader-自定义高度相关顶点数据\n * 围墙透明度渐变发光shader - 使用position控制渐变\n * 围墙geometry uv坐标生成(比shader简单点)\n * 流动特效(贴图滚动)\n * 流光特效\n * 水面纹理(贴图)\n\n\n\n\n# 设置一个地面\n\nfunction plane() {\n    var gridhelper = new three.gridhelper(300, 15, 0x003333, 0x003333);\n    model.add(gridhelper);\n    var geometry = new three.planegeometry(310, 310); \n    var material = new three.meshlambertmaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: three.doubleside,\n    });\n    var mesh = new three.mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotatex(-math.pi / 2);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n\n# 创建一个墙\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\nvar posarr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n}\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new three.bufferattribute(new float32array(posarr), 3);\ngeometry.computevertexnormals();\nvar material = new three.meshlambertmaterial({\n  color: 0xffff00, //三角面颜色\n  side: three.doubleside, //两面可见\n  // wireframe:true,//查看三角形结构\n});\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi/2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n\n# 围墙透明度渐变发光shader-自定义高度相关顶点数据\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\nvar posarr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n}\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new three.bufferattribute(new float32array(posarr), 3);\ngeometry.computevertexnormals()\nvar material = new three.meshlambertmaterial({\n  color: 0xffff00, //三角面颜色\n  side: three.doubleside, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthtest: false,\n});\n\nvar posatt = geometry.attributes.position; //几何体顶点位置缓冲对象\nvar num = geometry.attributes.position.count;//几何体顶点数量\nvar alphaarr = []; //每个顶点创建一个透明度数据(随着高度渐变)\nfor (var i = 0; i < num; i++) {\n  // 线性渐变\n  alphaarr.push(1 - posatt.getz(i) / h);\n}\n// buffergeometory自定义一个.attributes.alpha属性,类比.attributes.position\n// 几何体的属性.alpha和顶点着色器变量alpha是对应的\ngeometry.setattribute('alpha', new three.bufferattribute(new float32array(alphaarr), 1));\n\n// gpu执行material对应的着色器代码前，通过.onbeforecompile()插入新的代码，修改已有的代码\nmaterial.onbeforecompile = function (shader) {\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  // 插入代码：在顶点着色器主函数'void main() {'前面插入alpha变量的声明代码\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    `\n    attribute float alpha;//透明度分量\n      varying float valpha;\n      void main() {\n      valpha = alpha; // 顶点透明度进行插值计算\n    `\n  );\n  // 插入代码：片元着色器主函数前面插入`varying float valpha;`\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying float valpha;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi/2);\nmodel.add(mesh);\n\n//output_fragment.glsl\n\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n// gl_fragcolor = vec4( outgoinglight, diffusecolor.a );\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a*valpha  );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n\n\n\n# 围墙透明度渐变发光shader - 使用position控制渐变\n\nmaterial.onbeforecompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n      'vposition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi/2);\nmodel.add(mesh);\n\n//output_fragment.glsl\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n//z的坐标区间[0,20] ，围墙高度是20\ndiffusecolor.a = diffusecolor.a*mix(1.0, 0.0, vposition.z/20.0);\n\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n# 围墙geometry uv坐标生成(比shader简单点)\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\n\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\nvar posarr = [];\nvar uvrr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 三角形1  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 三角形2  三个顶点坐标\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n\n  // 注意顺序问题，和顶点位置坐标对应\n  uvrr.push(0, 0, 1, 0, 1, 1);\n  uvrr.push(0, 0, 1, 1, 0, 1);\n}\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new three.bufferattribute(new float32array(posarr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new three.bufferattribute(new float32array(uvrr), 2);\ngeometry.computevertexnormals()\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff, \n  map: new three.textureloader().load('./scene/渐变.png'),\n  side: three.doubleside, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  // opacity: 0.5,//整体改变透明度\n  depthtest: false,\n});\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n\n\n\n# 流动特效(贴图滚动)\n\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new three.bufferattribute(new float32array(posarr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new three.bufferattribute(new float32array(uvrr), 2);\ngeometry.computevertexnormals()\nvar texture = new three.textureloader().load('./scene/流动.png');\n// 设置阵列模式为 repeatwrapping\ntexture.wraps = three.repeatwrapping\ntexture.wrapt = three.repeatwrapping\n\n\nfunction flowanimation() {\n  requestanimationframe(flowanimation);\n  // 使用加减法可以设置不同的运动方向\n  // 设置纹理偏移\n  // y方向流量  光带流动效果\n  //texture.offset.y -= 0.06;\n   texture.offset.x -= 0.06;\n}\nflowanimation();\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff,\n  map: texture,\n  side: three.doubleside, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  // opacity: 0.5,//整体改变透明度\n  depthtest: false,\n});\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n\n# 流光特效\n\nvar model = new three.group(); //声明一个组对象，用来添加加载成功的三维场景\n\nvar c = [\n  0, 0, //顶点1坐标\n  60, 0, //顶点2坐标\n  60, 80, //顶点3坐标\n  40, 120, //顶点4坐标\n  -20, 80, //顶点5坐标\n  0, 0, //顶点6坐标  和顶点1重合\n]\nvar posarr = [];\nvar uvrr = [];\nvar h = 20; //围墙拉伸高度\nfor (var i = 0; i < c.length - 2; i += 2) {\n  // 围墙多边形上两个点构成一个直线扫描出来一个高度为h的矩形\n  // 矩形的三角形1\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);\n  // 矩形的三角形2\n  posarr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);\n\n  // 注意顺序问题，和顶点位置坐标对应\n  // uvrr.push(0, 0, 1, 0, 1, 1);\n  // uvrr.push(0, 0, 1, 1, 0, 1);\n  // 所有点展开  x方向从零到1   所有点生成的矩形铺满一张纹理贴图\n  uvrr.push(i / c.length, 0, i / c.length + 2 / c.length, 0, i / c.length + 2 / c.length, 1);\n  uvrr.push(i / c.length, 0, i / c.length + 2 / c.length, 1, i / c.length, 1);\n}\nvar geometry = new three.buffergeometry(); //声明一个空几何体对象\n// 设置几何体attributes属性的位置position属性\ngeometry.attributes.position = new three.bufferattribute(new float32array(posarr), 3);\n// 设置几何体attributes属性的位置uv属性\ngeometry.attributes.uv = new three.bufferattribute(new float32array(uvrr), 2);\ngeometry.computevertexnormals()\nvar texture = new three.textureloader().load('./scene/流光.png');\n// 设置阵列模式为 repeatwrapping\ntexture.wraps = three.repeatwrapping\ntexture.wrapt = three.repeatwrapping\ntexture.repeat.x = 3;// x方向阵列\ntexture.repeat.y = 3;// y方向阵列\nfunction flowanimation() {\n  requestanimationframe(flowanimation);\n  // texture.offset.y -= 0.02;\n  texture.offset.x -= 0.02;\n}\nflowanimation();\n\nvar material = new three.meshlambertmaterial({\n  color: 0xffff00,\n  map: texture,\n  side: three.doubleside, //两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  depthtest: false,\n});\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmesh.rotatex(-math.pi / 2);\nmodel.add(mesh);\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n# 水面纹理(贴图)\n\nimport {\n  lon2xy\n} from './math.js';\n// 水面颜色贴图\nvar texture = new three.textureloader().load('./scene/水面.jpg');\n// 水面法线贴图\nvar normaltexture = new three.textureloader().load('./scene/normal.jpg');\n// 设置阵列模式为 repeatwrapping\ntexture.wraps = three.repeatwrapping\ntexture.wrapt = three.repeatwrapping\n// 水面区域比较大的话，纹理贴图不能无限大，一般可以通过阵列解决。\ntexture.repeat.set(20, 20); // x和y方向阵列纹理贴图\nnormaltexture.wraps = three.repeatwrapping\nnormaltexture.wrapt = three.repeatwrapping\nnormaltexture.repeat.set(20, 20);\n// 流动动画 最简单方式就是使用texture的offset属性实现  也可以用更麻烦的shader实现\nvar t = 0;\n\nfunction flowanimation() {\n  requestanimationframe(flowanimation);\n  t += 0.02;\n  var y = 0.05 * math.sin(t);\n  texture.offset.x = y;\n  texture.offset.y = y;\n}\nflowanimation();\n// lambert不支持法线 使用高光材质phong\nvar material = new three.meshphongmaterial({\n  // color: 0x0099ff,\n  map: texture,\n  normalmap: normaltexture,\n  normalscale: new three.vector2(5, 5)\n}); //材质对象\n\n\n// pointsarrs：多个多边形轮廓\nfunction watershapemesh(pointsarrs) {\n  var shapearr = []; //轮廓形状shape集合\n  pointsarrs.foreach(pointsarr => {\n    var vector2arr = [];\n    // 转化为vector2构成的顶点数组\n    pointsarr[0].foreach(elem => {\n      var xy = lon2xy(elem[0], elem[1]); //经纬度转墨卡托坐标\n      vector2arr.push(new three.vector2(xy.x, xy.y));\n    });\n    var shape = new three.shape(vector2arr);\n    shapearr.push(shape);\n  });\n  var geometry = new three.shapegeometry( //填充多边形\n    shapearr,\n  );\n  // 把uv坐标范围控制在[0,1]范围\n\n  var pos = geometry.attributes.position; //顶点位置坐标\n  var uv = geometry.attributes.uv; //顶点uv坐标\n  var count = pos.count; //顶点数量\n  var xarr = []; //多边形polygon的所有x坐标\n  var yarr = []; //多边形polygon的所有y坐标\n  for (var i = 0; i < count; i++) {\n    xarr.push(pos.getx(i));\n    yarr.push(pos.gety(i));\n  }\n  // minmax()计算polygon所有坐标,返回的极大值、极小值\n  var [xmin, xmax] = minmax(xarr);\n  var [ymin, ymax] = minmax(yarr);\n  var xl = xmax - xmin;\n  var yl = ymax - ymin;\n  // 根据多边形顶点坐标与最小值差值占最大值百分比，设置uv坐标大小 把uv坐标范围控制在[0,1]范围\n  for (var i = 0; i < count; i++) {\n    var uvx = (pos.getx(i) - xmin) / xl;\n    var uvy = (pos.gety(i) - ymin) / yl;\n    uv.setxy(i, uvx, uvy)\n  }\n  console.log('控制台查看修改后的uv坐标', geometry.attributes.uv.array)\n\n  //   多边形坐标进行排序\n  function minmax(arr) {\n    // 数组元素排序\n    arr.sort(comparenum);\n    // 返回极小值和极大值\n    return [arr[0], arr[arr.length - 1]]\n  }\n  // 数组排序规则\n  function comparenum(num1, num2) {\n    if (num1 < num2) {\n      return -1;\n    } else if (num1 > num2) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n\n  var mesh = new three.mesh(geometry, material); //网格模型对象\n  return mesh;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"设置动画和特效(圆形围墙)",frontmatter:{title:"设置动画和特效(圆形围墙)",date:"2023-12-12T00:00:00.000Z",tags:["smartCity"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9C%86%E5%BD%A2%E5%9B%B4%E5%A2%99).html",relativePath:"views/threejs/设置动画和特效(圆形围墙).md",key:"v-3ac48946",path:"/views/threejs/%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E5%92%8C%E7%89%B9%E6%95%88(%E5%9C%86%E5%BD%A2%E5%9B%B4%E5%A2%99).html",headers:[{level:2,title:"圆柱体(不含上下表面)",slug:"圆柱体-不含上下表面",normalizedTitle:"圆柱体(不含上下表面)",charIndex:3},{level:2,title:"平行光",slug:"平行光",normalizedTitle:"平行光",charIndex:18},{level:2,title:"透明度渐变(贴图法)",slug:"透明度渐变-贴图法",normalizedTitle:"透明度渐变(贴图法)",charIndex:25},{level:2,title:"透明度渐变(shader)",slug:"透明度渐变-shader",normalizedTitle:"透明度渐变(shader)",charIndex:39}],excerpt:"<Boxx/>\n",headersStr:"圆柱体(不含上下表面) 平行光 透明度渐变(贴图法) 透明度渐变(shader)",content:" * 圆柱体(不含上下表面)\n * 平行光\n * 透明度渐变(贴图法)\n * 透明度渐变(shader)\n\n\n\n\n# 圆柱体(不含上下表面)\n\nvar model = new THREE.Group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new THREE.CylinderGeometry(50, 50, 20, 40, 16, true);\ngeometry.translate(0, 10, 0);\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff, //颜色\n  side: THREE.DoubleSide, //两面可见\n}); //材质对象Material\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 平行光\n\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 0.7); // 颜色、强度\ndirectionalLight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionalLight);\n\n\n1\n2\n3\n\n\n\n# 透明度渐变(贴图法)\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new THREE.Group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new THREE.CylinderGeometry(50, 50, 20, 40, 1, true);\ngeometry.translate(0, 10, 0);\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff, //颜色\n  map: new THREE.TextureLoader().load('./scene/渐变.png'),\n  side:THREE.DoubleSide,//两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthTest:false,\n}); //材质对象Material\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar S= 3;//波动范围设置\nvar _s = 1.0;\nfunction waveAnimation() {\n  _s += 0.02;\n  mesh.scale.set(_s, _s,  _s);\n  if (_s > S) _s = 1.0;\n  requestAnimationFrame(waveAnimation);\n}\nwaveAnimation();\n\n\nplane();//设置一个地面\nfunction plane() {\n    var gridHelper = new THREE.GridHelper(300, 15, 0x003333, 0x003333);\n    model.add(gridHelper);\n    var geometry = new THREE.PlaneGeometry(310, 310); \n    var material = new THREE.MeshLambertMaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: THREE.DoubleSide,\n    });\n    var mesh = new THREE.Mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotateX(-Math.PI / 2);\n}\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n\n\n# 透明度渐变(shader)\n\n// 引入Three.js\nimport * as THREE from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\n\nvar model = new THREE.Group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new THREE.CylinderGeometry(50, 50, 20, 40, 1, true);\ngeometry.translate(0, 10, 0);\nvar material = new THREE.MeshLambertMaterial({\n  color: 0x00ffff, //颜色\n  side:THREE.DoubleSide,//两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthTest:false,\n}); //材质对象Material\n\n// GPU执行material对应的着色器代码前，通过.onBeforeCompile()插入新的代码，修改已有的代码\nmaterial.onBeforeCompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentShader', shader.fragmentShader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexShader = shader.vertexShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n      'vPosition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentShader = shader.fragmentShader.replace(\n    'void main() {',\n    ['varying vec3 vPosition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentShader = shader.fragmentShader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\nplane(); //设置一个地面\nfunction plane() {\n  var gridHelper = new THREE.GridHelper(300, 15, 0x003333, 0x003333);\n  model.add(gridHelper);\n  var geometry = new THREE.PlaneGeometry(310, 310);\n  var material = new THREE.MeshLambertMaterial({\n    // map: texture,\n    color: 0xffffff,\n    transparent: true,\n    opacity: 0.1,\n    side: THREE.DoubleSide,\n  });\n  var mesh = new THREE.Mesh(geometry, material);\n  mesh.position.y = 1\n  model.add(mesh);\n  mesh.rotateX(-Math.PI / 2);\n}\n\nexport {\n  model\n}\n\n\n//glsl\nexport default /* glsl */`\n#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\n\n//y的坐标区间[0,20] ，高度是20\ndiffuseColor.a = diffuseColor.a*mix(1.0, 0.0, vPosition.y/20.0);\n\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n",normalizedContent:" * 圆柱体(不含上下表面)\n * 平行光\n * 透明度渐变(贴图法)\n * 透明度渐变(shader)\n\n\n\n\n# 圆柱体(不含上下表面)\n\nvar model = new three.group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new three.cylindergeometry(50, 50, 20, 40, 16, true);\ngeometry.translate(0, 10, 0);\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff, //颜色\n  side: three.doubleside, //两面可见\n}); //材质对象material\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n\n# 平行光\n\nconst directionallight = new three.directionallight(0xffffff, 0.7); // 颜色、强度\ndirectionallight.position.set(1, 1, 1); // 设置光源方向\nscene.add(directionallight);\n\n\n1\n2\n3\n\n\n\n# 透明度渐变(贴图法)\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\n\n\nvar model = new three.group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new three.cylindergeometry(50, 50, 20, 40, 1, true);\ngeometry.translate(0, 10, 0);\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff, //颜色\n  map: new three.textureloader().load('./scene/渐变.png'),\n  side:three.doubleside,//两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthtest:false,\n}); //材质对象material\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\n// 波动动画\nvar s= 3;//波动范围设置\nvar _s = 1.0;\nfunction waveanimation() {\n  _s += 0.02;\n  mesh.scale.set(_s, _s,  _s);\n  if (_s > s) _s = 1.0;\n  requestanimationframe(waveanimation);\n}\nwaveanimation();\n\n\nplane();//设置一个地面\nfunction plane() {\n    var gridhelper = new three.gridhelper(300, 15, 0x003333, 0x003333);\n    model.add(gridhelper);\n    var geometry = new three.planegeometry(310, 310); \n    var material = new three.meshlambertmaterial({\n        // map: texture,\n        color: 0xffffff,\n        transparent: true,\n        opacity: 0.1,\n        side: three.doubleside,\n    });\n    var mesh = new three.mesh(geometry, material);\n    mesh.position.y = 1\n    model.add(mesh);\n    mesh.rotatex(-math.pi / 2);\n}\n\nexport {\n  model\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\n\n\n\n# 透明度渐变(shader)\n\n// 引入three.js\nimport * as three from '../../../../three.js-r133/build/three.module.js';\nimport output_fragment from './output_fragment.glsl.js'\n\nvar model = new three.group(); //声明一个组对象\n/**\n * 创建网格模型\n */\n// 圆柱几何体，参数5设置不生成圆柱的两个底面\nvar geometry = new three.cylindergeometry(50, 50, 20, 40, 1, true);\ngeometry.translate(0, 10, 0);\nvar material = new three.meshlambertmaterial({\n  color: 0x00ffff, //颜色\n  side:three.doubleside,//两面可见\n  transparent: true, //需要开启透明度计算，否则着色器透明度设置无效\n  opacity: 0.5,//整体改变透明度\n  depthtest:false,\n}); //材质对象material\n\n// gpu执行material对应的着色器代码前，通过.onbeforecompile()插入新的代码，修改已有的代码\nmaterial.onbeforecompile = function (shader) {\n  // 浏览器控制台打印着色器代码\n  // console.log('shader.fragmentshader', shader.fragmentshader)\n  // 顶点位置坐标position类似uv坐标进行插值计算，用于在片元着色器中控制片元像素\n  shader.vertexshader = shader.vertexshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n      'vposition = position;',\n    ].join('\\n') // .join()把数组元素合成字符串\n  );\n  shader.fragmentshader = shader.fragmentshader.replace(\n    'void main() {',\n    ['varying vec3 vposition;',\n      'void main() {',\n    ].join('\\n')\n  );\n  shader.fragmentshader = shader.fragmentshader.replace('#include <output_fragment>', output_fragment);\n};\nvar mesh = new three.mesh(geometry, material); //网格模型对象mesh\nmodel.add(mesh); //网格模型添加到model中\n\n\nplane(); //设置一个地面\nfunction plane() {\n  var gridhelper = new three.gridhelper(300, 15, 0x003333, 0x003333);\n  model.add(gridhelper);\n  var geometry = new three.planegeometry(310, 310);\n  var material = new three.meshlambertmaterial({\n    // map: texture,\n    color: 0xffffff,\n    transparent: true,\n    opacity: 0.1,\n    side: three.doubleside,\n  });\n  var mesh = new three.mesh(geometry, material);\n  mesh.position.y = 1\n  model.add(mesh);\n  mesh.rotatex(-math.pi / 2);\n}\n\nexport {\n  model\n}\n\n\n//glsl\nexport default /* glsl */`\n#ifdef opaque\ndiffusecolor.a = 1.0;\n#endif\n\n// https://github.com/mrdoob/three.js/pull/22425\n#ifdef use_transmission\ndiffusecolor.a *= transmissionalpha + 0.1;\n#endif\n\n//y的坐标区间[0,20] ，高度是20\ndiffusecolor.a = diffusecolor.a*mix(1.0, 0.0, vposition.y/20.0);\n\ngl_fragcolor = vec4( outgoinglight, diffusecolor.a );\n`;\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"阵列方块",frontmatter:{title:"阵列方块",date:"2023-12-22T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E9%98%B5%E5%88%97%E6%96%B9%E5%9D%97.html",relativePath:"views/threejs/阵列方块.md",key:"v-6fb031ba",path:"/views/threejs/%E9%98%B5%E5%88%97%E6%96%B9%E5%9D%97.html",headers:[{level:2,title:"示例代码",slug:"示例代码",normalizedTitle:"示例代码",charIndex:3}],excerpt:"<Boxx/>\n",headersStr:"示例代码",content:" * 示例代码\n\n\n\n\n# 示例代码\n\n//阵列一排\n\nconst geometry = new THREE.BoxGeometry(100, 100, 100);\nconst material = new THREE.MeshLambertMaterial({\n    color: 0x00ffff, \n    transparent: true, \n    opacity: 0.5, \n});\n// 沿着x轴等间距创建一系列网格模型\nfor (let i = 0; i < 10; i++) {\n    // 所有模型对象共享同一个几何体或材质\n    const mesh = new THREE.Mesh(geometry, material); \n    // 沿着x轴分布\n    mesh.position.set(i * 200, 0, 0);\n    scene.add(mesh); //网格模型添加到场景中\n}\n//阵列几排\nfor (let i = 0; i < 10; i++) {\n    for (let j = 0; j < 10; j++) {\n        const mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh\n        // 在XOZ平面上分布\n        mesh.position.set(i * 200, 0, j * 200);\n        scene.add(mesh); //网格模型添加到场景中\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",normalizedContent:" * 示例代码\n\n\n\n\n# 示例代码\n\n//阵列一排\n\nconst geometry = new three.boxgeometry(100, 100, 100);\nconst material = new three.meshlambertmaterial({\n    color: 0x00ffff, \n    transparent: true, \n    opacity: 0.5, \n});\n// 沿着x轴等间距创建一系列网格模型\nfor (let i = 0; i < 10; i++) {\n    // 所有模型对象共享同一个几何体或材质\n    const mesh = new three.mesh(geometry, material); \n    // 沿着x轴分布\n    mesh.position.set(i * 200, 0, 0);\n    scene.add(mesh); //网格模型添加到场景中\n}\n//阵列几排\nfor (let i = 0; i < 10; i++) {\n    for (let j = 0; j < 10; j++) {\n        const mesh = new three.mesh(geometry, material); //网格模型对象mesh\n        // 在xoz平面上分布\n        mesh.position.set(i * 200, 0, j * 200);\n        scene.add(mesh); //网格模型添加到场景中\n    }\n\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"骨骼关节Bone",frontmatter:{title:"骨骼关节Bone",date:"2023-11-26T00:00:00.000Z",tags:["threeBase"],categories:["threejs"],isShowComments:!1},regularPath:"/views/threejs/%E9%AA%A8%E9%AA%BC%E5%85%B3%E8%8A%82Bone.html",relativePath:"views/threejs/骨骼关节Bone.md",key:"v-4573024c",path:"/views/threejs/%E9%AA%A8%E9%AA%BC%E5%85%B3%E8%8A%82Bone.html",headers:[{level:2,title:"",slug:"",normalizedTitle:"",charIndex:0},{level:2,title:"外部模型骨骼",slug:"外部模型骨骼",normalizedTitle:"外部模型骨骼",charIndex:7},{level:2,title:"动画格式",slug:"动画格式",normalizedTitle:"动画格式",charIndex:17},{level:2,title:"骨骼动画与运动状态关联",slug:"骨骼动画与运动状态关联",normalizedTitle:"骨骼动画与运动状态关联",charIndex:25}],excerpt:"<Boxx/>\n",headersStr:" 外部模型骨骼 动画格式 骨骼动画与运动状态关联",content:" * \n * 外部模型骨骼\n * 动画格式\n * 骨骼动画与运动状态关联\n\n\n\n\n#\n\n/**\n * 骨骼系统\n */\nconst Bone1 = new THREE.Bone(); //关节1，用来作为根关节\nconst Bone2 = new THREE.Bone(); //关节2\nconst Bone3 = new THREE.Bone(); //关节3\n\n// 设置关节父子关系   多个骨头关节构成一个树结构\nBone1.add(Bone2);\nBone2.add(Bone3);\n\n\n//根关节Bone1默认位置是(0,0,0)\nBone2.position.y = 60; //Bone2相对父对象Bone1位置\nBone3.position.y = 30; //Bone3相对父对象Bone2位置\n\nBone1.position.set(50,0,50);//平移Bone1，Bone2、Bone3跟着平移\n\n// 骨骼关节旋转\n// Bone1.rotateX(Math.PI / 6);\n// Bone2.rotateX(Math.PI / 6);\n\n// 骨骼关节可以和普通网格模型一样作为其他模型子对象，添加到场景中\nconst group = new THREE.Group();\ngroup.add(Bone1);\n\n\n// SkeletonHelper会可视化参数模型对象所包含的所有骨骼关节\nconst skeletonHelper = new THREE.SkeletonHelper(group);\n// const skeletonHelper = new THREE.SkeletonHelper(Bone1);\ngroup.add(skeletonHelper);\n\nconst gui = new GUI();\ngui.add(Bone1.rotation, 'x', 0, Math.PI / 3).name('关节1');\ngui.add(Bone2.rotation, 'x', 0, Math.PI / 3).name('关节2');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 外部模型骨骼\n\nloader.load(\"../士兵.glb\", function (gltf) {\n\n    model.add(gltf.scene);\n\n    // 骨骼辅助显示\n    const skeletonHelper = new THREE.SkeletonHelper(gltf.scene);\n    model.add(skeletonHelper);\n\n    // 根据骨骼关节名字获取骨关节Bone  \n    // 在三维软件中，骨骼关节始终选择第一个，层层展开，直接找到名为mixamorig:RightShoulder的关节，展开看到下面三个骨骼关节\n    const bone1 = gltf.scene.getObjectByName('mixamorigRightArm');//手臂\n    const bone2 = gltf.scene.getObjectByName('mixamorigRightForeArm');//肘关节\n    const bone3 = gltf.scene.getObjectByName('mixamorigRightHand');//腕关节\n\n    bone1.rotation.x = Math.PI/3;//手臂\n    bone2.rotation.x = Math.PI/3;//肘关节\n    bone3.rotation.x= Math.PI/3;//腕关节\n\n    const gui = new GUI();\n    gui.add(bone1.rotation, 'x', 0, Math.PI/3).name('手臂');\n    gui.add(bone2.rotation, 'x', 0, Math.PI/3).name('肘关节');\n    gui.add(bone3.rotation, 'x', 0, Math.PI/3).name('腕关节');\n    \n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 动画格式\n\n动画的几种格式\n\n\nloader.load(\"../士兵.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n\n    const mixer = new THREE.AnimationMixer(gltf.scene);\n    // gltf.animations[0] Idle  休息\n    // gltf.animations[1] Run   跑步\n    // gltf.animations[2] TPose T形静止展开\n    // gltf.animations[3] Walk  走路\n    const IdleAction = mixer.clipAction(gltf.animations[0]);\n    const RunAction = mixer.clipAction(gltf.animations[1]);\n    const WalkAction = mixer.clipAction(gltf.animations[3]);\n\n    IdleAction.play();\n    let ActionState = IdleAction;//当前处于播放状态的动画动作对象\n\n    // 通过UI按钮控制，切换动画运动状态\n    document.getElementById('Idle').addEventListener('click', function () {\n        ActionState.stop();//播放状态动画终止\n        IdleAction.play();\n        ActionState = IdleAction;\n    })\n    document.getElementById('Run').addEventListener('click', function () {\n        ActionState.stop();//播放状态动画终止\n        RunAction.play();\n        ActionState = RunAction;\n    })\n\n    document.getElementById('Walk').addEventListener('click', function () {\n        ActionState.stop();//播放状态动画终止\n        WalkAction.play();\n        ActionState = WalkAction;\n    })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 骨骼动画与运动状态关联\n\n每个动作的权重来决定\n\n//切换动作\n//包含关键帧动画的模型作为参数创建一个播放器\nconst mixer = new THREE.AnimationMixer(player);\nconsole.log('所有骨骼动画数据', gltf.animations);\n// 骨骼动画动画名字和对应含义，名字是可以在bledner中随意命名的\n//Idle  休息\n//Run   跑步\n//Walk  走路\n// const clipAction = mixer.clipAction(gltf.animations[13]);\n// clipAction.play(); //播放动画\n\nconst IdleAction = mixer.clipAction(gltf.animations[5]);//休息动作\nconst WalkAction = mixer.clipAction(gltf.animations[13]);//步行动作\nIdleAction.play();\nWalkAction.play();\nIdleAction.weight = 1.0;//默认休息状态\nWalkAction.weight = 0.0;\n\nfunction changeAction(name){\n    if (name=='Idle'){\n        IdleAction.weight = 1.0;//休息状态\n        WalkAction.weight = 0.0;\n    }else if (name == 'Walk') {\n        IdleAction.weight = 0.0;\n        WalkAction.weight = 1.0;//步行状态\n    } \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n",normalizedContent:" * \n * 外部模型骨骼\n * 动画格式\n * 骨骼动画与运动状态关联\n\n\n\n\n#\n\n/**\n * 骨骼系统\n */\nconst bone1 = new three.bone(); //关节1，用来作为根关节\nconst bone2 = new three.bone(); //关节2\nconst bone3 = new three.bone(); //关节3\n\n// 设置关节父子关系   多个骨头关节构成一个树结构\nbone1.add(bone2);\nbone2.add(bone3);\n\n\n//根关节bone1默认位置是(0,0,0)\nbone2.position.y = 60; //bone2相对父对象bone1位置\nbone3.position.y = 30; //bone3相对父对象bone2位置\n\nbone1.position.set(50,0,50);//平移bone1，bone2、bone3跟着平移\n\n// 骨骼关节旋转\n// bone1.rotatex(math.pi / 6);\n// bone2.rotatex(math.pi / 6);\n\n// 骨骼关节可以和普通网格模型一样作为其他模型子对象，添加到场景中\nconst group = new three.group();\ngroup.add(bone1);\n\n\n// skeletonhelper会可视化参数模型对象所包含的所有骨骼关节\nconst skeletonhelper = new three.skeletonhelper(group);\n// const skeletonhelper = new three.skeletonhelper(bone1);\ngroup.add(skeletonhelper);\n\nconst gui = new gui();\ngui.add(bone1.rotation, 'x', 0, math.pi / 3).name('关节1');\ngui.add(bone2.rotation, 'x', 0, math.pi / 3).name('关节2');\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\n\n# 外部模型骨骼\n\nloader.load(\"../士兵.glb\", function (gltf) {\n\n    model.add(gltf.scene);\n\n    // 骨骼辅助显示\n    const skeletonhelper = new three.skeletonhelper(gltf.scene);\n    model.add(skeletonhelper);\n\n    // 根据骨骼关节名字获取骨关节bone  \n    // 在三维软件中，骨骼关节始终选择第一个，层层展开，直接找到名为mixamorig:rightshoulder的关节，展开看到下面三个骨骼关节\n    const bone1 = gltf.scene.getobjectbyname('mixamorigrightarm');//手臂\n    const bone2 = gltf.scene.getobjectbyname('mixamorigrightforearm');//肘关节\n    const bone3 = gltf.scene.getobjectbyname('mixamorigrighthand');//腕关节\n\n    bone1.rotation.x = math.pi/3;//手臂\n    bone2.rotation.x = math.pi/3;//肘关节\n    bone3.rotation.x= math.pi/3;//腕关节\n\n    const gui = new gui();\n    gui.add(bone1.rotation, 'x', 0, math.pi/3).name('手臂');\n    gui.add(bone2.rotation, 'x', 0, math.pi/3).name('肘关节');\n    gui.add(bone3.rotation, 'x', 0, math.pi/3).name('腕关节');\n    \n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n\n# 动画格式\n\n动画的几种格式\n\n\nloader.load(\"../士兵.glb\", function (gltf) {\n    console.log('控制台查看gltf对象结构', gltf);\n    model.add(gltf.scene);\n\n\n    const mixer = new three.animationmixer(gltf.scene);\n    // gltf.animations[0] idle  休息\n    // gltf.animations[1] run   跑步\n    // gltf.animations[2] tpose t形静止展开\n    // gltf.animations[3] walk  走路\n    const idleaction = mixer.clipaction(gltf.animations[0]);\n    const runaction = mixer.clipaction(gltf.animations[1]);\n    const walkaction = mixer.clipaction(gltf.animations[3]);\n\n    idleaction.play();\n    let actionstate = idleaction;//当前处于播放状态的动画动作对象\n\n    // 通过ui按钮控制，切换动画运动状态\n    document.getelementbyid('idle').addeventlistener('click', function () {\n        actionstate.stop();//播放状态动画终止\n        idleaction.play();\n        actionstate = idleaction;\n    })\n    document.getelementbyid('run').addeventlistener('click', function () {\n        actionstate.stop();//播放状态动画终止\n        runaction.play();\n        actionstate = runaction;\n    })\n\n    document.getelementbyid('walk').addeventlistener('click', function () {\n        actionstate.stop();//播放状态动画终止\n        walkaction.play();\n        actionstate = walkaction;\n    })\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 骨骼动画与运动状态关联\n\n每个动作的权重来决定\n\n//切换动作\n//包含关键帧动画的模型作为参数创建一个播放器\nconst mixer = new three.animationmixer(player);\nconsole.log('所有骨骼动画数据', gltf.animations);\n// 骨骼动画动画名字和对应含义，名字是可以在bledner中随意命名的\n//idle  休息\n//run   跑步\n//walk  走路\n// const clipaction = mixer.clipaction(gltf.animations[13]);\n// clipaction.play(); //播放动画\n\nconst idleaction = mixer.clipaction(gltf.animations[5]);//休息动作\nconst walkaction = mixer.clipaction(gltf.animations[13]);//步行动作\nidleaction.play();\nwalkaction.play();\nidleaction.weight = 1.0;//默认休息状态\nwalkaction.weight = 0.0;\n\nfunction changeaction(name){\n    if (name=='idle'){\n        idleaction.weight = 1.0;//休息状态\n        walkaction.weight = 0.0;\n    }else if (name == 'walk') {\n        idleaction.weight = 0.0;\n        walkaction.weight = 1.0;//步行状态\n    } \n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"MAPGIS",frontmatter:{title:"MAPGIS",date:"2022-10-27T00:00:00.000Z",tags:["mapgis基本操作"],categories:["webgis"],isShowComments:!0},regularPath:"/views/webgis/MAPGIS%20-%20%E5%89%AF%E6%9C%AC%20(2).html",relativePath:"views/webgis/MAPGIS - 副本 (2).md",key:"v-0648f580",path:"/views/webgis/MAPGIS%20-%20%E5%89%AF%E6%9C%AC%20(2).html",headers:[{level:2,title:"软件下载",slug:"软件下载",normalizedTitle:"软件下载",charIndex:3},{level:2,title:"软件安装",slug:"软件安装",normalizedTitle:"软件安装",charIndex:11},{level:2,title:"解绑",slug:"解绑",normalizedTitle:"解绑",charIndex:19},{level:2,title:"mapgis基础操作",slug:"mapgis基础操作",normalizedTitle:"mapgis基础操作",charIndex:25},{level:2,title:"点要素",slug:"点要素",normalizedTitle:"点要素",charIndex:39},{level:2,title:"线要素",slug:"线要素",normalizedTitle:"线要素",charIndex:46},{level:2,title:"区要素",slug:"区要素",normalizedTitle:"区要素",charIndex:53},{level:2,title:"接口",slug:"接口",normalizedTitle:"接口",charIndex:60},{level:2,title:"标注",slug:"标注",normalizedTitle:"标注",charIndex:66},{level:2,title:"IG Server发布地图文档",slug:"ig-server发布地图文档",normalizedTitle:"ig server发布地图文档",charIndex:72},{level:2,title:"备份本地数据",slug:"备份本地数据",normalizedTitle:"备份本地数据",charIndex:91},{level:2,title:"导入栅格数据",slug:"导入栅格数据",normalizedTitle:"导入栅格数据",charIndex:101},{level:2,title:"天地图的显示",slug:"天地图的显示",normalizedTitle:"天地图的显示",charIndex:111}],excerpt:"<Boxx/>\n",headersStr:"软件下载 软件安装 解绑 mapgis基础操作 点要素 线要素 区要素 接口 标注 IG Server发布地图文档 备份本地数据 导入栅格数据 天地图的显示",content:" * 软件下载\n * 软件安装\n * 解绑\n * mapgis基础操作\n * 点要素\n * 线要素\n * 区要素\n * 接口\n * 标注\n * IG Server发布地图文档\n * 备份本地数据\n * 导入栅格数据\n * 天地图的显示\n\n\n\n\n# 软件下载\n\n软件下载\n\n\n# 软件安装\n\n软件安装\n\n\n# 解绑\n\n解绑\n\n\n# mapgis基础操作\n\nmapgis基础操作\n\n\n# 点要素\n\n点要素\n\n\n# 线要素\n\n线要素\n\n\n# 区要素\n\n区要素\n\n\n# 接口\n\n接口\n\n\n# 标注\n\n标注\n\n\n# IG Server发布地图文档\n\nIG Server发布地图文档\n\n\n# 备份本地数据\n\n备份本地数据\n\n\n# 导入栅格数据\n\n导入栅格数据\n\n\n# 天地图的显示\n\n天地图的显示",normalizedContent:" * 软件下载\n * 软件安装\n * 解绑\n * mapgis基础操作\n * 点要素\n * 线要素\n * 区要素\n * 接口\n * 标注\n * ig server发布地图文档\n * 备份本地数据\n * 导入栅格数据\n * 天地图的显示\n\n\n\n\n# 软件下载\n\n软件下载\n\n\n# 软件安装\n\n软件安装\n\n\n# 解绑\n\n解绑\n\n\n# mapgis基础操作\n\nmapgis基础操作\n\n\n# 点要素\n\n点要素\n\n\n# 线要素\n\n线要素\n\n\n# 区要素\n\n区要素\n\n\n# 接口\n\n接口\n\n\n# 标注\n\n标注\n\n\n# ig server发布地图文档\n\nig server发布地图文档\n\n\n# 备份本地数据\n\n备份本地数据\n\n\n# 导入栅格数据\n\n导入栅格数据\n\n\n# 天地图的显示\n\n天地图的显示",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"MAPGIS",frontmatter:{title:"MAPGIS",date:"2022-10-27T00:00:00.000Z",tags:["mapgis基本操作"],categories:["webgis"],isShowComments:!0},regularPath:"/views/webgis/MAPGIS.html",relativePath:"views/webgis/MAPGIS.md",key:"v-20216c61",path:"/views/webgis/MAPGIS.html",headers:[{level:2,title:"软件下载",slug:"软件下载",normalizedTitle:"软件下载",charIndex:3},{level:2,title:"软件安装",slug:"软件安装",normalizedTitle:"软件安装",charIndex:11},{level:2,title:"解绑",slug:"解绑",normalizedTitle:"解绑",charIndex:19},{level:2,title:"mapgis基础操作",slug:"mapgis基础操作",normalizedTitle:"mapgis基础操作",charIndex:25},{level:2,title:"点要素",slug:"点要素",normalizedTitle:"点要素",charIndex:39},{level:2,title:"线要素",slug:"线要素",normalizedTitle:"线要素",charIndex:46},{level:2,title:"区要素",slug:"区要素",normalizedTitle:"区要素",charIndex:53},{level:2,title:"接口",slug:"接口",normalizedTitle:"接口",charIndex:60},{level:2,title:"标注",slug:"标注",normalizedTitle:"标注",charIndex:66},{level:2,title:"IG Server发布地图文档",slug:"ig-server发布地图文档",normalizedTitle:"ig server发布地图文档",charIndex:72},{level:2,title:"备份本地数据",slug:"备份本地数据",normalizedTitle:"备份本地数据",charIndex:91},{level:2,title:"导入栅格数据",slug:"导入栅格数据",normalizedTitle:"导入栅格数据",charIndex:101},{level:2,title:"天地图的显示",slug:"天地图的显示",normalizedTitle:"天地图的显示",charIndex:111}],excerpt:"<Boxx/>\n",headersStr:"软件下载 软件安装 解绑 mapgis基础操作 点要素 线要素 区要素 接口 标注 IG Server发布地图文档 备份本地数据 导入栅格数据 天地图的显示",content:" * 软件下载\n * 软件安装\n * 解绑\n * mapgis基础操作\n * 点要素\n * 线要素\n * 区要素\n * 接口\n * 标注\n * IG Server发布地图文档\n * 备份本地数据\n * 导入栅格数据\n * 天地图的显示\n\n\n\n\n# 软件下载\n\n软件下载\n\n\n# 软件安装\n\n软件安装\n\n\n# 解绑\n\n解绑\n\n\n# mapgis基础操作\n\nmapgis基础操作\n\n\n# 点要素\n\n点要素\n\n\n# 线要素\n\n线要素\n\n\n# 区要素\n\n区要素\n\n\n# 接口\n\n接口\n\n\n# 标注\n\n标注\n\n\n# IG Server发布地图文档\n\nIG Server发布地图文档\n\n\n# 备份本地数据\n\n备份本地数据\n\n\n# 导入栅格数据\n\n导入栅格数据\n\n\n# 天地图的显示\n\n天地图的显示",normalizedContent:" * 软件下载\n * 软件安装\n * 解绑\n * mapgis基础操作\n * 点要素\n * 线要素\n * 区要素\n * 接口\n * 标注\n * ig server发布地图文档\n * 备份本地数据\n * 导入栅格数据\n * 天地图的显示\n\n\n\n\n# 软件下载\n\n软件下载\n\n\n# 软件安装\n\n软件安装\n\n\n# 解绑\n\n解绑\n\n\n# mapgis基础操作\n\nmapgis基础操作\n\n\n# 点要素\n\n点要素\n\n\n# 线要素\n\n线要素\n\n\n# 区要素\n\n区要素\n\n\n# 接口\n\n接口\n\n\n# 标注\n\n标注\n\n\n# ig server发布地图文档\n\nig server发布地图文档\n\n\n# 备份本地数据\n\n备份本地数据\n\n\n# 导入栅格数据\n\n导入栅格数据\n\n\n# 天地图的显示\n\n天地图的显示",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Mapbox",frontmatter:{title:"Mapbox",date:"2022-10-27T00:00:00.000Z",tags:["mapbox"],categories:["webgis"],isShowComments:!0},regularPath:"/views/webgis/mapbox.html",relativePath:"views/webgis/mapbox.md",key:"v-ef9384be",path:"/views/webgis/mapbox.html",headers:[{level:2,title:"起步",slug:"起步",normalizedTitle:"起步",charIndex:3},{level:2,title:"图层和图形绘制",slug:"图层和图形绘制",normalizedTitle:"图层和图形绘制",charIndex:9},{level:2,title:"标注 & Popup & Canvas",slug:"标注-popup-canvas",normalizedTitle:"标注 &amp; popup &amp; canvas",charIndex:null},{level:2,title:"插件",slug:"插件",normalizedTitle:"插件",charIndex:43},{level:2,title:"拓展",slug:"拓展",normalizedTitle:"拓展",charIndex:49}],excerpt:"<Boxx/>\n",headersStr:"起步 图层和图形绘制 标注 & Popup & Canvas 插件 拓展",content:" * 起步\n * 图层和图形绘制\n * 标注 & Popup & Canvas\n * 插件\n * 拓展\n\n\n\n\n\nmapbox指南\n\n\n# 起步\n\n起步\n\n\n# 图层和图形绘制\n\n图层和图形绘制\n\n\n# 标注 & Popup & Canvas\n\n标注 & Popup & Canvas\n\n\n# 插件\n\n插件\n\n\n# 拓展\n\n拓展",normalizedContent:" * 起步\n * 图层和图形绘制\n * 标注 & popup & canvas\n * 插件\n * 拓展\n\n\n\n\n\nmapbox指南\n\n\n# 起步\n\n起步\n\n\n# 图层和图形绘制\n\n图层和图形绘制\n\n\n# 标注 & popup & canvas\n\n标注 & popup & canvas\n\n\n# 插件\n\n插件\n\n\n# 拓展\n\n拓展",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Openlayer",frontmatter:{title:"Openlayer",date:"2022-10-27T00:00:00.000Z",tags:["Openlayer"],categories:["webgis"],isShowComments:!0},regularPath:"/views/webgis/openlayer.html",relativePath:"views/webgis/openlayer.md",key:"v-aa2d5b3e",path:"/views/webgis/openlayer.html",headers:[{level:2,title:"入门篇",slug:"入门篇",normalizedTitle:"入门篇",charIndex:3},{level:2,title:"地图底图加载",slug:"地图底图加载",normalizedTitle:"地图底图加载",charIndex:10},{level:2,title:"地图操作",slug:"地图操作",normalizedTitle:"地图操作",charIndex:20},{level:2,title:"矢量图形绘制",slug:"矢量图形绘制",normalizedTitle:"矢量图形绘制",charIndex:28},{level:2,title:"Canvas",slug:"canvas",normalizedTitle:"canvas",charIndex:38},{level:2,title:"交互式绘制",slug:"交互式绘制",normalizedTitle:"交互式绘制",charIndex:48},{level:2,title:"画笔封装和标注",slug:"画笔封装和标注",normalizedTitle:"画笔封装和标注",charIndex:57},{level:2,title:"geojson",slug:"geojson",normalizedTitle:"geojson",charIndex:68},{level:2,title:"地图文档编辑-中地接口🥇",slug:"地图文档编辑-中地接口🥇",normalizedTitle:"地图文档编辑-中地接口🥇",charIndex:79},{level:2,title:"交互式添加点",slug:"交互式添加点",normalizedTitle:"交互式添加点",charIndex:96},{level:2,title:"地图查询",slug:"地图查询",normalizedTitle:"地图查询",charIndex:106},{level:2,title:"空间分析",slug:"空间分析",normalizedTitle:"空间分析",charIndex:114}],excerpt:"<Boxx/>\n",headersStr:"入门篇 地图底图加载 地图操作 矢量图形绘制 Canvas 交互式绘制 画笔封装和标注 geojson 地图文档编辑-中地接口🥇 交互式添加点 地图查询 空间分析",content:" * 入门篇\n * 地图底图加载\n * 地图操作\n * 矢量图形绘制\n * Canvas\n * 交互式绘制\n * 画笔封装和标注\n * geojson\n * 地图文档编辑-中地接口🥇\n * 交互式添加点\n * 地图查询\n * 空间分析\n\n\n\n\n\nopenlayer手册\n\n\n# 入门篇\n\n开发环境构建\n\napi文档\n\n\n# 地图底图加载\n\n加载瓦片\n\n矢量图层\n\n地图文档\n\n天地图—矢量图层\n\n天地图—影像图层\n\n高德&图层切换\n\n控件\n\n\n# 地图操作\n\n视图操作:主要对地图的中心视角进行操作 视图操作\n\n地图事件\n\n地图下载\n\n飞行视角\n\n\n# 矢量图形绘制\n\n绘图原理\n\n绘制点\n\n方法绘制点\n\n绘制线\n\nm绘制圆\n\n正方形\n\n矩形fromExtent\n\n多边形\n\n图层堆叠顺序zIndex\n\n常用方法\n\n\n# Canvas\n\n[canvas绘图基础](https://www.yuque.com/xzd-gis03/vb9wuu/ ilgrldvdxvkaufoy)\n\nArc绘制圆\n\n绘制动画圆\n\n多圈动画\n\nOpenlayers结合Canvas\n\n\n# 交互式绘制\n\n交互式绘制\n\n\n# 画笔封装和标注\n\n画笔封装和标注\n\n\n# geojson\n\ngeojson\n\n\n# 地图文档编辑-中地接口🥇\n\n地图文档编辑-中地接口🥇\n\n\n# 交互式添加点\n\n交互式添加点\n\n\n# 地图查询\n\n地图查询\n\n\n# 空间分析\n\n空间分析",normalizedContent:" * 入门篇\n * 地图底图加载\n * 地图操作\n * 矢量图形绘制\n * canvas\n * 交互式绘制\n * 画笔封装和标注\n * geojson\n * 地图文档编辑-中地接口🥇\n * 交互式添加点\n * 地图查询\n * 空间分析\n\n\n\n\n\nopenlayer手册\n\n\n# 入门篇\n\n开发环境构建\n\napi文档\n\n\n# 地图底图加载\n\n加载瓦片\n\n矢量图层\n\n地图文档\n\n天地图—矢量图层\n\n天地图—影像图层\n\n高德&图层切换\n\n控件\n\n\n# 地图操作\n\n视图操作:主要对地图的中心视角进行操作 视图操作\n\n地图事件\n\n地图下载\n\n飞行视角\n\n\n# 矢量图形绘制\n\n绘图原理\n\n绘制点\n\n方法绘制点\n\n绘制线\n\nm绘制圆\n\n正方形\n\n矩形fromextent\n\n多边形\n\n图层堆叠顺序zindex\n\n常用方法\n\n\n# canvas\n\n[canvas绘图基础](https://www.yuque.com/xzd-gis03/vb9wuu/ ilgrldvdxvkaufoy)\n\narc绘制圆\n\n绘制动画圆\n\n多圈动画\n\nopenlayers结合canvas\n\n\n# 交互式绘制\n\n交互式绘制\n\n\n# 画笔封装和标注\n\n画笔封装和标注\n\n\n# geojson\n\ngeojson\n\n\n# 地图文档编辑-中地接口🥇\n\n地图文档编辑-中地接口🥇\n\n\n# 交互式添加点\n\n交互式添加点\n\n\n# 地图查询\n\n地图查询\n\n\n# 空间分析\n\n空间分析",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{title:"Leaflet体验",frontmatter:{title:"Leaflet体验",date:"2022-10-27T00:00:00.000Z",tags:["Leaflet"],categories:["webgis"],isShowComments:!0},regularPath:"/views/webgis/%E5%B0%8F%E5%8F%B6%E5%AD%90%E4%BD%93%E9%AA%8C.html",relativePath:"views/webgis/小叶子体验.md",key:"v-2c144e1c",path:"/views/webgis/%E5%B0%8F%E5%8F%B6%E5%AD%90%E4%BD%93%E9%AA%8C.html",headers:[{level:2,title:"leaflet地图加载",slug:"leaflet地图加载",normalizedTitle:"leaflet地图加载",charIndex:3},{level:2,title:"标记/弹窗/图层管理",slug:"标记-弹窗-图层管理",normalizedTitle:"标记/弹窗/图层管理",charIndex:18},{level:2,title:"矢量图形-圆/多边形绘制",slug:"矢量图形-圆-多边形绘制",normalizedTitle:"矢量图形-圆/多边形绘制",charIndex:32},{level:2,title:"geojson",slug:"geojson",normalizedTitle:"geojson",charIndex:48}],excerpt:"<Boxx/>\n",headersStr:"leaflet地图加载 标记/弹窗/图层管理 矢量图形-圆/多边形绘制 geojson",content:" * leaflet地图加载\n * 标记/弹窗/图层管理\n * 矢量图形-圆/多边形绘制\n * geojson\n\n\n\n\n# leaflet地图加载\n\nleaflet地图加载\n\n\n# 标记/弹窗/图层管理\n\n标记/弹窗/图层管理\n\n\n# 矢量图形-圆/多边形绘制\n\n矢量图形-圆/多边形绘制\n\n\n# geojson\n\ngeojson",normalizedContent:" * leaflet地图加载\n * 标记/弹窗/图层管理\n * 矢量图形-圆/多边形绘制\n * geojson\n\n\n\n\n# leaflet地图加载\n\nleaflet地图加载\n\n\n# 标记/弹窗/图层管理\n\n标记/弹窗/图层管理\n\n\n# 矢量图形-圆/多边形绘制\n\n矢量图形-圆/多边形绘制\n\n\n# geojson\n\ngeojson",charsets:{cjk:!0},lastUpdated:"2024/03/14, 19:31:14",lastUpdatedTimestamp:1710415874e3},{frontmatter:{layout:"Tags",title:"Tags"},regularPath:"/tag/",key:"v-b1564aac",path:"/tag/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"FrontmatterKey",title:"Categories"},regularPath:"/categories/",key:"v-ef9325c4",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"TimeLines",title:"Timeline"},regularPath:"/timeline/",key:"v-6319eb4e",path:"/timeline/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"十神 Tags"},regularPath:"/tag/%E5%8D%81%E7%A5%9E/",key:"v-1f06f810",path:"/tag/十神/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"随笔 Tags"},regularPath:"/tag/%E9%9A%8F%E7%AC%94/",key:"v-1eedfa34",path:"/tag/随笔/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"破解 Tags"},regularPath:"/tag/%E7%A0%B4%E8%A7%A3/",key:"v-ee617cea",path:"/tag/破解/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"IDEA Tags"},regularPath:"/tag/IDEA/",key:"v-184030a4",path:"/tag/IDEA/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"ECharts Tags"},regularPath:"/tag/ECharts/",key:"v-5e43a71f",path:"/tag/ECharts/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Day Tags"},regularPath:"/tag/Day/",key:"v-32584c46",path:"/tag/Day/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"网络协议 Tags"},regularPath:"/tag/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/",key:"v-3c2760d0",path:"/tag/网络协议/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"HTML Tags"},regularPath:"/tag/HTML/",key:"v-184d950c",path:"/tag/HTML/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"JavaScript Tags"},regularPath:"/tag/JavaScript/",key:"v-7a5f6990",path:"/tag/JavaScript/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"json Tags"},regularPath:"/tag/json/",key:"v-14722046",path:"/tag/json/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"js Tags"},regularPath:"/tag/js/",key:"v-e8d86dc8",path:"/tag/js/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"vuepress Tags"},regularPath:"/tag/vuepress/",key:"v-dfb71430",path:"/tag/vuepress/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Vue Tags"},regularPath:"/tag/Vue/",key:"v-32475d9a",path:"/tag/Vue/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"CSS Tags"},regularPath:"/tag/CSS/",key:"v-3259a754",path:"/tag/CSS/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"复习 Tags"},regularPath:"/tag/%E5%A4%8D%E4%B9%A0/",key:"v-5acc93b2",path:"/tag/复习/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"开发规范 Tags"},regularPath:"/tag/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/",key:"v-4a5e8070",path:"/tag/开发规范/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"git Tags"},regularPath:"/tag/git/",key:"v-32383f72",path:"/tag/git/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"分布式 Tags"},regularPath:"/tag/%E5%88%86%E5%B8%83%E5%BC%8F/",key:"v-08174efe",path:"/tag/分布式/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"k8s Tags"},regularPath:"/tag/k8s/",key:"v-32360c9a",path:"/tag/k8s/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Java Tags"},regularPath:"/tag/Java/",key:"v-18082c7a",path:"/tag/Java/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"linux Tags"},regularPath:"/tag/linux/",key:"v-7418fe36",path:"/tag/linux/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"cesiumjs Tags"},regularPath:"/tag/cesiumjs/",key:"v-2c5ef868",path:"/tag/cesiumjs/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"math Tags"},regularPath:"/tag/math/",key:"v-142dcc86",path:"/tag/math/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"threeBase Tags"},regularPath:"/tag/threeBase/",key:"v-2677c2ac",path:"/tag/threeBase/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"smartCity Tags"},regularPath:"/tag/smartCity/",key:"v-7d8f5bf6",path:"/tag/smartCity/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"gui Tags"},regularPath:"/tag/gui/",key:"v-3237e804",path:"/tag/gui/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"three基础 Tags"},regularPath:"/tag/three%E5%9F%BA%E7%A1%80/",key:"v-237a0423",path:"/tag/three基础/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"shader Tags"},regularPath:"/tag/shader/",key:"v-68543700",path:"/tag/shader/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"mapgis基本操作 Tags"},regularPath:"/tag/mapgis%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/",key:"v-804c9f96",path:"/tag/mapgis基本操作/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"mapbox Tags"},regularPath:"/tag/mapbox/",key:"v-1fcf8536",path:"/tag/mapbox/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Openlayer Tags"},regularPath:"/tag/Openlayer/",key:"v-38b6f3dc",path:"/tag/Openlayer/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Leaflet Tags"},regularPath:"/tag/Leaflet/",key:"v-3051569c",path:"/tag/Leaflet/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"UE5 Categories"},regularPath:"/categories/UE5/",key:"v-7f065b48",path:"/categories/UE5/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Essay Categories"},regularPath:"/categories/Essay/",key:"v-83975be0",path:"/categories/Essay/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Abstract Categories"},regularPath:"/categories/Abstract/",key:"v-33b5a8cf",path:"/categories/Abstract/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Front-end Categories"},regularPath:"/categories/Front-end/",key:"v-70594396",path:"/categories/Front-end/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"cesiumjs Categories"},regularPath:"/categories/cesiumjs/",key:"v-09da73d8",path:"/categories/cesiumjs/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"threejs Categories"},regularPath:"/categories/threejs/",key:"v-6553ce74",path:"/categories/threejs/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"webgis Categories"},regularPath:"/categories/webgis/",key:"v-447ca0f4",path:"/categories/webgis/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - 随笔 | Tags"},regularPath:"/tag/%E9%9A%8F%E7%AC%94/page/2/",key:"v-7c1bf909",path:"/tag/随笔/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - threeBase | Tags"},regularPath:"/tag/threeBase/page/2/",key:"v-1da003d3",path:"/tag/threeBase/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 3 - threeBase | Tags"},regularPath:"/tag/threeBase/page/3/",key:"v-1da003f2",path:"/tag/threeBase/page/3/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - smartCity | Tags"},regularPath:"/tag/smartCity/page/2/",key:"v-30b137d0",path:"/tag/smartCity/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - Essay | Categories"},regularPath:"/categories/Essay/page/2/",key:"v-0dd851ad",path:"/categories/Essay/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - Front-end | Categories"},regularPath:"/categories/Front-end/page/2/",key:"v-73608532",path:"/categories/Front-end/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 2 - threejs | Categories"},regularPath:"/categories/threejs/page/2/",key:"v-2b3c9b92",path:"/categories/threejs/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 3 - threejs | Categories"},regularPath:"/categories/threejs/page/3/",key:"v-2b3c9b54",path:"/categories/threejs/page/3/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 4 - threejs | Categories"},regularPath:"/categories/threejs/page/4/",key:"v-2b3c9b16",path:"/categories/threejs/page/4/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 5 - threejs | Categories"},regularPath:"/categories/threejs/page/5/",key:"v-2b3c9ad8",path:"/categories/threejs/page/5/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 6 - threejs | Categories"},regularPath:"/categories/threejs/page/6/",key:"v-2b3c9a9a",path:"/categories/threejs/page/6/",headersStr:null,content:"",normalizedContent:"",charsets:{}}],themeConfig:{nav:[{text:"主页",link:"/index.html",icon:"reco-home"},{text:"其它",icon:"reco-document",items:[{text:"Projects🎈",items:[{text:"✔ My Project ✨",link:"/other/project"},{text:"✔ 友 情 链 接 🎃",link:"/other/friends"}]},{text:"Common sites🎈",items:[{text:"threejs开发手册",link:"https://threejs.org"},{text:"cesium开发手册",link:"https://cesium.com/downloads/cesiumjs/releases/1.60/Build/Documentation/"},{text:"npm手册",link:"https://www.npmjs.com/"},{text:"cesium-glsl开发手册",link:"https://cesium.com/downloads/cesiumjs/releases/b28/Documentation/czm_getDefaultMaterial.html?classFilter=czm_getDefaultMaterial&show=glsl"},{text:"菜鸟教程",link:"https://www.runoob.com/"},{text:"Vue.js开发手册",link:"https://cn.vuejs.org"},{text:"BootCDN",link:"https://www.bootcdn.cn/"},{text:"Linux命令大全",link:"https://www.linuxcool.com/"},{text:"编程语言排行榜",link:"https://www.tiobe.com/tiobe-index/"}]}]},{text:"时间线",link:"/timeline/",icon:"reco-date"},{text:"关于我",link:"/about/",icon:"reco-message"}],sidebar:{"/views/":["",{title:"🍕 知识晶体 Q&A",collapsable:!0,children:["qaq/sum_fe_001","qaq/sum_fe_002","qaq/sum_java_001","qaq/sum_java_002","qaq/sum_db_001","qaq/sum_spring_001","qaq/sum_spring_002","qaq/sum_spring_003","qaq/sum_ms_001"]},{title:"🌏 cesiumjs",collapsable:!0,children:["specification/ali","specification/git","specification/linux01","specification/linux02","specification/objectModel","specification/提交规范","specification/javaNamingConvention","specification/k8s基本命令与pod管理"]},{title:"🏹 前端 Front-end",collapsable:!0,children:["frontend/EChartsStudy","frontend/js-json","frontend/html","frontend/vue2","frontend/reco-info","frontend/vuepress-plugin-boxx","frontend/TCP&UDP","frontend/css","frontend/js"]},{title:"🌠 threejs ",collapsable:!0,children:["threejs/标签","threejs/canvas","threejs/DEM模型","threejs/GUI","threejs/light","threejs/PBR材质与纹理贴图","threejs/requestAnimationFrame","threejs/UV坐标,贴图","threejs/层级模型","threejs/常见几何体","threejs/动画库tween.js","threejs/骨骼关节Bone","threejs/关键帧动画","threejs/光源和阴影","threejs/后期处理EffectComposer","threejs/几何体BufferGeometry顶点","threejs/几何体顶点颜色数数据","threejs/加载外部三维模型(gltf)","threejs/精灵模型Sprite","threejs/抗锯齿","threejs/模型对象、材质","threejs/欧拉角","threejs/曲线与几何体","threejs/射线拾取模型","threejs/相机基础","threejs/旋转缩放平移","threejs/渲染器和前端UI界面","threejs/阵列方块","threejs/自建多边形","threejs/material大全","threejs/信号波","threejs/信号飞线","threejs/序列帧动画","threejs/发光球体","threejs/设置动画和特效(圆形围墙)","threejs/三维场景标注","threejs/线路","threejs/无人机","threejs/建筑渲染","threejs/设置动画和特效(围墙)","threejs/ExtrudeGeometry批量渲染建筑物","threejs/经纬度转墨卡托","threejs/onBeforeCompile修改材质","threejs/shader2","threejs/CannonJS物理引擎","threejs/math5","threejs/shader1","threejs/八叉树","threejs/骨骼关节Bone","threejs/math4","threejs/旋转缩放平移","threejs/math3","threejs/math2","threejs/math1","threejs/geojson"]},{title:"🍃 地理信息 WEBGIS",collapsable:!0,children:["webgis/MAPGIS","webgis/小叶子体验","webgis/openlayer","webgis/mapbox"]},{title:"💧 虚幻5 UE5",collapsable:!0,children:["UE5/十神性格"]},{title:"🔗 随笔 Essay",collapsable:!0,children:["essay/20190928","essay/20191109","essay/20191116","essay/20191130","essay/20200227","essay/20200301","essay/20200703","essay/20200715","essay/20200813","essay/20201012","essay/20201119","essay/20211216","essay/20220808","essay/20230605"]}]},authorAvatar:"/vuepress/head-fish.jpg",search:!0,searchMaxSuggestions:10,smoothScroll:!0,sidebarDepth:2,blogConfig:{category:{location:2,text:"分类"},tag:{location:3,text:"标签"}},lastUpdated:"上次更新",author:"liuyuhao",record:"鄂ICP备2023020158号-1",startYear:"2023",docsDir:"docs",editLinks:!0,editLinkText:"在 GitHub 上编辑此页！",valineConfig:{appId:"xbT4pPXCWQju5T7GXC5fUFlF-gzGzoHsz",appKey:"bofA5chNQ60p37Ih9sMffSI0",placeholder:"填写邮箱可以收到回复哦!",notify:!0,verify:!0,recordIP:!0}}};t(293),t(13);var U=t(28),V={computed:{$recoPosts(){const{$categories:{list:n}}=this;let e=n.reduce((n,e)=>[...n,...e.pages],[]);return e=Object(U.a)(e),Object(U.c)(e),e},$recoPostsForTimeline(){let n=this.$recoPosts;const e={},t=[];n=Object(U.a)(n,!0),this.pages=0==n.length?[]:n;for(let t=0,r=n.length;t<r;t++){const r=n[t],o=G(r.frontmatter.date,"year");e[o]?e[o].push(r):e[o]=[r]}for(const n in e){const r=e[n];Object(U.b)(r),t.unshift({year:n,data:r})}return t}}};function G(n,e){n=function(n){var e=new Date(n).toJSON();return new Date(+new Date(e)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"").replace(/-/g,"/")}(n);const t=new Date(n),r=t.getFullYear(),o=t.getMonth()+1,a=t.getDate();return"year"==e?r:`${o}-${a}`}t(294);r.a.component("CanvasNest",()=>t.e(62).then(t.bind(null,569))),r.a.component("Clock02",()=>Promise.all([t.e(0),t.e(32)]).then(t.bind(null,570))),r.a.component("Copyright",()=>Promise.resolve().then(t.bind(null,150))),r.a.component("Clock",()=>Promise.all([t.e(0),t.e(31)]).then(t.bind(null,571))),r.a.component("CV",()=>Promise.all([t.e(0),t.e(19)]).then(t.bind(null,572))),r.a.component("ProjectItem",()=>Promise.all([t.e(0),t.e(33)]).then(t.bind(null,490))),r.a.component("Projects",()=>Promise.all([t.e(0),t.e(2),t.e(1),t.e(3),t.e(25)]).then(t.bind(null,555))),r.a.component("Reward",()=>Promise.all([t.e(0),t.e(34)]).then(t.bind(null,573))),r.a.component("ToDoList",()=>Promise.all([t.e(0),t.e(35)]).then(t.bind(null,574))),r.a.component("Badge",()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,575)));var W={name:"BackToTop",data:()=>({visible:!1,customStyle:{right:"1rem",bottom:"6rem",width:"2.5rem",height:"2.5rem","border-radius":".25rem","line-height":"2.5rem",backgroundColor:"rgba(231, 234, 241,.5)"},visibilityHeight:400}),mounted(){window.addEventListener("scroll",this.throttle(this.handleScroll,500))},beforeDestroy(){window.removeEventListener("scroll",this.throttle(this.handleScroll,500))},methods:{handleScroll(){this.visible=window.pageYOffset>this.visibilityHeight},backToTop(){window.scrollTo(0,0)},throttle(n,e){let t=null,r=Date.now();return function(){const o=Date.now(),a=e-(o-r),i=this,s=arguments;clearTimeout(t),a<=0?(n.apply(i,s),r=Date.now()):t=setTimeout(n,a)}}}},Q=(t(295),Object(O.a)(W,(function(){var n=this._self._c;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"back-to-ceiling",style:this.customStyle,on:{click:this.backToTop}},[n("svg",{staticClass:"icon",attrs:{t:"1574745035067",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5404"}},[n("path",{attrs:{d:"M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z","p-id":"5405"}}),n("path",{attrs:{d:"M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z","p-id":"5406"}})])])])}),[],!1,null,"c6073ba8",null).exports);t(296),t(301);const J={prev:"上一页",next:"下一页",go:"前往",jump:"跳转至"},Y={prev:"上壹頁",next:"下壹頁",go:"前往",jump:"跳轉至"},K={prev:"Prev",next:"Next",go:"Go",jump:"Jump To"},Z={prev:"前のページ",next:"次のページ",go:"へ",jump:"ジャンプ"},X={prev:"이전 페이지",next:"다음 페이지",go:"행",jump:"건너뛰기"};var nn={data:()=>({changePage:"",pageSize:10}),props:{total:{type:Number,default:10},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},computed:{pages(){return Math.ceil(this.total/this.pageSize)},efont:function(){return this.pages>7},indexes:function(){var n=1,e=this.pages,t=[];for(this.pages>=7&&(this.currentPage>5&&this.currentPage<this.pages-4?(n=Number(this.currentPage)-3,e=Number(this.currentPage)+3):this.currentPage<=5?(n=1,e=7):(e=this.pages,n=this.pages-6));n<=e;)t.push(n),n++;return t},pagationLocales(){return function(n){const{$lang:e,$recoLocales:{pagation:t}={}}=n;return t||(/^zh\-(CN|SG)$/.test(e)?J:/^zh\-(HK|MO|TW)$/.test(e)?Y:/^ja\-JP$/.test(e)?Z:/^ko\-KR$/.test(e)?X:K)}(this)},showStartFakePageNum:function(){return this.efont&&!this.indexes.includes(1)},showLastFakePageNum:function(){return this.efont&&!this.indexes.includes(this.pages)}},methods:{goPrev(){let n=this.currentPage;this.currentPage>1&&this.emit(--n)},goNext(){let n=this.currentPage;n<this.pages&&this.emit(++n)},jumpPage:function(n){const e=parseInt(n);e<=this.pages&&e>0?this.emit(e):alert(`请输入大于0，并且小于等于${this.pages}的页码！`)},emit(n){this.$emit("getCurrentPage",n)}}},en=(t(302),Object(O.a)(nn,(function(){var n=this,e=n._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:n.pages>1,expression:"pages > 1"}],staticClass:"pagation"},[e("div",{staticClass:"pagation-list"},[e("span",{directives:[{name:"show",rawName:"v-show",value:n.currentPage>1,expression:"currentPage > 1"}],staticClass:"jump",attrs:{unselectable:"on"},on:{click:n.goPrev}},[n._v(n._s(n.pagationLocales.prev))]),n._v(" "),n.showStartFakePageNum?e("span",{staticClass:"jump",on:{click:function(e){return n.jumpPage(1)}}},[n._v("1")]):n._e(),n._v(" "),n.showStartFakePageNum&&n.indexes[0]>2?e("span",{staticClass:"ellipsis"},[n._v("...")]):n._e(),n._v(" "),n._l(n.indexes,(function(t){return e("span",{key:t,staticClass:"jump",class:{bgprimary:n.currentPage==t},on:{click:function(e){return n.jumpPage(t)}}},[n._v(n._s(t))])})),n._v(" "),n.showLastFakePageNum&&n.pages-n.indexes.at(-1)>1?e("span",{staticClass:"ellipsis"},[n._v("...")]):n._e(),n._v(" "),n.showLastFakePageNum?e("span",{staticClass:"jump",on:{click:function(e){return n.jumpPage(n.pages)}}},[n._v(n._s(n.pages))]):n._e(),n._v(" "),n.currentPage<n.pages?e("span",{staticClass:"jump",on:{click:n.goNext}},[n._v(n._s(n.pagationLocales.next))]):n._e(),n._v(" "),e("span",{staticClass:"jumppoint"},[n._v(n._s(n.pagationLocales.jump))]),n._v(" "),e("span",{staticClass:"jumpinp"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.changePage,expression:"changePage"}],attrs:{type:"text"},domProps:{value:n.changePage},on:{input:function(e){e.target.composing||(n.changePage=e.target.value)}}})]),n._v(" "),e("span",{staticClass:"jump gobtn",on:{click:function(e){return n.jumpPage(n.changePage)}}},[n._v(n._s(n.pagationLocales.go))])],2)])}),[],!1,null,"22b6649c",null).exports),tn={name:"Valine",props:{options:{type:Object,default:()=>({})}},mounted:function(){this.initValine()},methods:{initValine(){new(t(303))({el:"#valine",placeholder:"just go go",notify:!1,verify:!1,avatar:"retro",visitor:!0,recordIP:!1,path:window.location.pathname,...this.options})}},watch:{$route(n,e){n.path!==e.path&&setTimeout(()=>{this.initValine()},300)}}},rn=(t(304),Object(O.a)(tn,(function(){this._self._c;return this._m(0)}),[function(){var n=this._self._c;return n("div",{staticClass:"valine-wrapper"},[n("div",{attrs:{id:"valine"}})])}],!1,null,null,null).exports);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function on(n){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function an(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sn(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ln(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function cn(n,e){un(n,e),Object.getOwnPropertyNames(e.prototype).forEach((function(t){un(n.prototype,e.prototype,t)})),Object.getOwnPropertyNames(e).forEach((function(t){un(n,e,t)}))}function un(n,e,t){(t?Reflect.getOwnMetadataKeys(e,t):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=t?Reflect.getOwnMetadata(r,e,t):Reflect.getOwnMetadata(r,e);t?Reflect.defineMetadata(r,o,n,t):Reflect.defineMetadata(r,o,n)}))}var dn={__proto__:[]}instanceof Array;function pn(n){return function(e,t,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return n(e,t,r)}))}}function hn(n,e){var t=e.prototype._init;e.prototype._init=function(){var e=this,t=Object.getOwnPropertyNames(n);if(n.$options.props)for(var r in n.$options.props)n.hasOwnProperty(r)||t.push(r);t.forEach((function(t){Object.defineProperty(e,t,{get:function(){return n[t]},set:function(e){n[t]=e},configurable:!0})}))};var r=new e;e.prototype._init=t;var o={};return Object.keys(r).forEach((function(n){void 0!==r[n]&&(o[n]=r[n])})),o}var mn=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function fn(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||n._componentTag||n.name;var t=n.prototype;Object.getOwnPropertyNames(t).forEach((function(n){if("constructor"!==n)if(mn.indexOf(n)>-1)e[n]=t[n];else{var r=Object.getOwnPropertyDescriptor(t,n);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[n]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return an({},n,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[n]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return hn(this,n)}});var o=n.__decorators__;o&&(o.forEach((function(n){return n(e)})),delete n.__decorators__);var a=Object.getPrototypeOf(n.prototype),i=a instanceof r.a?a.constructor:r.a,s=i.extend(e);return vn(s,n,i),ln()&&cn(s,n),s}var gn={prototype:!0,arguments:!0,callee:!0,caller:!0};function vn(n,e,t){Object.getOwnPropertyNames(e).forEach((function(r){if(!gn[r]){var o=Object.getOwnPropertyDescriptor(n,r);if(!o||o.configurable){var a,i,s=Object.getOwnPropertyDescriptor(e,r);if(!dn){if("cid"===r)return;var l=Object.getOwnPropertyDescriptor(t,r);if(a=s.value,i=on(a),null!=a&&("object"===i||"function"===i)&&l&&l.value===s.value)return}0,Object.defineProperty(n,r,s)}}}))}function yn(n){return"function"==typeof n?fn(n):function(e){return fn(e,n)}}yn.registerHooks=function(n){mn.push.apply(mn,sn(n))};var bn=yn;function xn(n){return pn((function(e,t){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[t]=n||t)}))}function wn(n){return"function"!=typeof n||!n.managed&&!n.managedReactive}function En(n){var e=function(){var t=this,r="function"==typeof n?n.call(this):n;for(var o in(r=Object.create(r||null))[jn]=Object.create(this[jn]||{}),e.managed)r[e.managed[o]]=this[o];var a=function(n){r[e.managedReactive[n]]=i[n],Object.defineProperty(r[jn],e.managedReactive[n],{enumerable:!0,configurable:!0,get:function(){return t[n]}})},i=this;for(var o in e.managedReactive)a(o);return r};return e.managed={},e.managedReactive={},e}var jn="__reactiveInject__";function An(n){Array.isArray(n.inject)||(n.inject=n.inject||{},n.inject[jn]={from:jn,default:{}})}var Tn="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function Cn(n,e,t){if(Tn&&!Array.isArray(n)&&"function"!=typeof n&&!n.hasOwnProperty("type")&&void 0===n.type){var r=Reflect.getMetadata("design:type",e,t);r!==Object&&(n.type=r)}}function Sn(n){return void 0===n&&(n={}),function(e,t){Cn(n,e,t),pn((function(e,t){(e.props||(e.props={}))[t]=n}))(e,t)}}function kn(n,e){void 0===e&&(e={});var t=e.deep,r=void 0!==t&&t,o=e.immediate,a=void 0!==o&&o;return pn((function(e,t){"object"!=typeof e.watch&&(e.watch=Object.create(null));var o=e.watch;"object"!=typeof o[n]||Array.isArray(o[n])?void 0===o[n]&&(o[n]=[]):o[n]=[o[n]],o[n].push({handler:t,deep:r,immediate:a})}))}var _n=t(21);const Pn=n=>Object(_n.stringify)(n),Dn=(n,e)=>`${n}${Object(_n.stringify)(e,{addQueryPrefix:!0})}`,Bn=(n,e)=>`${n.replace(/\/$/,"")}/${e.replace(/^\//,"")}`;var In=t(140),On=t.n(In);const Rn=n=>On()(n,"YYYY-MM-DD HH:mm:ss"),Mn=n=>(n.split("#")[0]||"").split("?")[0]||"",zn=n=>Object(_n.parse)(n,{ignoreQueryPrefix:!0})
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */;var Ln=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"],Fn=["dateStyle","timeStyle","calendar","localeMatcher","hour12","hourCycle","timeZone","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Hn(n,e){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+n),e&&console.warn(e.stack))}var qn=Array.isArray;function Nn(n){return null!==n&&"object"==typeof n}function $n(n){return"string"==typeof n}var Un=Object.prototype.toString;function Vn(n){return"[object Object]"===Un.call(n)}function Gn(n){return null==n}function Wn(n){return"function"==typeof n}function Qn(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];var t=null,r=null;return 1===n.length?Nn(n[0])||qn(n[0])?r=n[0]:"string"==typeof n[0]&&(t=n[0]):2===n.length&&("string"==typeof n[0]&&(t=n[0]),(Nn(n[1])||qn(n[1]))&&(r=n[1])),{locale:t,params:r}}function Jn(n){return JSON.parse(JSON.stringify(n))}function Yn(n,e){return!!~n.indexOf(e)}var Kn=Object.prototype.hasOwnProperty;function Zn(n,e){return Kn.call(n,e)}function Xn(n){for(var e=arguments,t=Object(n),r=1;r<arguments.length;r++){var o=e[r];if(null!=o){var a=void 0;for(a in o)Zn(o,a)&&(Nn(o[a])?t[a]=Xn(t[a],o[a]):t[a]=o[a])}}return t}function ne(n,e){if(n===e)return!0;var t=Nn(n),r=Nn(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var o=qn(n),a=qn(e);if(o&&a)return n.length===e.length&&n.every((function(n,t){return ne(n,e[t])}));if(o||a)return!1;var i=Object.keys(n),s=Object.keys(e);return i.length===s.length&&i.every((function(t){return ne(n[t],e[t])}))}catch(n){return!1}}function ee(n){return null!=n&&Object.keys(n).forEach((function(e){"string"==typeof n[e]&&(n[e]=n[e].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),n}var te={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(n,e){var t=e.data,r=e.parent,o=e.props,a=e.slots,i=r.$i18n;if(i){var s=o.path,l=o.locale,c=o.places,u=a(),d=i.i(s,l,function(n){var e;for(e in n)if("default"!==e)return!1;return Boolean(e)}(u)||c?function(n,e){var t=e?function(n){0;return Array.isArray(n)?n.reduce(oe,{}):Object.assign({},n)}(e):{};if(!n)return t;var r=(n=n.filter((function(n){return n.tag||""!==n.text.trim()}))).every(ae);0;return n.reduce(r?re:oe,t)}(u.default,c):u),p=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return p?n(p,t,d):d}}};function re(n,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(n[e.data.attrs.place]=e),n}function oe(n,e,t){return n[t]=e,n}function ae(n){return Boolean(n.data&&n.data.attrs&&n.data.attrs.place)}var ie,se={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(n,e){var t=e.props,r=e.parent,o=e.data,a=r.$i18n;if(!a)return null;var i=null,s=null;$n(t.format)?i=t.format:Nn(t.format)&&(t.format.key&&(i=t.format.key),s=Object.keys(t.format).reduce((function(n,e){var r;return Yn(Ln,e)?Object.assign({},n,((r={})[e]=t.format[e],r)):n}),null));var l=t.locale||a.locale,c=a._ntp(t.value,l,i,s),u=c.map((function(n,e){var t,r=o.scopedSlots&&o.scopedSlots[n.type];return r?r(((t={})[n.type]=n.value,t.index=e,t.parts=c,t)):n.value})),d=t.tag&&!0!==t.tag||!1===t.tag?t.tag:"span";return d?n(d,{attrs:o.attrs,class:o.class,staticClass:o.staticClass},u):u}};function le(n,e,t){de(n,t)&&pe(n,e,t)}function ce(n,e,t,r){if(de(n,t)){var o=t.context.$i18n;(function(n,e){var t=e.context;return n._locale===t.$i18n.locale})(n,t)&&ne(e.value,e.oldValue)&&ne(n._localeMessage,o.getLocaleMessage(o.locale))||pe(n,e,t)}}function ue(n,e,t,r){if(t.context){var o=t.context.$i18n||{};e.modifiers.preserve||o.preserveDirectiveContent||(n.textContent=""),n._vt=void 0,delete n._vt,n._locale=void 0,delete n._locale,n._localeMessage=void 0,delete n._localeMessage}else Hn("Vue instance does not exists in VNode context")}function de(n,e){var t=e.context;return t?!!t.$i18n||(Hn("VueI18n instance does not exists in Vue instance"),!1):(Hn("Vue instance does not exists in VNode context"),!1)}function pe(n,e,t){var r,o,a=function(n){var e,t,r,o;$n(n)?e=n:Vn(n)&&(e=n.path,t=n.locale,r=n.args,o=n.choice);return{path:e,locale:t,args:r,choice:o}}(e.value),i=a.path,s=a.locale,l=a.args,c=a.choice;if(i||s||l)if(i){var u=t.context;n._vt=n.textContent=null!=c?(r=u.$i18n).tc.apply(r,[i,c].concat(he(s,l))):(o=u.$i18n).t.apply(o,[i].concat(he(s,l))),n._locale=u.$i18n.locale,n._localeMessage=u.$i18n.getLocaleMessage(u.$i18n.locale)}else Hn("`path` is required in v-t directive");else Hn("value type not supported")}function he(n,e){var t=[];return n&&t.push(n),e&&(Array.isArray(e)||Vn(e))&&t.push(e),t}function me(n,e){void 0===e&&(e={bridge:!1}),me.installed=!0;var t;(ie=n).version&&Number(ie.version.split(".")[0]);(t=ie).prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];var r=this.$i18n;return r._t.apply(r,[n,r.locale,r._getMessages(),this].concat(e))},t.prototype.$tc=function(n,e){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[n,o.locale,o._getMessages(),this,e].concat(t))},t.prototype.$te=function(n,e){var t=this.$i18n;return t._te(n,t.locale,t._getMessages(),e)},t.prototype.$d=function(n){for(var e,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(e=this.$i18n).d.apply(e,[n].concat(t))},t.prototype.$n=function(n){for(var e,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(e=this.$i18n).n.apply(e,[n].concat(t))},ie.mixin(function(n){function e(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)}return void 0===n&&(n=!1),n?{mounted:e}:{beforeCreate:function(){var n=this.$options;if(n.i18n=n.i18n||(n.__i18nBridge||n.__i18n?{}:null),n.i18n)if(n.i18n instanceof Pe){if(n.__i18nBridge||n.__i18n)try{var e=n.i18n&&n.i18n.messages?n.i18n.messages:{};(n.__i18nBridge||n.__i18n).forEach((function(n){e=Xn(e,JSON.parse(n))})),Object.keys(e).forEach((function(t){n.i18n.mergeLocaleMessage(t,e[t])}))}catch(n){0}this._i18n=n.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(Vn(n.i18n)){var t=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pe?this.$root.$i18n:null;if(t&&(n.i18n.root=this.$root,n.i18n.formatter=t.formatter,n.i18n.fallbackLocale=t.fallbackLocale,n.i18n.formatFallbackMessages=t.formatFallbackMessages,n.i18n.silentTranslationWarn=t.silentTranslationWarn,n.i18n.silentFallbackWarn=t.silentFallbackWarn,n.i18n.pluralizationRules=t.pluralizationRules,n.i18n.preserveDirectiveContent=t.preserveDirectiveContent),n.__i18nBridge||n.__i18n)try{var r=n.i18n&&n.i18n.messages?n.i18n.messages:{};(n.__i18nBridge||n.__i18n).forEach((function(n){r=Xn(r,JSON.parse(n))})),n.i18n.messages=r}catch(n){0}var o=n.i18n.sharedMessages;o&&Vn(o)&&(n.i18n.messages=Xn(n.i18n.messages,o)),this._i18n=new Pe(n.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===n.i18n.sync||n.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),t&&t.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pe?this._i18n=this.$root.$i18n:n.parent&&n.parent.$i18n&&n.parent.$i18n instanceof Pe&&(this._i18n=n.parent.$i18n)},beforeMount:function(){var n=this.$options;n.i18n=n.i18n||(n.__i18nBridge||n.__i18n?{}:null),n.i18n?(n.i18n instanceof Pe||Vn(n.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof Pe||n.parent&&n.parent.$i18n&&n.parent.$i18n instanceof Pe)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:e,beforeDestroy:function(){if(this._i18n){var n=this;this.$nextTick((function(){n._subscribing&&(n._i18n.unsubscribeDataChanging(n),delete n._subscribing),n._i18nWatcher&&(n._i18nWatcher(),n._i18n.destroyVM(),delete n._i18nWatcher),n._localeWatcher&&(n._localeWatcher(),delete n._localeWatcher)}))}}}}(e.bridge)),ie.directive("t",{bind:le,update:ce,unbind:ue}),ie.component(te.name,te),ie.component(se.name,se),ie.config.optionMergeStrategies.i18n=function(n,e){return void 0===e?n:e}}var fe=function(){this._caches=Object.create(null)};fe.prototype.interpolate=function(n,e){if(!e)return[n];var t=this._caches[n];return t||(t=function(n){var e=[],t=0,r="";for(;t<n.length;){var o=n[t++];if("{"===o){r&&e.push({type:"text",value:r}),r="";var a="";for(o=n[t++];void 0!==o&&"}"!==o;)a+=o,o=n[t++];var i="}"===o,s=ge.test(a)?"list":i&&ve.test(a)?"named":"unknown";e.push({value:a,type:s})}else"%"===o?"{"!==n[t]&&(r+=o):r+=o}return r&&e.push({type:"text",value:r}),e}(n),this._caches[n]=t),function(n,e){var t=[],r=0,o=Array.isArray(e)?"list":Nn(e)?"named":"unknown";if("unknown"===o)return t;for(;r<n.length;){var a=n[r];switch(a.type){case"text":t.push(a.value);break;case"list":t.push(e[parseInt(a.value,10)]);break;case"named":"named"===o&&t.push(e[a.value]);break;case"unknown":0}r++}return t}(t,e)};var ge=/^(?:\d)+/,ve=/^(?:\w)+/;var ye=[];ye[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},ye[1]={ws:[1],".":[2],"[":[4],eof:[7]},ye[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},ye[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},ye[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},ye[5]={"'":[4,0],eof:8,else:[5,0]},ye[6]={'"':[4,0],eof:8,else:[6,0]};var be=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xe(n){if(null==n)return"eof";switch(n.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return n;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function we(n){var e,t,r,o=n.trim();return("0"!==n.charAt(0)||!isNaN(n))&&(r=o,be.test(r)?(t=(e=o).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1):"*"+o)}var Ee=function(){this._cache=Object.create(null)};Ee.prototype.parsePath=function(n){var e=this._cache[n];return e||(e=function(n){var e,t,r,o,a,i,s,l=[],c=-1,u=0,d=0,p=[];function h(){var e=n[c+1];if(5===u&&"'"===e||6===u&&'"'===e)return c++,r="\\"+e,p[0](),!0}for(p[1]=function(){void 0!==t&&(l.push(t),t=void 0)},p[0]=function(){void 0===t?t=r:t+=r},p[2]=function(){p[0](),d++},p[3]=function(){if(d>0)d--,u=4,p[0]();else{if(d=0,void 0===t)return!1;if(!1===(t=we(t)))return!1;p[1]()}};null!==u;)if(c++,"\\"!==(e=n[c])||!h()){if(o=xe(e),8===(a=(s=ye[u])[o]||s.else||8))return;if(u=a[0],(i=p[a[1]])&&(r=void 0===(r=a[2])?e:r,!1===i()))return;if(7===u)return l}}(n))&&(this._cache[n]=e),e||[]},Ee.prototype.getPathValue=function(n,e){if(!Nn(n))return null;var t=this.parsePath(e);if(0===t.length)return null;for(var r=t.length,o=n,a=0;a<r;){var i=o[t[a]];if(null==i)return null;o=i,a++}return o};var je,Ae=/<\/?[\w\s="/.':;#-\/]+>/,Te=/(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g,Ce=/^@(?:\.([a-zA-Z]+))?:/,Se=/[()]/g,ke={upper:function(n){return n.toLocaleUpperCase()},lower:function(n){return n.toLocaleLowerCase()},capitalize:function(n){return""+n.charAt(0).toLocaleUpperCase()+n.substr(1)}},_e=new fe,Pe=function(n){var e=this;void 0===n&&(n={}),!ie&&"undefined"!=typeof window&&window.Vue&&me(window.Vue);var t=n.locale||"en-US",r=!1!==n.fallbackLocale&&(n.fallbackLocale||"en-US"),o=n.messages||{},a=n.dateTimeFormats||n.datetimeFormats||{},i=n.numberFormats||{};this._vm=null,this._formatter=n.formatter||_e,this._modifiers=n.modifiers||{},this._missing=n.missing||null,this._root=n.root||null,this._sync=void 0===n.sync||!!n.sync,this._fallbackRoot=void 0===n.fallbackRoot||!!n.fallbackRoot,this._fallbackRootWithEmptyString=void 0===n.fallbackRootWithEmptyString||!!n.fallbackRootWithEmptyString,this._formatFallbackMessages=void 0!==n.formatFallbackMessages&&!!n.formatFallbackMessages,this._silentTranslationWarn=void 0!==n.silentTranslationWarn&&n.silentTranslationWarn,this._silentFallbackWarn=void 0!==n.silentFallbackWarn&&!!n.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Ee,this._dataListeners=new Set,this._componentInstanceCreatedListener=n.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==n.preserveDirectiveContent&&!!n.preserveDirectiveContent,this.pluralizationRules=n.pluralizationRules||{},this._warnHtmlInMessage=n.warnHtmlInMessage||"off",this._postTranslation=n.postTranslation||null,this._escapeParameterHtml=n.escapeParameterHtml||!1,"__VUE_I18N_BRIDGE__"in n&&(this.__VUE_I18N_BRIDGE__=n.__VUE_I18N_BRIDGE__),this.getChoiceIndex=function(n,t){var r=Object.getPrototypeOf(e);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(e,n,t);var o,a;return e.locale in e.pluralizationRules?e.pluralizationRules[e.locale].apply(e,[n,t]):(o=n,a=t,o=Math.abs(o),2===a?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(n,t){return!(!n||!t)&&(!Gn(e._path.getPathValue(n,t))||!!n[t])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(n){e._checkLocaleMessage(n,e._warnHtmlInMessage,o[n])})),this._initVM({locale:t,fallbackLocale:r,messages:o,dateTimeFormats:a,numberFormats:i})},De={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0},sync:{configurable:!0}};Pe.prototype._checkLocaleMessage=function(n,e,t){var r=function(n,e,t,o){if(Vn(t))Object.keys(t).forEach((function(a){var i=t[a];Vn(i)?(o.push(a),o.push("."),r(n,e,i,o),o.pop(),o.pop()):(o.push(a),r(n,e,i,o),o.pop())}));else if(qn(t))t.forEach((function(t,a){Vn(t)?(o.push("["+a+"]"),o.push("."),r(n,e,t,o),o.pop(),o.pop()):(o.push("["+a+"]"),r(n,e,t,o),o.pop())}));else if($n(t)){if(Ae.test(t)){var a="Detected HTML in message '"+t+"' of keypath '"+o.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===n?Hn(a):"error"===n&&function(n,e){"undefined"!=typeof console&&(console.error("[vue-i18n] "+n),e&&console.error(e.stack))}(a)}}};r(e,n,t,[])},Pe.prototype._initVM=function(n){var e=ie.config.silent;ie.config.silent=!0,this._vm=new ie({data:n,__VUE18N__INSTANCE__:!0}),ie.config.silent=e},Pe.prototype.destroyVM=function(){this._vm.$destroy()},Pe.prototype.subscribeDataChanging=function(n){this._dataListeners.add(n)},Pe.prototype.unsubscribeDataChanging=function(n){!function(n,e){if(n.delete(e));}(this._dataListeners,n)},Pe.prototype.watchI18nData=function(){var n=this;return this._vm.$watch("$data",(function(){for(var e,t,r=(e=n._dataListeners,t=[],e.forEach((function(n){return t.push(n)})),t),o=r.length;o--;)ie.nextTick((function(){r[o]&&r[o].$forceUpdate()}))}),{deep:!0})},Pe.prototype.watchLocale=function(n){if(n){if(!this.__VUE_I18N_BRIDGE__)return null;var e=this,t=this._vm;return this.vm.$watch("locale",(function(r){t.$set(t,"locale",r),e.__VUE_I18N_BRIDGE__&&n&&(n.locale.value=r),t.$forceUpdate()}),{immediate:!0})}if(!this._sync||!this._root)return null;var r=this._vm;return this._root.$i18n.vm.$watch("locale",(function(n){r.$set(r,"locale",n),r.$forceUpdate()}),{immediate:!0})},Pe.prototype.onComponentInstanceCreated=function(n){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(n,this)},De.vm.get=function(){return this._vm},De.messages.get=function(){return Jn(this._getMessages())},De.dateTimeFormats.get=function(){return Jn(this._getDateTimeFormats())},De.numberFormats.get=function(){return Jn(this._getNumberFormats())},De.availableLocales.get=function(){return Object.keys(this.messages).sort()},De.locale.get=function(){return this._vm.locale},De.locale.set=function(n){this._vm.$set(this._vm,"locale",n)},De.fallbackLocale.get=function(){return this._vm.fallbackLocale},De.fallbackLocale.set=function(n){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",n)},De.formatFallbackMessages.get=function(){return this._formatFallbackMessages},De.formatFallbackMessages.set=function(n){this._formatFallbackMessages=n},De.missing.get=function(){return this._missing},De.missing.set=function(n){this._missing=n},De.formatter.get=function(){return this._formatter},De.formatter.set=function(n){this._formatter=n},De.silentTranslationWarn.get=function(){return this._silentTranslationWarn},De.silentTranslationWarn.set=function(n){this._silentTranslationWarn=n},De.silentFallbackWarn.get=function(){return this._silentFallbackWarn},De.silentFallbackWarn.set=function(n){this._silentFallbackWarn=n},De.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},De.preserveDirectiveContent.set=function(n){this._preserveDirectiveContent=n},De.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},De.warnHtmlInMessage.set=function(n){var e=this,t=this._warnHtmlInMessage;if(this._warnHtmlInMessage=n,t!==n&&("warn"===n||"error"===n)){var r=this._getMessages();Object.keys(r).forEach((function(n){e._checkLocaleMessage(n,e._warnHtmlInMessage,r[n])}))}},De.postTranslation.get=function(){return this._postTranslation},De.postTranslation.set=function(n){this._postTranslation=n},De.sync.get=function(){return this._sync},De.sync.set=function(n){this._sync=n},Pe.prototype._getMessages=function(){return this._vm.messages},Pe.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},Pe.prototype._getNumberFormats=function(){return this._vm.numberFormats},Pe.prototype._warnDefault=function(n,e,t,r,o,a){if(!Gn(t))return t;if(this._missing){var i=this._missing.apply(null,[n,e,r,o]);if($n(i))return i}else 0;if(this._formatFallbackMessages){var s=Qn.apply(void 0,o);return this._render(e,a,s.params,e)}return e},Pe.prototype._isFallbackRoot=function(n){return(this._fallbackRootWithEmptyString?!n:Gn(n))&&!Gn(this._root)&&this._fallbackRoot},Pe.prototype._isSilentFallbackWarn=function(n){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(n):this._silentFallbackWarn},Pe.prototype._isSilentFallback=function(n,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||n!==this.fallbackLocale)},Pe.prototype._isSilentTranslationWarn=function(n){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(n):this._silentTranslationWarn},Pe.prototype._interpolate=function(n,e,t,r,o,a,i){if(!e)return null;var s,l=this._path.getPathValue(e,t);if(qn(l)||Vn(l))return l;if(Gn(l)){if(!Vn(e))return null;if(!$n(s=e[t])&&!Wn(s))return null}else{if(!$n(l)&&!Wn(l))return null;s=l}return $n(s)&&(s.indexOf("@:")>=0||s.indexOf("@.")>=0)&&(s=this._link(n,e,s,r,"raw",a,i)),this._render(s,o,a,t)},Pe.prototype._link=function(n,e,t,r,o,a,i){var s=t,l=s.match(Te);for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],d=u.match(Ce),p=d[0],h=d[1],m=u.replace(p,"").replace(Se,"");if(Yn(i,m))return s;i.push(m);var f=this._interpolate(n,e,m,r,"raw"===o?"string":o,"raw"===o?void 0:a,i);if(this._isFallbackRoot(f)){if(!this._root)throw Error("unexpected error");var g=this._root.$i18n;f=g._translate(g._getMessages(),g.locale,g.fallbackLocale,m,r,o,a)}f=this._warnDefault(n,m,f,r,qn(a)?a:[a],o),this._modifiers.hasOwnProperty(h)?f=this._modifiers[h](f):ke.hasOwnProperty(h)&&(f=ke[h](f)),i.pop(),s=f?s.replace(u,f):s}return s},Pe.prototype._createMessageContext=function(n,e,t,r){var o=this,a=qn(n)?n:[],i=Nn(n)?n:{},s=this._getMessages(),l=this.locale;return{list:function(n){return a[n]},named:function(n){return i[n]},values:n,formatter:e,path:t,messages:s,locale:l,linked:function(n){return o._interpolate(l,s[l]||{},n,null,r,void 0,[n])}}},Pe.prototype._render=function(n,e,t,r){if(Wn(n))return n(this._createMessageContext(t,this._formatter||_e,r,e));var o=this._formatter.interpolate(n,t,r);return o||(o=_e.interpolate(n,t,r)),"string"!==e||$n(o)?o:o.join("")},Pe.prototype._appendItemToChain=function(n,e,t){var r=!1;return Yn(n,e)||(r=!0,e&&(r="!"!==e[e.length-1],e=e.replace(/!/g,""),n.push(e),t&&t[e]&&(r=t[e]))),r},Pe.prototype._appendLocaleToChain=function(n,e,t){var r,o=e.split("-");do{var a=o.join("-");r=this._appendItemToChain(n,a,t),o.splice(-1,1)}while(o.length&&!0===r);return r},Pe.prototype._appendBlockToChain=function(n,e,t){for(var r=!0,o=0;o<e.length&&"boolean"==typeof r;o++){var a=e[o];$n(a)&&(r=this._appendLocaleToChain(n,a,t))}return r},Pe.prototype._getLocaleChain=function(n,e){if(""===n)return[];this._localeChainCache||(this._localeChainCache={});var t=this._localeChainCache[n];if(!t){e||(e=this.fallbackLocale),t=[];for(var r,o=[n];qn(o);)o=this._appendBlockToChain(t,o,e);(o=$n(r=qn(e)?e:Nn(e)?e.default?e.default:null:e)?[r]:r)&&this._appendBlockToChain(t,o,null),this._localeChainCache[n]=t}return t},Pe.prototype._translate=function(n,e,t,r,o,a,i){for(var s,l=this._getLocaleChain(e,t),c=0;c<l.length;c++){var u=l[c];if(!Gn(s=this._interpolate(u,n[u],r,o,a,i,[r])))return s}return null},Pe.prototype._t=function(n,e,t,r){for(var o,a=[],i=arguments.length-4;i-- >0;)a[i]=arguments[i+4];if(!n)return"";var s=Qn.apply(void 0,a);this._escapeParameterHtml&&(s.params=ee(s.params));var l=s.locale||e,c=this._translate(t,l,this.fallbackLocale,n,r,"string",s.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[n].concat(a))}return c=this._warnDefault(l,n,c,r,a,"string"),this._postTranslation&&null!=c&&(c=this._postTranslation(c,n)),c},Pe.prototype.t=function(n){for(var e,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(e=this)._t.apply(e,[n,this.locale,this._getMessages(),null].concat(t))},Pe.prototype._i=function(n,e,t,r,o){var a=this._translate(t,e,this.fallbackLocale,n,r,"raw",o);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(n,e,o)}return this._warnDefault(e,n,a,r,[o],"raw")},Pe.prototype.i=function(n,e,t){return n?($n(e)||(e=this.locale),this._i(n,e,this._getMessages(),null,t)):""},Pe.prototype._tc=function(n,e,t,r,o){for(var a,i=[],s=arguments.length-5;s-- >0;)i[s]=arguments[s+5];if(!n)return"";void 0===o&&(o=1);var l={count:o,n:o},c=Qn.apply(void 0,i);return c.params=Object.assign(l,c.params),i=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((a=this)._t.apply(a,[n,e,t,r].concat(i)),o)},Pe.prototype.fetchChoice=function(n,e){if(!n||!$n(n))return null;var t=n.split("|");return t[e=this.getChoiceIndex(e,t.length)]?t[e].trim():n},Pe.prototype.tc=function(n,e){for(var t,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(t=this)._tc.apply(t,[n,this.locale,this._getMessages(),null,e].concat(r))},Pe.prototype._te=function(n,e,t){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var a=Qn.apply(void 0,r).locale||e;return this._exist(t[a],n)},Pe.prototype.te=function(n,e){return this._te(n,this.locale,this._getMessages(),e)},Pe.prototype.getLocaleMessage=function(n){return Jn(this._vm.messages[n]||{})},Pe.prototype.setLocaleMessage=function(n,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(n,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,n,e)},Pe.prototype.mergeLocaleMessage=function(n,e){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(n,this._warnHtmlInMessage,e),this._vm.$set(this._vm.messages,n,Xn(void 0!==this._vm.messages[n]&&Object.keys(this._vm.messages[n]).length?Object.assign({},this._vm.messages[n]):{},e))},Pe.prototype.getDateTimeFormat=function(n){return Jn(this._vm.dateTimeFormats[n]||{})},Pe.prototype.setDateTimeFormat=function(n,e){this._vm.$set(this._vm.dateTimeFormats,n,e),this._clearDateTimeFormat(n,e)},Pe.prototype.mergeDateTimeFormat=function(n,e){this._vm.$set(this._vm.dateTimeFormats,n,Xn(this._vm.dateTimeFormats[n]||{},e)),this._clearDateTimeFormat(n,e)},Pe.prototype._clearDateTimeFormat=function(n,e){for(var t in e){var r=n+"__"+t;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},Pe.prototype._localizeDateTime=function(n,e,t,r,o,a){for(var i=e,s=r[i],l=this._getLocaleChain(e,t),c=0;c<l.length;c++){var u=l[c];if(i=u,!Gn(s=r[u])&&!Gn(s[o]))break}if(Gn(s)||Gn(s[o]))return null;var d,p=s[o];if(a)d=new Intl.DateTimeFormat(i,Object.assign({},p,a));else{var h=i+"__"+o;(d=this._dateTimeFormatters[h])||(d=this._dateTimeFormatters[h]=new Intl.DateTimeFormat(i,p))}return d.format(n)},Pe.prototype._d=function(n,e,t,r){if(!t)return(r?new Intl.DateTimeFormat(e,r):new Intl.DateTimeFormat(e)).format(n);var o=this._localizeDateTime(n,e,this.fallbackLocale,this._getDateTimeFormats(),t,r);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(n,t,e)}return o||""},Pe.prototype.d=function(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];var r=this.locale,o=null,a=null;return 1===e.length?($n(e[0])?o=e[0]:Nn(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key)),a=Object.keys(e[0]).reduce((function(n,t){var r;return Yn(Fn,t)?Object.assign({},n,((r={})[t]=e[0][t],r)):n}),null)):2===e.length&&($n(e[0])&&(o=e[0]),$n(e[1])&&(r=e[1])),this._d(n,r,o,a)},Pe.prototype.getNumberFormat=function(n){return Jn(this._vm.numberFormats[n]||{})},Pe.prototype.setNumberFormat=function(n,e){this._vm.$set(this._vm.numberFormats,n,e),this._clearNumberFormat(n,e)},Pe.prototype.mergeNumberFormat=function(n,e){this._vm.$set(this._vm.numberFormats,n,Xn(this._vm.numberFormats[n]||{},e)),this._clearNumberFormat(n,e)},Pe.prototype._clearNumberFormat=function(n,e){for(var t in e){var r=n+"__"+t;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},Pe.prototype._getNumberFormatter=function(n,e,t,r,o,a){for(var i=e,s=r[i],l=this._getLocaleChain(e,t),c=0;c<l.length;c++){var u=l[c];if(i=u,!Gn(s=r[u])&&!Gn(s[o]))break}if(Gn(s)||Gn(s[o]))return null;var d,p=s[o];if(a)d=new Intl.NumberFormat(i,Object.assign({},p,a));else{var h=i+"__"+o;(d=this._numberFormatters[h])||(d=this._numberFormatters[h]=new Intl.NumberFormat(i,p))}return d},Pe.prototype._n=function(n,e,t,r){if(!Pe.availabilities.numberFormat)return"";if(!t)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).format(n);var o=this._getNumberFormatter(n,e,this.fallbackLocale,this._getNumberFormats(),t,r),a=o&&o.format(n);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(n,Object.assign({},{key:t,locale:e},r))}return a||""},Pe.prototype.n=function(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];var r=this.locale,o=null,a=null;return 1===e.length?$n(e[0])?o=e[0]:Nn(e[0])&&(e[0].locale&&(r=e[0].locale),e[0].key&&(o=e[0].key),a=Object.keys(e[0]).reduce((function(n,t){var r;return Yn(Ln,t)?Object.assign({},n,((r={})[t]=e[0][t],r)):n}),null)):2===e.length&&($n(e[0])&&(o=e[0]),$n(e[1])&&(r=e[1])),this._n(n,r,o,a)},Pe.prototype._ntp=function(n,e,t,r){if(!Pe.availabilities.numberFormat)return[];if(!t)return(r?new Intl.NumberFormat(e,r):new Intl.NumberFormat(e)).formatToParts(n);var o=this._getNumberFormatter(n,e,this.fallbackLocale,this._getNumberFormats(),t,r),a=o&&o.formatToParts(n);if(this._isFallbackRoot(a)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(n,e,t,r)}return a||[]},Object.defineProperties(Pe.prototype,De),Object.defineProperty(Pe,"availabilities",{get:function(){if(!je){var n="undefined"!=typeof Intl;je={dateTimeFormat:n&&void 0!==Intl.DateTimeFormat,numberFormat:n&&void 0!==Intl.NumberFormat}}return je}}),Pe.install=me,Pe.version="8.28.2";var Be=Pe;
/*!
 * vssue - A vue-powered issue-based comment plugin
 *
 * @version v1.4.8
 * @link https://vssue.js.org
 * @license MIT
 * @copyright 2018-2021 meteorlxy
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ie(n,e,t,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var s=n.length-1;s>=0;s--)(o=n[s])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i}var Oe=r.a.extend({name:"Iconfont"});function Re(n,e,t,r,o,a,i,s,l,c){"boolean"!=typeof i&&(l=s,s=i,i=!1);const u="function"==typeof t?t.options:t;let d;if(n&&n.render&&(u.render=n.render,u.staticRenderFns=n.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),r&&(u._scopeId=r),a?(d=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(a)},u._ssrRegister=d):e&&(d=i?function(n){e.call(this,c(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),d)if(u.functional){const n=u.render;u.render=function(e,t){return d.call(t),n(e,t)}}else{const n=u.beforeCreate;u.beforeCreate=n?[].concat(n,d):[d]}return t}"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const Me=Re({render:function(n,e){var t=e._c;return t("svg",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t("symbol",{attrs:{id:"vssue-icon-bitbucket",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitea",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitee",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-github",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitlab",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-loading",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-like",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-unlike",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-heart",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-edit",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"}}),e._v(" "),t("path",{attrs:{d:"M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-delete",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-reply",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"}})]),e._v(" "),t("symbol",{attrs:{id:"vssue-icon-error",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}}),e._v(" "),t("path",{attrs:{d:"M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"}}),e._v(" "),t("path",{attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"}})])])},staticRenderFns:[]},void 0,Oe,void 0,!0,void 0,!1,void 0,void 0,void 0);const ze=Re({},void 0,r.a.extend({name:"TransitionFade",functional:!0,props:{group:{type:Boolean,required:!1,default:!1},tag:{type:String,required:!1,default:"div"}},render:(n,{props:e,children:t})=>n(e.group?"TransitionGroup":"Transition",{props:{name:"fade",mode:"out-in",appear:!0,tag:e.tag}},t)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);const Le=Re({},void 0,r.a.extend({name:"VssueIcon",functional:!0,props:{name:{type:String,required:!0},title:{type:String,required:!1,default:null}},render:(n,{props:e,data:t})=>n("svg",Object.assign(Object.assign({},t),{class:["vssue-icon","vssue-icon-"+e.name],attrs:{"aria-hidden":"true"}}),[n("title",e.title),n("use",{attrs:{"xlink:href":"#vssue-icon-"+e.name}})])}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let Fe=class extends r.a{constructor(){super(...arguments),this.editMode=!1,this.editContent=this.comment.contentRaw,this.creatingReactions=[],this.isPutingComment=!1,this.isDeletingComment=!1}get currentUser(){return this.vssue.user?this.vssue.user.username:null}get content(){return this.comment.content}get author(){return this.comment.author}get createdAt(){return Rn(this.comment.createdAt)}get updatedAt(){return Rn(this.comment.updatedAt)}get showReactions(){return Boolean(this.vssue.API&&this.vssue.API.platform.meta.reactable&&this.comment.reactions&&!this.editMode)}get reactionKeys(){return["heart","like","unlike"]}get editContentRows(){return this.editContent.split("\n").length-1}get editInputRows(){return this.editContentRows<3?5:this.editContentRows+2}async postReaction({reaction:n}){try{if(this.creatingReactions.includes(n))return;this.creatingReactions.push(n);await this.vssue.postCommentReaction({commentId:this.comment.id,reaction:n})||this.vssue.$emit("error",new Error(this.vssue.$t("reactionGiven",{reaction:this.vssue.$t(n)})));const e=await this.vssue.getCommentReactions({commentId:this.comment.id});e&&(this.comment.reactions=e)}finally{this.creatingReactions.splice(this.creatingReactions.findIndex(e=>e===n),1)}}enterEdit(){this.editMode=!0,this.$nextTick(()=>{this.$refs.input.focus()})}resetEdit(){this.editMode=!1,this.editContent=this.comment.contentRaw}async putComment(){try{if(this.vssue.isPending)return;if(this.editContent!==this.comment.contentRaw){this.isPutingComment=!0,this.vssue.isUpdatingComment=!0;const n=await this.vssue.putComment({commentId:this.comment.id,content:this.editContent});n&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(n=>n.id===this.comment.id),1,n)}this.editMode=!1}finally{this.isPutingComment=!1,this.vssue.isUpdatingComment=!1}}async deleteComment(){try{if(this.vssue.isPending)return;if(!window.confirm(this.vssue.$t("deleteConfirm")))return;this.isDeletingComment=!0,this.vssue.isUpdatingComment=!0;await this.vssue.deleteComment({commentId:this.comment.id})?(this.vssue.comments.count-=1,this.vssue.comments.data.length>1&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(n=>n.id===this.comment.id),1),this.vssue.query.page>1&&this.vssue.query.page>Math.ceil(this.vssue.comments.count/this.vssue.query.perPage)?this.vssue.query.page-=1:await this.vssue.getComments()):this.vssue.$emit("error",new Error(this.vssue.$t("deleteFailed")))}finally{this.isDeletingComment=!1,this.vssue.isUpdatingComment=!1}}};Ie([Sn({type:Object,required:!0})],Fe.prototype,"comment",void 0),Ie([xn()],Fe.prototype,"vssue",void 0),Fe=Ie([bn({components:{VssueIcon:Le}})],Fe);const He=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vssue-comment",class:{"vssue-comment-edit-mode":n.editMode,"vssue-comment-disabled":n.isDeletingComment||n.isPutingComment}},[t("div",{staticClass:"vssue-comment-avatar"},[t("a",{attrs:{href:n.author.homepage,title:n.author.username,target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:n.author.avatar,alt:n.author.username}})])]),n._v(" "),t("div",{staticClass:"vssue-comment-body"},[n._t("body",[t("div",{staticClass:"vssue-comment-header"},[t("span",{staticClass:"vssue-comment-author"},[t("a",{attrs:{href:n.author.homepage,title:n.author.username,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n            "+n._s(n.author.username)+"\n          ")])]),n._v(" "),t("span",{staticClass:"vssue-comment-created-at"},[n._v("\n          "+n._s(n.createdAt)+"\n        ")])]),n._v(" "),t("div",{staticClass:"vssue-comment-main"},[n.editMode?t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.editContent,expression:"editContent"}],ref:"input",staticClass:"vssue-edit-comment-input",attrs:{rows:n.editInputRows},domProps:{value:n.editContent},on:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?n.putComment():null},input:function(e){e.target.composing||(n.editContent=e.target.value)}}}):t("article",{staticClass:"markdown-body",domProps:{innerHTML:n._s(n.content)}})]),n._v(" "),t("div",{staticClass:"vssue-comment-footer"},[n.editMode?t("span",{staticClass:"vssue-comment-hint"},[n._v("\n          "+n._s(n.vssue.$t("editMode"))+"\n        ")]):n._e(),n._v(" "),n.showReactions?t("span",{staticClass:"vssue-comment-reactions"},n._l(n.reactionKeys,(function(e){return t("span",{key:e,staticClass:"vssue-comment-reaction",attrs:{title:n.vssue.$t(n.creatingReactions.includes(e)?"loading":e)},on:{click:function(t){return n.postReaction({reaction:e})}}},[t("VssueIcon",{attrs:{name:n.creatingReactions.includes(e)?"loading":e,title:n.vssue.$t(n.creatingReactions.includes(e)?"loading":e)}}),n._v(" "),t("span",{staticClass:"vssue-comment-reaction-number"},[n._v("\n              "+n._s(n.comment.reactions[e])+"\n            ")])],1)})),0):n._e(),n._v(" "),t("span",{staticClass:"vssue-comment-operations"},[n.comment.author.username===n.currentUser&&n.editMode?t("span",{staticClass:"vssue-comment-operation",class:{"vssue-comment-operation-muted":n.isPutingComment},attrs:{title:n.vssue.$t(n.isPutingComment?"loading":"submit")},on:{click:function(e){return n.putComment()}}},[t("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:n.isPutingComment,expression:"isPutingComment"}],attrs:{name:"loading",title:n.vssue.$t("loading")}}),n._v("\n\n            "+n._s(n.vssue.$t("submit"))+"\n          ")],1):n._e(),n._v(" "),n.comment.author.username===n.currentUser&&n.editMode?t("span",{staticClass:"vssue-comment-operation vssue-comment-operation-muted",attrs:{title:n.vssue.$t("cancel")},on:{click:function(e){return n.resetEdit()}}},[n._v("\n            "+n._s(n.vssue.$t("cancel"))+"\n          ")]):n._e(),n._v(" "),n.comment.author.username===n.currentUser?t("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(e){return n.enterEdit()}}},[t("VssueIcon",{attrs:{name:"edit",title:n.vssue.$t("edit")}})],1):n._e(),n._v(" "),n.comment.author.username===n.currentUser||n.vssue.isAdmin?t("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(e){return n.deleteComment()}}},[t("VssueIcon",{attrs:{name:n.isDeletingComment?"loading":"delete",title:n.vssue.$t(n.isDeletingComment?"loading":"delete")}})],1):n._e(),n._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!n.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(e){return n.vssue.$emit("reply-comment",n.comment)}}},[t("VssueIcon",{attrs:{name:"reply",title:n.vssue.$t("reply")}})],1)])])])],2)])},staticRenderFns:[]},void 0,Fe,void 0,!1,void 0,!1,void 0,void 0,void 0);let qe=class extends r.a{get disabled(){return this.vssue.isPending}get pageCount(){const n=Math.ceil(this.vssue.comments.count/this.vssue.comments.perPage);return n>1?n:1}get perPageOptions(){const n=[5,10,20,50];return!n.includes(this.vssue.options.perPage)&&this.vssue.options.perPage<100&&n.push(this.vssue.options.perPage),n.sort((n,e)=>n-e)}get page(){return this.vssue.query.page>this.pageCount?this.pageCount:this.vssue.query.page}set page(n){n>0&&n<=this.pageCount&&(this.vssue.query.page=n)}get perPage(){return this.vssue.query.perPage}set perPage(n){this.perPageOptions.includes(n)&&(this.vssue.query.perPage=n)}};Ie([xn()],qe.prototype,"vssue",void 0),qe=Ie([bn({components:{VssueIcon:Le}})],qe);const Ne=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vssue-pagination"},[t("div",{staticClass:"vssue-pagination-per-page"},[t("label",[t("select",{directives:[{name:"model",rawName:"v-model",value:n.perPage,expression:"perPage"}],staticClass:"vssue-pagination-select",attrs:{disabled:n.disabled},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(n){return n.selected})).map((function(n){return"_value"in n?n._value:n.value}));n.perPage=e.target.multiple?t:t[0]}}},n._l(n.perPageOptions,(function(e){return t("option",{key:e,domProps:{value:e}},[n._v("\n          "+n._s(e)+"\n        ")])})),0),n._v(" "),t("span",[n._v("\n        "+n._s(n.vssue.$t("perPage"))+"\n      ")])]),n._v(" "),n.vssue.API.platform.meta.sortable?t("span",{class:{"vssue-pagination-link":!0,disabled:n.disabled},attrs:{title:n.vssue.$t("sort")},on:{click:function(e){n.vssue.query.sort="asc"===n.vssue.query.sort?"desc":"asc"}}},[n._v("\n      "+n._s("asc"===n.vssue.query.sort?"↑":"↓")+"\n    ")]):n._e()]),n._v(" "),t("div",{staticClass:"vssue-pagination-page"},[t("span",{class:{"vssue-pagination-link":!0,disabled:1===n.page||n.disabled},attrs:{title:n.vssue.$t("prev")},domProps:{textContent:n._s("<")},on:{click:function(e){n.page-=1}}}),n._v(" "),t("label",[t("span",[n._v("\n        "+n._s(n.vssue.$t("page"))+"\n      ")]),n._v(" "),t("select",{directives:[{name:"show",rawName:"v-show",value:n.pageCount>1,expression:"pageCount > 1"},{name:"model",rawName:"v-model",value:n.page,expression:"page"}],staticClass:"vssue-pagination-select",attrs:{disabled:n.disabled},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(n){return n.selected})).map((function(n){return"_value"in n?n._value:n.value}));n.page=e.target.multiple?t:t[0]}}},n._l(n.pageCount,(function(e){return t("option",{key:e,domProps:{value:e}},[n._v("\n          "+n._s(e)+"\n        ")])})),0),n._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:n.pageCount<2,expression:"pageCount < 2"}],domProps:{textContent:n._s(n.page)}}),n._v(" "),t("span",{domProps:{textContent:n._s(" / "+n.pageCount+" ")}})]),n._v(" "),t("span",{class:{"vssue-pagination-link":!0,disabled:n.page===n.pageCount||n.disabled},attrs:{title:n.vssue.$t("next")},domProps:{textContent:n._s(">")},on:{click:function(e){n.page+=1}}})])])},staticRenderFns:[]},void 0,qe,void 0,!1,void 0,!1,void 0,void 0,void 0);let $e=class extends r.a{};Ie([xn()],$e.prototype,"vssue",void 0),$e=Ie([bn({components:{TransitionFade:ze,VssueComment:He,VssuePagination:Ne}})],$e);const Ue=Re({render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"vssue-comments"},[e("VssuePagination"),this._v(" "),e("TransitionFade",{attrs:{group:""}},this._l(this.vssue.comments.data,(function(n){return e("VssueComment",{key:n.id,attrs:{comment:n}})})),1),this._v(" "),e("VssuePagination",{directives:[{name:"show",rawName:"v-show",value:this.vssue.comments.data.length>5,expression:"vssue.comments.data.length > 5"}]})],1)},staticRenderFns:[]},void 0,$e,void 0,!1,void 0,!1,void 0,void 0,void 0);const Ve=Re({},void 0,r.a.extend({name:"VssueIcon",functional:!0,props:{type:{type:String,required:!1,default:"default"}},render:(n,{props:e,data:t,children:r})=>n("button",Object.assign(Object.assign({},t),{class:["vssue-button","vssue-button-"+e.type]}),r)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let Ge=class extends r.a{constructor(){super(...arguments),this.content=""}get user(){return this.vssue.user}get platform(){return this.vssue.API&&this.vssue.API.platform.name}get isInputDisabled(){return this.loading||null===this.user||null===this.vssue.issue}get isSubmitDisabled(){return""===this.content||this.vssue.isPending||null===this.vssue.issue}get loading(){return this.vssue.isCreatingComment}get contentRows(){return this.content.split("\n").length-1}get inputRows(){return this.contentRows<3?5:this.contentRows+2}created(){this.vssue.$on("reply-comment",n=>{const e=n.contentRaw.replace(/\n/g,"\n> "),t=`@${n.author.username}\n\n> ${e}\n\n`;this.content=this.content.concat(t),this.focus()})}beforeDestroy(){this.vssue.$off("reply-comment")}focus(){this.$refs.input.focus()}async submit(){this.isSubmitDisabled||(await this.vssue.postComment({content:this.content}),this.content="",await this.vssue.getComments())}};Ie([xn()],Ge.prototype,"vssue",void 0),Ge=Ie([bn({components:{VssueButton:Ve,VssueIcon:Le}})],Ge);const We=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vssue-new-comment"},[t("div",{staticClass:"vssue-comment-avatar"},[n.user?t("a",{attrs:{href:n.user.homepage,title:n.user.username,target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:n.user.avatar,alt:n.user.username}})]):t("VssueIcon",{attrs:{name:n.platform.toLowerCase(),title:n.vssue.$t("loginToComment",{platform:n.platform})},on:{click:function(e){return n.vssue.login()}}})],1),n._v(" "),t("div",{staticClass:"vssue-new-comment-body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content,expression:"content"}],ref:"input",staticClass:"vssue-new-comment-input",attrs:{rows:n.inputRows,disabled:n.isInputDisabled,placeholder:n.vssue.$t(n.user?"placeholder":"noLoginPlaceHolder"),spellcheck:!1,"aria-label":"leave a comment"},domProps:{value:n.content},on:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?n.submit():null},input:function(e){e.target.composing||(n.content=e.target.value)}}})]),n._v(" "),t("div",{staticClass:"vssue-new-comment-footer"},[n.user?t("span",{staticClass:"vssue-current-user"},[t("span",[n._v(n._s(n.vssue.$t("currentUser"))+" - "+n._s(n.user.username)+" - ")]),n._v(" "),t("a",{staticClass:"vssue-logout",on:{click:function(e){return n.vssue.logout()}}},[n._v("\n        "+n._s(n.vssue.$t("logout"))+"\n      ")])]):t("span",{staticClass:"vssue-current-user"},[n._v("\n      "+n._s(n.vssue.$t("loginToComment",{platform:n.platform}))+"\n    ")]),n._v(" "),t("div",{staticClass:"vssue-new-comment-operations"},[n.user?t("VssueButton",{staticClass:"vssue-button-submit-comment",attrs:{type:"primary",disabled:n.isSubmitDisabled},on:{click:function(e){return n.submit()}}},[t("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:n.loading,expression:"loading"}],attrs:{name:"loading"}}),n._v("\n\n        "+n._s(n.vssue.$t(n.loading?"submitting":"submitComment"))+"\n      ")],1):t("VssueButton",{staticClass:"vssue-button-login",attrs:{type:"primary",title:n.vssue.$t("loginToComment",{platform:n.platform})},on:{click:function(e){return n.vssue.login()}}},[n._v("\n        "+n._s(n.vssue.$t("login",{platform:n.platform}))+"\n      ")])],1)])])},staticRenderFns:[]},void 0,Ge,void 0,!1,void 0,!1,void 0,void 0,void 0);let Qe=class extends r.a{constructor(){super(...arguments),this.progress={show:!1,percent:0,timer:null,speed:200},this.alert={show:!1,message:null,timer:null}}onLoadingCommentsChange(n){this.vssue.comments&&(n?this.progressStart():this.progressDone())}created(){this.vssue.$on("error",n=>this.alertShow(n.message))}beforeDestroy(){this.vssue.$off("error"),null!==this.progress.timer&&window.clearTimeout(this.progress.timer),null!==this.alert.timer&&window.clearTimeout(this.alert.timer)}progressStart(){this.progress.show=!0,this.progress.percent=0,this.progress.timer=window.setInterval(()=>{this.progress.percent+=5,this.progress.percent>94&&null!==this.progress.timer&&window.clearInterval(this.progress.timer)},this.progress.speed)}progressDone(){this.progress.percent=100,null!==this.progress.timer&&window.clearTimeout(this.progress.timer),this.progress.timer=null,window.setTimeout(()=>{this.progress.show=!1},this.progress.speed)}alertShow(n){this.alert.show=!0,this.alert.message=n,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=window.setTimeout(()=>{this.alertHide()},3e3)}alertHide(){this.alert.show=!1,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=null}};Ie([xn()],Qe.prototype,"vssue",void 0),Ie([kn("vssue.isLoadingComments")],Qe.prototype,"onLoadingCommentsChange",null),Qe=Ie([bn({components:{TransitionFade:ze}})],Qe);const Je=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vssue-notice"},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.progress.show,expression:"progress.show"}],staticClass:"vssue-progress",style:{width:n.progress.percent+"%",transition:"all "+n.progress.speed+"ms linear"}}),n._v(" "),t("TransitionFade",[t("div",{directives:[{name:"show",rawName:"v-show",value:n.alert.show,expression:"alert.show"}],staticClass:"vssue-alert",domProps:{textContent:n._s(n.alert.message)},on:{click:function(e){return n.alertHide()}}})])],1)},staticRenderFns:[]},void 0,Qe,void 0,!1,void 0,!1,void 0,void 0,void 0);let Ye=class extends r.a{get status(){return this.vssue.isFailed?"failed":this.vssue.isInitializing?"initializing":this.vssue.isIssueNotCreated&&!this.vssue.isCreatingIssue?this.vssue.isAdmin||!this.vssue.isLogined?"issueNotCreated":"failed":this.vssue.isLoginRequired?"loginRequired":!this.vssue.comments||this.vssue.isCreatingIssue?"loadingComments":0===this.vssue.comments.data.length?"noComments":null}handleClick(){"issueNotCreated"===this.status?this.vssue.postIssue():"loginRequired"===this.status&&this.vssue.login()}};Ie([xn()],Ye.prototype,"vssue",void 0),Ye=Ie([bn({components:{TransitionFade:ze,VssueIcon:Le}})],Ye);const Ke=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("TransitionFade",[n.status?t("div",{key:n.status,staticClass:"vssue-status"},[["failed","loadingComments","initializing"].includes(n.status)?t("VssueIcon",{attrs:{name:"failed"===n.status?"error":"loading"}}):n._e(),n._v(" "),t("p",{staticClass:"vssue-status-info"},[t(["issueNotCreated","loginRequired"].includes(n.status)?"a":"span",{tag:"Component",on:{click:n.handleClick}},[n._v("\n        "+n._s(n.vssue.$t(n.status))+"\n      ")])],1)],1):n._e()])},staticRenderFns:[]},void 0,Ye,void 0,!1,void 0,!1,void 0,void 0,void 0);let Ze=class extends r.a{};Ie([xn()],Ze.prototype,"vssue",void 0),Ze=Ie([bn({components:{TransitionFade:ze,VssueIcon:Le,VssueComments:Ue,VssueNewComment:We,VssueNotice:Je,VssueStatus:Ke}})],Ze);const Xe=Re({render:function(){var n=this.$createElement,e=this._self._c||n;return e("TransitionFade",[this.vssue.isInitializing?e("VssueStatus"):e("div",{staticClass:"vssue-body"},[this.vssue.API?e("VssueNewComment"):this._e(),this._v(" "),e("VssueNotice"),this._v(" "),e("TransitionFade",[this.vssue.comments&&this.vssue.comments.data.length>0?e("VssueComments"):e("VssueStatus")],1)],1)],1)},staticRenderFns:[]},void 0,Ze,void 0,!1,void 0,!1,void 0,void 0,void 0);let nt=class extends r.a{};Ie([xn()],nt.prototype,"vssue",void 0),nt=Ie([bn],nt);const et=Re({render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vssue-header"},[t("a",{staticClass:"vssue-header-comments-count",attrs:{href:n.vssue.issue?n.vssue.issue.link:null,target:"_blank",rel:"noopener noreferrer"}},[t("span",[n._v("\n      "+n._s(n.vssue.comments?n.vssue.$tc("comments",n.vssue.comments.count,{count:n.vssue.comments.count}):n.vssue.$tc("comments",0))+"\n    ")])]),n._v(" "),t("span",{staticClass:"vssue-header-powered-by"},[t("span",[n._v("Powered by")]),n._v(" "),n.vssue.API?t("span",[t("a",{attrs:{href:n.vssue.API.platform.link,title:n.vssue.API.platform.name+" API "+n.vssue.API.platform.version,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n        "+n._s(n.vssue.API.platform.name)+"\n      ")]),n._v(" "),t("span",[n._v("&")])]):n._e(),n._v(" "),t("a",{attrs:{href:"https://github.com/meteorlxy/vssue",title:"Vssue v"+n.vssue.version,target:"_blank",rel:"noopener noreferrer"}},[n._v("\n      Vssue\n    ")])])])},staticRenderFns:[]},void 0,nt,void 0,!1,void 0,!1,void 0,void 0,void 0),tt={login:"Login with {platform}",logout:"Logout",currentUser:"Current User",loading:"Loading",submit:"Submit",submitting:"Submitting",submitComment:"Submit Comment",cancel:"Cancel",edit:"Edit",editMode:"Edit Mode",delete:"Delete",reply:"Reply",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comments per page",sort:"Click to change the sort direction",page:"Page",prev:"Previous Page",next:"Next Page",comments:"Comments | {count} Comment | {count} Comments",loginToComment:"Login with {platform} account to leave a comment",placeholder:"Leave a comment. Styling with Markdown is supported. Ctrl + Enter to submit.",noLoginPlaceHolder:"Login to leave a comment. Styling with Markdown is supported. ",failed:"Failed to load comments",initializing:"Initializing...",issueNotCreated:"Click to create issue",loadingComments:"Loading comments...",loginRequired:"Login to view comments",noComments:"No comments yet. Leave the first comment !",reactionGiven:"Already given '{reaction}' reaction",deleteConfirm:"Confirm to delete this comment ?",deleteFailed:"Failed to delete comment"},rt={login:"使用 {platform} 登录",logout:"退出登录",currentUser:"当前用户",loading:"加载中",submit:"提交",submitting:"发表中",submitComment:"发表评论",cancel:"取消",edit:"编辑",editMode:"编辑模式",delete:"删除",reply:"回复",heart:"喜欢",like:"赞",unlike:"踩",perPage:"每页评论数",sort:"点击改变排序方式",page:"页数",prev:"上一页",next:"下一页",comments:"评论 | {count} 条评论 | {count} 条评论",loginToComment:"使用 {platform} 帐号登录后发表评论",placeholder:"留下你的评论丨支持 Markdown 语法丨Ctrl + Enter 发表评论",noLoginPlaceHolder:"登录后才能发表评论丨支持 Markdown 语法",failed:"评论加载失败",initializing:"正在初始化...",issueNotCreated:"点击创建 Issue",loadingComments:"正在加载评论...",loginRequired:"登录后查看评论",noComments:"还没有评论，来发表第一条评论吧！",reactionGiven:"已经添加过 '{reaction}' 了",deleteConfirm:"确认要删除该评论吗？",deleteFailed:"评论删除失败"},ot={login:"Entrar com {platform}",logout:"Sair",currentUser:"Usuário Atual",loading:"Carregando",submit:"Enviar",submitting:"Enviando",submitComment:"Enviar Comentário",cancel:"Cancelar",edit:"Editar",editMode:"Modo de Edição",delete:"Apagar",reply:"Responder",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comentários por página",sort:"Clique para alterar a ordenação",page:"Página",prev:"Página Anterior",next:"Próxima Página",comments:"Comentários | {count} Comentário | {count} Comentários",loginToComment:"Entre com uma conta {platform} para deixar um comentário",placeholder:"Deixe um comentário. Estilos com Markdown suportados. Ctrl + Enter para enviar.",noLoginPlaceHolder:"Entre para deixar um comentário. Estilos com Markdown suportados. ",failed:"Falha ao carregar comentários",initializing:"Inicializando...",issueNotCreated:"Click to create issue",loadingComments:"Carregando comentários...",loginRequired:"Entrar para visualizar comentários",noComments:"Nenhum comentário. Deixe o primeiro comentário!",reactionGiven:"Já reagiu com '{reaction}'",deleteConfirm:"Apagar este comentário?",deleteFailed:"Falha ao apagar comentário"},at={login:"{platform} でログイン",logout:"ログアウト",currentUser:"現在のユーザー",loading:"読み込み中",submit:"送信",submitting:"送信中",submitComment:"コメントを送信",cancel:"キャンセル",edit:"編集",editMode:"編集モード",delete:"削除",reply:"返信",heart:"ハート",like:"高評価",unlike:"低評価",perPage:"コメント/ページ",sort:"並び順を変更するにはクリックしてください",page:"ページ",prev:"前のページ",next:"次のページ",comments:"コメント | {count} コメント | {count} コメント",loginToComment:"コメントを残すには {platform} アカウントでログインしてください。",placeholder:"コメントを残してください。Markdown 記法をサポートしています。 Ctrl + Enter で送信できます。",noLoginPlaceHolder:"コメントを残すにはログインしてください。マークダウン記法をサポートしています。",failed:"コメントの読み込みに失敗しました",initializing:"初期化中...",issueNotCreated:"Click to create issue",loadingComments:"コメントの読み込み中...",loginRequired:"コメントを見るにはログインしてください",noComments:"まだコメントがありません。最初のコメントを残しましょう！",reactionGiven:"既に '{reaction}' のリアクションをしています",deleteConfirm:"本当にコメントを削除してもいいですか？",deleteFailed:"コメントの削除に失敗しました"},it={login:"התחברו עם {platform}",logout:"התנתקו",currentUser:"משתמש/ת נוכחי/ת",loading:"טוען",submit:"שליחה",submitting:"שולח",submitComment:"שליחת תגובה",cancel:"ביטל",edit:"עריכה",editMode:"מצב עריכה",delete:"מחיקה",reply:"תשובה",heart:"לב",like:"לייק",unlike:"אנלייק",perPage:"תגובות לדף",sort:"לחצו כדי לשנות את כיוון המיון",page:"דף",prev:"הדף הקודם",next:"הדף הבא",comments:"תגובות | {count} תגובה | {count} תגובות",loginToComment:"התחברו עם חשבון {platform} כדי להשאיר תגובה",placeholder:"השאירו תגובה. יש תמיכה בעיצוב בעזרת Markdown. Ctrl + Enter כדי לשלוח.",noLoginPlaceHolder:"התחברו כדי להשאיר תגובה. יש תמיכה בעיצוב בעזרת Markdown. ",failed:"כשלון בטעינת התגובות",initializing:"מאתחל...",issueNotCreated:"לחצו ליצירת issue",loadingComments:"טוען תגובות...",loginRequired:"התחברו כדי לצפות בתגובות",noComments:"עדיין אין תגובות. השאירו תגובה ראשונה !",reactionGiven:"כבר ניתן חיווי '{reaction}'",deleteConfirm:"בטוחים במחיקת התגובה ?",deleteFailed:"כשלון במחיקת התגובה"};Object.prototype.hasOwnProperty.call(r.a,"$i18n")||r.a.use(Be);const st=new Be({locale:"en",fallbackLocale:"en",messages:{en:tt,"en-US":tt,zh:rt,"zh-CN":rt,pt:ot,"pt-BR":ot,ja:at,"ja-JP":at,he:it,"he-IL":it}});let lt=class extends r.a{constructor(){super(...arguments),this.title=n=>`${n.prefix}${document.title}`,this.issueId=null,this.options=null,this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:10,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1}get version(){return"1.4.8"}get issueTitle(){return null===this.options?"":"function"==typeof this.title?this.title(this.options):`${this.options.prefix}${this.title}`}get isPending(){return this.isLoadingComments||this.isCreatingComment||this.isUpdatingComment}get isLogined(){return null!==this.accessToken&&null!==this.user}get isAdmin(){return null!==this.options&&null!==this.accessToken&&null!==this.user&&(this.user.username===this.options.owner||this.options.admins.includes(this.user.username))}get accessTokenKey(){return this.API?`Vssue.${this.API.platform.name.toLowerCase()}.access_token`:""}onQueryPerPageChange(){this.query.page=1,this.getComments()}onQueryChange(){this.getComments()}setOptions(n){this.options=Object.assign({labels:["Vssue"],state:"Vssue",prefix:"[Vssue]",admins:[],perPage:10,proxy:n=>"https://cors-anywhere.azm.workers.dev/"+n,issueContent:({url:n})=>n,autoCreateIssue:!1},n);const e=["api","owner","repo","clientId"];for(const n of e)this.options[n]||console.warn(`[Vssue] the option '${n}' is required`);if(this.options.locale)this.$i18n.locale=this.options.locale;else{const n=Object.keys(this.$i18n.messages),e=window.navigator.languages;this.$i18n.locale=e.filter(e=>n.includes(e)).shift()||"en"}}async init(){try{await this.initStore(),await this.initComments()}catch(n){n.response&&[401,403].includes(n.response.status)?this.isLoginRequired=!0:this.isFailed=!0,console.error(n)}}async initStore(){try{if(!this.options)throw new Error("Options are required to initialize Vssue");this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:this.options.perPage,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1;const n=this.options.api;this.API=new n({baseURL:this.options.baseURL,labels:this.options.labels,state:this.options.state,owner:this.options.owner,repo:this.options.repo,clientId:this.options.clientId,clientSecret:this.options.clientSecret,proxy:this.options.proxy}),await this.handleAuth()}finally{this.isInitializing=!1}}async initComments(){if(this.API&&this.options)if(this.issueId){const[n,e]=await Promise.all([this.API.getIssue({accessToken:this.accessToken,issueId:this.issueId}),this.API.getComments({accessToken:this.accessToken,issueId:this.issueId,query:this.query})]);this.issue=n,this.comments=e}else this.issue=await this.API.getIssue({accessToken:this.accessToken,issueTitle:this.issueTitle}),null===this.issue?(this.isIssueNotCreated=!0,this.options.autoCreateIssue&&await this.postIssue()):await this.getComments()}async postIssue(){if(this.API&&this.options&&!this.issue&&!this.issueId&&(this.isLogined||this.login(),this.isAdmin))try{this.isCreatingIssue=!0;const n=await this.API.postIssue({title:this.issueTitle,content:await this.options.issueContent({options:this.options,url:Mn(window.location.href)}),accessToken:this.accessToken});this.issue=n,this.isIssueNotCreated=!1,await this.getComments()}catch(n){this.isFailed=!0}finally{this.isCreatingIssue=!1}}async getComments(){try{if(!this.API||!this.issue||this.isLoadingComments)return;this.isLoadingComments=!0;const n=await this.API.getComments({accessToken:this.accessToken,issueId:this.issue.id,query:this.query});return this.comments=n,this.query.page!==n.page&&(this.query.page=n.page),this.query.perPage!==n.perPage&&(this.query.perPage=n.perPage),n}catch(n){if(!n.response||![401,403].includes(n.response.status)||this.isLogined)throw this.$emit("error",n),n;this.isLoginRequired=!0}finally{this.isLoadingComments=!1}}async postComment({content:n}){try{if(!this.API||!this.issue||this.isCreatingComment)return;this.isCreatingComment=!0;return await this.API.postComment({accessToken:this.accessToken,content:n,issueId:this.issue.id})}catch(n){throw this.$emit("error",n),n}finally{this.isCreatingComment=!1}}async putComment({commentId:n,content:e}){try{if(!this.API||!this.issue)return;return await this.API.putComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:n,content:e})}catch(n){throw this.$emit("error",n),n}}async deleteComment({commentId:n}){try{if(!this.API||!this.issue)return;return await this.API.deleteComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:n})}catch(n){throw this.$emit("error",n),n}}async getCommentReactions({commentId:n}){try{if(!this.API||!this.issue)return;return await this.API.getCommentReactions({accessToken:this.accessToken,issueId:this.issue.id,commentId:n})}catch(n){throw this.$emit("error",n),n}}async postCommentReaction({commentId:n,reaction:e}){try{if(!this.API||!this.issue)return!1;return await this.API.postCommentReaction({accessToken:this.accessToken,issueId:this.issue.id,commentId:n,reaction:e})}catch(n){throw this.$emit("error",n),n}}login(){this.API&&this.API.redirectAuth()}logout(){this.setAccessToken(null),this.user=null}async handleAuth(){if(!this.API)return;const n=await this.API.handleAuth();n?(this.setAccessToken(n),this.user=await this.API.getUser({accessToken:n})):this.getAccessToken()?this.user=await this.API.getUser({accessToken:this.accessToken}):(this.setAccessToken(null),this.user=null)}getAccessToken(){return this.accessToken=window.localStorage.getItem(this.accessTokenKey),this.accessToken}setAccessToken(n){null===n?window.localStorage.removeItem(this.accessTokenKey):window.localStorage.setItem(this.accessTokenKey,n),this.accessToken=n}};Ie([kn("query.perPage")],lt.prototype,"onQueryPerPageChange",null),Ie([kn("query.page"),kn("query.sort")],lt.prototype,"onQueryChange",null),lt=Ie([bn({i18n:st})],lt);var ct=lt;let ut=class extends r.a{constructor(){super(...arguments),this.vssue=new ct}onOptionsChange(n){this.vssue.setOptions(n)}mounted(){null!==this.title&&(this.vssue.title=this.title),null!==this.issueId&&(this.vssue.issueId=this.issueId),this.vssue.setOptions(this.options),this.vssue.init()}};var dt;Ie([Sn({type:[String,Function],required:!1,default:null})],ut.prototype,"title",void 0),Ie([Sn({type:[String,Number],required:!1,default:null})],ut.prototype,"issueId",void 0),Ie([Sn({type:Object,required:!1,default:()=>({})})],ut.prototype,"options",void 0),Ie([(dt="vssue",pn((function(n,e){var t=n.provide;An(n),wn(t)&&(t=n.provide=En(t)),t.managed[e]=dt||e})))],ut.prototype,"vssue",void 0),Ie([kn("options",{deep:!0})],ut.prototype,"onOptionsChange",null),ut=Ie([bn({components:{Iconfont:Me,VssueBody:Xe,VssueHeader:et}})],ut);const pt=Re({render:function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"vssue"},[e("Iconfont"),this._v(" "),e("VssueHeader"),this._v(" "),e("VssueBody")],1)},staticRenderFns:[]},void 0,ut,void 0,!1,void 0,!1,void 0,void 0,void 0);var ht=t(4),mt=t.n(ht);function ft(n){return{username:n.login,avatar:n.avatar_url,homepage:n.html_url}}function gt(n){return{id:n.number,title:n.title,content:n.body,link:n.html_url}}function vt(n){return{like:n["+1"],unlike:n[-1],heart:n.heart}}function yt(n){return{id:n.id,content:n.body_html,contentRaw:n.body,author:ft(n.user),createdAt:n.created_at,updatedAt:n.updated_at,reactions:vt(n.reactions)}}function bt(n){return"like"===n?"+1":"unlike"===n?"-1":n}class xt{constructor({baseURL:n="https://github.com",owner:e,repo:t,labels:r,clientId:o,clientSecret:a,state:i,proxy:s}){if(void 0===a||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V3");this.baseURL=n,this.owner=e,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=a,this.state=i,this.proxy=s,this.$http=mt.a.create({baseURL:"https://github.com"===n?"https://api.github.com":Bn(n,"api/v3"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(n=>n.data&&n.data.error?Promise.reject(new Error(n.data.error_description)):n,n=>(void 0===n.response&&"Network Error"===n.message&&(n.response={status:403}),Promise.reject(n)))}get platform(){return{name:"GitHub",link:this.baseURL,version:"v3",meta:{reactable:!0,sortable:!1}}}redirectAuth(){window.location.href=Dn(Bn(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const n=zn(window.location.search);if(n.code){if(n.state!==this.state)return null;const e=n.code;delete n.code,delete n.state;const t=Dn(Mn(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:e})}return null}async getAccessToken({code:n}){const e=Bn(this.baseURL,"login/oauth/access_token"),t="function"==typeof this.proxy?this.proxy(e):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:n},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:n}){const{data:e}=await this.$http.get("user",{headers:{Authorization:"token "+n}});return ft(e)}async getIssue({accessToken:n,issueId:e,issueTitle:t}){const r={};if(n&&(r.headers={Authorization:"token "+n}),!e){r.params={q:[`"${t}"`,"is:issue","in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(n=>"label:"+n)].join(" "),timestamp:Date.now()};const{data:n}=await this.$http.get("search/issues",r);return n.items.map(gt).find(n=>n.title===t)||null}try{r.params={timestamp:Date.now()};const{data:n}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${e}`,r);return gt(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:e,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:e,body:t,labels:this.labels},{headers:{Authorization:"token "+n}});return gt(r)}async getComments({accessToken:n,issueId:e,query:{page:t=1,perPage:r=10}={}}){const o={params:{timestamp:Date.now()}},a={params:{page:t,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}};n&&(o.headers={Authorization:"token "+n},a.headers.Authorization="token "+n);const[i,s]=await Promise.all([this.$http.get(`repos/${this.owner}/${this.repo}/issues/${e}`,o),this.$http.get(`repos/${this.owner}/${this.repo}/issues/${e}/comments`,a)]),l=s.headers.link||null,c=/rel="next"/.test(l)?Number(l.replace(/^.*[^_]page=(\d*).*rel="next".*$/,"$1"))-1:/rel="prev"/.test(l)?Number(l.replace(/^.*[^_]page=(\d*).*rel="prev".*$/,"$1"))+1:1,u=l?Number(l.replace(/^.*per_page=(\d*).*$/,"$1")):r;return{count:Number(i.data.comments),page:c,perPage:u,data:s.data.map(yt)}}async postComment({accessToken:n,issueId:e,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${e}/comments`,{body:t},{headers:{Authorization:"token "+n,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return yt(r)}async putComment({accessToken:n,commentId:e,content:t}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${e}`,{body:t},{headers:{Authorization:"token "+n,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return yt(r)}async deleteComment({accessToken:n,commentId:e}){const{status:t}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${e}`,{headers:{Authorization:"token "+n}});return 204===t}async getCommentReactions({accessToken:n,commentId:e}){const{data:t}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/comments/${e}`,{params:{timestamp:Date.now()},headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}});return vt(t.reactions)}async postCommentReaction({accessToken:n,commentId:e,reaction:t}){const r=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/comments/${e}/reactions`,{content:bt(t)},{headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}});return 200===r.status?this.deleteCommentReaction({accessToken:n,commentId:e,reactionId:r.data.id}):201===r.status}async deleteCommentReaction({accessToken:n,commentId:e,reactionId:t}){return 204===(await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${e}/reactions/${t}`,{headers:{Authorization:"token "+n,Accept:"application/vnd.github.squirrel-girl-preview"}})).status}}function wt(n){return null===n?{username:"ghost",avatar:"https://avatars3.githubusercontent.com/u/10137?v=4",homepage:"https://github.com/ghost"}:{username:n.login,avatar:n.avatarUrl,homepage:n.url}}function Et(n){return{id:n.number,title:n.title,content:n.body,link:n.url}}function jt(n){return{like:n.find(n=>"THUMBS_UP"===n.content).users.totalCount,unlike:n.find(n=>"THUMBS_DOWN"===n.content).users.totalCount,heart:n.find(n=>"HEART"===n.content).users.totalCount}}function At(n){return{id:n.id,content:n.bodyHTML,contentRaw:n.body,author:wt(n.author),createdAt:n.createdAt,updatedAt:n.updatedAt,reactions:jt(n.reactionGroups)}}function Tt(n){return"like"===n?"THUMBS_UP":"unlike"===n?"THUMBS_DOWN":"heart"===n?"HEART":n}class Ct{constructor({baseURL:n="https://github.com",owner:e,repo:t,labels:r,clientId:o,clientSecret:a,state:i,proxy:s}){if(void 0===a||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V4");this.baseURL=n,this.owner=e,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=a,this.state=i,this.proxy=s,this._pageInfo={page:1,startCursor:null,endCursor:null,sort:null,perPage:null},this._issueNodeId=null,this.$http=mt.a.create({baseURL:"https://github.com"===n?"https://api.github.com":Bn(n,"api"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(n=>n.data.error?Promise.reject(n.data.error_description):n.data.errors?Promise.reject(n.data.errors[0].message):n)}get platform(){return{name:"GitHub",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=Dn(Bn(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const n=zn(window.location.search);if(n.code){if(n.state!==this.state)return null;const e=n.code;delete n.code,delete n.state;const t=Dn(Mn(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:e})}return null}async getAccessToken({code:n}){const e=Bn(this.baseURL,"login/oauth/access_token"),t="function"==typeof this.proxy?this.proxy(e):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:n},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:n}){const{data:e}=await this.$http.post("graphql",{query:"query getUser {\n  viewer {\n    login\n    avatarUrl\n    url\n  }\n}"},{headers:{Authorization:"token "+n}});return wt(e.data.viewer)}async getIssue({accessToken:n,issueId:e,issueTitle:t}){const r={};if(n&&(r.headers={Authorization:"token "+n}),!e){const n=[`"${t}"`,"in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(n=>"label:"+n)].join(" "),{data:e}=await this.$http.post("graphql",{variables:{query:n},query:"query getIssueByTitle(\n  $query: String!\n) {\n  search(\n    query: $query\n    type: ISSUE\n    first: 20\n    ) {\n      nodes {\n      ... on Issue {\n        id\n        number\n        title\n        body\n        url\n      }\n    }\n  }\n}"},r),o=e.data.search.nodes.find(n=>n.title===t);return o?(this._issueNodeId=o.id,Et(o)):null}try{const{data:n}=await this.$http.post("graphql",{query:`query getIssueById {\n  repository(owner: "${this.owner}", name: "${this.repo}") {\n    issue (number: ${e}) {\n      id\n      number\n      title\n      body\n      url\n    }\n  }\n}`},r);return this._issueNodeId=n.data.repository.issue.id,Et(n.data.repository.issue)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:e,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:e,body:t,labels:this.labels},{headers:{Authorization:"token "+n}});return r.url=r.html_url,this._issueNodeId=r.node_id,Et(r)}async getComments({accessToken:n,issueId:e,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const a={};n&&(a.headers={Authorization:"token "+n}),null!==this._pageInfo.sort&&o!==this._pageInfo.sort&&(t=1);const{firstOrLast:i,afterOrBefore:s,cursor:l}=this._getQueryParams({page:t,sort:o}),{data:c}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:e,perPage:r},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${i}: $perPage\n        ${null===s?"":`${s}: "${l}"`}\n      ) {\n        totalCount\n        pageInfo {\n          endCursor\n          startCursor\n        }\n        nodes {\n          id\n          body\n          bodyHTML\n          createdAt\n          updatedAt\n          author {\n            avatarUrl\n            login\n            url\n          }\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},a),u=c.data.repository.issue.comments;return"desc"===o&&u.nodes.reverse(),this._pageInfo={page:t,startCursor:u.pageInfo.startCursor,endCursor:u.pageInfo.endCursor,sort:o,perPage:r},{count:u.totalCount,page:t,perPage:r,data:u.nodes.map(At)}}async postComment({accessToken:n,content:e}){const{data:t}=await this.$http.post("graphql",{variables:{issueNodeId:this._issueNodeId,content:e},query:"mutation postComment(\n  $issueNodeId: ID!\n  $content: String!\n) {\n  addComment(\n    input: {\n      subjectId: $issueNodeId\n      body: $content\n    }\n  ) {\n    commentEdge {\n      node {\n        id\n        body\n        bodyHTML\n        createdAt\n        updatedAt\n        author {\n          avatarUrl\n          login\n          url\n        }\n        reactionGroups {\n          users (first: 0) {\n            totalCount\n          }\n          content\n        }\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+n}});return At(t.data.addComment.commentEdge.node)}async putComment({accessToken:n,commentId:e,content:t}){const{data:r}=await this.$http.post("graphql",{variables:{commentId:e,content:t},query:"mutation putComment(\n  $commentId: ID!,\n  $content: String!,\n) {\n  updateIssueComment(input: {\n    id: $commentId\n    body: $content\n  }) {\n    issueComment {\n      id\n      body\n      bodyHTML\n      createdAt\n      updatedAt\n      author {\n        avatarUrl\n        login\n        url\n      }\n      reactionGroups {\n        users (first: 0) {\n          totalCount\n        }\n        content\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+n}});return At(r.data.updateIssueComment.issueComment)}async deleteComment({accessToken:n,commentId:e}){return await this.$http.post("graphql",{variables:{commentId:e},query:"mutation deleteComment(\n  $commentId: ID!,\n) {\n  deleteIssueComment(input: {\n    id: $commentId\n  }) {\n    clientMutationId\n  }\n}"},{headers:{Authorization:"token "+n}}),!0}async getCommentReactions({accessToken:n,issueId:e,commentId:t}){const{firstOrLast:r,afterOrBefore:o,cursor:a}=this._getQueryParams(),{data:i}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:e,perPage:this._pageInfo.perPage},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${r}: $perPage\n        ${null===o?"":`${o}: "${a}"`}\n      ) {\n        nodes {\n          id\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},{headers:{Authorization:"token "+n}});return jt(i.data.repository.issue.comments.nodes.find(n=>n.id===t).reactionGroups)}async postCommentReaction({accessToken:n,commentId:e,reaction:t}){return await this.$http.post("graphql",{variables:{commentId:e,content:Tt(t)},query:"mutation postCommentReaction(\n  $commentId: ID!,\n  $content: ReactionContent!,\n) {\n  addReaction(input: {\n    subjectId: $commentId\n    content: $content\n  }) {\n    reaction {\n      databaseId\n    }\n  }\n}"},{headers:{Authorization:"token "+n}}),!0}_getQueryParams({page:n=this._pageInfo.page,sort:e=this._pageInfo.sort}={}){let t,r,o;return 1===n?(t="asc"===e?"first":"last",r=null,o=null):"asc"===e?n>this._pageInfo.page?(t="first",r="after",o=this._pageInfo.endCursor):(t="last",r="before",o=this._pageInfo.startCursor):n>this._pageInfo.page?(t="last",r="before",o=this._pageInfo.startCursor):(t="first",r="after",o=this._pageInfo.endCursor),{firstOrLast:t,afterOrBefore:r,cursor:o}}}function St(n){return{username:n.username,avatar:n.avatar_url,homepage:n.web_url}}function kt(n){return{id:n.iid,title:n.title,content:n.description,link:n.web_url}}function _t(n){return{id:n.id,content:n.body_html||"",contentRaw:n.body,author:St(n.author),createdAt:n.created_at,updatedAt:n.updated_at,reactions:n.reactions}}function Pt(n){return{like:n.filter(n=>"thumbsup"===n.name).length,unlike:n.filter(n=>"thumbsdown"===n.name).length,heart:n.filter(n=>"heart"===n.name).length}}function Dt(n){return"like"===n?"thumbsup":"unlike"===n?"thumbsdown":n}class Bt{constructor({baseURL:n="https://gitlab.com",owner:e,repo:t,labels:r,clientId:o,state:a}){this.baseURL=n,this.owner=e,this.repo=t,this.labels=r,this.clientId=o,this.state=a,this._encodedRepo=encodeURIComponent(`${this.owner}/${this.repo}`),this.$http=mt.a.create({baseURL:Bn(n,"api/v4"),headers:{Accept:"application/json"}})}get platform(){return{name:"GitLab",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=Dn(Bn(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const n=zn(window.location.hash.slice(1));if(!n.access_token||n.state!==this.state)return null;const e=n.access_token;delete n.access_token,delete n.token_type,delete n.expires_in,delete n.state;const t=Pn(n),r=t?"#"+t:"",o=`${Mn(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",o),e}async getUser({accessToken:n}){const{data:e}=await this.$http.get("user",{headers:{Authorization:"Bearer "+n}});return St(e)}async getIssue({accessToken:n,issueId:e,issueTitle:t}){const r={};if(n&&(r.headers={Authorization:"Bearer "+n}),!e){r.params={labels:this.labels.join(","),order_by:"created_at",sort:"asc",search:t};const{data:n}=await this.$http.get(`projects/${this._encodedRepo}/issues`,r);return n.map(kt).find(n=>n.title===t)||null}try{const{data:n}=await this.$http.get(`projects/${this._encodedRepo}/issues/${e}`,r);return kt(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:e,content:t}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues`,{title:e,description:t,labels:this.labels.join(",")},{headers:{Authorization:"Bearer "+n}});return kt(r)}async getComments({accessToken:n,issueId:e,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const a={params:{page:t,per_page:r,order_by:"created_at",sort:o}};n&&(a.headers={Authorization:"Bearer "+n});const i=await this.$http.get(`projects/${this._encodedRepo}/issues/${e}/notes`,a),s=i.data,l=[];for(const t of s)l.push((async()=>{t.body_html=await this.getMarkdownContent({accessToken:n,contentRaw:t.body})})()),l.push((async()=>{t.reactions=await this.getCommentReactions({accessToken:n,issueId:e,commentId:t.id})})());return await Promise.all(l),{count:Number(i.headers["x-total"]),page:Number(i.headers["x-page"]),perPage:Number(i.headers["x-per-page"]),data:s.map(_t)}}async postComment({accessToken:n,issueId:e,content:t}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues/${e}/notes`,{body:t},{headers:{Authorization:"Bearer "+n}});return _t(r)}async putComment({accessToken:n,issueId:e,commentId:t,content:r}){const{data:o}=await this.$http.put(`projects/${this._encodedRepo}/issues/${e}/notes/${t}`,{body:r},{headers:{Authorization:"Bearer "+n}}),[a,i]=await Promise.all([this.getMarkdownContent({accessToken:n,contentRaw:o.body}),this.getCommentReactions({accessToken:n,issueId:e,commentId:o.id})]);return o.body_html=a,o.reactions=i,_t(o)}async deleteComment({accessToken:n,issueId:e,commentId:t}){const{status:r}=await this.$http.delete(`projects/${this._encodedRepo}/issues/${e}/notes/${t}`,{headers:{Authorization:"Bearer "+n}});return 204===r}async getCommentReactions({accessToken:n,issueId:e,commentId:t}){const{data:r}=await this.$http.get(`projects/${this._encodedRepo}/issues/${e}/notes/${t}/award_emoji`,{headers:{Authorization:"Bearer "+n}});return Pt(r)}async postCommentReaction({issueId:n,commentId:e,reaction:t,accessToken:r}){try{return 201===(await this.$http.post(`projects/${this._encodedRepo}/issues/${n}/notes/${e}/award_emoji`,{name:Dt(t)},{headers:{Authorization:"Bearer "+r}})).status}catch(n){if(n.response&&404===n.response.status)return!1;throw n}}async getMarkdownContent({accessToken:n,contentRaw:e}){const t={};n&&(t.headers={Authorization:"Bearer "+n});const{data:r}=await this.$http.post("markdown",{text:e,gfm:!0},t);return r.html}}function It(n){return{username:n.nickname,avatar:n.links.avatar.href,homepage:n.links.html.href}}function Ot(n){return{id:n.id,title:n.title,content:n.content.raw,link:n.links.html.href}}function Rt(n){return{id:n.id,content:n.content.html,contentRaw:n.content.raw,author:It(n.user),createdAt:n.created_on,updatedAt:n.updated_on,reactions:null}}class Mt{constructor({baseURL:n="https://bitbucket.org",owner:e,repo:t,clientId:r,state:o}){this.baseURL=n,this.owner=e,this.repo=t,this.clientId=r,this.state=o,this.$http=mt.a.create({baseURL:"https://api.bitbucket.org/2.0",headers:{Accept:"application/json"}})}get platform(){return{name:"Bitbucket",link:this.baseURL,version:"v2",meta:{reactable:!1,sortable:!0}}}redirectAuth(){window.location.href=Dn(Bn(this.baseURL,"site/oauth2/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const n=zn(window.location.hash.slice(1));if(!n.access_token||n.state!==this.state)return null;const e=n.access_token;delete n.access_token,delete n.token_type,delete n.expires_in,delete n.state,delete n.scopes;const t=Pn(n),r=t?"#"+t:"",o=`${Mn(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",o),e}async getUser({accessToken:n}){const{data:e}=await this.$http.get("user",{headers:{Authorization:"Bearer "+n}});return It(e)}async getIssue({accessToken:n,issueId:e,issueTitle:t}){const r={};if(n&&(r.headers={Authorization:"Bearer "+n}),!e){r.params={sort:"created_on",q:`title="${t}"`,timestamp:Date.now()};const{data:n}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues`,r);return n.size>0?Ot(n.values[0]):null}try{r.params={timestamp:Date.now()};const{data:n}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${e}`,r);return Ot(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:e,content:t}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues`,{title:e,content:{raw:t},priority:"trivial",kind:"task"},{headers:{Authorization:"Bearer "+n}});return r.links.html={href:Bn(this.baseURL,`${this.owner}/${this.repo}/issues/${r.id}`)},Ot(r)}async getComments({accessToken:n,issueId:e,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const a={params:{page:t,pagelen:r,sort:"desc"===o?"-created_on":"created_on",timestamp:Date.now()}};n&&(a.headers={Authorization:"Bearer "+n});const{data:i}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${e}/comments`,a);return{count:i.size,page:i.page,perPage:i.pagelen,data:i.values.filter(n=>null!==n.content.raw).map(Rt)}}async postComment({accessToken:n,issueId:e,content:t}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues/${e}/comments`,{content:{raw:t}},{headers:{Authorization:"Bearer "+n}});return Rt(r)}async putComment({accessToken:n,issueId:e,commentId:t,content:r}){const{data:o}=await this.$http.put(`repositories/${this.owner}/${this.repo}/issues/${e}/comments/${t}`,{content:{raw:r}},{headers:{Authorization:"Bearer "+n}});return Rt(o)}async deleteComment({accessToken:n,issueId:e,commentId:t}){const{status:r}=await this.$http.delete(`repositories/${this.owner}/${this.repo}/issues/${e}/comments/${t}`,{headers:{Authorization:"Bearer "+n}});return 204===r}async getCommentReactions(n){throw new Error("501 Not Implemented")}async postCommentReaction(n){throw new Error("501 Not Implemented")}}function zt(n){return{username:n.login,avatar:n.avatar_url,homepage:n.html_url}}function Lt(n){return{id:n.number,title:n.title,content:n.body,link:n.html_url}}function Ft(n){return{id:n.id,content:n.body_html||"",contentRaw:n.body,author:zt(n.user),createdAt:n.created_at,updatedAt:n.updated_at||"",reactions:null}}class Ht{constructor({baseURL:n="https://gitee.com",owner:e,repo:t,labels:r,clientId:o,clientSecret:a,state:i,proxy:s}){if(void 0===a||void 0===s)throw new Error("clientSecret and proxy is required for Gitee V5");this.baseURL=n,this.owner=e,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=a,this.state=i,this.proxy=s,this.$http=mt.a.create({baseURL:Bn(n,"api/v5")}),this.$http.interceptors.response.use(n=>n,n=>(n.response.data&&n.response.data.message&&(n.message=n.response.data.message),Promise.reject(n)))}get platform(){return{name:"Gitee",link:this.baseURL,version:"v5",meta:{reactable:!1,sortable:!1}}}redirectAuth(){window.location.href=Dn(Bn(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"user_info issues notes",response_type:"code",state:this.state})}async handleAuth(){const n=zn(window.location.search);if(n.code){if(n.state!==this.state)return null;const e=n.code;delete n.code,delete n.state;const t=Dn(Mn(window.location.href),n)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:e})}return null}async getAccessToken({code:n}){const e=Bn(this.baseURL,"oauth/token"),t="function"==typeof this.proxy?this.proxy(e):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:n,grant_type:"authorization_code",redirect_uri:window.location.href});return r.access_token}async getUser({accessToken:n}){const{data:e}=await this.$http.get("user",{params:{access_token:n}});return zt(e)}async getIssue({accessToken:n,issueId:e,issueTitle:t}){const r={params:{timestamp:Date.now()}};if(n&&(r.params.access_token=n),!e){Object.assign(r.params,{q:t,repo:`${this.owner}/${this.repo}`,per_page:1});const{data:n}=await this.$http.get("search/issues",r);return n.map(Lt).find(n=>n.title===t)||null}try{const{data:n}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${e}`,r);return Lt(n)}catch(n){if(n.response&&404===n.response.status)return null;throw n}}async postIssue({accessToken:n,title:e,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/issues`,{access_token:n,repo:this.repo,title:e,body:t,labels:this.labels.join(",")});return Lt(r)}async getComments({accessToken:n,issueId:e,query:{page:t=1,perPage:r=10}={}}){const o={params:{page:t,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.gitee.html+json"]}};n&&(o.params.access_token=n);const a=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${e}/comments`,o);return{count:Number(a.headers.total_count),page:t,perPage:r,data:a.data.map(Ft)}}async postComment({accessToken:n,issueId:e,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${e}/comments`,{body:t,access_token:n},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Ft(r)}async putComment({accessToken:n,commentId:e,content:t}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${e}`,{body:t,access_token:n},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Ft(r)}async deleteComment({accessToken:n,commentId:e}){const{status:t}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${e}`,{params:{access_token:n}});return 204===t}async getCommentReactions(n){throw new Error("501 Not Implemented")}async postCommentReaction(n){throw new Error("501 Not Implemented")}}t(349);var qt={name:"Vssue",components:{VssueComponent:pt},props:{options:{type:Object,default:()=>({})}},data:()=>({key:"key",platformOptions:{github:xt,"github-v4":Ct,gitlab:Bt,bitbucket:Mt,gitee:Ht}}),computed:{vssueOptions(){const{platformOptions:n,options:e}=this,t=n[e.platform];return{...e,api:t}}},watch:{$route(n,e){n.path!==e.path&&setTimeout(()=>{this.key="reco-"+(new Date).getTime()},300)}}},Nt=(t(350),{components:{Valine:rn,Vssue:Object(O.a)(qt,(function(){return(0,this._self._c)("VssueComponent",{key:this.key,staticClass:"vssue-wrapper",attrs:{options:this.vssueOptions}})}),[],!1,null,null,null).exports},props:{isShowComments:{type:Boolean,default:!0}},data:()=>({commentsOptions:{}}),computed:{solution(){const{commentsOptions:{solution:n},$themeConfig:{valineConfig:e,vssueConfig:t},$themeLocaleConfig:{valineConfig:r,vssueConfig:o}}=this;let a="";return void 0!==n?a=n:void 0!==r||void 0!==e?a="valine":void 0===o&&void 0===t||(a="vssue"),a},options(){const{commentsOptions:{options:n},$themeConfig:{valineConfig:e,vssueConfig:t},$themeLocaleConfig:{valineConfig:r,vssueConfig:o}}=this;return void 0!==n?n:void 0!==r||void 0!==e?r||e:void 0!==o||void 0!==t?o||t:null},componentName(){const n=this.solution;return"valine"===n?"Valine":"vssue"===n?"Vssue":""}},mounted(){this.$themeConfig.commentsSolution=this.solution}}),$t=Object(O.a)(Nt,(function(){var n=this._self._c;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowComments,expression:"isShowComments"}],staticClass:"comments-wrapper"},[n("ClientOnly",[n(this.componentName,{tag:"component",attrs:{options:this.options}})],1)],1)}),[],!1,null,null,null).exports,Ut={props:{idVal:String,numStyle:Object,flagTitle:{type:String,default:"Your Article Title"}},methods:{getIdVal(n){const e=this.$site.base;return e.slice(0,e.length-1)+n}}},Vt=Object(O.a)(Ut,(function(){var n=this._self._c;return n("span",{staticClass:"leancloud-visitors",attrs:{id:this.getIdVal(this.idVal),"data-flag-title":this.flagTitle}},[n("a",{staticClass:"leancloud-visitors-count",style:this.numStyle})])}),[],!1,null,null,null).exports,Gt=(t(351),{tags:{"十神":{key:"十神",scope:"tags",path:"/tag/十神/",pageKeys:["v-1a4d740a"]},"随笔":{key:"随笔",scope:"tags",path:"/tag/随笔/",pageKeys:["v-31c2ba62","v-326b3efa","v-29c91997","v-a1c3f1b2","v-da0d1332","v-b3a703be","v-3db87aa6","v-3fe6233e","v-6ff839a5","v-6f3c2f35","v-1682ebc2","v-eb636232","v-04f7ea91","v-4f19b999"]},"破解":{key:"破解",scope:"tags",path:"/tag/破解/",pageKeys:["v-1193d347"]},IDEA:{key:"IDEA",scope:"tags",path:"/tag/IDEA/",pageKeys:["v-1193d347"]},ECharts:{key:"ECharts",scope:"tags",path:"/tag/ECharts/",pageKeys:["v-dcb8377e"]},Day:{key:"Day",scope:"tags",path:"/tag/Day/",pageKeys:["v-a968d5be","v-ff724ffe"]},"网络协议":{key:"网络协议",scope:"tags",path:"/tag/网络协议/",pageKeys:["v-256ab3e6"]},HTML:{key:"HTML",scope:"tags",path:"/tag/HTML/",pageKeys:["v-c768ee7e"]},JavaScript:{key:"JavaScript",scope:"tags",path:"/tag/JavaScript/",pageKeys:["v-7bf0622d"]},json:{key:"json",scope:"tags",path:"/tag/json/",pageKeys:["v-7bf0622d"]},js:{key:"js",scope:"tags",path:"/tag/js/",pageKeys:["v-009c8d7e"]},vuepress:{key:"vuepress",scope:"tags",path:"/tag/vuepress/",pageKeys:["v-67280466","v-e7493f7e","v-42a8aef2"]},Vue:{key:"Vue",scope:"tags",path:"/tag/Vue/",pageKeys:["v-3bccfde1"]},CSS:{key:"CSS",scope:"tags",path:"/tag/CSS/",pageKeys:["v-4f258e02"]},"复习":{key:"复习",scope:"tags",path:"/tag/复习/",pageKeys:["v-040aca2b","v-7854456d","v-066c4e69","v-1aedc2e5","v-b65a493a","v-cc0c55c6","v-bfab03e2","v-4201ca66","v-1dd3b78b"]},"开发规范":{key:"开发规范",scope:"tags",path:"/tag/开发规范/",pageKeys:["v-4f9ff287","v-c7139f7a","v-490aca87","v-601bcf1a"]},git:{key:"git",scope:"tags",path:"/tag/git/",pageKeys:["v-4f9ff287"]},"分布式":{key:"分布式",scope:"tags",path:"/tag/分布式/",pageKeys:["v-35e02c50"]},k8s:{key:"k8s",scope:"tags",path:"/tag/k8s/",pageKeys:["v-35e02c50"]},Java:{key:"Java",scope:"tags",path:"/tag/Java/",pageKeys:["v-c7139f7a","v-524c0207","v-490aca87","v-601bcf1a"]},linux:{key:"linux",scope:"tags",path:"/tag/linux/",pageKeys:["v-01b63767","v-1712e387"]},cesiumjs:{key:"cesiumjs",scope:"tags",path:"/tag/cesiumjs/",pageKeys:["v-524c0207"]},math:{key:"math",scope:"tags",path:"/tag/math/",pageKeys:["v-6d5ac3b6","v-acc36bb2","v-56b9f172","v-00b07732","v-2aac8187","v-55b13ea7","v-0b025a8a"]},threeBase:{key:"threeBase",scope:"tags",path:"/tag/threeBase/",pageKeys:["v-dce2ada6","v-6e3203be","v-475243a8","v-5fcfbc11","v-2eaebba7","v-75b7413b","v-3f6365f2","v-ee91e7fe","v-39a30a51","v-05d728ce","v-0e681fea","v-017fb0e8","v-644a41e0","v-2b3d4044","v-ee8e7f9c","v-e88b1782","v-59497900","v-6b29a2eb","v-bc8a07aa","v-1cc674d5","v-5067e626","v-2e3d05c2","v-6c5e788e","v-e62abbcc","v-6c559c8b","v-70759a5a","v-6f4db01a","v-6fb031ba","v-4573024c"]},smartCity:{key:"smartCity",scope:"tags",path:"/tag/smartCity/",pageKeys:["v-506ab18d","v-5139380f","v-2c61bab9","v-1addd3e5","v-54b1986e","v-3c4eca5a","v-124f99fe","v-4e1e3529","v-62d23476","v-1cc8cfa2","v-6cedb8c7","v-3ac48946"]},gui:{key:"gui",scope:"tags",path:"/tag/gui/",pageKeys:["v-748e1367"]},"three基础":{key:"three基础",scope:"tags",path:"/tag/three基础/",pageKeys:["v-071ea0c7"]},shader:{key:"shader",scope:"tags",path:"/tag/shader/",pageKeys:["v-52554071","v-1ca8af72","v-08494927"]},"mapgis基本操作":{key:"mapgis基本操作",scope:"tags",path:"/tag/mapgis基本操作/",pageKeys:["v-0648f580","v-20216c61"]},mapbox:{key:"mapbox",scope:"tags",path:"/tag/mapbox/",pageKeys:["v-ef9384be"]},Openlayer:{key:"Openlayer",scope:"tags",path:"/tag/Openlayer/",pageKeys:["v-aa2d5b3e"]},Leaflet:{key:"Leaflet",scope:"tags",path:"/tag/Leaflet/",pageKeys:["v-2c144e1c"]}},categories:{UE5:{key:"UE5",scope:"categories",path:"/categories/UE5/",pageKeys:["v-1a4d740a","v-35e02c50"]},Essay:{key:"Essay",scope:"categories",path:"/categories/Essay/",pageKeys:["v-31c2ba62","v-326b3efa","v-29c91997","v-a1c3f1b2","v-da0d1332","v-b3a703be","v-3db87aa6","v-3fe6233e","v-6ff839a5","v-6f3c2f35","v-1682ebc2","v-eb636232","v-04f7ea91","v-4f19b999"]},Abstract:{key:"Abstract",scope:"categories",path:"/categories/Abstract/",pageKeys:["v-1193d347","v-040aca2b","v-7854456d","v-066c4e69","v-1aedc2e5","v-b65a493a","v-cc0c55c6","v-bfab03e2","v-4201ca66","v-1dd3b78b"]},"Front-end":{key:"Front-end",scope:"categories",path:"/categories/Front-end/",pageKeys:["v-dcb8377e","v-a968d5be","v-256ab3e6","v-c768ee7e","v-7bf0622d","v-ff724ffe","v-009c8d7e","v-67280466","v-3bccfde1","v-4f258e02","v-e7493f7e"]},cesiumjs:{key:"cesiumjs",scope:"categories",path:"/categories/cesiumjs/",pageKeys:["v-256ab3e6","v-4f9ff287","v-42a8aef2","v-c7139f7a","v-01b63767","v-524c0207","v-490aca87","v-1712e387","v-601bcf1a"]},threejs:{key:"threejs",scope:"categories",path:"/categories/threejs/",pageKeys:["v-6d5ac3b6","v-dce2ada6","v-506ab18d","v-6e3203be","v-748e1367","v-475243a8","v-5fcfbc11","v-2eaebba7","v-071ea0c7","v-75b7413b","v-acc36bb2","v-56b9f172","v-00b07732","v-2aac8187","v-55b13ea7","v-52554071","v-3f6365f2","v-1ca8af72","v-08494927","v-5139380f","v-2c61bab9","v-1addd3e5","v-ee91e7fe","v-0b025a8a","v-39a30a51","v-05d728ce","v-0e681fea","v-017fb0e8","v-644a41e0","v-54b1986e","v-2b3d4044","v-ee8e7f9c","v-e88b1782","v-59497900","v-3c4eca5a","v-6b29a2eb","v-124f99fe","v-bc8a07aa","v-4e1e3529","v-1cc674d5","v-5067e626","v-2e3d05c2","v-6c5e788e","v-e62abbcc","v-6c559c8b","v-62d23476","v-1cc8cfa2","v-70759a5a","v-6f4db01a","v-6cedb8c7","v-3ac48946","v-6fb031ba","v-4573024c"]},webgis:{key:"webgis",scope:"categories",path:"/categories/webgis/",pageKeys:["v-0648f580","v-20216c61","v-ef9384be","v-aa2d5b3e","v-2c144e1c"]}},timeline:{}});class Wt{constructor(n,e){this._metaMap=Object.assign({},n),Object.keys(this._metaMap).forEach(n=>{const{pageKeys:t}=this._metaMap[n];this._metaMap[n].pages=t.map(n=>Object(a.b)(e,n))})}get length(){return Object.keys(this._metaMap).length}get map(){return this._metaMap}get pages(){return this.list}get list(){return this.toArray()}toArray(){const n=[];return Object.keys(this._metaMap).forEach(e=>{const{pages:t,path:r}=this._metaMap[e];n.push({name:e,pages:t,path:r})}),n}getItemByName(n){return this._metaMap[n]}}var Qt={tags:(n,e)=>{const r=t(130);return r(n.frontmatter.date)-r(e.frontmatter.date)>0?-1:1},categories:(n,e)=>{const r=t(130);return r(n.frontmatter.date)-r(e.frontmatter.date)>0?-1:1}},Jt={tags:function(n,e,t){const r=e;return["tags"].some(e=>{const t=n.frontmatter[e];return Array.isArray(t)?t.some(n=>n===r):t===r})},categories:function(n,e,t){const r=e;return["categories"].some(e=>{const t=n.frontmatter[e];return Array.isArray(t)?t.some(n=>n===r):t===r})}},Yt=[{pid:"tags",id:"十神",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/十神/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"随笔",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/随笔/",interval:[0,9]},{path:"/tag/随笔/page/2/",interval:[10,14]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"破解",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/破解/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"IDEA",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/IDEA/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"ECharts",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/ECharts/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"Day",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/Day/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"网络协议",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/网络协议/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"HTML",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/HTML/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"JavaScript",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/JavaScript/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"json",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/json/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"js",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/js/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"vuepress",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/vuepress/",interval:[0,3]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"Vue",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/Vue/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"CSS",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/CSS/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"复习",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/复习/",interval:[0,9]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"开发规范",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/开发规范/",interval:[0,4]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"git",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/git/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"分布式",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/分布式/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"k8s",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/k8s/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"Java",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/Java/",interval:[0,4]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"linux",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/linux/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"cesiumjs",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/cesiumjs/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"math",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/math/",interval:[0,7]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"threeBase",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/threeBase/",interval:[0,9]},{path:"/tag/threeBase/page/2/",interval:[10,19]},{path:"/tag/threeBase/page/3/",interval:[20,29]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"smartCity",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/smartCity/",interval:[0,9]},{path:"/tag/smartCity/page/2/",interval:[10,12]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"gui",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/gui/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"three基础",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/three基础/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"shader",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/shader/",interval:[0,3]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"mapgis基本操作",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/mapgis基本操作/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"mapbox",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/mapbox/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"Openlayer",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/Openlayer/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"tags",id:"Leaflet",filter:Jt.tags,sorter:Qt.tags,pages:[{path:"/tag/Leaflet/",interval:[0,1]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"UE5",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/UE5/",interval:[0,2]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"Essay",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/Essay/",interval:[0,9]},{path:"/categories/Essay/page/2/",interval:[10,14]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"Abstract",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/Abstract/",interval:[0,9]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"Front-end",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/Front-end/",interval:[0,9]},{path:"/categories/Front-end/page/2/",interval:[10,11]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"cesiumjs",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/cesiumjs/",interval:[0,9]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"threejs",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/threejs/",interval:[0,9]},{path:"/categories/threejs/page/2/",interval:[10,19]},{path:"/categories/threejs/page/3/",interval:[20,29]},{path:"/categories/threejs/page/4/",interval:[30,39]},{path:"/categories/threejs/page/5/",interval:[40,49]},{path:"/categories/threejs/page/6/",interval:[50,53]}],prevText:"Prev",nextText:"Next"},{pid:"categories",id:"webgis",filter:Jt.categories,sorter:Qt.categories,pages:[{path:"/categories/webgis/",interval:[0,5]}],prevText:"Prev",nextText:"Next"}],Kt=t(141);const Zt=t.n(Kt)()("plugin-blog:pagination");class Xt{constructor(n,e,t){Zt("pagination",n);const{pages:r,prevText:o,nextText:a}=n,{path:i}=t;this._prevText=o,this._nextText=a;for(let n=0,e=r.length;n<e;n++){if(r[n].path===i){this.paginationIndex=n;break}}this.paginationIndex||(this.paginationIndex=0),this._paginationPages=r,this._currentPage=r[this.paginationIndex],this._matchedPages=e.filter(e=>n.filter(e,n.id,n.pid)).sort(n.sorter)}setIndexPage(n){this._indexPage=n}get length(){return this._paginationPages.length}get pages(){const[n,e]=this._currentPage.interval;return this._matchedPages.slice(n,e+1)}get hasPrev(){return 0!==this.paginationIndex}get prevLink(){return this.hasPrev?this.paginationIndex-1==0&&this._indexPage?this._indexPage:this._paginationPages[this.paginationIndex-1].path:null}get hasNext(){return this.paginationIndex!==this.length-1}get nextLink(){return this.hasNext?this._paginationPages[this.paginationIndex+1].path:null}get prevText(){return this._prevText}get nextText(){return this._nextText}getSpecificPageLink(n){return this._paginationPages[n].path}}const nr=new class{constructor(n){this.paginations=n}get pages(){return r.a.$vuepress.$get("siteData").pages}getPagination(n,e,t){Zt("id",e),Zt("pid",n);const r=this.paginations.filter(t=>t.id===e&&t.pid===n)[0];return new Xt(r,this.pages,t)}}(Yt);var er={comment:{enabled:!1,service:""},email:{enabled:!1},feed:{rss:!1,atom:!1,json:!1}};class tr{constructor(n){Object.defineProperty(this,"registration",{value:n,configurable:!0,writable:!0})}update(){return this.registration.update()}skipWaiting(){const n=this.registration.waiting;return n?(console.log("[vuepress:sw] Doing worker.skipWaiting()."),new Promise((e,t)=>{const r=new MessageChannel;r.port1.onmessage=n=>{console.log("[vuepress:sw] Done worker.skipWaiting()."),n.data.error?t(n.data.error):e(n.data)},n.postMessage({type:"skip-waiting"},[r.port2])})):Promise.resolve()}}var rr=t(22);r.a.component("SWUpdatePopup",()=>Promise.all([t.e(0),t.e(47)]).then(t.bind(null,556)));var or={data:()=>({showButtonFlag:!1,openFlag:!1,text:"展开",visible:!1,interval:null,isMoving:!1,detailsStyle:{right:"1rem",bottom:"9rem",width:"2.5rem",height:"2.5rem","border-radius":".25rem","line-height":"2.5rem","font-size":"14px","font-weight":"500"},visibilityHeight:400}),methods:{updateOpen(){this.openFlag=!this.openFlag;var n=document.getElementsByTagName("details");if(this.openFlag){for(var e=0;e<n.length;e++)n[e].setAttribute("open","");this.text="合起"}else{for(e=0;e<n.length;e++)n[e].removeAttribute("open");this.text="展开"}},showButton(){var n=document.getElementsByTagName("details");null!=n&&n.length>2?this.showButtonFlag=!0:this.showButtonFlag=!1},handleScroll(){this.visible=window.pageYOffset>this.visibilityHeight}},watch:{$route(n,e){n.path==e.path?this.showButton():"/"==n.path||"/about/"==n.path?this.showButtonFlag=!1:(this.openFlag=!1,this.text="展开",this.showButton())}},created(){},mounted(){},beforeDestroy(){}},ar=(t(354),Object(O.a)(or,(function(){var n=this,e=n._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:n.showButtonFlag,expression:"showButtonFlag"}],staticClass:"DetailsOpenFlag",style:n.detailsStyle,on:{click:function(e){return n.updateOpen()}}},[n._v("\n "+n._s(n.text)+"\n\n")])])}),[],!1,null,"3338c3f8",null).exports);const ir="https://neteasecloudmusicapi-zpj80231.vercel.app/";var sr=t(142),lr=t.n(sr),cr=t(143),ur=t.n(cr),dr=t(68),pr=t.n(dr),hr=t(144),mr=t.n(hr),fr=t(145),gr=t.n(fr),vr=t(146),yr=t.n(vr),br=t(147),xr=t.n(br),wr=t(69),Er=t.n(wr),jr=t(148),Ar=t.n(jr),Tr=t(149),Cr=t.n(Tr),Sr=t(3),kr=t.n(Sr);var _r={name:"Player",data:()=>({o:0,top:0,pan:lr.a,play:ur.a,pause:pr.a,add:mr.a,shlter:gr.a,listPlay:yr.a,state0:xr.a,state1:Er.a,talkicon1:Ar.a,talkicon2:Cr.a,playState:!0,playIcon:pr.a,musicImg:"",musicUrl:"",musicWords:[],musicTitle:"",musicName:"",wordsTime:[],wordsTop:0,wordIndex:0,currentProgress:"0%",musicList:[],myMusicList:[],thisMusicIndex:1,disActive:!1,listIsDis:!1,listButtonActiveIndex:-1,thisListPage:1,musicTypeList:[{name:"热歌榜",id:3778678},{name:"新歌榜",id:3779629},{name:"飙升榜",id:19723756},{name:"抖音榜",id:2250011882},{name:"我的单曲",id:3068309305},{name:"My Songs",id:-1}],thisMusicType:-1,notPlay:[],musicState:0,musicStateButton:Er.a,musicSearchVal:"",musicSearchList:[],musicAlertVal:"",musicAlertState:!1,musicAlertTimer:"",hotTalkList:[]}),mounted(){if(1==Math.floor(10*Math.random()+1)){if("/"!=this.$route.path)return;null==sessionStorage.getItem("zk")&&(window.location.href="/view/index.html",sessionStorage.setItem("zk","zv"))}this.Player(),this._getMusicType(3068309305)},created(){},computed:{thisMusicList(){return[...this.musicList].splice(10*(this.thisListPage-1),10)}},watch:{musicSearchVal(){""==this.musicSearchVal?this.musicSearchList=[]:(n=>mt.a.get(`https://neteasecloudmusicapi-zpj80231.vercel.app/search?keywords=${n}&limit=8`))(this.musicSearchVal).then(n=>{null==n.data.result.songs?this.musicSearchList=[]:this.musicSearchList=n.data.result.songs})}},methods:{check:()=>!navigator.userAgent.match(/(phone|pod|iPhone|iPod|ios|Android|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),MusicAlert(n){this.musicAlertState=!0,this.musicAlertVal=n,clearTimeout(this.musicAlertTimer),this.musicAlertTimer=setTimeout(()=>{this.musicAlertState=!1,this.musicAlertVal=""},2e3)},ListAdd(n){var e;(e=n.id,mt.a.get(ir+"song/detail?ids="+e)).then(n=>{this.musicSearchVal="",0==this.myMusicList.length?(this.myMusicList=[n.data.songs[0]],this._getMusicType(-1)):this.myMusicList.push(n.data.songs[0]),this.MusicAlert("添加成功")})},MusicStateChange(){0==this.musicState?(this.musicState=1,this.musicStateButton=this.state0,this.MusicAlert("已切换为单曲循环模式")):(this.musicState=0,this.musicStateButton=this.state1,this.MusicAlert("已切换为列表循环模式"))},DisList(){this.listIsDis=!this.listIsDis},ListChange(n){n?this.thisListPage--:this.thisListPage++},ListPlay(n){this.thisMusicIndex!=n&&(this.thisMusicIndex=n>this.musicList.length-1?0:n,this._getInfo(),this.top=0,this.o=0,this.wordIndex=0,this.wordsTop=0,this.currentProgress="0%",this.playState||kr()(".control_icon").click())},ButtonActive(n){this.listButtonActiveIndex=n},DisActive(){this.disActive=!this.disActive},_getMusicType(n){this.thisMusicType!=n&&(this.notPlay=[],-1==n?0!=this.myMusicList.length?(this.musicList=this.myMusicList,this.thisMusicType=n,this.thisMusicIndex=0,this.thisListPage=1,this._getInfo(),this.top=0,this.o=0,this.wordIndex=0,this.wordsTop=0,this.currentProgress="0%",this.playState||kr()(".control_icon").click()):this.MusicAlert("没有歌曲,需要自己添加"):(3068309305===n&&(n=>mt.a.get(ir+"playlist/detail?id="+n))(n).then(e=>{this.getMusicDetail(e,n)}),(n=>mt.a.get(ir+"playlist/detail?id="+n))(n).then(e=>{this.getMusicDetail(e,n)})))},getMusicDetail(n,e){this.musicList=n.data.playlist.tracks.splice(0,200),this.thisMusicType=e,this.thisMusicIndex=0,this.thisListPage=1,this._getInfo(),this.top=0,this.o=0,this.wordIndex=0,this.wordsTop=0,this.currentProgress="0%",this.playState||kr()(".control_icon").click()},_getInfo(){var n;(n=this.musicList[this.thisMusicIndex].id,mt.a.get(ir+"song/url?id="+n)).then(n=>{if(null==n.data.data[0].url||""==n.data.data[0].url||null==n.data.data[0].url)if(this.notPlay.length!=this.musicList.length){let n=this.thisMusicIndex+1;-1==this.notPlay.indexOf(this.thisMusicIndex)&&this.notPlay.push(this.thisMusicIndex),this.MusicAlert(this.musicList[this.thisMusicIndex].name+"因为一些原因不能播放"),this.ListPlay(n)}else console.log("not"),this.MusicAlert("此列表所有歌都不能播放");else{this.musicUrl=n.data.data[0].url.replace("http://","https://"),this.musicImg=this.musicList[this.thisMusicIndex].al.picUrl.replace("http://","https://")+"?param=300y300",this.musicTitle=this.musicList[this.thisMusicIndex].name;let e=[];this.musicList[this.thisMusicIndex].ar.forEach(n=>{e.push(n.name)}),this.musicName=e.join("/"),(n=>mt.a.get(ir+"lyric?id="+n))(this.musicList[this.thisMusicIndex].id).then(n=>{if(!n.data.nolyric){let e=this.Cut(n.data.lrc.lyric);this.musicWords=e.wordArr,this.wordsTime=e.timeArr}}),(n=>mt.a.get(`https://neteasecloudmusicapi-zpj80231.vercel.app/comment/music?id=${n}&limit=8`))(this.musicList[this.thisMusicIndex].id).then(n=>{let e=0;this.hotTalkList=n.data.hotComments.splice(0,3),this.hotTalkList.forEach(n=>{e+=n.content.length,n.user.avatarUrl=n.user.avatarUrl+"?param=50y50"}),e>=200&&(this.hotTalkList=this.hotTalkList.slice(0,2))})}})},Ltrim:n=>n.replace(/(^\s*)/g,""),Rtrim:n=>n.replace(/(\s*$)/g,""),Cut(n){let e=[],t=[];e=n.split("["),e.splice(0,1);for(let n=0;n<e.length;n++){let r=e[n].split("]"),o=r[0].split(".")[0].split(":");e[n]=60*Number.parseInt(o[0])+Number.parseInt(o[1]),e[n]=isNaN(e[n])?0:e[n],t[n]=this.Rtrim(this.Ltrim(r[1]))}return{timeArr:e,wordArr:t}},Player(){let n=this,e=kr()("#music")[0],t=setInterval(r,1e3);function r(){n.currentProgress=e.currentTime/e.duration*100+"%",e.currentTime>=n.wordsTime[n.o+1]&&(n.top+=Number.parseInt(kr()(".music_word").eq(n.o).height()+Number.parseInt(kr()(".music_word").eq(n.o).css("marginTop"))),n.top>=kr()(".music_words").height()/2-11&&(n.wordsTop+=-Number.parseInt(kr()(".music_word").eq(n.o).height()+Number.parseInt(kr()(".music_word").eq(n.o).css("marginTop")))),n.wordIndex=n.o+1,n.o++),e.currentTime>=e.duration&&(1!=n.musicList.length&&0==n.musicState&&(n.thisMusicIndex=n.thisMusicIndex>=n.musicList.length-1?0:n.thisMusicIndex+1,n._getInfo()),e.play(),n.top=0,n.o=0,n.wordIndex=0,n.wordsTop=0,n.currentProgress="0%")}kr()(".progress").on("mousedown",o=>{console.log();let a=((o||event).clientX-kr()(".progress").offset().left)/kr()(".progress").width();clearInterval(t),this.currentProgress=100*a+"%",kr()(document).on("mousemove",n=>{let e=n||event;a=(e.clientX-kr()(".progress").offset().left)/kr()(".progress").width(),this.currentProgress=100*a+"%"}),kr()(document).on("mouseup",()=>{e.currentTime=e.duration*a;let o=[...this.wordsTime];o.push(e.currentTime),o.sort((n,e)=>n-e);let i=o.indexOf(e.currentTime)-1,s=0;if(this.o<i)for(let n=this.o;n<i;n++)s+=-Number.parseInt(kr()(".music_word").eq(n).height()+Number.parseInt(kr()(".music_word").eq(n).css("marginTop")));else for(let n=i;n<this.o;n++)s+=Number.parseInt(kr()(".music_word").eq(n).height()+Number.parseInt(kr()(".music_word").eq(n).css("marginTop")));this.wordsTop+=s,n.wordIndex=this.o=i,clearInterval(t),t=setInterval(r,1e3),this.playState=!0,this.playIcon=this.pause,e.currentTime>=e.duration&&(this.top=0,this.o=0,this.wordIndex=0,this.wordsTop=0,this.currentProgress="0%"),e.play(),kr()(document).unbind("mousemove"),kr()(document).unbind("mouseup")})}),kr()(".control_icon").on("click",()=>{this.playState?(e.pause(),this.playState=!1,this.playIcon=this.play,clearInterval(t)):(e.play(),this.playState=!0,this.playIcon=this.pause,clearInterval(t),t=setInterval(r,1e3))})},Contorl(){kr()("#music")[0].currentTime=100}}},Pr=(t(355),Object(O.a)(_r,(function(){var n=this,e=n._self._c;return e("div",{staticStyle:{display:"none"},attrs:{id:"musicPlayer"}},[e("transition",{attrs:{name:"dis_list"}},[n.listIsDis?e("div",{staticClass:"list_box"},[e("transition",{attrs:{name:"music_alert"}},[n.musicAlertState?e("span",{staticClass:"music_alert"},[n._v(n._s(n.musicAlertVal))]):n._e()]),n._v(" "),e("div",{staticClass:"list_close",on:{click:n.DisList}},[n._v("x")]),n._v(" "),e("div",{staticClass:"music_list"},[e("div",{staticClass:"list_l"},[e("ul",{staticClass:"music_type"},n._l(n.musicTypeList,(function(t){return e("li",{class:{type_active:t.id==n.thisMusicType},on:{click:function(e){return n._getMusicType(t.id)}}},[n._v(n._s(t.name))])})),0),n._v(" "),e("div",{staticClass:"list_title"},[e("span",{staticStyle:{"font-size":"14px"}},[n._v("歌曲列表")]),n._v(" "),e("img",{staticClass:"music_state",attrs:{src:n.musicStateButton,alt:""},on:{click:n.MusicStateChange}}),n._v(" "),e("div",{staticClass:"music_search_box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.musicSearchVal,expression:"musicSearchVal"}],staticClass:"music_search",attrs:{type:"text",placeholder:"搜索歌曲"},domProps:{value:n.musicSearchVal},on:{input:function(e){e.target.composing||(n.musicSearchVal=e.target.value)}}}),n._v(" "),e("transition",{attrs:{name:"music_search"}},[""!=n.musicSearchVal?e("ul",{staticClass:"search_list"},n._l(n.musicSearchList,(function(t){return e("li",{on:{click:function(e){return n.ListAdd(t)}}},[e("span",{staticClass:"music_search_name"},[n._v(n._s(t.name))]),n._v(" "),e("span",{staticClass:"music_search_ar"},[n._v(n._s(t.artists[0].name))])])})),0):n._e()])],1)]),n._v(" "),e("div",{staticClass:"music_ul_title"},[e("span",[n._v("歌曲")]),e("span",[n._v("歌手")]),e("span",[n._v("专辑")])]),n._v(" "),e("ul",{staticClass:"_list"},n._l(n.thisMusicList,(function(t,r){return e("li",{on:{mouseover:function(e){return n.ButtonActive(r)},dblclick:function(e){n.ListPlay(10*(n.thisListPage-1)+r)}}},[10*(n.thisListPage-1)+r==n.thisMusicIndex?e("div",{staticClass:"this_music_shlter"}):n._e(),n._v(" "),e("span",[n._v(n._s(t.name))]),e("span",[n._v(n._s(t.ar[0].name))]),e("span",[n._v(n._s(t.al.name))]),n._v(" "),e("transition",{attrs:{name:"list_button"}},[n.listButtonActiveIndex==r?e("div",{staticClass:"music_button"},[e("div",{staticClass:"list_play",style:{backgroundImage:"url("+n.listPlay+")"},attrs:{title:"播放这首歌"},on:{click:function(e){n.ListPlay(10*(n.thisListPage-1)+r)}}}),n._v(" "),-1!=n.thisMusicType?e("div",{staticClass:"list_play",style:{backgroundImage:"url("+n.add+")"},attrs:{title:"添加到 My Songs"},on:{click:function(e){return n.ListAdd(t)}}}):n._e()]):n._e()])],1)})),0),n._v(" "),e("div",{staticClass:"list_page"},[1!=n.thisListPage?e("div",{staticClass:"page_last",on:{click:function(e){return n.ListChange(!0)}}},[n._v("<")]):n._e(),n._v(" "),n.thisListPage!=Math.ceil(n.musicList.length/10)?e("div",{staticClass:"page_next",on:{click:function(e){return n.ListChange(!1)}}},[n._v(">")]):n._e()])]),n._v(" "),e("div",{staticClass:"list_r"},[e("img",{staticClass:"music_list_bg",attrs:{src:n.musicImg}}),n._v(" "),e("div",{staticClass:"music_list_shlter",style:{backgroundImage:"url("+n.shlter+")"}}),n._v(" "),e("ul",{staticClass:"music_talk_list"},n._l(n.hotTalkList,(function(t,r){return e("li",{key:r},[e("div",{staticClass:"talk_head"},[e("img",{staticClass:"talk_head_img",attrs:{src:t.user.avatarUrl,alt:""}}),n._v(" "),e("span",{staticClass:"talk_head_name"},[n._v(n._s(t.user.nickname))])]),n._v(" "),e("p",{staticClass:"talk_content"},[e("img",{staticClass:"talk_icon_l",attrs:{src:n.talkicon1}}),n._v("\n                                "+n._s(t.content)+"\n                                "),e("img",{staticClass:"talk_icon_r",attrs:{src:n.talkicon2}})])])})),0)])])],1):n._e()]),n._v(" "),e("div",{staticClass:"bbox",class:{bbox_active:n.disActive}},[e("div",{staticClass:"pan",class:{pan_active:n.disActive},style:{backgroundImage:"url("+n.pan+")"},on:{click:n.DisActive}},[e("img",{staticClass:"pan_c",attrs:{src:n.musicImg,alt:""}})]),n._v(" "),e("div",{staticClass:"box",class:{box_active:n.disActive},style:{backgroundImage:"url("+n.musicImg+")"},on:{dblclick:n.DisList}},[e("div",{staticClass:"music_shlter_2",class:{shlter_active:n.disActive},style:{backgroundImage:"url("+n.musicImg+")"}}),n._v(" "),e("div",{staticClass:"music_shlter",class:{shlter_active:n.disActive},style:{backgroundImage:"url("+n.musicImg+")"}}),n._v(" "),e("div",{staticClass:"music_shlter_3"}),n._v(" "),e("div",{staticClass:"music_dis"},[e("div",{staticClass:"dis_list",on:{click:n.DisList}},[n._v("···")]),n._v(" "),e("p",{staticClass:"music_title"},[n._v(n._s(n.musicTitle))]),n._v(" "),e("p",{staticClass:"music_intro"},[n._v("歌手: "+n._s(n.musicName))]),n._v(" "),e("ul",{staticClass:"music_words"},[e("div",{staticClass:"music_words_box",style:{top:n.wordsTop+"px"}},n._l(n.musicWords,(function(t,r){return e("li",{staticClass:"music_word",class:{word_highlight:n.wordIndex==r}},[n._v(n._s(t))])})),0)])]),n._v(" "),e("div",{staticClass:"control_box"},[e("div",{staticClass:"control_button"},[e("img",{staticClass:"control_icon",attrs:{src:n.playIcon,alt:""}})]),n._v(" "),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress_c",style:{width:n.currentProgress}},[n._m(0)])])])]),n._v(" "),e("video",{attrs:{id:"music",autoplay:"autoplay",src:n.musicUrl,name:"media"}})])],1)}),[function(){var n=this._self._c;return n("div",{staticClass:"progress_circle"},[n("div",{staticClass:"progress_circle_c"})])}],!1,null,"0418e6f9",null).exports),Dr={name:"MobilePlayer"},Br=Object(O.a)(Dr,(function(){return(0,this._self._c)("div")}),[],!1,null,"21669aef",null).exports,Ir={name:"BackToTop",data:()=>({visible:!1,active:!0,closeBtn:!1}),mounted(){this.check()&&(this.setStepImg(),this.setRandomShow())},methods:{closeNote(){this.visible=!1,this.closeBtn=!0,setTimeout(()=>{this.closeBtn=!1},9e5)},check:()=>!navigator.userAgent.match(/(phone|pod|iPhone|iPod|ios|Android|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),getVisible(){return this.visible=!this.closeBtn},setStepImg(){var n=1;setInterval(()=>{if(++n%2==0){var e=document.getElementsByClassName("notification-wrapper")[0];if(null==e||null==e||null==e.style)return;e.style.bottom=50*Math.random()+30+"%",e.style.zoom=Math.random()}this.visible=this.getVisible(),this.active=!this.active,this.noActive=!this.noActive},1e4)},setRandomShow(){var n=1;setInterval(()=>{this.closeBtn=!(n>=1),n=Math.floor(3*Math.random())},4e4)}}},Or=(t(356),Object(O.a)(Ir,(function(){var n=this,e=n._self._c;return e("transition",{attrs:{name:"fade"}},[n.visible?e("div",{staticClass:"notification-wrapper"},[e("img",{class:n.active?"active":"noActive",staticStyle:{"pointer-events":"none",border:"1px solid #DDDDDD",width:"100%"},attrs:{src:n.$withBase("/img/other/person_lital.gif")}}),n._v(" "),e("i",{class:["btn-close1",n.active?"active":"noActive"],on:{click:n.closeNote}},[e("svg",{staticClass:"icon",attrs:{t:"1573745677073",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4448",width:"22",height:"22"}},[e("path",{attrs:{d:"M512 34.133333a486.4 486.4 0 1 0 486.4 486.4A486.4 486.4 0 0 0 512 34.133333z m209.4848 632.8064l-55.6032 55.466667-151.517867-151.125333-151.517866 151.1168-55.6032-55.466667 151.517866-151.108267L307.242667 364.714667l55.6032-55.466667 151.517866 151.125333 151.517867-151.1168 55.6032 55.466667-151.517867 151.099733z m0 0","p-id":"4449"}})])]),n._v(" "),e("h4",{staticClass:"notification-title",staticStyle:{display:"none"}},[e("i",{staticClass:"iconfont reco-tongzhi"}),n._v(" "),e("span",[n._v(" 🎉🎉🎉")]),n._v(" "),e("i",{staticClass:"btn-close",on:{click:n.closeNote}},[e("svg",{staticClass:"icon",attrs:{t:"1573745677073",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4448",width:"22",height:"22"}},[e("path",{attrs:{d:"M512 34.133333a486.4 486.4 0 1 0 486.4 486.4A486.4 486.4 0 0 0 512 34.133333z m209.4848 632.8064l-55.6032 55.466667-151.517867-151.125333-151.517866 151.1168-55.6032-55.466667 151.517866-151.108267L307.242667 364.714667l55.6032-55.466667 151.517866 151.125333 151.517867-151.1168 55.6032 55.466667-151.517867 151.099733z m0 0","p-id":"4449"}})])])]),n._v(" "),e("div",{staticClass:"notification-content",staticStyle:{display:"none"}},[e("img",{staticClass:"medium-zoom-image",staticStyle:{border:"1px solid #DDDDDD",width:"100%"},attrs:{src:n.$withBase("/img/other/person_lital.gif")}})])]):n._e()])}),[],!1,null,"2ee4ab6c",null).exports),Rr={props:{type:{type:String,default:""},title:{type:String,default:""},content:{type:String,default:""},blockStyle:{type:Object,default:null},titleStyle:{type:Object,default:null},contentStyle:{type:Object,default:null},changeTime:{type:String,default:"false"}},data:()=>({boxx:{},class_boxx:"",list:zr,type_boxx_list:Mr,show_content:!0,show_title:!0,style_boxx:{},style_title:{},style_content:{},interval:{}}),mounted(){this.getContent(),this.checkTitleAndConten(),this.checkStyleWithTitleAndContenAndBlock(),this.getShowType(this.type),this.dynamicUpdateType(this.changeTime)},watch:{changeTime(n,e){this.dynamicUpdateType(n)}},methods:{getContent(){this.list.length>=100||(mt.a.get("https://v1.jinrishici.com/all.json").then(n=>{let e=" • <span style='font-size: 13px;'>"+n.data.author+"</span>";this.list.push({title:n.data.origin+e,content:n.data.content})}),mt.a.get("https://v1.hitokoto.cn").then(n=>{if(""==n.data.hitokoto||n.data.hitokoto.length>40)return;let e="";null!=n.data.from_who&&(e=" • <span style='font-size: 13px;'>"+n.data.from_who+"</span>"),this.list.push({title:n.data.from+e,content:n.data.hitokoto})}))},getShowType(n){n!=Mr[2].type?n!=Mr[1].type?this.class_boxx=Mr[0].class:this.class_boxx=Mr[1].class:this.class_boxx=Mr[2].class},getboxx(){return this.boxx=zr[Math.floor(Math.random()*zr.length)]},checkTitleAndConten(){return""!=this.title&&""==this.content?(this.boxx.title=this.title,void(this.show_content=!1)):""==this.title&&""!=this.content?(this.boxx.content=this.content,this.style_content={"margin-top":"1rem","margin-bottom":"0.4rem"},void(this.show_title=!1)):void(""==this.title||""==this.content?this.getboxx():(this.boxx.title=this.title,this.boxx.content=this.content))},checkStyleWithTitleAndContenAndBlock(){null!=this.titleStyle&&(this.style_title=this.titleStyle),null!=this.contentStyle&&(this.style_content=this.contentStyle),null!=this.blockStyle&&(this.style_boxx=this.blockStyle)},dynamicUpdateType(n){if(this.getContent(),""!=n&&"false"!=n&&/^\d+$/.test(n)){var e=0;for(var t in Mr)this.type==Mr[t].type&&(e=t);clearInterval(this.interval),this.interval=setInterval(()=>{++e==Mr.length&&(e=0),this.getShowType(Mr[e].type),this.checkTitleAndConten()},n)}}}};const Mr=[{type:"tip",class:"tip custom-block"},{type:"warning",class:"warning custom-block"},{type:"danger",class:"danger custom-block"}],zr=[{title:"佚名",content:"勇敢不是不害怕，而是害怕的时候你还能坚持去做"}];var Lr=Rr,Fr=Object(O.a)(Lr,(function(){var n=this,e=n._self._c;return e("div",{attrs:{id:"boxx"}},[e("div",{class:n.class_boxx,style:n.style_boxx},[e("p",{staticClass:"custom-block-title",style:n.style_title,attrs:{"v-if":n.show_title},domProps:{innerHTML:n._s(n.boxx.title)}}),n._v(" "),e("p",{style:n.style_content,attrs:{"v-if":n.show_content},domProps:{innerHTML:n._s(n.boxx.content)}})])])}),[],!1,null,"5ed9de30",null).exports;function Hr(n){const e=document.documentElement.getBoundingClientRect(),t=n.getBoundingClientRect();return{x:t.left-e.left,y:t.top-e.top}}var qr=[({Vue:n,options:e,router:t,siteData:r})=>{},({Vue:n})=>{n.mixin(V)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},({Vue:n})=>{n.component("BackToTop",Q)},({Vue:n})=>{n.component("Pagation",en)},({Vue:n})=>{n.mixin({computed:{$perPage:()=>10}})},({Vue:n})=>{n.component("Comments",$t),n.component("AccessNumber",Vt)},{},({Vue:n})=>{const e=Object.keys(Gt).map(n=>{const e=Gt[n],t="$"+n;return{[t](){const{pages:n}=this.$site;return new Wt(e,n)},["$current"+(n.charAt(0).toUpperCase()+n.slice(1))](){const n=this.$route.meta.id;return this[t].getItemByName(n)}}}).reduce((n,e)=>(Object.assign(n,e),n),{});e.$frontmatterKey=function(){const n=this["$"+this.$route.meta.id];return n||null},n.mixin({computed:e})},({Vue:n})=>{n.mixin({computed:{$pagination(){return this.$route.meta.pid&&this.$route.meta.id?this.$getPagination(this.$route.meta.pid,this.$route.meta.id):null}},methods:{$getPagination(n,e){return e=e||n,nr.getPagination(n,e,this.$route)}}})},({Vue:n})=>{const e={$service:()=>er};n.mixin({computed:e})},async({router:n,isServer:e})=>{if(!e){const{register:e}=await t.e(161).then(t.bind(null,552));n.onReady(()=>{e("/service-worker.js",{registrationOptions:{},ready(){console.log("[vuepress:sw] Service worker is active."),rr.a.$emit("sw-ready")},cached(n){console.log("[vuepress:sw] Content has been cached for offline use."),rr.a.$emit("sw-cached",new tr(n))},updated(n){console.log("[vuepress:sw] Content updated."),rr.a.$emit("sw-updated",new tr(n))},offline(){console.log("[vuepress:sw] No internet connection found. App is running in offline mode."),rr.a.$emit("sw-offline")},error(n){console.error("[vuepress:sw] Error during service worker registration:",n),rr.a.$emit("sw-error",n),ga("send","exception",{exDescription:n.message,exFatal:!1})}})})}},({router:n})=>{var e,t,r,o,a,i;"undefined"!=typeof window&&(e=window,t=document,r="script",o="ga",e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(r),i=t.getElementsByTagName(r)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(a,i),ga("create","UA-128189152-1","auto"),ga("set","anonymizeIp",!0),n.afterEach((function(e){ga("set","page",n.app.$withBase(e.fullPath)),ga("send","pageview")})))},({Vue:n})=>{n.component("DetailsOpenFlag",ar)},({Vue:n})=>{navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?n.component("musicPlayer",Br):n.component("musicPlayer",Pr)},({Vue:n})=>{n.component("Notification",Or)},({Vue:n})=>{n.component("Boxx",Fr)},({Vue:n,router:e})=>{e.options.scrollBehavior=(e,t,r)=>{if(r)return window.scrollTo({top:r.y,behavior:"smooth"});if(!e.hash)return window.scrollTo({top:0,behavior:"smooth"});{if(n.$vuepress.$get("disableScrollBehavior"))return;const t=e.hash.slice(1),r=document.getElementById(t)||document.querySelector(`[name='${t}']`);if(r)return window.scrollTo({top:Hr(r).y,behavior:"smooth"})}}},({Vue:n})=>{n.component("CodeCopy",R)}],Nr=["BackToTop","SWUpdatePopup","DetailsOpenFlag","musicPlayer","Notification"];class $r extends class{constructor(){this.store=new r.a({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){r.a.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign($r.prototype,{getPageAsyncComponent:a.e,getLayoutAsyncComponent:a.d,getAsyncComponent:a.c,getVueComponent:a.f});var Ur={install(n){const e=new $r;n.$vuepress=e,n.prototype.$vuepress=e}};function Vr(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Gr={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return Object(a.i)("pageKey",e),r.a.component(e)||r.a.component(e,Object(a.e)(e)),r.a.component(e)?n(e):n("")}},Wr={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Qr={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Jr=(t(357),t(358),Object(O.a)(Qr,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Yr={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};r.a.config.productionTip=!1,r.a.use(o.a),r.a.use(Ur),r.a.mixin(function(n,e,t=r.a){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const o=new(n(t.$vuepress.$get("siteData"))),a=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(o)),i={};return Object.keys(a).reduce((n,e)=>(e.startsWith("$")&&(n[e]=a[e].get),n),i),{computed:i}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},$)),r.a.component("Content",Gr),r.a.component("ContentSlotsDistributor",Wr),r.a.component("OutboundLink",Jr),r.a.component("ClientOnly",Yr),r.a.component("Layout",Object(a.d)("Layout")),r.a.component("NotFound",Object(a.d)("NotFound")),r.a.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.10",hash:"77c911e"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:$.routerBase||$.base,t=new o.a({base:e,mode:"history",fallback:!1,routes:N,scrollBehavior:(n,e,t)=>t||(n.hash?!r.a.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Vr(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Vr(n,t)?r(t):r()}else r();else{const t=e.path+"/",o=e.path+".html";Vr(n,o)?r(o):Vr(n,t)?r(t):r()}})}(t);const a={};try{await Promise.all(qr.filter(n=>"function"==typeof n).map(e=>e({Vue:r.a,options:a,router:t,siteData:$,isServer:n})))}catch(n){console.error(n)}return{app:new r.a(Object.assign(a,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},Nr.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);